"use strict";(self.webpackChunkTP_SalaDeJuegos=self.webpackChunkTP_SalaDeJuegos||[]).push([[411],{2411:(U,l,a)=>{a.r(l),a.d(l,{MChatModule:()=>_});var r=a(6895),c=a(1194),m=a(4004),e=a(4650),h=a(1649),p=a(5144),u=a(433);const g=function(t){return{mio:t}},d=function(t,s){return{"text-primary":t,"text-danger":s}};function C(t,s){if(1&t&&(e.TgZ(0,"div",8)(1,"h4",9),e._uU(2),e.TgZ(3,"p",10),e._uU(4),e.qZA(),e._uU(5,")"),e.qZA(),e.TgZ(6,"p",11),e._uU(7),e.qZA()()),2&t){const n=s.$implicit,o=e.oxw(2);e.Q6J("ngClass",e.VKq(5,g,n.usuario==o.mailUsuario)),e.xp6(1),e.Q6J("ngClass",e.WLB(7,d,n.usuario==o.mailUsuario,n.usuario!=o.mailUsuario)),e.xp6(1),e.hij("",n.usuario," ("),e.xp6(2),e.Oqu(n.fechaHora),e.xp6(3),e.Oqu(n.mensaje)}}function f(t,s){if(1&t&&(e.TgZ(0,"div",6),e.YNc(1,C,8,10,"div",7),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.chats)}}function x(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"input",12),e.NdJ("ngModelChange",function(i){e.CHM(n);const T=e.oxw();return e.KtG(T.mensaje=i)})("keyup.enter",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.enviar())}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("ngModel",n.mensaje)}}function v(t,s){1&t&&(e.TgZ(0,"div",13)(1,"a",14),e._uU(2,"Inicie Sesion "),e.qZA(),e.TgZ(3,"p"),e._uU(4,"o"),e.qZA(),e.TgZ(5,"a",15),e._uU(6," Registrese"),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"para acceder al chat"),e.qZA())}const M=[{path:"",component:(()=>{class t{constructor(n,o){this.servBase=n,this.servUsuario=o,this.mensaje="",this.chats=[],this.mailUsuario="",this.susChat=this.servBase.chat().subscribe(()=>{this.chats=this.servBase.chats}),this.susUsuario=this.servUsuario.getActivo.pipe((0,m.U)(i=>{this.mailUsuario=i.mail})).subscribe()}ngOnDestroy(){this.susChat.unsubscribe(),this.susUsuario.unsubscribe()}enviar(){let n=(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString();0!=this.mensaje.length&&this.servBase.guardar("Chat",{usuario:this.mailUsuario,fechaHora:n,mensaje:this.mensaje}),this.mensaje=""}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.j),e.Y36(p.J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-chat"]],decls:8,vars:3,consts:[[1,"contenedor"],[1,"mt-2"],[1,"chat"],["class","mensajes",4,"ngIf","ngIfElse"],["type","text","class","form-control mt-2","name","mensaje","placeholder","Presione ENTER para enviar el mensaje",3,"ngModel","ngModelChange","keyup.enter",4,"ngIf"],["incorrecto",""],[1,"mensajes"],["class","msj",3,"ngClass",4,"ngFor","ngForOf"],[1,"msj",3,"ngClass"],[1,"usuHs",3,"ngClass"],[1,"hora"],[1,"mensaje"],["type","text","name","mensaje","placeholder","Presione ENTER para enviar el mensaje",1,"form-control","mt-2",3,"ngModel","ngModelChange","keyup.enter"],[1,"usuHs"],["routerLink","/login"],["routerLink","/registro"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Chat"),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,f,2,1,"div",3),e.YNc(5,x,1,1,"input",4),e.qZA()(),e.YNc(6,v,9,0,"ng-template",null,5,e.W1O)),2&n){const i=e.MAs(7);e.xp6(4),e.Q6J("ngIf",o.mailUsuario)("ngIfElse",i),e.xp6(1),e.Q6J("ngIf",o.mailUsuario)}},dependencies:[r.mk,r.sg,r.O5,c.rH,u.Fj,u.JJ,u.On],styles:[".mensajes[_ngcontent-%COMP%]{overflow-y:scroll;height:380px;padding:10px}.chat[_ngcontent-%COMP%]{padding:10px;width:30%;height:20%;border:3px solid #bc21c2;border-radius:20px}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.mensaje[_ngcontent-%COMP%]{font-size:1.2em}.msj[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mio[_ngcontent-%COMP%]{align-items:flex-end}.usuHs[_ngcontent-%COMP%]{display:flex;font-size:1.2em}.hora[_ngcontent-%COMP%]{margin-top:.2em;font-size:.8em;font-weight:100}"]}),t})()}];let j=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(M),c.Bz]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[r.ez,j,u.u5]}),t})()}}]);