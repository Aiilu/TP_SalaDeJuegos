(self.webpackChunkTP_SalaDeJuegos=self.webpackChunkTP_SalaDeJuegos||[]).push([[179],{2313:(cn,je,j)=>{"use strict";j.d(je,{nm:()=>rn});var p=j(4976),Ce=(j(4650),j(3692),j(259),j(5861)),Be=j(6881),ke=j(4859),we=j(2090),Qe=j(1877);const pe=new Map,De={activated:!1,tokenObservers:[]},Ne={initialized:!1,enabled:!1};function gt(He){return pe.get(He)||Object.assign({},De)}function kt(){return Ne}const Bt="https://content-firebaseappcheck.googleapis.com/v1",rt="exchangeDebugToken",Lt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Re{constructor(Ue,$e,Dt,xt,bn){if(this.operation=Ue,this.retryPolicy=$e,this.getWaitDuration=Dt,this.lowerBound=xt,this.upperBound=bn,this.pending=null,this.nextErrorWaitInterval=xt,xt>bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ue){var $e=this;return(0,Ce.Z)(function*(){$e.stop();try{$e.pending=new we.BH,yield function it(He){return new Promise(Ue=>{setTimeout(Ue,He)})}($e.getNextRun(Ue)),$e.pending.resolve(),yield $e.pending.promise,$e.pending=new we.BH,yield $e.operation(),$e.pending.resolve(),yield $e.pending.promise,$e.process(!0).catch(()=>{})}catch(Dt){$e.retryPolicy(Dt)?$e.process(!1).catch(()=>{}):$e.stop()}})()}getNextRun(Ue){if(Ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const $e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),$e}}}const ht=new we.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wt(He,Ue){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,Ce.Z)(function*({url:He,body:Ue},$e){const Dt={"Content-Type":"application/json"},xt=$e.getImmediate({optional:!0});if(xt){const fi=yield xt.getHeartbeatsHeader();fi&&(Dt["X-Firebase-Client"]=fi)}const bn={method:"POST",body:JSON.stringify(Ue),headers:Dt};let jn,Rn;try{jn=yield fetch(He,bn)}catch(fi){throw ht.create("fetch-network-error",{originalErrorMessage:fi?.message})}if(200!==jn.status)throw ht.create("fetch-status-error",{httpStatus:jn.status});try{Rn=yield jn.json()}catch(fi){throw ht.create("fetch-parse-error",{originalErrorMessage:fi?.message})}const nr=Rn.ttl.match(/^([\d.]+)(s)$/);if(!nr||!nr[2]||isNaN(Number(nr[1])))throw ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Rn.ttl}`});const wi=1e3*Number(nr[1]),ci=Date.now();return{token:Rn.token,expireTimeMillis:ci+wi,issuedAtTimeMillis:ci}})).apply(this,arguments)}const wt="firebase-app-check-database",$t=1,Pt="firebase-app-check-store";let Mt=null;function Fn(He,Ue){return mr.apply(this,arguments)}function mr(){return(mr=(0,Ce.Z)(function*(He,Ue){const Dt=(yield function gn(){return Mt||(Mt=new Promise((He,Ue)=>{try{const $e=indexedDB.open(wt,$t);$e.onsuccess=Dt=>{He(Dt.target.result)},$e.onerror=Dt=>{var xt;Ue(ht.create("storage-open",{originalErrorMessage:null===(xt=Dt.target.error)||void 0===xt?void 0:xt.message}))},$e.onupgradeneeded=Dt=>{0===Dt.oldVersion&&Dt.target.result.createObjectStore(Pt,{keyPath:"compositeKey"})}}catch($e){Ue(ht.create("storage-open",{originalErrorMessage:$e?.message}))}}),Mt)}()).transaction(Pt,"readwrite"),bn=Dt.objectStore(Pt).put({compositeKey:He,value:Ue});return new Promise((jn,Rn)=>{bn.onsuccess=nr=>{jn()},Dt.onerror=nr=>{var wi;Rn(ht.create("storage-set",{originalErrorMessage:null===(wi=nr.target.error)||void 0===wi?void 0:wi.message}))}})})).apply(this,arguments)}const Yt=new Qe.Yd("@firebase/app-check");function fr(He,Ue){return(0,we.hl)()?function Tn(He,Ue){return Fn(function on(He){return`${He.options.appId}-${He.name}`}(He),Ue)}(He,Ue).catch($e=>{Yt.warn(`Failed to write token to IndexedDB. Error: ${$e}`)}):Promise.resolve()}function zn(){return ir.apply(this,arguments)}function ir(){return(ir=(0,Ce.Z)(function*(){const He=kt();if(He.enabled&&He.token)return He.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const li={error:"UNKNOWN_ERROR"};function Pn(He){return we.US.encodeString(JSON.stringify(He),!1)}function Cn(He){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,Ce.Z)(function*(He,Ue=!1){const $e=He.app;!function It(He){if(!gt(He).activated)throw ht.create("use-before-activation",{appName:He.name})}($e);const Dt=gt($e);let bn,xt=Dt.token;if(xt&&!Bn(xt)&&(Dt.token=void 0,xt=void 0),!xt){const nr=yield Dt.cachedTokenPromise;nr&&(Bn(nr)?xt=nr:yield fr($e,void 0))}if(!Ue&&xt&&Bn(xt))return{token:xt.token};let Rn,jn=!1;if(function Ln(){return kt().enabled}()){Dt.exchangeTokenPromise||(Dt.exchangeTokenPromise=Wt(function ft(He,Ue){const{projectId:$e,appId:Dt,apiKey:xt}=He.options;return{url:`${Bt}/projects/${$e}/apps/${Dt}:${rt}?key=${xt}`,body:{debug_token:Ue}}}($e,yield zn()),He.heartbeatServiceProvider).finally(()=>{Dt.exchangeTokenPromise=void 0}),jn=!0);const nr=yield Dt.exchangeTokenPromise;return yield fr($e,nr),Dt.token=nr,{token:nr.token}}try{Dt.exchangeTokenPromise||(Dt.exchangeTokenPromise=Dt.provider.getToken().finally(()=>{Dt.exchangeTokenPromise=void 0}),jn=!0),xt=yield gt($e).exchangeTokenPromise}catch(nr){"appCheck/throttled"===nr.code?Yt.warn(nr.message):Yt.error(nr),bn=nr}return xt?bn?Rn=Bn(xt)?{token:xt.token,internalError:bn}:Gr(bn):(Rn={token:xt.token},Dt.token=xt,yield fr($e,xt)):Rn=Gr(bn),jn&&function Ar(He,Ue){const $e=gt(He).tokenObservers;for(const Dt of $e)try{"EXTERNAL"===Dt.type&&null!=Ue.error?Dt.error(Ue.error):Dt.next(Ue)}catch{}}($e,Rn),Rn})).apply(this,arguments)}function Dr(He,Ue){const $e=gt(He),Dt=$e.tokenObservers.filter(xt=>xt.next!==Ue);0===Dt.length&&$e.tokenRefresher&&$e.tokenRefresher.isRunning()&&$e.tokenRefresher.stop(),$e.tokenObservers=Dt}function ti(He){const{app:Ue}=He,$e=gt(Ue);let Dt=$e.tokenRefresher;Dt||(Dt=function zr(He){const{app:Ue}=He;return new Re((0,Ce.Z)(function*(){let Dt;if(Dt=gt(Ue).token?yield Cn(He,!0):yield Cn(He),Dt.error)throw Dt.error;if(Dt.internalError)throw Dt.internalError}),()=>!0,()=>{const $e=gt(Ue);if($e.token){let Dt=$e.token.issuedAtTimeMillis+.5*($e.token.expireTimeMillis-$e.token.issuedAtTimeMillis)+3e5;return Dt=Math.min(Dt,$e.token.expireTimeMillis-3e5),Math.max(0,Dt-Date.now())}return 0},Lt.RETRIAL_MIN_WAIT,Lt.RETRIAL_MAX_WAIT)}(He),$e.tokenRefresher=Dt),!Dt.isRunning()&&$e.isTokenAutoRefreshEnabled&&Dt.start()}function Bn(He){return He.expireTimeMillis-Date.now()>0}function Gr(He){return{token:Pn(li),error:He}}class $n{constructor(Ue,$e){this.app=Ue,this.heartbeatServiceProvider=$e}_delete(){const{tokenObservers:Ue}=gt(this.app);for(const $e of Ue)Dr(this.app,$e.next);return Promise.resolve()}}const ae="app-check-internal";!function xe(){(0,Be._registerComponent)(new ke.wA("app-check",He=>function Vn(He,Ue){return new $n(He,Ue)}(He.getProvider("app").getImmediate(),He.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((He,Ue,$e)=>{He.getProvider(ae).initialize()})),(0,Be._registerComponent)(new ke.wA(ae,He=>function Un(He){return{getToken:Ue=>Cn(He,Ue),addTokenListener:Ue=>function Cr(He,Ue,$e,Dt){const{app:xt}=He,bn=gt(xt);if(bn.tokenObservers=[...bn.tokenObservers,{next:$e,error:Dt,type:Ue}],bn.token&&Bn(bn.token)){const Rn=bn.token;Promise.resolve().then(()=>{$e({token:Rn.token}),ti(He)}).catch(()=>{})}bn.cachedTokenPromise.then(()=>ti(He))}(He,"INTERNAL",Ue),removeTokenListener:Ue=>Dr(He.app,Ue)}}(He.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Be.registerVersion)("@firebase/app-check","0.7.0")}();class rn{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(cn,je,j)=>{"use strict";j.d(je,{Ot:()=>Te,ZF:()=>qe,hX:()=>gt,z6:()=>Ce});var p=j(259),E=j(4650),G=j(4976);class Te{constructor(Re){return Re}}class Ce{constructor(){return(0,p.C6)()}}const we=new E.OlP("angularfire2._apps"),Qe={provide:Te,useFactory:function ke(_e){return _e&&1===_e.length?_e[0]:new Te((0,p.Mq)())},deps:[[new E.FiY,we]]},pe={provide:Ce,deps:[[new E.FiY,we]]};function De(_e){return(Re,it)=>{const At=Re.runOutsideAngular(()=>_e(it));return new Te(At)}}let Ne=(()=>{class _e{constructor(it){(0,p.KN)("angularfire",G.q4.full,"core"),(0,p.KN)("angularfire",G.q4.full,"app"),(0,p.KN)("angular",E.q4F.full,it.toString())}}return _e.\u0275fac=function(it){return new(it||_e)(E.LFG(E.Lbi))},_e.\u0275mod=E.oAB({type:_e}),_e.\u0275inj=E.cJS({providers:[Qe,pe]}),_e})();function gt(_e,...Re){return{ngModule:Ne,providers:[{provide:we,useFactory:De(_e),multi:!0,deps:[E.R0b,E.zs3,G.HU,...Re]}]}}const qe=(0,G.u3)(p.ZF,!0)},2011:(cn,je,j)=>{"use strict";j.d(je,{Dh:()=>ke,GT:()=>Ce,cc:()=>gt,on:()=>Qe,pX:()=>Te,xv:()=>we});var p=j(4650),E=j(9260);cn=j.hmd(cn);const G=["ngOnDestroy"],Te=(qe,Et,rt,Lt={})=>new Proxy(qe,{get:(_e,Re)=>rt.runOutsideAngular(()=>{var it;if(qe[Re])return!(null===(it=Lt?.spy)||void 0===it)&&it.get&&Lt.spy.get(Re,qe[Re]),qe[Re];if(G.indexOf(Re)>-1)return()=>{};const At=Et.toPromise().then(ht=>{const ze=ht&&ht[Re];return"function"==typeof ze?ze.bind(ht):ze&&ze.then?ze.then(It=>rt.run(()=>It)):rt.run(()=>ze)});return new Proxy(()=>{},{get:(ht,ze)=>At[ze],apply:(ht,ze,It)=>At.then(pn=>{var Vt;const Wt=pn&&pn(...It);return!(null===(Vt=Lt?.spy)||void 0===Vt)&&Vt.apply&&Lt.spy.apply(Re,It,Wt),Wt})})})}),Ce=(qe,Et)=>{Et.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Lt=>{Object.defineProperty(qe.prototype,Lt,Object.getOwnPropertyDescriptor(rt.prototype||rt,Lt))})})};class Be{constructor(Et){return Et}}const ke=new p.OlP("angularfire2.app.options"),we=new p.OlP("angularfire2.app.name");function Qe(qe,Et,rt){const _e="object"==typeof rt&&rt||{};_e.name=_e.name||"string"==typeof rt&&rt||"[DEFAULT]";const it=E.Z.apps.filter(At=>At&&At.name===_e.name)[0]||Et.runOutsideAngular(()=>E.Z.initializeApp(qe,_e));try{JSON.stringify(qe)!==JSON.stringify(it.options)&&pe("error",`${it.name} Firebase App already initialized with different options${cn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Be(it)}const pe=(qe,...Et)=>{(0,p.X6Q)()&&typeof console<"u"&&console[qe](...Et)};function gt(qe,Et,rt,Lt,_e){const[,Re,it]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===qe)||[];if(Re)return function yt(qe,Et){try{return qe.toString()===Et.toString()}catch{return qe===Et}}(_e,it)||(Bt("error",`${Et} was already initialized on the ${rt} Firebase App with different settings.${kt?" You may need to reload as Firebase is not HMR aware.":""}`),Bt("warn",{is:_e,was:it})),Re;{const At=Lt();return globalThis.\u0275AngularfireInstanceCache.push([qe,At,_e]),At}}const kt=!!cn.hot,Bt=(qe,...Et)=>{(0,p.X6Q)()&&typeof console<"u"&&console[qe](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(cn,je,j)=>{"use strict";j.d(je,{q4:()=>va,iC:()=>wr,HU:()=>un,vb:()=>Oe,JM:()=>de,u3:()=>$i});var p=j(4650),E=j(259),G=j(5861),Te=j(6881),Ce=j(2090),Be=j(4859),ke=j(1877);const we=(D,O)=>O.some(z=>D instanceof z);let Qe,pe;const gt=new WeakMap,yt=new WeakMap,kt=new WeakMap,Bt=new WeakMap,qe=new WeakMap;let Lt={get(D,O,z){if(D instanceof IDBTransaction){if("done"===O)return yt.get(D);if("objectStoreNames"===O)return D.objectStoreNames||kt.get(D);if("store"===O)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return At(D[O])},set:(D,O,z)=>(D[O]=z,!0),has:(D,O)=>D instanceof IDBTransaction&&("done"===O||"store"===O)||O in D};function it(D){return"function"==typeof D?function Re(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...O){return D.apply(ht(this),O),At(gt.get(this))}:function(...O){return At(D.apply(ht(this),O))}:function(O,...z){const fe=D.call(ht(this),O,...z);return kt.set(fe,O.sort?O.sort():[O]),At(fe)}}(D):(D instanceof IDBTransaction&&function rt(D){if(yt.has(D))return;const O=new Promise((z,fe)=>{const Ve=()=>{D.removeEventListener("complete",Ae),D.removeEventListener("error",Ye),D.removeEventListener("abort",Ye)},Ae=()=>{z(),Ve()},Ye=()=>{fe(D.error||new DOMException("AbortError","AbortError")),Ve()};D.addEventListener("complete",Ae),D.addEventListener("error",Ye),D.addEventListener("abort",Ye)});yt.set(D,O)}(D),we(D,function De(){return Qe||(Qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Lt):D)}function At(D){if(D instanceof IDBRequest)return function Et(D){const O=new Promise((z,fe)=>{const Ve=()=>{D.removeEventListener("success",Ae),D.removeEventListener("error",Ye)},Ae=()=>{z(At(D.result)),Ve()},Ye=()=>{fe(D.error),Ve()};D.addEventListener("success",Ae),D.addEventListener("error",Ye)});return O.then(z=>{z instanceof IDBCursor&&gt.set(z,D)}).catch(()=>{}),qe.set(O,D),O}(D);if(Bt.has(D))return Bt.get(D);const O=it(D);return O!==D&&(Bt.set(D,O),qe.set(O,D)),O}const ht=D=>qe.get(D),pn=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],Wt=new Map;function Gt(D,O){if(!(D instanceof IDBDatabase)||O in D||"string"!=typeof O)return;if(Wt.get(O))return Wt.get(O);const z=O.replace(/FromIndex$/,""),fe=O!==z,Ve=Vt.includes(z);if(!(z in(fe?IDBIndex:IDBObjectStore).prototype)||!Ve&&!pn.includes(z))return;const Ae=function(){var Ye=(0,G.Z)(function*(ln,...Qt){const Mn=this.transaction(ln,Ve?"readwrite":"readonly");let hr=Mn.store;return fe&&(hr=hr.index(Qt.shift())),(yield Promise.all([hr[z](...Qt),Ve&&Mn.done]))[0]});return function(Qt){return Ye.apply(this,arguments)}}();return Wt.set(O,Ae),Ae}!function _e(D){Lt=D(Lt)}(D=>({...D,get:(O,z,fe)=>Gt(O,z)||D.get(O,z,fe),has:(O,z)=>!!Gt(O,z)||D.has(O,z)}));const st="@firebase/installations",at="0.6.4",ft=1e4,wt=`w:${at}`,$t="FIS_v2",Pt="https://firebaseinstallations.googleapis.com/v1",jt=36e5,Tn=new Ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tn(D){return D instanceof Ce.ZR&&D.code.includes("request-failed")}function An({projectId:D}){return`${Pt}/projects/${D}/installations`}function Fn(D){return{token:D.token,requestStatus:2,expiresIn:Sr(D.expiresIn),creationTime:Date.now()}}function mr(D,O){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,G.Z)(function*(D,O){const fe=(yield O.json()).error;return Tn.create("request-failed",{requestName:D,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function ur({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Yt(D){return rr.apply(this,arguments)}function rr(){return(rr=(0,G.Z)(function*(D){const O=yield D();return O.status>=500&&O.status<600?D():O})).apply(this,arguments)}function Sr(D){return Number(D.replace("s","000"))}function an(){return(an=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:O},{fid:z}){const fe=An(D),Ve=ur(D),Ae=O.getImmediate({optional:!0});if(Ae){const Mn=yield Ae.getHeartbeatsHeader();Mn&&Ve.append("x-firebase-client",Mn)}const ln={method:"POST",headers:Ve,body:JSON.stringify({fid:z,authVersion:$t,appId:D.appId,sdkVersion:wt})},Qt=yield Yt(()=>fetch(fe,ln));if(Qt.ok){const Mn=yield Qt.json();return{fid:Mn.fid||z,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:Fn(Mn.authToken)}}throw yield mr("Create Installation",Qt)})).apply(this,arguments)}function Ln(D){return new Promise(O=>{setTimeout(O,D)})}const ir=/^[cdef][\w-]{21}$/,Qr="";function li(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const z=function Pn(D){return function zn(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return ir.test(z)?z:Qr}catch{return Qr}}function Cn(D){return`${D.appName}!${D.appId}`}const Xt=new Map;function St(D,O){const z=Cn(D);Dr(z,O),function ti(D,O){const z=function Ar(){return!zr&&"BroadcastChannel"in self&&(zr=new BroadcastChannel("[Firebase] FID Change"),zr.onmessage=D=>{Dr(D.data.key,D.data.fid)}),zr}();z&&z.postMessage({key:D,fid:O}),function Bn(){0===Xt.size&&zr&&(zr.close(),zr=null)}()}(z,O)}function Dr(D,O){const z=Xt.get(D);if(z)for(const fe of z)fe(O)}let zr=null;const Gr="firebase-installations-database",$n=1,Vn="firebase-installations-store";let Un=null;function cr(){return Un||(Un=function ze(D,O,{blocked:z,upgrade:fe,blocking:Ve,terminated:Ae}={}){const Ye=indexedDB.open(D,O),ln=At(Ye);return fe&&Ye.addEventListener("upgradeneeded",Qt=>{fe(At(Ye.result),Qt.oldVersion,Qt.newVersion,At(Ye.transaction))}),z&&Ye.addEventListener("blocked",()=>z()),ln.then(Qt=>{Ae&&Qt.addEventListener("close",()=>Ae()),Ve&&Qt.addEventListener("versionchange",()=>Ve())}).catch(()=>{}),ln}(Gr,$n,{upgrade:(D,O)=>{0===O&&D.createObjectStore(Vn)}})),Un}function pr(D,O){return nt.apply(this,arguments)}function nt(){return(nt=(0,G.Z)(function*(D,O){const z=Cn(D),Ve=(yield cr()).transaction(Vn,"readwrite"),Ae=Ve.objectStore(Vn),Ye=yield Ae.get(z);return yield Ae.put(O,z),yield Ve.done,(!Ye||Ye.fid!==O.fid)&&St(D,O.fid),O})).apply(this,arguments)}function be(D){return Le.apply(this,arguments)}function Le(){return(Le=(0,G.Z)(function*(D){const O=Cn(D),fe=(yield cr()).transaction(Vn,"readwrite");yield fe.objectStore(Vn).delete(O),yield fe.done})).apply(this,arguments)}function Ot(D,O){return vt.apply(this,arguments)}function vt(){return(vt=(0,G.Z)(function*(D,O){const z=Cn(D),Ve=(yield cr()).transaction(Vn,"readwrite"),Ae=Ve.objectStore(Vn),Ye=yield Ae.get(z),ln=O(Ye);return void 0===ln?yield Ae.delete(z):yield Ae.put(ln,z),yield Ve.done,ln&&(!Ye||Ye.fid!==ln.fid)&&St(D,ln.fid),ln})).apply(this,arguments)}function ge(D){return he.apply(this,arguments)}function he(){return he=(0,G.Z)(function*(D){let O;const z=yield Ot(D.appConfig,fe=>{const Ve=function ee(D){return Me(D||{fid:li(),registrationStatus:0})}(fe),Ae=function ne(D,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Tn.create("app-offline"))};const z={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},fe=function X(D,O){return Se.apply(this,arguments)}(D,z);return{installationEntry:z,registrationPromise:fe}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:ye(D)}:{installationEntry:O}}(D,Ve);return O=Ae.registrationPromise,Ae.installationEntry});return z.fid===Qr?{installationEntry:yield O}:{installationEntry:z,registrationPromise:O}}),he.apply(this,arguments)}function Se(){return Se=(0,G.Z)(function*(D,O){try{const z=yield function Hn(D,O){return an.apply(this,arguments)}(D,O);return pr(D.appConfig,z)}catch(z){throw tn(z)&&409===z.customData.serverCode?yield be(D.appConfig):yield pr(D.appConfig,{fid:O.fid,registrationStatus:0}),z}}),Se.apply(this,arguments)}function ye(D){return ve.apply(this,arguments)}function ve(){return(ve=(0,G.Z)(function*(D){let O=yield le(D.appConfig);for(;1===O.registrationStatus;)yield Ln(100),O=yield le(D.appConfig);if(0===O.registrationStatus){const{installationEntry:z,registrationPromise:fe}=yield ge(D);return fe||z}return O})).apply(this,arguments)}function le(D){return Ot(D,O=>{if(!O)throw Tn.create("installation-not-found");return Me(O)})}function Me(D){return function Xe(D){return 1===D.registrationStatus&&D.registrationTime+ft<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function qt(){return(qt=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:O},z){const fe=function dn(D,{fid:O}){return`${An(D)}/${O}/authTokens:generate`}(D,z),Ve=function on(D,{refreshToken:O}){const z=ur(D);return z.append("Authorization",function fr(D){return`${$t} ${D}`}(O)),z}(D,z),Ae=O.getImmediate({optional:!0});if(Ae){const Mn=yield Ae.getHeartbeatsHeader();Mn&&Ve.append("x-firebase-client",Mn)}const ln={method:"POST",headers:Ve,body:JSON.stringify({installation:{sdkVersion:wt,appId:D.appId}})},Qt=yield Yt(()=>fetch(fe,ln));if(Qt.ok)return Fn(yield Qt.json());throw yield mr("Generate Auth Token",Qt)})).apply(this,arguments)}function sr(D){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,G.Z)(function*(D,O=!1){let z;const fe=yield Ot(D.appConfig,Ae=>{if(!ut(Ae))throw Tn.create("not-registered");const Ye=Ae.authToken;if(!O&&function Tt(D){return 2===D.requestStatus&&!function rn(D){const O=Date.now();return O<D.creationTime||D.creationTime+D.expiresIn<O+jt}(D)}(Ye))return Ae;if(1===Ye.requestStatus)return z=function ct(D,O){return ce.apply(this,arguments)}(D,O),Ae;{if(!navigator.onLine)throw Tn.create("app-offline");const ln=function Nn(D){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:O})}(Ae);return z=function ae(D,O){return xe.apply(this,arguments)}(D,ln),ln}});return z?yield z:fe.authToken}),Ur.apply(this,arguments)}function ce(){return(ce=(0,G.Z)(function*(D,O){let z=yield H(D.appConfig);for(;1===z.authToken.requestStatus;)yield Ln(100),z=yield H(D.appConfig);const fe=z.authToken;return 0===fe.requestStatus?sr(D,O):fe})).apply(this,arguments)}function H(D){return Ot(D,O=>{if(!ut(O))throw Tn.create("not-registered");return function Qn(D){return 1===D.requestStatus&&D.requestTime+ft<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function xe(){return xe=(0,G.Z)(function*(D,O){try{const z=yield function Ct(D,O){return qt.apply(this,arguments)}(D,O),fe=Object.assign(Object.assign({},O),{authToken:z});return yield pr(D.appConfig,fe),z}catch(z){if(!tn(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const fe=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield pr(D.appConfig,fe)}else yield be(D.appConfig);throw z}}),xe.apply(this,arguments)}function ut(D){return void 0!==D&&2===D.registrationStatus}function ri(){return(ri=(0,G.Z)(function*(D){const O=D,{installationEntry:z,registrationPromise:fe}=yield ge(O);return fe?fe.catch(console.error):sr(O).catch(console.error),z.fid})).apply(this,arguments)}function Di(){return Di=(0,G.Z)(function*(D,O=!1){const z=D;return yield function Xr(D){return Ht.apply(this,arguments)}(z),(yield sr(z,O)).token}),Di.apply(this,arguments)}function Ht(){return(Ht=(0,G.Z)(function*(D){const{registrationPromise:O}=yield ge(D);O&&(yield O)})).apply(this,arguments)}function Ue(D){return Tn.create("missing-app-config-values",{valueName:D})}const $e="installations",xt=D=>{const O=D.getProvider("app").getImmediate(),z=function He(D){if(!D||!D.options)throw Ue("App Configuration");if(!D.name)throw Ue("App Name");const O=["projectId","apiKey","appId"];for(const z of O)if(!D.options[z])throw Ue(z);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(O);return{app:O,appConfig:z,heartbeatServiceProvider:(0,Te._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},bn=D=>{const O=D.getProvider("app").getImmediate(),z=(0,Te._getProvider)(O,$e).getImmediate();return{getId:()=>function br(D){return ri.apply(this,arguments)}(z),getToken:Ve=>function Ji(D){return Di.apply(this,arguments)}(z,Ve)}};(function jn(){(0,Te._registerComponent)(new Be.wA($e,xt,"PUBLIC")),(0,Te._registerComponent)(new Be.wA("installations-internal",bn,"PRIVATE"))})(),(0,Te.registerVersion)(st,at),(0,Te.registerVersion)(st,at,"esm2017");const Rn="@firebase/remote-config",Li=new Ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ps{constructor(O,z,fe,Ve){this.client=O,this.storage=z,this.storageCache=fe,this.logger=Ve}isCachedDataFresh(O,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-z,Ve=fe<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Ve}.`),Ve}fetch(O){var z=this;return(0,G.Z)(function*(){const[fe,Ve]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Ve&&z.isCachedDataFresh(O.cacheMaxAgeMillis,fe))return Ve;O.eTag=Ve&&Ve.eTag;const Ae=yield z.client.fetch(O),Ye=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ae.status&&Ye.push(z.storage.setLastSuccessfulFetchResponse(Ae)),yield Promise.all(Ye),Ae})()}}function ji(D=navigator){return D.languages&&D.languages[0]||D.language}class Us{constructor(O,z,fe,Ve,Ae,Ye){this.firebaseInstallations=O,this.sdkVersion=z,this.namespace=fe,this.projectId=Ve,this.apiKey=Ae,this.appId=Ye}fetch(O){var z=this;return(0,G.Z)(function*(){const[fe,Ve]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Qt={sdk_version:z.sdkVersion,app_instance_id:fe,app_instance_id_token:Ve,app_id:z.appId,language_code:ji()},Mn={method:"POST",headers:ln,body:JSON.stringify(Qt)},hr=fetch(Ye,Mn),ar=new Promise((Xi,ki)=>{O.signal.addEventListener(()=>{const Va=new Error("The operation was aborted.");Va.name="AbortError",ki(Va)})});let wn;try{yield Promise.race([hr,ar]),wn=yield hr}catch(Xi){let ki="fetch-client-network";throw"AbortError"===Xi?.name&&(ki="fetch-timeout"),Li.create(ki,{originalErrorMessage:Xi?.message})}let xn=wn.status;const Yn=wn.headers.get("ETag")||void 0;let ei,Ki;if(200===wn.status){let Xi;try{Xi=yield wn.json()}catch(ki){throw Li.create("fetch-client-parse",{originalErrorMessage:ki?.message})}ei=Xi.entries,Ki=Xi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ki?xn=500:"NO_CHANGE"===Ki?xn=304:("NO_TEMPLATE"===Ki||"EMPTY_CONFIG"===Ki)&&(ei={}),304!==xn&&200!==xn)throw Li.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:Yn,config:ei}})()}}class Qs{constructor(O,z){this.client=O,this.storage=z}fetch(O){var z=this;return(0,G.Z)(function*(){const fe=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(O,fe)})()}attemptFetch(O,{throttleEndTimeMillis:z,backoffCount:fe}){var Ve=this;return(0,G.Z)(function*(){yield function aa(D,O){return new Promise((z,fe)=>{const Ve=Math.max(O-Date.now(),0),Ae=setTimeout(z,Ve);D.addEventListener(()=>{clearTimeout(Ae),fe(Li.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,z);try{const Ae=yield Ve.client.fetch(O);return yield Ve.storage.deleteThrottleMetadata(),Ae}catch(Ae){if(!function Zo(D){if(!(D instanceof Ce.ZR&&D.customData))return!1;const O=Number(D.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Ae))throw Ae;const Ye={throttleEndTimeMillis:Date.now()+(0,Ce.$s)(fe),backoffCount:fe+1};return yield Ve.storage.setThrottleMetadata(Ye),Ve.attemptFetch(O,Ye)}})()}}class Yo{constructor(O,z,fe,Ve,Ae){this.app=O,this._client=z,this._storageCache=fe,this._storage=Ve,this._logger=Ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xi(D,O){const z=D.target.error||void 0;return Li.create(O,{originalErrorMessage:z&&z?.message})}const Hi="app_namespace_store";class Zi{constructor(O,z,fe,Ve=function fo(){return new Promise((D,O)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=fe=>{O(xi(fe,"storage-open"))},z.onsuccess=fe=>{D(fe.target.result)},z.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(Hi,{keyPath:"compositeKey"})}}catch(z){O(Li.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=O,this.appName=z,this.namespace=fe,this.openDbPromise=Ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var z=this;return(0,G.Z)(function*(){const fe=yield z.openDbPromise;return new Promise((Ve,Ae)=>{const ln=fe.transaction([Hi],"readonly").objectStore(Hi),Qt=z.createCompositeKey(O);try{const Mn=ln.get(Qt);Mn.onerror=hr=>{Ae(xi(hr,"storage-get"))},Mn.onsuccess=hr=>{const ar=hr.target.result;Ve(ar?ar.value:void 0)}}catch(Mn){Ae(Li.create("storage-get",{originalErrorMessage:Mn?.message}))}})})()}set(O,z){var fe=this;return(0,G.Z)(function*(){const Ve=yield fe.openDbPromise;return new Promise((Ae,Ye)=>{const Qt=Ve.transaction([Hi],"readwrite").objectStore(Hi),Mn=fe.createCompositeKey(O);try{const hr=Qt.put({compositeKey:Mn,value:z});hr.onerror=ar=>{Ye(xi(ar,"storage-set"))},hr.onsuccess=()=>{Ae()}}catch(hr){Ye(Li.create("storage-set",{originalErrorMessage:hr?.message}))}})})()}delete(O){var z=this;return(0,G.Z)(function*(){const fe=yield z.openDbPromise;return new Promise((Ve,Ae)=>{const ln=fe.transaction([Hi],"readwrite").objectStore(Hi),Qt=z.createCompositeKey(O);try{const Mn=ln.delete(Qt);Mn.onerror=hr=>{Ae(xi(hr,"storage-delete"))},Mn.onsuccess=()=>{Ve()}}catch(Mn){Ae(Li.create("storage-delete",{originalErrorMessage:Mn?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Is{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,G.Z)(function*(){const z=O.storage.getLastFetchStatus(),fe=O.storage.getLastSuccessfulFetchTimestampMillis(),Ve=O.storage.getActiveConfig(),Ae=yield z;Ae&&(O.lastFetchStatus=Ae);const Ye=yield fe;Ye&&(O.lastSuccessfulFetchTimestampMillis=Ye);const ln=yield Ve;ln&&(O.activeConfig=ln)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function $s(){return js.apply(this,arguments)}function js(){return(js=(0,G.Z)(function*(){if(!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Pi(){(0,Te._registerComponent)(new Be.wA("remote-config",function D(O,{instanceIdentifier:z}){const fe=O.getProvider("app").getImmediate(),Ve=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Li.create("registration-window");if(!(0,Ce.hl)())throw Li.create("indexed-db-unavailable");const{projectId:Ae,apiKey:Ye,appId:ln}=fe.options;if(!Ae)throw Li.create("registration-project-id");if(!Ye)throw Li.create("registration-api-key");if(!ln)throw Li.create("registration-app-id");const Qt=new Zi(ln,fe.name,z=z||"firebase"),Mn=new Is(Qt),hr=new ke.Yd(Rn);hr.logLevel=ke.in.ERROR;const ar=new Us(Ve,Te.SDK_VERSION,z,Ae,Ye,ln),wn=new Qs(ar,Qt),xn=new ps(wn,Qt,Mn,hr),Yn=new Yo(fe,xn,Mn,Qt,hr);return function Ei(D){const O=(0,Ce.m9)(D);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Yn),Yn},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(Rn,"0.4.4"),(0,Te.registerVersion)(Rn,"0.4.4","esm2017")}();const Fo=(D,O)=>O.some(z=>D instanceof z);let Yi,Ms;const Js=new WeakMap,zs=new WeakMap,ii=new WeakMap,ms=new WeakMap,si=new WeakMap;let eo={get(D,O,z){if(D instanceof IDBTransaction){if("done"===O)return zs.get(D);if("objectStoreNames"===O)return D.objectStoreNames||ii.get(D);if("store"===O)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return gr(D[O])},set:(D,O,z)=>(D[O]=z,!0),has:(D,O)=>D instanceof IDBTransaction&&("done"===O||"store"===O)||O in D};function Lo(D){return"function"==typeof D?function to(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xs(){return Ms||(Ms=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...O){return D.apply(bi(this),O),gr(Js.get(this))}:function(...O){return gr(D.apply(bi(this),O))}:function(O,...z){const fe=D.call(bi(this),O,...z);return ii.set(fe,O.sort?O.sort():[O]),gr(fe)}}(D):(D instanceof IDBTransaction&&function ns(D){if(zs.has(D))return;const O=new Promise((z,fe)=>{const Ve=()=>{D.removeEventListener("complete",Ae),D.removeEventListener("error",Ye),D.removeEventListener("abort",Ye)},Ae=()=>{z(),Ve()},Ye=()=>{fe(D.error||new DOMException("AbortError","AbortError")),Ve()};D.addEventListener("complete",Ae),D.addEventListener("error",Ye),D.addEventListener("abort",Ye)});zs.set(D,O)}(D),Fo(D,function Hs(){return Yi||(Yi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,eo):D)}function gr(D){if(D instanceof IDBRequest)return function Wr(D){const O=new Promise((z,fe)=>{const Ve=()=>{D.removeEventListener("success",Ae),D.removeEventListener("error",Ye)},Ae=()=>{z(gr(D.result)),Ve()},Ye=()=>{fe(D.error),Ve()};D.addEventListener("success",Ae),D.addEventListener("error",Ye)});return O.then(z=>{z instanceof IDBCursor&&Js.set(z,D)}).catch(()=>{}),si.set(O,D),O}(D);if(ms.has(D))return ms.get(D);const O=Lo(D);return O!==D&&(ms.set(D,O),si.set(O,D)),O}const bi=D=>si.get(D);function no(D,O,{blocked:z,upgrade:fe,blocking:Ve,terminated:Ae}={}){const Ye=indexedDB.open(D,O),ln=gr(Ye);return fe&&Ye.addEventListener("upgradeneeded",Qt=>{fe(gr(Ye.result),Qt.oldVersion,Qt.newVersion,gr(Ye.transaction))}),z&&Ye.addEventListener("blocked",()=>z()),ln.then(Qt=>{Ae&&Qt.addEventListener("close",()=>Ae()),Ve&&Qt.addEventListener("versionchange",()=>Ve())}).catch(()=>{}),ln}function yi(D,{blocked:O}={}){const z=indexedDB.deleteDatabase(D);return O&&z.addEventListener("blocked",()=>O()),gr(z).then(()=>{})}const Ia=["get","getKey","getAll","getAllKeys","count"],Vi=["put","add","delete","clear"],ro=new Map;function Cs(D,O){if(!(D instanceof IDBDatabase)||O in D||"string"!=typeof O)return;if(ro.get(O))return ro.get(O);const z=O.replace(/FromIndex$/,""),fe=O!==z,Ve=Vi.includes(z);if(!(z in(fe?IDBIndex:IDBObjectStore).prototype)||!Ve&&!Ia.includes(z))return;const Ae=function(){var Ye=(0,G.Z)(function*(ln,...Qt){const Mn=this.transaction(ln,Ve?"readwrite":"readonly");let hr=Mn.store;return fe&&(hr=hr.index(Qt.shift())),(yield Promise.all([hr[z](...Qt),Ve&&Mn.done]))[0]});return function(Qt){return Ye.apply(this,arguments)}}();return ro.set(O,Ae),Ae}!function pi(D){eo=D(eo)}(D=>({...D,get:(O,z,fe)=>Cs(O,z)||D.get(O,z,fe),has:(O,z)=>!!Cs(O,z)||D.has(O,z)}));const Wn="/firebase-messaging-sw.js",po="/firebase-cloud-messaging-push-scope",Ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vo="https://fcmregistrations.googleapis.com/v1",rs="google.c.a.c_id",Ps="google.c.a.c_l",To="google.c.a.ts",So="google.c.a.e";var R=(()=>{return(D=R||(R={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",R;var D})();function F(D){const O=new Uint8Array(D);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function N(D){const z=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(z),Ve=new Uint8Array(fe.length);for(let Ae=0;Ae<fe.length;++Ae)Ve[Ae]=fe.charCodeAt(Ae);return Ve}const re="fcm_token_details_db",Je=5,mn="fcm_token_object_Store";function ni(){return ni=(0,G.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ae=>Ae.name).includes(re))return null;let O=null;return(yield no(re,Je,{upgrade:(fe=(0,G.Z)(function*(Ve,Ae,Ye,ln){var Qt;if(Ae<2||!Ve.objectStoreNames.contains(mn))return;const Mn=ln.objectStore(mn),hr=yield Mn.index("fcmSenderId").get(D);if(yield Mn.clear(),hr)if(2===Ae){const ar=hr;if(!ar.auth||!ar.p256dh||!ar.endpoint)return;O={token:ar.fcmToken,createTime:null!==(Qt=ar.createTime)&&void 0!==Qt?Qt:Date.now(),subscriptionOptions:{auth:ar.auth,p256dh:ar.p256dh,endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:"string"==typeof ar.vapidKey?ar.vapidKey:F(ar.vapidKey)}}}else if(3===Ae){const ar=hr;O={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:F(ar.auth),p256dh:F(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:F(ar.vapidKey)}}}else if(4===Ae){const ar=hr;O={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:F(ar.auth),p256dh:F(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:F(ar.vapidKey)}}}}),function(Ae,Ye,ln,Qt){return fe.apply(this,arguments)})})).close(),yield yi(re),yield yi("fcm_vapid_details_db"),yield yi("undefined"),function ys(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:O}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var fe}),ni.apply(this,arguments)}const Rs="firebase-messaging-database",io=1,Ri="firebase-messaging-store";let is=null;function Oi(){return is||(is=no(Rs,io,{upgrade:(D,O)=>{0===O&&D.createObjectStore(Ri)}})),is}function Ti(D){return go.apply(this,arguments)}function go(){return go=(0,G.Z)(function*(D){const O=ss(D),fe=yield(yield Oi()).transaction(Ri).objectStore(Ri).get(O);if(fe)return fe;{const Ve=yield function Nr(D){return ni.apply(this,arguments)}(D.appConfig.senderId);if(Ve)return yield Gs(D,Ve),Ve}}),go.apply(this,arguments)}function Gs(D,O){return Os.apply(this,arguments)}function Os(){return(Os=(0,G.Z)(function*(D,O){const z=ss(D),Ve=(yield Oi()).transaction(Ri,"readwrite");return yield Ve.objectStore(Ri).put(O,z),yield Ve.done,O})).apply(this,arguments)}function so(){return(so=(0,G.Z)(function*(D){const O=ss(D),fe=(yield Oi()).transaction(Ri,"readwrite");yield fe.objectStore(Ri).delete(O),yield fe.done})).apply(this,arguments)}function ss({appConfig:D}){return D.appId}const Ii=new Ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ws(D,O){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,G.Z)(function*(D,O){const z=yield _s(D),fe=$o(O),Ve={method:"POST",headers:z,body:JSON.stringify(fe)};let Ae;try{Ae=yield(yield fetch(ua(D.appConfig),Ve)).json()}catch(Ye){throw Ii.create("token-subscribe-failed",{errorInfo:Ye?.toString()})}if(Ae.error)throw Ii.create("token-subscribe-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw Ii.create("token-subscribe-no-token");return Ae.token})).apply(this,arguments)}function mo(){return(mo=(0,G.Z)(function*(D,O){const z=yield _s(D),fe=$o(O.subscriptionOptions),Ve={method:"PATCH",headers:z,body:JSON.stringify(fe)};let Ae;try{Ae=yield(yield fetch(`${ua(D.appConfig)}/${O.token}`,Ve)).json()}catch(Ye){throw Ii.create("token-update-failed",{errorInfo:Ye?.toString()})}if(Ae.error)throw Ii.create("token-update-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw Ii.create("token-update-no-token");return Ae.token})).apply(this,arguments)}function Kr(D,O){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,G.Z)(function*(D,O){const fe={method:"DELETE",headers:yield _s(D)};try{const Ae=yield(yield fetch(`${ua(D.appConfig)}/${O}`,fe)).json();if(Ae.error)throw Ii.create("token-unsubscribe-failed",{errorInfo:Ae.error.message})}catch(Ve){throw Ii.create("token-unsubscribe-failed",{errorInfo:Ve?.toString()})}})).apply(this,arguments)}function ua({projectId:D}){return`${Vo}/projects/${D}/registrations`}function _s(D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,G.Z)(function*({appConfig:D,installations:O}){const z=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function $o({p256dh:D,auth:O,endpoint:z,vapidKey:fe}){const Ve={web:{endpoint:z,auth:O,p256dh:D}};return fe!==Ds&&(Ve.web.applicationPubKey=fe),Ve}const ws=6048e5;function ea(){return ea=(0,G.Z)(function*(D){const O=yield function ja(D,O){return Ha.apply(this,arguments)}(D.swRegistration,D.vapidKey),z={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:O.endpoint,auth:F(O.getKey("auth")),p256dh:F(O.getKey("p256dh"))},fe=yield Ti(D.firebaseDependencies);if(fe){if(function Es(D,O){return O.vapidKey===D.vapidKey&&O.endpoint===D.endpoint&&O.auth===D.auth&&O.p256dh===D.p256dh}(fe.subscriptionOptions,z))return Date.now()>=fe.createTime+ws?function Jn(D,O){return la.apply(this,arguments)}(D,{token:fe.token,createTime:Date.now(),subscriptionOptions:z}):fe.token;try{yield Kr(D.firebaseDependencies,fe.token)}catch(Ve){console.warn(Ve)}return vo(D.firebaseDependencies,z)}return vo(D.firebaseDependencies,z)}),ea.apply(this,arguments)}function oi(){return oi=(0,G.Z)(function*(D){const O=yield Ti(D.firebaseDependencies);O&&(yield Kr(D.firebaseDependencies,O.token),yield function Uo(D){return so.apply(this,arguments)}(D.firebaseDependencies));const z=yield D.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),oi.apply(this,arguments)}function la(){return la=(0,G.Z)(function*(D,O){try{const z=yield function vs(D,O){return mo.apply(this,arguments)}(D.firebaseDependencies,O),fe=Object.assign(Object.assign({},O),{token:z,createTime:Date.now()});return yield Gs(D.firebaseDependencies,fe),z}catch(z){throw yield function qr(D){return oi.apply(this,arguments)}(D),z}}),la.apply(this,arguments)}function vo(D,O){return ta.apply(this,arguments)}function ta(){return(ta=(0,G.Z)(function*(D,O){const fe={token:yield Ws(D,O),createTime:Date.now(),subscriptionOptions:O};return yield Gs(D,fe),fe.token})).apply(this,arguments)}function Ha(){return(Ha=(0,G.Z)(function*(D,O){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:N(O)})})).apply(this,arguments)}function oo(D){const O={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function ca(D,O){if(!O.notification)return;D.notification={};const z=O.notification.title;z&&(D.notification.title=z);const fe=O.notification.body;fe&&(D.notification.body=fe);const Ve=O.notification.image;Ve&&(D.notification.image=Ve);const Ae=O.notification.icon;Ae&&(D.notification.icon=Ae)}(O,D),function da(D,O){O.data&&(D.data=O.data)}(O,D),function P(D,O){var z,fe,Ve,Ae,Ye;if(!(O.fcmOptions||null!==(z=O.notification)&&void 0!==z&&z.click_action))return;D.fcmOptions={};const ln=null!==(Ve=null===(fe=O.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ve?Ve:null===(Ae=O.notification)||void 0===Ae?void 0:Ae.click_action;ln&&(D.fcmOptions.link=ln);const Qt=null===(Ye=O.fcmOptions)||void 0===Ye?void 0:Ye.analytics_label;Qt&&(D.fcmOptions.analyticsLabel=Qt)}(O,D),O}function L(D,O){const z=[];for(let fe=0;fe<D.length;fe++)z.push(D.charAt(fe)),fe<O.length&&z.push(O.charAt(fe));return z.join("")}function Ie(D){return Ii.create("missing-app-config-values",{valueName:D})}L("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),L("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dt{constructor(O,z,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ve=function te(D){if(!D||!D.options)throw Ie("App Configuration Object");if(!D.name)throw Ie("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:z}=D;for(const fe of O)if(!z[fe])throw Ie(fe);return{appName:D.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Ve,installations:z,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function I(D){return M.apply(this,arguments)}function M(){return(M=(0,G.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Wn,{scope:po}),D.swRegistration.update().catch(()=>{})}catch(O){throw Ii.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function me(){return(me=(0,G.Z)(function*(D,O){if(!O&&!D.swRegistration&&(yield I(D)),O||!D.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw Ii.create("invalid-sw-registration");D.swRegistration=O}})).apply(this,arguments)}function zt(){return(zt=(0,G.Z)(function*(D,O){O?D.vapidKey=O:D.vapidKey||(D.vapidKey=Ds)})).apply(this,arguments)}function yr(){return yr=(0,G.Z)(function*(D,O){if(!navigator)throw Ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ii.create("permission-blocked");return yield function et(D,O){return zt.apply(this,arguments)}(D,O?.vapidKey),yield function Z(D,O){return me.apply(this,arguments)}(D,O?.serviceWorkerRegistration),function yo(D){return ea.apply(this,arguments)}(D)}),yr.apply(this,arguments)}function kr(){return(kr=(0,G.Z)(function*(D,O,z){const fe=function ai(D){switch(D){case R.NOTIFICATION_CLICKED:return"notification_open";case R.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:z[rs],message_name:z[Ps],message_time:z[To],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jt(){return Jt=(0,G.Z)(function*(D,O){const z=O.data;if(!z.isFirebaseMessaging)return;D.onMessageHandler&&z.messageType===R.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(oo(z)):D.onMessageHandler.next(oo(z)));const fe=z.data;(function W(D){return"object"==typeof D&&!!D&&rs in D})(fe)&&"1"===fe[So]&&(yield function bt(D,O,z){return kr.apply(this,arguments)}(D,z.messageType,fe))}),Jt.apply(this,arguments)}const Dn="@firebase/messaging",Zt=D=>{const O=new dt(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function _o(D,O){return Jt.apply(this,arguments)}(O,z)),O},pt=D=>{const O=D.getProvider("messaging").getImmediate();return{getToken:fe=>function er(D,O){return yr.apply(this,arguments)}(O,fe)}};function zi(){return za.apply(this,arguments)}function za(){return(za=(0,G.Z)(function*(){try{yield(0,Ce.eu)()}catch{return!1}return typeof window<"u"&&(0,Ce.hl)()&&(0,Ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ut(){(0,Te._registerComponent)(new Be.wA("messaging",Zt,"PUBLIC")),(0,Te._registerComponent)(new Be.wA("messaging-internal",pt,"PRIVATE")),(0,Te.registerVersion)(Dn,"0.12.4"),(0,Te.registerVersion)(Dn,"0.12.4","esm2017")}();const Xa="analytics",Du="firebase_id",or="origin",Ca=6e4,Bu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vi="https://www.googletagmanager.com/gtag/js",_n=new ke.Yd("@firebase/analytics"),Kn=new Ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cu(D){if(!D.startsWith(vi)){const O=Kn.create("invalid-gtag-resource",{gtagURL:D});return _n.warn(O.message),""}return D}function gi(D){return Promise.all(D.map(O=>O.catch(z=>z)))}function Ga(){return(Ga=(0,G.Z)(function*(D,O,z,fe,Ve,Ae){const Ye=fe[Ve];try{if(Ye)yield O[Ye];else{const Qt=(yield gi(z)).find(Mn=>Mn.measurementId===Ve);Qt&&(yield O[Qt.appId])}}catch(ln){_n.error(ln)}D("config",Ve,Ae)})).apply(this,arguments)}function Wa(){return(Wa=(0,G.Z)(function*(D,O,z,fe,Ve){try{let Ae=[];if(Ve&&Ve.send_to){let Ye=Ve.send_to;Array.isArray(Ye)||(Ye=[Ye]);const ln=yield gi(z);for(const Qt of Ye){const Mn=ln.find(ar=>ar.measurementId===Qt),hr=Mn&&O[Mn.appId];if(!hr){Ae=[];break}Ae.push(hr)}}0===Ae.length&&(Ae=Object.values(O)),yield Promise.all(Ae),D("event",fe,Ve||{})}catch(Ae){_n.error(Ae)}})).apply(this,arguments)}const Ks=30,pa=new class na{constructor(O={},z=1e3){this.throttleMetadata=O,this.intervalMillis=z}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,z){this.throttleMetadata[O]=z}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function qa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ze(){return(Ze=(0,G.Z)(function*(D){var O;const{appId:z,apiKey:fe}=D,Ve={method:"GET",headers:qa(fe)},Ae=Bu.replace("{app-id}",z),Ye=yield fetch(Ae,Ve);if(200!==Ye.status&&304!==Ye.status){let ln="";try{const Qt=yield Ye.json();null!==(O=Qt.error)&&void 0!==O&&O.message&&(ln=Qt.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:Ye.status,responseMessage:ln})}return Ye.json()})).apply(this,arguments)}function wo(){return(wo=(0,G.Z)(function*(D,O=pa,z){const{appId:fe,apiKey:Ve,measurementId:Ae}=D.options;if(!fe)throw Kn.create("no-app-id");if(!Ve){if(Ae)return{measurementId:Ae,appId:fe};throw Kn.create("no-api-key")}const Ye=O.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new ma;return setTimeout((0,G.Z)(function*(){ln.abort()}),void 0!==z?z:Ca),tu({appId:fe,apiKey:Ve,measurementId:Ae},Ye,ln,O)})).apply(this,arguments)}function tu(D,O,z){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,G.Z)(function*(D,{throttleEndTimeMillis:O,backoffCount:z},fe,Ve=pa){var Ae;const{appId:Ye,measurementId:ln}=D;try{yield function ga(D,O){return new Promise((z,fe)=>{const Ve=Math.max(O-Date.now(),0),Ae=setTimeout(z,Ve);D.addEventListener(()=>{clearTimeout(Ae),fe(Kn.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(fe,O)}catch(Qt){if(ln)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Qt?.message}]`),{appId:Ye,measurementId:ln};throw Qt}try{const Qt=yield function Ju(D){return Ze.apply(this,arguments)}(D);return Ve.deleteThrottleMetadata(Ye),Qt}catch(Qt){const Mn=Qt;if(!function Yl(D){if(!(D instanceof Ce.ZR&&D.customData))return!1;const O=Number(D.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Mn)){if(Ve.deleteThrottleMetadata(Ye),ln)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Mn?.message}]`),{appId:Ye,measurementId:ln};throw Qt}const hr=503===Number(null===(Ae=Mn?.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,Ce.$s)(z,Ve.intervalMillis,Ks):(0,Ce.$s)(z,Ve.intervalMillis),ar={throttleEndTimeMillis:Date.now()+hr,backoffCount:z+1};return Ve.setThrottleMetadata(Ye,ar),_n.debug(`Calling attemptFetch again in ${hr} millis`),tu(D,ar,fe,Ve)}}),Oa.apply(this,arguments)}class ma{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let Da,Ya;function tl(){return(tl=(0,G.Z)(function*(D,O,z,fe,Ve){if(Ve&&Ve.global)D("event",z,fe);else{const Ae=yield O;D("event",z,Object.assign(Object.assign({},fe),{send_to:Ae}))}})).apply(this,arguments)}function ru(){return(ru=(0,G.Z)(function*(){if(!(0,Ce.hl)())return _n.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ce.eu)()}catch(D){return _n.warn(Kn.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function C(){return C=(0,G.Z)(function*(D,O,z,fe,Ve,Ae,Ye){var ln;const Qt=function Ra(D){return wo.apply(this,arguments)}(D);Qt.then(xn=>{z[xn.measurementId]=xn.appId,D.options.measurementId&&xn.measurementId!==D.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>_n.error(xn)),O.push(Qt);const Mn=function xo(){return ru.apply(this,arguments)}().then(xn=>{if(xn)return fe.getId()}),[hr,ar]=yield Promise.all([Qt,Mn]);(function Ho(D){const O=window.document.getElementsByTagName("script");for(const z of Object.values(O))if(z.src&&z.src.includes(vi)&&z.src.includes(D))return z;return null})(Ae)||function fa(D,O){const z=function hn(D,O){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(D,O)),z}("firebase-js-sdk-policy",{createScriptURL:cu}),fe=document.createElement("script"),Ve=`${vi}?l=${D}&id=${O}`;fe.src=z?z?.createScriptURL(Ve):Ve,fe.async=!0,document.head.appendChild(fe)}(Ae,hr.measurementId),Ya&&(Ve("consent","default",Ya),function nu(D){Ya=D}(void 0)),Ve("js",new Date);const wn=null!==(ln=Ye?.config)&&void 0!==ln?ln:{};return wn[or]="firebase",wn.update=!0,null!=ar&&(wn[Du]=ar),Ve("config",hr.measurementId,wn),Da&&(Ve("set",Da),function Mu(D){Da=D}(void 0)),hr.measurementId}),C.apply(this,arguments)}class m{constructor(O){this.app=O}_delete(){return delete x[this.app.options.appId],Promise.resolve()}}let x={},B=[];const J={};let Nt,sn,ue="dataLayer",Ke="gtag",yn=!1;function Sa(D,O,z){!function Si(){const D=[];if((0,Ce.ru)()&&D.push("This is a browser extension environment."),(0,Ce.zI)()||D.push("Cookies are not available."),D.length>0){const O=D.map((fe,Ve)=>`(${Ve+1}) ${fe}`).join(" "),z=Kn.create("invalid-analytics-context",{errorInfo:O});_n.warn(z.message)}}();const fe=D.options.appId;if(!fe)throw Kn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Kn.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=x[fe])throw Kn.create("already-exists",{id:fe});if(!yn){!function Tu(D){let O=[];Array.isArray(window[D])?O=window[D]:window[D]=O}(ue);const{wrappedGtag:Ae,gtagCore:Ye}=function Ka(D,O,z,fe,Ve){let Ae=function(...Ye){window[fe].push(arguments)};return window[Ve]&&"function"==typeof window[Ve]&&(Ae=window[Ve]),window[Ve]=function os(D,O,z,fe){function Ae(){return Ae=(0,G.Z)(function*(Ye,...ln){try{if("event"===Ye){const[Qt,Mn]=ln;yield function Ja(D,O,z,fe,Ve){return Wa.apply(this,arguments)}(D,O,z,Qt,Mn)}else if("config"===Ye){const[Qt,Mn]=ln;yield function Pa(D,O,z,fe,Ve,Ae){return Ga.apply(this,arguments)}(D,O,z,fe,Qt,Mn)}else if("consent"===Ye){const[Qt]=ln;D("consent","update",Qt)}else if("get"===Ye){const[Qt,Mn,hr]=ln;D("get",Qt,Mn,hr)}else if("set"===Ye){const[Qt]=ln;D("set",Qt)}else D(Ye,...ln)}catch(Qt){_n.error(Qt)}}),Ae.apply(this,arguments)}return function Ve(Ye){return Ae.apply(this,arguments)}}(Ae,D,O,z),{gtagCore:Ae,wrappedGtag:window[Ve]}}(x,B,J,ue,Ke);sn=Ae,Nt=Ye,yn=!0}return x[fe]=function _(D,O,z,fe,Ve,Ae,Ye){return C.apply(this,arguments)}(D,B,J,O,Nt,ue,z),new m(D)}function zo(){return Go.apply(this,arguments)}function Go(){return(Go=(0,G.Z)(function*(){if((0,Ce.ru)()||!(0,Ce.zI)()||!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}const hu="@firebase/analytics";!function rl(){(0,Te._registerComponent)(new Be.wA(Xa,(O,{options:z})=>Sa(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Te._registerComponent)(new Be.wA("analytics-internal",function D(O){try{const z=O.getProvider(Xa).getImmediate();return{logEvent:(fe,Ve,Ae)=>function Bi(D,O,z,fe){D=(0,Ce.m9)(D),function el(D,O,z,fe,Ve){return tl.apply(this,arguments)}(sn,x[D.app.options.appId],O,z,fe).catch(Ve=>_n.error(Ve))}(z,fe,Ve,Ae)}}catch(z){throw Kn.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Te.registerVersion)(hu,"0.10.0"),(0,Te.registerVersion)(hu,"0.10.0","esm2017")}();var wc=j(4408),xu=j(7565);const us=new class Qa extends xu.v{}(class Ns extends wc.o{constructor(O,z){super(O,z),this.scheduler=O,this.work=z}schedule(O,z=0){return z>0?super.schedule(O,z):(this.delay=z,this.state=O,this.scheduler.flush(this),this)}execute(O,z){return z>0||this.closed?super.execute(O,z):this._execute(O,z)}requestAsyncId(O,z,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(O,z,fe):(O.flush(this),0)}});var vl=j(4986),iu=j(9751),Pu=j(8505),il=j(9468),ka=j(5363);const va=new p.GfV("7.5.0"),$u="__angularfire_symbol__analyticsIsSupportedValue",Fa="__angularfire_symbol__analyticsIsSupported",Po="__angularfire_symbol__remoteConfigIsSupportedValue",su="__angularfire_symbol__remoteConfigIsSupported",La="__angularfire_symbol__messagingIsSupportedValue",$="__angularfire_symbol__messagingIsSupported";function de(D,O,z){if(O){if(1===O.length)return O[0];const Ae=O.filter(Ye=>Ye.app===z);if(1===Ae.length)return Ae[0]}return z.container.getProvider(D).getImmediate({optional:!0})}globalThis[Fa]||(globalThis[Fa]=zo().then(D=>globalThis[$u]=D).catch(()=>globalThis[$u]=!1)),globalThis[$]||(globalThis[$]=zi().then(D=>globalThis[La]=D).catch(()=>globalThis[La]=!1)),globalThis[su]||(globalThis[su]=$s().then(D=>globalThis[Po]=D).catch(()=>globalThis[Po]=!1));const Oe=(D,O)=>{const z=O?[O]:(0,E.C6)(),fe=[];return z.forEach(Ve=>{Ve.container.getProvider(D).instances.forEach(Ye=>{fe.includes(Ye)||fe.push(Ye)})}),fe};function Fe(){}class ot{constructor(O,z=us){this.zone=O,this.delegate=z}now(){return this.delegate.now()}schedule(O,z,fe){const Ve=this.zone;return this.delegate.schedule(function(Ye){Ve.runGuarded(()=>{O.apply(this,[Ye])})},z,fe)}}class _t{constructor(O){this.zone=O,this.task=null}call(O,z){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)),z.pipe((0,Pu.b)({next:fe,complete:fe,error:fe})).subscribe(O).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let un=(()=>{class D{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new ot(Zone.current)),this.insideAngular=z.run(()=>new ot(Zone.current,vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(z){return new(z||D)(p.LFG(p.R0b))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function In(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function vr(D){return In().ngZone.run(()=>D())}function wr(D){return In(),function Ci(D){return function(z){return(z=z.lift(new _t(D.ngZone))).pipe((0,il.R)(D.outsideAngular),(0,ka.Q)(D.insideAngular))}}(In())(D)}const xr=(D,O)=>function(){const fe=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),vr(()=>D.apply(void 0,fe))},$i=(D,O)=>function(){let z;const fe=arguments;for(let Ae=0;Ae<arguments.length;Ae++)"function"==typeof fe[Ae]&&(O&&(z||(z=vr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)))),fe[Ae]=xr(fe[Ae],z));const Ve=function jr(D){return In().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,fe));if(!O){if(Ve instanceof iu.y){const Ae=In();return Ve.pipe((0,il.R)(Ae.outsideAngular),(0,ka.Q)(Ae.insideAngular))}return vr(()=>Ve)}return Ve instanceof iu.y?Ve.pipe(wr):Ve instanceof Promise?vr(()=>new Promise((Ae,Ye)=>Ve.then(ln=>vr(()=>Ae(ln)),ln=>vr(()=>Ye(ln))))):"function"==typeof Ve&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),Ve.apply(this,arguments)}:vr(()=>Ve)}},8502:(cn,je,j)=>{"use strict";j.d(je,{$:()=>Wn,A:()=>De,D:()=>yt,I:()=>Xn,J:()=>xt,L:()=>Mr,N:()=>Ot,P:()=>_,Q:()=>Zi,R:()=>Ta,U:()=>Xs,V:()=>$s,W:()=>js,X:()=>gs,Y:()=>Hs,Z:()=>xs,_:()=>si,a:()=>jo,a0:()=>Ds,a1:()=>rs,a2:()=>Ao,a3:()=>mn,a4:()=>ni,a5:()=>Rs,a6:()=>Ri,a7:()=>Oi,a8:()=>go,a9:()=>Os,aA:()=>ze,aB:()=>Fa,aC:()=>be,aD:()=>vt,aE:()=>Pu,aF:()=>lo,aG:()=>du,aH:()=>dr,aL:()=>ha,aO:()=>Yi,aa:()=>Uo,ab:()=>ss,ac:()=>Mo,ad:()=>vs,ae:()=>Kr,af:()=>ua,ai:()=>ws,aj:()=>ea,ak:()=>qr,an:()=>to,ao:()=>ca,aq:()=>zt,ar:()=>Dn,as:()=>pn,at:()=>Me,au:()=>ye,av:()=>_e,aw:()=>ar,ax:()=>$,ay:()=>Xe,az:()=>Re,b:()=>Cu,c:()=>sn,d:()=>Sa,e:()=>Zr,f:()=>hu,g:()=>Qa,h:()=>wc,i:()=>eu,j:()=>vl,k:()=>Ki,l:()=>Za,m:()=>Va,p:()=>we,r:()=>Au,s:()=>Ni,u:()=>xo});var p=j(5861),E=j(2090),G=j(6881),Te=j(655),Ce=j(1877),Be=j(4859);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},De={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const yt=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},kt=function gt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Bt=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new Ce.Yd("@firebase/auth");function Lt(b,...d){Et.logLevel<=Ce.in.ERROR&&Et.error(`Auth (${G.SDK_VERSION}): ${b}`,...d)}function _e(b,...d){throw ht(b,...d)}function Re(b,...d){return ht(b,...d)}function it(b,d,g){const T=Object.assign(Object.assign({},kt()),{[d]:g});return new E.LL("auth","Firebase",T).create(d,{appName:b.name})}function At(b,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&_e(b,"argument-error"),it(b,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(b,...d){if("string"!=typeof b){const g=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=b.name),b._errorFactory.create(g,...T)}return Bt.create(b,...d)}function ze(b,d,...g){if(!b)throw ht(d,...g)}function It(b){const d="INTERNAL ASSERTION FAILED: "+b;throw Lt(d),new Error(d)}function pn(b,d){b||It(d)}function Vt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Wt(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ft{constructor(d,g){this.shortDelay=d,this.longDelay=g,pn(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wt(b,d){pn(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class $t{static initialize(d,g,T){this.fetchImpl=d,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jt=new ft(3e4,6e4);function Mt(b,d){return b.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:b.tenantId}):d}function gn(b,d,g,T){return vn.apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(b,d,g,T,Y={}){return Tn(b,Y,(0,p.Z)(function*(){let oe={},We={};T&&("GET"===d?We=T:oe={body:JSON.stringify(T)});const mt=(0,E.xO)(Object.assign({key:b.config.apiKey},We)).slice(1),en=yield b._getAdditionalHeaders();return en["Content-Type"]="application/json",b.languageCode&&(en["X-Firebase-Locale"]=b.languageCode),$t.fetch()(mr(b,b.config.apiHost,g,mt),Object.assign({method:d,headers:en,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Tn(b,d,g){return tn.apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(b,d,g){b._canInitEmulator=!1;const T=Object.assign(Object.assign({},Pt),d);try{const Y=new Tr(b),oe=yield Promise.race([g(),Y.promise]);Y.clearNetworkTimeout();const We=yield oe.json();if("needConfirmation"in We)throw ur(b,"account-exists-with-different-credential",We);if(oe.ok&&!("errorMessage"in We))return We;{const mt=oe.ok?We.errorMessage:We.error.message,[en,Sn]=mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===en)throw ur(b,"credential-already-in-use",We);if("EMAIL_EXISTS"===en)throw ur(b,"email-already-in-use",We);if("USER_DISABLED"===en)throw ur(b,"user-disabled",We);const qn=T[en]||en.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw it(b,qn,Sn);_e(b,qn)}}catch(Y){if(Y instanceof E.ZR)throw Y;_e(b,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function An(b,d,g,T){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(b,d,g,T,Y={}){const oe=yield gn(b,d,g,T,Y);return"mfaPendingCredential"in oe&&_e(b,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function mr(b,d,g,T){const Y=`${d}${g}?${T}`;return b.config.emulator?wt(b.config,Y):`${b.config.apiScheme}://${Y}`}class Tr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Re(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ur(b,d,g){const T={appName:b.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const Y=Re(b,d,T);return Y.customData._tokenResponse=g,Y}function Yt(){return(Yt=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function an(b){if(b)try{const d=new Date(Number(b));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ir(){return(ir=(0,p.Z)(function*(b,d=!1){const g=(0,E.m9)(b),T=yield g.getIdToken(d),Y=li(T);ze(Y&&Y.exp&&Y.auth_time&&Y.iat,g.auth,"internal-error");const oe="object"==typeof Y.firebase?Y.firebase:void 0,We=oe?.sign_in_provider;return{claims:Y,token:T,authTime:an(Qr(Y.auth_time)),issuedAtTime:an(Qr(Y.iat)),expirationTime:an(Qr(Y.exp)),signInProvider:We||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function Qr(b){return 1e3*Number(b)}function li(b){const[d,g,T]=b.split(".");if(void 0===d||void 0===g||void 0===T)return Lt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,E.tV)(g);return Y?JSON.parse(Y):(Lt("Failed to decode base64 JWT payload"),null)}catch(Y){return Lt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Cn(b,d){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,p.Z)(function*(b,d,g=!1){if(g)return d;try{return yield d}catch(T){throw T instanceof E.ZR&&function St({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(T)&&b.auth.currentUser===b&&(yield b.auth.signOut()),T}})).apply(this,arguments)}class lr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Y=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),T)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Cr{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=an(this.lastLoginAt),this.creationTime=an(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dr(b){return ti.apply(this,arguments)}function ti(){return ti=(0,p.Z)(function*(b){var d;const g=b.auth,T=yield b.getIdToken(),Y=yield Cn(b,function fr(b,d){return Hn.apply(this,arguments)}(g,{idToken:T}));ze(Y?.users.length,g,"internal-error");const oe=Y.users[0];b._notifyReloadListener(oe);const We=null!==(d=oe.providerUserInfo)&&void 0!==d&&d.length?function Gr(b){return b.map(d=>{var{providerId:g}=d,T=(0,Te._T)(d,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(oe.providerUserInfo):[],mt=function Bn(b,d){return[...b.filter(T=>!d.some(Y=>Y.providerId===T.providerId)),...d]}(b.providerData,We),qn=!!b.isAnonymous&&!(b.email&&oe.passwordHash||mt?.length),Pr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:mt,metadata:new Cr(oe.createdAt,oe.lastLoginAt),isAnonymous:qn};Object.assign(b,Pr)}),ti.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(b){const d=(0,E.m9)(b);yield Dr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Vn(){return(Vn=(0,p.Z)(function*(b,d){const g=yield Tn(b,{},(0,p.Z)(function*(){const T=(0,E.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:Y,apiKey:oe}=b.config,We=mr(b,Y,"/v1/token",`key=${oe}`),mt=yield b._getAdditionalHeaders();return mt["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(We,{method:"POST",headers:mt,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ze(d.idToken,"internal-error"),ze(typeof d.idToken<"u","internal-error"),ze(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Pn(b){const d=li(b);return ze(d,"internal-error"),ze(typeof d.exp<"u","internal-error"),ze(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var T=this;return(0,p.Z)(function*(){return ze(!T.accessToken||T.refreshToken,d,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var T=this;return(0,p.Z)(function*(){const{accessToken:Y,refreshToken:oe,expiresIn:We}=yield function $n(b,d){return Vn.apply(this,arguments)}(d,g);T.updateTokensAndExpiration(Y,oe,Number(We))})()}updateTokensAndExpiration(d,g,T){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,g){const{refreshToken:T,accessToken:Y,expirationTime:oe}=g,We=new Un;return T&&(ze("string"==typeof T,"internal-error",{appName:d}),We.refreshToken=T),Y&&(ze("string"==typeof Y,"internal-error",{appName:d}),We.accessToken=Y),oe&&(ze("number"==typeof oe,"internal-error",{appName:d}),We.expirationTime=oe),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return It("not implemented")}}function cr(b,d){ze("string"==typeof b||typeof b>"u","internal-error",{appName:d})}class pr{constructor(d){var{uid:g,auth:T,stsTokenManager:Y}=d,oe=(0,Te._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Cr(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const T=yield Cn(g,g.stsTokenManager.getToken(g.auth,d));return ze(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(d){return function zn(b){return ir.apply(this,arguments)}(this,d)}reload(){return function zr(b){return Ar.apply(this,arguments)}(this)}_assign(d){this!==d&&(ze(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new pr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var T=this;return(0,p.Z)(function*(){let Y=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),Y=!0),g&&(yield Dr(T)),yield T.auth._persistUserIfCurrent(T),Y&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield Cn(d,function on(b,d){return Yt.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var T,Y,oe,We,mt,en,Sn,qn;const Pr=null!==(T=g.displayName)&&void 0!==T?T:void 0,ia=null!==(Y=g.email)&&void 0!==Y?Y:void 0,gu=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,Ic=null!==(We=g.photoURL)&&void 0!==We?We:void 0,Ru=null!==(mt=g.tenantId)&&void 0!==mt?mt:void 0,wl=null!==(en=g._redirectEventId)&&void 0!==en?en:void 0,wa=null!==(Sn=g.createdAt)&&void 0!==Sn?Sn:void 0,Cc=null!==(qn=g.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:ju,emailVerified:Dc,isAnonymous:Ua,providerData:Jl,stsTokenManager:Ou}=g;ze(ju&&Ou,d,"internal-error");const Tc=Un.fromJSON(this.name,Ou);ze("string"==typeof ju,d,"internal-error"),cr(Pr,d.name),cr(ia,d.name),ze("boolean"==typeof Dc,d,"internal-error"),ze("boolean"==typeof Ua,d,"internal-error"),cr(gu,d.name),cr(Ic,d.name),cr(Ru,d.name),cr(wl,d.name),cr(wa,d.name),cr(Cc,d.name);const Sc=new pr({uid:ju,auth:d,email:ia,emailVerified:Dc,displayName:Pr,isAnonymous:Ua,photoURL:Ic,phoneNumber:gu,tenantId:Ru,stsTokenManager:Tc,createdAt:wa,lastLoginAt:Cc});return Jl&&Array.isArray(Jl)&&(Sc.providerData=Jl.map(Lr=>Object.assign({},Lr))),wl&&(Sc._redirectEventId=wl),Sc}static _fromIdTokenResponse(d,g,T=!1){return(0,p.Z)(function*(){const Y=new Un;Y.updateFromServerResponse(g);const oe=new pr({uid:g.localId,auth:d,stsTokenManager:Y,isAnonymous:T});return yield Dr(oe),oe})()}}const nt=new Map;function be(b){pn(b instanceof Function,"Expected a class definition");let d=nt.get(b);return d?(pn(d instanceof b,"Instance stored in cache mismatched with class"),d):(d=new b,nt.set(b,d),d)}const Ot=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,T){var Y=this;return(0,p.Z)(function*(){Y.storage[g]=T})()}_get(g){var T=this;return(0,p.Z)(function*(){const Y=T.storage[g];return void 0===Y?null:Y})()}_remove(g){var T=this;return(0,p.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return b.type="NONE",b})();function vt(b,d,g){return`firebase:${b}:${d}:${g}`}class ge{constructor(d,g,T){this.persistence=d,this.auth=g,this.userKey=T;const{config:Y,name:oe}=this.auth;this.fullUserKey=vt(this.userKey,Y.apiKey,oe),this.fullPersistenceKey=vt("persistence",Y.apiKey,oe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?pr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,T="authUser"){return(0,p.Z)(function*(){if(!g.length)return new ge(be(Ot),d,T);const Y=(yield Promise.all(g.map(function(){var Sn=(0,p.Z)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let oe=Y[0]||be(Ot);const We=vt(T,d.config.apiKey,d.name);let mt=null;for(const Sn of g)try{const qn=yield Sn._get(We);if(qn){const Pr=pr._fromJSON(d,qn);Sn!==oe&&(mt=Pr),oe=Sn;break}}catch{}const en=Y.filter(Sn=>Sn._shouldAllowMigration);return oe._shouldAllowMigration&&en.length?(oe=en[0],mt&&(yield oe._set(We,mt.toJSON())),yield Promise.all(g.map(function(){var Sn=(0,p.Z)(function*(qn){if(qn!==oe)try{yield qn._remove(We)}catch{}});return function(qn){return Sn.apply(this,arguments)}}())),new ge(oe,d,T)):new ge(oe,d,T)})()}}function he(b){const d=b.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Se(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ee(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ve(d))return"Blackberry";if(le(d))return"Webos";if(ne(d))return"Safari";if((d.includes("chrome/")||X(d))&&!d.includes("edge/"))return"Chrome";if(ye(d))return"Android";{const T=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function ee(b=(0,E.z$)()){return/firefox\//i.test(b)}function ne(b=(0,E.z$)()){const d=b.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function X(b=(0,E.z$)()){return/crios\//i.test(b)}function Se(b=(0,E.z$)()){return/iemobile/i.test(b)}function ye(b=(0,E.z$)()){return/android/i.test(b)}function ve(b=(0,E.z$)()){return/blackberry/i.test(b)}function le(b=(0,E.z$)()){return/webos/i.test(b)}function Me(b=(0,E.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Xe(b=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function dn(b=(0,E.z$)()){return Me(b)||ye(b)||le(b)||ve(b)||/windows phone/i.test(b)||Se(b)}function Ur(b,d=[]){let g;switch(b){case"Browser":g=he((0,E.z$)());break;case"Worker":g=`${he((0,E.z$)())}-${b}`;break;default:g=b}const T=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${G.SDK_VERSION}/${T}`}function ce(){return(ce=(0,p.Z)(function*(b){return(yield gn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function H(b,d){return ae.apply(this,arguments)}function ae(){return(ae=(0,p.Z)(function*(b,d){return gn(b,"GET","/v2/recaptchaConfig",Mt(b,d))})).apply(this,arguments)}function xe(b){return void 0!==b&&void 0!==b.getResponse}function ut(b){return void 0!==b&&void 0!==b.enterprise}class Tt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Nn(b){return new Promise((d,g)=>{const T=document.createElement("script");T.setAttribute("src",b),T.onload=d,T.onerror=Y=>{const oe=Re("internal-error");oe.customData=Y,g(oe)},T.type="text/javascript",T.charset="UTF-8",function rn(){var b,d;return null!==(d=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==d?d:document}().appendChild(T)})}function Qn(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Ji="NO_RECAPTCHA";class Di{constructor(d){this.type="recaptcha-enterprise",this.auth=dr(d)}verify(d="verify",g=!1){var T=this;return(0,p.Z)(function*(){function oe(){return oe=(0,p.Z)(function*(mt){if(!g){if(null==mt.tenantId&&null!=mt._agentRecaptchaConfig)return mt._agentRecaptchaConfig.siteKey;if(null!=mt.tenantId&&void 0!==mt._tenantRecaptchaConfigs[mt.tenantId])return mt._tenantRecaptchaConfigs[mt.tenantId].siteKey}return new Promise(function(){var en=(0,p.Z)(function*(Sn,qn){H(mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const ia=new Tt(Pr);return null==mt.tenantId?mt._agentRecaptchaConfig=ia:mt._tenantRecaptchaConfigs[mt.tenantId]=ia,Sn(ia.siteKey)}qn(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{qn(Pr)})});return function(Sn,qn){return en.apply(this,arguments)}}())}),oe.apply(this,arguments)}function We(mt,en,Sn){const qn=window.grecaptcha;ut(qn)?qn.enterprise.ready(()=>{qn.enterprise.execute(mt,{action:d}).then(Pr=>{en(Pr)}).catch(()=>{en(Ji)})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mt,en)=>{(function Y(mt){return oe.apply(this,arguments)})(T.auth).then(Sn=>{if(!g&&ut(window.grecaptcha))We(Sn,mt,en);else{if(typeof window>"u")return void en(new Error("RecaptchaVerifier is only supported in browser"));Nn("https://www.google.com/recaptcha/enterprise.js?render="+Sn).then(()=>{We(Sn,mt,en)}).catch(qn=>{en(qn)})}}).catch(Sn=>{en(Sn)})})})()}}function Xr(b,d,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(b,d,g,T=!1){const Y=new Di(b);let oe;try{oe=yield Y.verify(g)}catch{oe=yield Y.verify(g,!0)}const We=Object.assign({},d);return Object.assign(We,T?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}class kn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const T=oe=>new Promise((We,mt)=>{try{We(d(oe))}catch(en){mt(en)}});T.onAbort=g,this.queue.push(T);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const T=[];try{for(const Y of g.queue)yield Y(d),Y.onAbort&&T.push(Y.onAbort)}catch(Y){T.reverse();for(const oe of T)try{oe()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class _r{constructor(d,g,T,Y){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new kn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(d,g){var T=this;return g&&(this._popupRedirectResolver=be(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var Y,oe;if(!T._deleted&&(T.persistenceManager=yield ge.create(T,d),!T._deleted)){if(null!==(Y=T._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(oe=T.currentUser)||void 0===oe?void 0:oe.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var T;const Y=yield g.assertedPersistence.getCurrentUser();let oe=Y,We=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const mt=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,en=oe?._redirectEventId,Sn=yield g.tryRedirectSignIn(d);(!mt||mt===en)&&Sn?.user&&(oe=Sn.user,We=!0)}if(!oe)return g.directlySetCurrentUser(null);if(!oe._redirectEventId){if(We)try{yield g.beforeStateQueue.runMiddleware(oe)}catch(mt){oe=Y,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(mt))}return oe?g.reloadAndSetCurrentUserOrClear(oe):g.directlySetCurrentUser(null)}return ze(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===oe._redirectEventId?g.directlySetCurrentUser(oe):g.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield Dr(d)}catch(T){if("auth/network-request-failed"!==T?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const T=d?(0,E.m9)(d):null;return T&&ze(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(d,g=!1){var T=this;return(0,p.Z)(function*(){if(!T._deleted)return d&&ze(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,p.Z)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(be(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield H(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Tt(g);null==d.tenantId?d._agentRecaptchaConfig=T:d._tenantRecaptchaConfigs[d.tenantId]=T,T.emailPasswordEnabled&&new Di(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new E.LL("auth","Firebase",d())}onAuthStateChanged(d,g,T){return this.registerStateListener(this.authStateSubscription,d,g,T)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,T){return this.registerStateListener(this.idTokenSubscription,d,g,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var T=this;return(0,p.Z)(function*(){const Y=yield T.getOrInitRedirectPersistenceManager(g);return null===d?Y.removeCurrentUser():Y.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const T=d&&be(d)||g._popupRedirectResolver;ze(T,g,"argument-error"),g.redirectPersistenceManager=yield ge.create(g,[be(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var T,Y;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===d?g._currentUser:(null===(Y=g.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,T,Y){if(this._deleted)return()=>{};const oe="function"==typeof g?g:g.next.bind(g),We=this._isInitialized?Promise.resolve():this._initializationPromise;return ze(We,this,"internal-error"),We.then(()=>oe(this.currentUser)),"function"==typeof g?d.addObserver(g,T,Y):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const Y=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();Y&&(T["X-Firebase-Client"]=Y);const oe=yield d._getAppCheckToken();return oe&&(T["X-Firebase-AppCheck"]=oe),T})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const T=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return T?.error&&function rt(b,...d){Et.logLevel<=Ce.in.WARN&&Et.warn(`Auth (${G.SDK_VERSION}): ${b}`,...d)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function dr(b){return(0,E.m9)(b)}class hi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,E.ne)(g=>this.observer=g)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xn(b,d,g){const T=dr(b);ze(T._canInitEmulator,T,"emulator-config-failed"),ze(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const Y=!!g?.disableWarnings,oe=He(d),{host:We,port:mt}=function Ue(b){const d=He(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(d.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(T);if(Y){const oe=Y[1];return{host:oe,port:$e(T.substr(oe.length+1))}}{const[oe,We]=T.split(":");return{host:oe,port:$e(We)}}}(d);T.config.emulator={url:`${oe}//${We}${null===mt?"":`:${mt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:We,port:mt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Dt(){function b(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function He(b){const d=b.indexOf(":");return d<0?"":b.substr(0,d+1)}function $e(b){if(!b)return null;const d=Number(b);return isNaN(d)?null:d}class xt{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return It("not implemented")}_getIdTokenResponse(d){return It("not implemented")}_linkToIdToken(d,g){return It("not implemented")}_getReauthenticationResolver(d){return It("not implemented")}}function bn(b,d){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:resetPassword",Mt(b,d))})).apply(this,arguments)}function Rn(b,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ci(){return(ci=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:update",Mt(b,d))})).apply(this,arguments)}function fi(b,d){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signInWithPassword",Mt(b,d))})).apply(this,arguments)}function $r(b,d){return bs.apply(this,arguments)}function bs(){return(bs=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:sendOobCode",Mt(b,d))})).apply(this,arguments)}function Vs(){return(Vs=(0,p.Z)(function*(b,d){return $r(b,d)})).apply(this,arguments)}function es(b,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,p.Z)(function*(b,d){return $r(b,d)})).apply(this,arguments)}function Mi(b,d){return mi.apply(this,arguments)}function mi(){return(mi=(0,p.Z)(function*(b,d){return $r(b,d)})).apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(b,d){return $r(b,d)})).apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signInWithEmailLink",Mt(b,d))})).apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signInWithEmailLink",Mt(b,d))})).apply(this,arguments)}class Jr extends xt{constructor(d,g,T,Y=null){super("password",T),this._email=d,this._password=g,this._tenantId=Y}static _fromEmailAndPassword(d,g){return new Jr(d,g,"password")}static _fromEmailAndCode(d,g,T=null){return new Jr(d,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var T;switch(g.signInMethod){case"password":const Y={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=d._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const oe=yield Xr(d,Y,"signInWithPassword");return fi(d,oe)}return fi(d,Y).catch(function(){var oe=(0,p.Z)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const mt=yield Xr(d,Y,"signInWithPassword");return fi(d,mt)}return Promise.reject(We)});return function(We){return oe.apply(this,arguments)}}());case"emailLink":return function cs(b,d){return ho.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:_e(d,"internal-error")}})()}_linkToIdToken(d,g){var T=this;return(0,p.Z)(function*(){switch(T.signInMethod){case"password":return Rn(d,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Oo(b,d){return ds.apply(this,arguments)}(d,{idToken:g,email:T._email,oobCode:T._password});default:_e(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function hs(b,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signInWithIdp",Mt(b,d))})).apply(this,arguments)}class Mr extends xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new Mr(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):_e("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:Y}=g,oe=(0,Te._T)(g,["providerId","signInMethod"]);if(!T||!Y)return null;const We=new Mr(T,Y);return We.idToken=oe.idToken||void 0,We.accessToken=oe.accessToken||void 0,We.secret=oe.secret,We.nonce=oe.nonce,We.pendingToken=oe.pendingToken||null,We}_getIdTokenResponse(d){return hs(d,this.buildRequest())}_linkToIdToken(d,g){const T=this.buildRequest();return T.idToken=g,hs(d,T)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,hs(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,E.xO)(g)}return d}}function ji(){return(ji=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:sendVerificationCode",Mt(b,d))})).apply(this,arguments)}function aa(){return(aa=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signInWithPhoneNumber",Mt(b,d))})).apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(b,d){const g=yield An(b,"POST","/v1/accounts:signInWithPhoneNumber",Mt(b,d));if(g.temporaryProof)throw ur(b,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Do={USER_NOT_FOUND:"user-not-found"};function Yo(){return(Yo=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signInWithPhoneNumber",Mt(b,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Do)})).apply(this,arguments)}class xi extends xt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new xi({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new xi({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function Us(b,d){return aa.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Zo(b,d){return Qs.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ko(b,d){return Yo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:T,verificationCode:Y}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:T,code:Y}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:T,phoneNumber:Y,temporaryProof:oe}=d;return T||g||Y||oe?new xi({verificationId:g,verificationCode:T,phoneNumber:Y,temporaryProof:oe}):null}}class Bs{constructor(d){var g,T,Y,oe,We,mt;const en=(0,E.zd)((0,E.pd)(d)),Sn=null!==(g=en.apiKey)&&void 0!==g?g:null,qn=null!==(T=en.oobCode)&&void 0!==T?T:null,Pr=function Hi(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=en.mode)&&void 0!==Y?Y:null);ze(Sn&&qn&&Pr,"argument-error"),this.apiKey=Sn,this.operation=Pr,this.code=qn,this.continueUrl=null!==(oe=en.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(We=en.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(mt=en.tenantId)&&void 0!==mt?mt:null}static parseLink(d){const g=function Qo(b){const d=(0,E.zd)((0,E.pd)(b)).link,g=d?(0,E.zd)((0,E.pd)(d)).deep_link_id:null,T=(0,E.zd)((0,E.pd)(b)).deep_link_id;return(T?(0,E.zd)((0,E.pd)(T)).link:null)||T||g||d||b}(d);try{return new Bs(g)}catch{return null}}}let Zi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,T){return Jr._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const Y=Bs.parseLink(T);return ze(Y,"argument-error"),Jr._fromEmailAndCode(g,Y.code,Y.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Is{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Pi extends Is{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class gs extends Pi{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return ze("providerId"in g&&"signInMethod"in g,"argument-error"),Mr._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ze(d.idToken||d.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return gs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return gs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:Y,pendingToken:oe,nonce:We,providerId:mt}=d;if(!T&&!Y&&!g&&!oe||!mt)return null;try{return new gs(mt)._credential({idToken:g,accessToken:T,nonce:We,pendingToken:oe})}catch{return null}}}let Xs=(()=>{class b extends Pi{constructor(){super("facebook.com")}static credential(g){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),$s=(()=>{class b extends Pi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:Y}=g;if(!T&&!Y)return null;try{return b.credential(T,Y)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),js=(()=>{class b extends Pi{constructor(){super("github.com")}static credential(g){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Yi extends xt{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return hs(d,this.buildRequest())}_linkToIdToken(d,g){const T=this.buildRequest();return T.idToken=g,hs(d,T)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,hs(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:Y,pendingToken:oe}=g;return T&&Y&&oe&&T===Y?new Yi(T,oe):null}static _create(d,g){return new Yi(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hs extends Is{constructor(d){ze(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Hs.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Hs.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=Yi.fromJSON(d);return ze(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:T}=d;if(!g||!T)return null;try{return Yi._create(T,g)}catch{return null}}}let xs=(()=>{class b extends Pi{constructor(){super("twitter.com")}static credential(g,T){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:Y}=g;if(!T||!Y)return null;try{return b.credential(T,Y)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Js(b,d){return zs.apply(this,arguments)}function zs(){return(zs=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signUp",Mt(b,d))})).apply(this,arguments)}class ii{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,T,Y=!1){return(0,p.Z)(function*(){const oe=yield pr._fromIdTokenResponse(d,T,Y),We=ms(T);return new ii({user:oe,providerId:We,_tokenResponse:T,operationType:g})})()}static _forOperation(d,g,T){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const Y=ms(T);return new ii({user:d,providerId:Y,_tokenResponse:T,operationType:g})})()}}function ms(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function si(b){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,p.Z)(function*(b){var d;const g=dr(b);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new ii({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield Js(g,{returnSecureToken:!0}),Y=yield ii._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class ns extends E.ZR{constructor(d,g,T,Y){var oe;super(g.code,g.message),this.operationType=T,this.user=Y,Object.setPrototypeOf(this,ns.prototype),this.customData={appName:d.name,tenantId:null!==(oe=d.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,g,T,Y){return new ns(d,g,T,Y)}}function eo(b,d,g,T){return("reauthenticate"===d?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?ns._fromErrorAndOperation(b,oe,d,T):oe})}function pi(b){return new Set(b.map(({providerId:d})=>d).filter(d=>!!d))}function to(b,d){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b);yield no(!0,g,d);const{providerUserInfo:T}=yield function rr(b,d){return Sr.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),Y=pi(T||[]);return g.providerData=g.providerData.filter(oe=>Y.has(oe.providerId)),Y.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Lo.apply(this,arguments)}function gr(b,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(b,d,g=!1){const T=yield Cn(b,d._linkToIdToken(b.auth,yield b.getIdToken()),g);return ii._forOperation(b,"link",T)})).apply(this,arguments)}function no(b,d,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(b,d,g){yield Dr(d);const Y=!1===b?"provider-already-linked":"no-such-provider";ze(pi(d.providerData).has(g)===b,d.auth,Y)})).apply(this,arguments)}function Ia(b,d){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(b,d,g=!1){const{auth:T}=b,Y="reauthenticate";try{const oe=yield Cn(b,eo(T,Y,d,b),g);ze(oe.idToken,T,"internal-error");const We=li(oe.idToken);ze(We,T,"internal-error");const{sub:mt}=We;return ze(b.uid===mt,T,"user-mismatch"),ii._forOperation(b,Y,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&_e(T,"user-mismatch"),oe}})).apply(this,arguments)}function ro(b,d){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,p.Z)(function*(b,d,g=!1){const T="signIn",Y=yield eo(b,T,d),oe=yield ii._fromIdTokenResponse(b,T,Y);return g||(yield b._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Wn(b,d){return po.apply(this,arguments)}function po(){return(po=(0,p.Z)(function*(b,d){return ro(dr(b),d)})).apply(this,arguments)}function Ds(b,d){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b);return yield no(!1,g,d.providerId),gr(g,d)})).apply(this,arguments)}function rs(b,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(b,d){return Ia((0,E.m9)(b),d)})).apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(b,d){return An(b,"POST","/v1/accounts:signInWithCustomToken",Mt(b,d))})).apply(this,arguments)}function Ao(b,d){return R.apply(this,arguments)}function R(){return R=(0,p.Z)(function*(b,d){const g=dr(b),T=yield function To(b,d){return So.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),Y=yield ii._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(Y.user),Y}),R.apply(this,arguments)}class F{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?N._fromServerResponse(d,g):"totpInfo"in g?re._fromServerResponse(d,g):_e(d,"internal-error")}}class N extends F{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new N(g)}}class re extends F{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new re(g)}}function Je(b,d,g){var T;ze((null===(T=g.url)||void 0===T?void 0:T.length)>0,b,"invalid-continue-uri"),ze(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ze(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(ze(g.android.packageName.length>0,b,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function mn(b,d,g){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,p.Z)(function*(b,d,g){var T;const Y=dr(b),oe={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=Y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const We=yield Xr(Y,oe,"getOobCode",!0);g&&Je(Y,We,g),yield es(Y,We)}else g&&Je(Y,oe,g),yield es(Y,oe).catch(function(){var We=(0,p.Z)(function*(mt){if("auth/missing-recaptcha-token"!==mt.code)return Promise.reject(mt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const en=yield Xr(Y,oe,"getOobCode",!0);g&&Je(Y,en,g),yield es(Y,en)}});return function(mt){return We.apply(this,arguments)}}())}),Nr.apply(this,arguments)}function ni(b,d,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(b,d,g){yield bn((0,E.m9)(b),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Rs(b,d){return io.apply(this,arguments)}function io(){return io=(0,p.Z)(function*(b,d){yield function wi(b,d){return ci.apply(this,arguments)}((0,E.m9)(b),{oobCode:d})}),io.apply(this,arguments)}function Ri(b,d){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b),T=yield bn(g,{oobCode:d}),Y=T.requestType;switch(ze(Y,g,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ze(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ze(T.mfaInfo,g,"internal-error");default:ze(T.email,g,"internal-error")}let oe=null;return T.mfaInfo&&(oe=F._fromServerResponse(dr(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:oe},operation:Y}})).apply(this,arguments)}function Oi(b,d){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(b,d){const{data:g}=yield Ri((0,E.m9)(b),d);return g.email})).apply(this,arguments)}function go(b,d,g){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,p.Z)(function*(b,d,g){var T;const Y=dr(b),oe={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let We;if(null!==(T=Y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Sn=yield Xr(Y,oe,"signUpPassword");We=Js(Y,Sn)}else We=Js(Y,oe).catch(function(){var Sn=(0,p.Z)(function*(qn){if("auth/missing-recaptcha-token"===qn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Pr=yield Xr(Y,oe,"signUpPassword");return Js(Y,Pr)}return Promise.reject(qn)});return function(qn){return Sn.apply(this,arguments)}}());const mt=yield We.catch(Sn=>Promise.reject(Sn)),en=yield ii._fromIdTokenResponse(Y,"signIn",mt);return yield Y._updateCurrentUser(en.user),en}),Gs.apply(this,arguments)}function Os(b,d,g){return Wn((0,E.m9)(b),Zi.credential(d,g))}function Uo(b,d,g){return so.apply(this,arguments)}function so(){return so=(0,p.Z)(function*(b,d,g){var T;const Y=dr(b),oe={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function We(mt,en){ze(en.handleCodeInApp,Y,"argument-error"),en&&Je(Y,mt,en)}if(null!==(T=Y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const mt=yield Xr(Y,oe,"getOobCode",!0);We(mt,g),yield Mi(Y,mt)}else We(oe,g),yield Mi(Y,oe).catch(function(){var mt=(0,p.Z)(function*(en){if("auth/missing-recaptcha-token"!==en.code)return Promise.reject(en);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Sn=yield Xr(Y,oe,"getOobCode",!0);We(Sn,g),yield Mi(Y,Sn)}});return function(en){return mt.apply(this,arguments)}}())}),so.apply(this,arguments)}function ss(b,d){return"EMAIL_SIGNIN"===Bs.parseLink(d)?.operation}function Mo(b,d,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b),Y=Zi.credentialWithLink(d,g||Vt());return ze(Y._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Wn(T,Y)})).apply(this,arguments)}function Xo(){return(Xo=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:createAuthUri",Mt(b,d))})).apply(this,arguments)}function vs(b,d){return mo.apply(this,arguments)}function mo(){return mo=(0,p.Z)(function*(b,d){const T={identifier:d,continueUri:Wt()?Vt():"http://localhost"},{signinMethods:Y}=yield function Ws(b,d){return Xo.apply(this,arguments)}((0,E.m9)(b),T);return Y||[]}),mo.apply(this,arguments)}function Kr(b,d){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b),Y={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};d&&Je(g.auth,Y,d);const{email:oe}=yield function qi(b,d){return Vs.apply(this,arguments)}(g.auth,Y);oe!==b.email&&(yield b.reload())}),Jo.apply(this,arguments)}function ua(b,d,g){return _s.apply(this,arguments)}function _s(){return _s=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:d};g&&Je(T.auth,oe,g);const{email:We}=yield function xa(b,d){return Ei.apply(this,arguments)}(T.auth,oe);We!==b.email&&(yield b.reload())}),_s.apply(this,arguments)}function $o(){return($o=(0,p.Z)(function*(b,d){return gn(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ws(b,d){return yo.apply(this,arguments)}function yo(){return yo=(0,p.Z)(function*(b,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const T=(0,E.m9)(b),oe={idToken:yield T.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},We=yield Cn(T,function Bo(b,d){return $o.apply(this,arguments)}(T.auth,oe));T.displayName=We.displayName||null,T.photoURL=We.photoUrl||null;const mt=T.providerData.find(({providerId:en})=>"password"===en);mt&&(mt.displayName=T.displayName,mt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(We)}),yo.apply(this,arguments)}function ea(b,d){return oi((0,E.m9)(b),d,null)}function qr(b,d){return oi((0,E.m9)(b),null,d)}function oi(b,d,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,p.Z)(function*(b,d,g){const{auth:T}=b,oe={idToken:yield b.getIdToken(),returnSecureToken:!0};d&&(oe.email=d),g&&(oe.password=g);const We=yield Cn(b,Rn(T,oe));yield b._updateTokensIfNecessary(We,!0)})).apply(this,arguments)}class vo{constructor(d,g,T={}){this.isNewUser=d,this.providerId=g,this.profile=T}}class ta extends vo{constructor(d,g,T,Y){super(d,g,T),this.username=Y}}class ja extends vo{constructor(d,g){super(d,"facebook.com",g)}}class Ha extends ta{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Es extends vo{constructor(d,g){super(d,"google.com",g)}}class oo extends ta{constructor(d,g,T){super(d,"twitter.com",g,T)}}function ca(b){const{user:d,_tokenResponse:g}=b;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function la(b){var d,g;if(!b)return null;const{providerId:T}=b,Y=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},oe=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!T&&b?.idToken){const We=null===(g=null===(d=li(b.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(We)return new vo(oe,"anonymous"!==We&&"custom"!==We?We:null)}if(!T)return null;switch(T){case"facebook.com":return new ja(oe,Y);case"github.com":return new Ha(oe,Y);case"google.com":return new Es(oe,Y);case"twitter.com":return new oo(oe,Y,b.screenName||null);case"custom":case"anonymous":return new vo(oe,null);default:return new vo(oe,T,Y)}}(g)}class me{constructor(d,g,T){this.type=d,this.credential=g,this.auth=T}static _fromIdtoken(d,g){return new me("enroll",d,g)}static _fromMfaPendingCredential(d){return new me("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,T;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return me._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(T=d.multiFactorSession)&&void 0!==T&&T.idToken)return me._fromIdtoken(d.multiFactorSession.idToken)}return null}}class et{constructor(d,g,T){this.session=d,this.hints=g,this.signInResolver=T}static _fromError(d,g){const T=dr(d),Y=g.customData._serverResponse,oe=(Y.mfaInfo||[]).map(mt=>F._fromServerResponse(T,mt));ze(Y.mfaPendingCredential,T,"internal-error");const We=me._fromMfaPendingCredential(Y.mfaPendingCredential);return new et(We,oe,function(){var mt=(0,p.Z)(function*(en){const Sn=yield en._process(T,We);delete Y.mfaInfo,delete Y.mfaPendingCredential;const qn=Object.assign(Object.assign({},Y),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(g.operationType){case"signIn":const Pr=yield ii._fromIdTokenResponse(T,g.operationType,qn);return yield T._updateCurrentUser(Pr.user),Pr;case"reauthenticate":return ze(g.user,T,"internal-error"),ii._forOperation(g.user,g.operationType,qn);default:_e(T,"internal-error")}});return function(en){return mt.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function zt(b,d){var g;const T=(0,E.m9)(b),Y=d;return ze(d.customData.operationType,T,"argument-error"),ze(null===(g=Y.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),et._fromError(T,Y)}class _o{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>F._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new _o(d)}getSession(){var d=this;return(0,p.Z)(function*(){return me._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var T=this;return(0,p.Z)(function*(){const Y=d,oe=yield T.getSession(),We=yield Cn(T.user,Y._process(T.user.auth,oe,g));return yield T.user._updateTokensIfNecessary(We),T.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const T="string"==typeof d?d:d.uid,Y=yield g.user.getIdToken();try{const oe=yield Cn(g.user,function ai(b,d){return gn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(b,d))}(g.user.auth,{idToken:Y,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:We})=>We!==T),yield g.user._updateTokensIfNecessary(oe),yield g.user.reload()}catch(oe){throw oe}})()}}const Jt=new WeakMap;function Dn(b){const d=(0,E.m9)(b);return Jt.has(d)||Jt.set(d,_o._fromUser(d)),Jt.get(d)}const Ts="__sak";class Zt{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cu=(()=>{class b extends Zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pt(){const b=(0,E.z$)();return ne(b)||Me(b)}()&&function sr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const Y=this.storage.getItem(T),oe=this.localCache[T];Y!==oe&&g(T,oe,Y)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((mt,en,Sn)=>{this.notifyListeners(mt,Sn)});const Y=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const mt=this.storage.getItem(Y);if(g.newValue!==mt)null!==g.newValue?this.storage.setItem(Y,g.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===g.newValue&&!T)return}const oe=()=>{const mt=this.storage.getItem(Y);!T&&this.localCache[Y]===mt||this.notifyListeners(Y,mt)},We=this.storage.getItem(Y);!function qt(){return(0,E.w1)()&&10===document.documentMode}()||We===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,T){this.localCache[g]=T;const Y=this.listeners[g];if(Y)for(const oe of Array.from(Y))oe(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var Y=()=>super._set,oe=this;return(0,p.Z)(function*(){yield Y().call(oe,g,T),oe.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,Y=this;return(0,p.Z)(function*(){const oe=yield T().call(Y,g);return Y.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var T=()=>super._remove,Y=this;return(0,p.Z)(function*(){yield T().call(Y,g),delete Y.localCache[g]})()}}return b.type="LOCAL",b})(),jo=(()=>{class b extends Zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return b.type="SESSION",b})();let Uu=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(oe=>oe.isListeningto(g));if(T)return T;const Y=new b(g);return this.receivers.push(Y),Y}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,p.Z)(function*(){const Y=g,{eventId:oe,eventType:We,data:mt}=Y.data,en=T.handlersMap[We];if(!en?.size)return;Y.ports[0].postMessage({status:"ack",eventId:oe,eventType:We});const Sn=Array.from(en).map(function(){var Pr=(0,p.Z)(function*(ia){return ia(Y.origin,mt)});return function(ia){return Pr.apply(this,arguments)}}()),qn=yield function Zl(b){return Promise.all(b.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return d.apply(this,arguments)}}()))}(Sn);Y.ports[0].postMessage({status:"done",eventId:oe,eventType:We,response:qn})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ha(b="",d=10){let g="";for(let T=0;T<d;T++)g+=Math.floor(10*Math.random());return b+g}class gl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,T=50){var Y=this;return(0,p.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let We,mt;return new Promise((en,Sn)=>{const qn=ha("",20);oe.port1.start();const Pr=setTimeout(()=>{Sn(new Error("unsupported_event"))},T);mt={messageChannel:oe,onMessage(ia){const gu=ia;if(gu.data.eventId===qn)switch(gu.data.status){case"ack":clearTimeout(Pr),We=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),en(gu.data.response);break;default:clearTimeout(Pr),clearTimeout(We),Sn(new Error("invalid_response"))}}},Y.handlers.add(mt),oe.port1.addEventListener("message",mt.onMessage),Y.target.postMessage({eventType:d,eventId:qn,data:g},[oe.port2])}).finally(()=>{mt&&Y.removeMessageHandler(mt)})})()}}function Ui(){return window}function Du(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function Ca(){return(Ca=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _n="firebaseLocalStorageDb",Qi=1,Kn="firebaseLocalStorage",cu="fbase_key";class gi{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function hn(b,d){return b.transaction([Kn],d?"readwrite":"readonly").objectStore(Kn)}function Tu(){const b=indexedDB.open(_n,Qi);return new Promise((d,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const T=b.result;try{T.createObjectStore(Kn,{keyPath:cu})}catch(Y){g(Y)}}),b.addEventListener("success",(0,p.Z)(function*(){const T=b.result;T.objectStoreNames.contains(Kn)?d(T):(T.close(),yield function fa(){const b=indexedDB.deleteDatabase(_n);return new gi(b).toPromise()}(),d(yield Tu()))}))})}function Pa(b,d,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,p.Z)(function*(b,d,g){const T=hn(b,!0).put({[cu]:d,value:g});return new gi(T).toPromise()})).apply(this,arguments)}function Wa(){return(Wa=(0,p.Z)(function*(b,d){const g=hn(b,!1).get(d),T=yield new gi(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function os(b,d){const g=hn(b,!0).delete(d);return new gi(g).toPromise()}const eu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Tu()),g.db})()}_withRetries(g){var T=this;return(0,p.Z)(function*(){let Y=0;for(;;)try{const oe=yield T._openDb();return yield g(oe)}catch(oe){if(Y++>3)throw oe;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Du()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Uu._getInstance(function vi(){return Du()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,p.Z)(function*(Y,oe){return{keyProcessed:(yield g._poll()).includes(oe.key)}});return function(Y,oe){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,p.Z)(function*(Y,oe){return["keyChanged"]});return function(Y,oe){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var T,Y;if(g.activeServiceWorker=yield function or(){return Ca.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new gl(g.activeServiceWorker);const oe=yield g.sender._send("ping",{},800);oe&&null!==(T=oe[0])&&void 0!==T&&T.fulfilled&&null!==(Y=oe[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,p.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Bu(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Tu();return yield Pa(g,Ts,"1"),yield os(g,Ts),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,p.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var Y=this;return(0,p.Z)(function*(){return Y._withPendingWrite((0,p.Z)(function*(){return yield Y._withRetries(oe=>Pa(oe,g,T)),Y.localCache[g]=T,Y.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,p.Z)(function*(){const Y=yield T._withRetries(oe=>function Ja(b,d){return Wa.apply(this,arguments)}(oe,g));return T.localCache[g]=Y,Y})()}_remove(g){var T=this;return(0,p.Z)(function*(){return T._withPendingWrite((0,p.Z)(function*(){return yield T._withRetries(Y=>os(Y,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const T=yield g._withRetries(We=>{const mt=hn(We,!1).getAll();return new gi(mt).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const Y=[],oe=new Set;for(const{fbase_key:We,value:mt}of T)oe.add(We),JSON.stringify(g.localCache[We])!==JSON.stringify(mt)&&(g.notifyListeners(We,mt),Y.push(We));for(const We of Object.keys(g.localCache))g.localCache[We]&&!oe.has(We)&&(g.notifyListeners(We,null),Y.push(We));return Y})()}notifyListeners(g,T){this.localCache[g]=T;const Y=this.listeners[g];if(Y)for(const oe of Array.from(Y))oe(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Ra=1e12;class wo{constructor(d){this.auth=d,this.counter=Ra,this._widgets=new Map}render(d,g){const T=this.counter;return this._widgets.set(T,new tu(d,this.auth.name,g||{})),this.counter++,T}reset(d){var g;const T=d||Ra;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(d){var g;return(null===(g=this._widgets.get(d||Ra))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var T;return null===(T=g._widgets.get(d||Ra))||void 0===T||T.execute(),""})()}}class tu{constructor(d,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof d?document.getElementById(d):d;ze(Y,"argument-error",{appName:g}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oa(b){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<b;T++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ga=Qn("rcb"),Yl=new ft(3e4,6e4);class Da{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Ui().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return ze(function el(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&xe(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((T,Y)=>{const oe=Ui().setTimeout(()=>{Y(Re(d,"network-request-failed"))},Yl.get());Ui()[ga]=()=>{Ui().clearTimeout(oe),delete Ui()[ga];const mt=Ui().grecaptcha;if(!mt||!xe(mt))return void Y(Re(d,"internal-error"));const en=mt.render;mt.render=(Sn,qn)=>{const Pr=en(Sn,qn);return this.counter++,Pr},this.hostLanguage=g,T(mt)},Nn(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:ga,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(oe),Y(Re(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=Ui().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tl{load(d){return(0,p.Z)(function*(){return new wo(d)})()}clearedOneInstance(){}}const as="recaptcha",Gi={theme:"light",type:"image"};class Ta{constructor(d,g=Object.assign({},Gi),T){this.parameters=g,this.type=as,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(T),this.isInvisible="invisible"===this.parameters.size,ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof d?document.getElementById(d):d;ze(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tl:new Da,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(g)||new Promise(oe=>{const We=mt=>{mt&&(d.tokenChangeListeners.delete(We),oe(mt))};d.tokenChangeListeners.add(We),d.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ze(!this.parameters.sitekey,this.auth,"argument-error"),ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof d)d(g);else if("string"==typeof d){const T=Ui()[d];"function"==typeof T&&T(g)}}}assertNotDestroyed(){ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){ze(Wt()&&!Du(),d.auth,"internal-error"),yield function Na(){let b=null;return new Promise(d=>{"complete"!==document.readyState?(b=()=>d(),window.addEventListener("load",b)):d()}).catch(d=>{throw b&&window.removeEventListener("load",b),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function ct(b){return ce.apply(this,arguments)}(d.auth);ze(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ao{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=xi._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function Ni(b,d,g){return Su.apply(this,arguments)}function Su(){return(Su=(0,p.Z)(function*(b,d,g){const T=dr(b),Y=yield nu(T,d,(0,E.m9)(g));return new ao(Y,oe=>Wn(T,oe))})).apply(this,arguments)}function Za(b,d,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);yield no(!1,T,"phone");const Y=yield nu(T.auth,d,(0,E.m9)(g));return new ao(Y,oe=>Ds(T,oe))})).apply(this,arguments)}function Au(b,d,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b),Y=yield nu(T.auth,d,(0,E.m9)(g));return new ao(Y,oe=>rs(T,oe))})).apply(this,arguments)}function nu(b,d,g){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,p.Z)(function*(b,d,g){var T;const Y=yield g.verify();try{let oe;if(ze("string"==typeof Y,b,"argument-error"),ze(g.type===as,b,"argument-error"),oe="string"==typeof d?{phoneNumber:d}:d,"session"in oe){const We=oe.session;if("phoneNumber"in oe)return ze("enroll"===We.type,b,"internal-error"),(yield function er(b,d){return gn(b,"POST","/v2/accounts/mfaEnrollment:start",Mt(b,d))}(b,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ze("signin"===We.type,b,"internal-error");const mt=(null===(T=oe.multiFactorHint)||void 0===T?void 0:T.uid)||oe.multiFactorUid;return ze(mt,b,"missing-multi-factor-info"),(yield function na(b,d){return gn(b,"POST","/v2/accounts/mfaSignIn:start",Mt(b,d))}(b,{mfaPendingCredential:We.credential,mfaEnrollmentId:mt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function ps(b,d){return ji.apply(this,arguments)}(b,{phoneNumber:oe.phoneNumber,recaptchaToken:Y});return We}}finally{g._reset()}}),Mu.apply(this,arguments)}function xo(b,d){return ru.apply(this,arguments)}function ru(){return(ru=(0,p.Z)(function*(b,d){yield gr((0,E.m9)(b),d)})).apply(this,arguments)}let _=(()=>{class b{constructor(g){this.providerId=b.PROVIDER_ID,this.auth=dr(g)}verifyPhoneNumber(g,T){return nu(this.auth,g,(0,E.m9)(T))}static credential(g,T){return xi._fromVerification(g,T)}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:Y}=g;return T&&Y?xi._fromTokenResponse(T,Y):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function C(b,d){return d?be(d):(ze(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class m extends xt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return hs(d,this._buildIdpRequest())}_linkToIdToken(d,g){return hs(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return hs(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function x(b){return ro(b.auth,new m(b),b.bypassAuthState)}function B(b){const{auth:d,user:g}=b;return ze(g,d,"internal-error"),Ia(g,new m(b),b.bypassAuthState)}function J(b){return ue.apply(this,arguments)}function ue(){return(ue=(0,p.Z)(function*(b){const{auth:d,user:g}=b;return ze(g,d,"internal-error"),gr(g,new m(b),b.bypassAuthState)})).apply(this,arguments)}class Ke{constructor(d,g,T,Y,oe=!1){this.auth=d,this.resolver=T,this.user=Y,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(T,Y){d.pendingPromise={resolve:T,reject:Y};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(oe){d.reject(oe)}});return function(T,Y){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:T,sessionId:Y,postBody:oe,tenantId:We,error:mt,type:en}=d;if(mt)return void g.reject(mt);const Sn={auth:g.auth,requestUri:T,sessionId:Y,tenantId:We||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(en)(Sn))}catch(qn){g.reject(qn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return x;case"linkViaPopup":case"linkViaRedirect":return J;case"reauthViaPopup":case"reauthViaRedirect":return B;default:_e(this.auth,"internal-error")}}resolve(d){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nt=new ft(2e3,1e4);function sn(b,d,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(b,d,g){const T=dr(b);At(b,d,Is);const Y=C(T,g);return new ya(T,"signInViaPopup",d,Y).executeNotNull()})).apply(this,arguments)}function Zr(b,d,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,Is);const Y=C(T.auth,g);return new ya(T.auth,"reauthViaPopup",d,Y,T).executeNotNull()})).apply(this,arguments)}function Sa(b,d,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,Is);const Y=C(T.auth,g);return new ya(T.auth,"linkViaPopup",d,Y,T).executeNotNull()})).apply(this,arguments)}let ya=(()=>{class b extends Ke{constructor(g,T,Y,oe,We){super(g,T,oe,We),this.provider=Y,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const T=yield g.execute();return ze(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,p.Z)(function*(){pn(1===g.filter.length,"Popup operations only handle one event");const T=ha();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(Y=>{g.reject(Y)}),g.resolver._isIframeWebStorageSupported(g.auth,Y=>{Y||g.reject(Re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,Y;this.pollId=null!==(Y=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Nt.get())};g()}}return b.currentPopupAction=null,b})();const zo="pendingRedirect",Go=new Map;class Wi extends Ke{constructor(d,g,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let T=Go.get(g.auth._key());if(!T){try{const oe=(yield function nl(b,d){return ra.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;T=()=>Promise.resolve(oe)}catch(Y){T=()=>Promise.reject(Y)}Go.set(g.auth._key(),T)}return g.bypassAuthState||Go.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,T=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(T,d);if("unknown"!==d.type){if(d.eventId){const Y=yield T.auth._redirectUserForId(d.eventId);if(Y)return T.user=Y,g().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function ra(){return(ra=(0,p.Z)(function*(b,d){const g=yl(d),T=Bi(b);if(!(yield T._isAvailable()))return!1;const Y="true"===(yield T._get(g));return yield T._remove(g),Y})).apply(this,arguments)}function ml(b,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(b,d){return Bi(b)._set(yl(d),"true")})).apply(this,arguments)}function du(){Go.clear()}function lo(b,d){Go.set(b._key(),d)}function Bi(b){return be(b._redirectPersistence)}function yl(b){return vt(zo,b.config.apiKey,b.name)}function hu(b,d,g){return function Wo(b,d,g){return rl.apply(this,arguments)}(b,d,g)}function rl(){return(rl=(0,p.Z)(function*(b,d,g){const T=dr(b);At(b,d,Is),yield T._initializationPromise;const Y=C(T,g);return yield ml(Y,T),Y._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function wc(b,d,g){return function Ns(b,d,g){return xu.apply(this,arguments)}(b,d,g)}function xu(){return(xu=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,Is),yield T.auth._initializationPromise;const Y=C(T.auth,g);yield ml(Y,T.auth);const oe=yield ka(T);return Y._openRedirect(T.auth,d,"reauthViaRedirect",oe)})).apply(this,arguments)}function Qa(b,d,g){return function us(b,d,g){return Aa.apply(this,arguments)}(b,d,g)}function Aa(){return(Aa=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,Is),yield T.auth._initializationPromise;const Y=C(T.auth,g);yield no(!1,T,d.providerId),yield ml(Y,T.auth);const oe=yield ka(T);return Y._openRedirect(T.auth,d,"linkViaRedirect",oe)})).apply(this,arguments)}function vl(b,d){return iu.apply(this,arguments)}function iu(){return(iu=(0,p.Z)(function*(b,d){return yield dr(b)._initializationPromise,Pu(b,d,!1)})).apply(this,arguments)}function Pu(b,d){return il.apply(this,arguments)}function il(){return(il=(0,p.Z)(function*(b,d,g=!1){const T=dr(b),Y=C(T,d),We=yield new Wi(T,Y,g).execute();return We&&!g&&(delete We.user._redirectEventId,yield T._persistUserIfCurrent(We.user),yield T._setRedirectUser(null,d)),We})).apply(this,arguments)}function ka(b){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(b){const d=ha(`${b.uid}:::`);return b._redirectEventId=d,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),d})).apply(this,arguments)}class Fa{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(g=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function La(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return su(b);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var T;if(d.error&&!su(d)){const Y=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Re(this.auth,Y))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const T=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(d))}saveEventToCache(d){this.cachedEventUids.add(Po(d)),this.lastProcessedEventTime=Date.now()}}function Po(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(d=>d).join("-")}function su({type:b,error:d}){return"unknown"===b&&"auth/no-auth-event"===d?.code}function $(b){return y.apply(this,arguments)}function y(){return(y=(0,p.Z)(function*(b,d={}){return gn(b,"GET","/v1/projects",d)})).apply(this,arguments)}const w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V=/^https?/;function de(){return(de=(0,p.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:d}=yield $(b);for(const g of d)try{if(Oe(g))return}catch{}_e(b,"unauthorized-domain")})).apply(this,arguments)}function Oe(b){const d=Vt(),{protocol:g,hostname:T}=new URL(d);if(b.startsWith("chrome-extension://")){const We=new URL(b);return""===We.hostname&&""===T?"chrome-extension:"===g&&b.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&We.hostname===T}if(!V.test(g))return!1;if(w.test(b))return T===b;const Y=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(T)}const Fe=new ft(3e4,6e4);function ot(){const b=Ui().___jsl;if(b?.H)for(const d of Object.keys(b.H))if(b.H[d].r=b.H[d].r||[],b.H[d].L=b.H[d].L||[],b.H[d].r=[...b.H[d].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let un=null;const jr=new ft(5e3,15e3),vr="__/auth/iframe",tr="emulator/auth/iframe",Ir={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ci(b){const d=b.config;ze(d.authDomain,b,"auth-domain-config-required");const g=d.emulator?wt(d,tr):`https://${b.config.authDomain}/${vr}`,T={apiKey:d.apiKey,appName:b.name,v:G.SDK_VERSION},Y=wr.get(b.config.apiHost);Y&&(T.eid=Y);const oe=b._getFrameworks();return oe.length&&(T.fw=oe.join(",")),`${g}?${(0,E.xO)(T).slice(1)}`}function $i(){return $i=(0,p.Z)(function*(b){const d=yield function In(b){return un=un||function _t(b){return new Promise((d,g)=>{var T,Y,oe;function We(){ot(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ot(),g(Re(b,"network-request-failed"))},timeout:Fe.get()})}if(null!==(Y=null===(T=Ui().gapi)||void 0===T?void 0:T.iframes)&&void 0!==Y&&Y.Iframe)d(gapi.iframes.getContext());else{if(null===(oe=Ui().gapi)||void 0===oe||!oe.load){const mt=Qn("iframefcb");return Ui()[mt]=()=>{gapi.load?We():g(Re(b,"network-request-failed"))},Nn(`https://apis.google.com/js/api.js?onload=${mt}`).catch(en=>g(en))}We()}}).catch(d=>{throw un=null,d})}(b),un}(b),g=Ui().gapi;return ze(g,b,"internal-error"),d.open({where:document.body,url:Ci(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ir,dontclear:!0},T=>new Promise(function(){var Y=(0,p.Z)(function*(oe,We){yield T.restyle({setHideOnLeave:!1});const mt=Re(b,"network-request-failed"),en=Ui().setTimeout(()=>{We(mt)},jr.get());function Sn(){Ui().clearTimeout(en),oe(T)}T.ping(Sn).then(Sn,()=>{We(mt)})});return function(oe,We){return Y.apply(this,arguments)}}()))}),$i.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O=500,z=600,fe="_blank",Ve="http://localhost";class Ae{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qt="__/auth/handler",Mn="emulator/auth/handler",hr=encodeURIComponent("fac");function ar(b,d,g,T,Y,oe){return wn.apply(this,arguments)}function wn(){return(wn=(0,p.Z)(function*(b,d,g,T,Y,oe){ze(b.config.authDomain,b,"auth-domain-config-required"),ze(b.config.apiKey,b,"invalid-api-key");const We={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:T,v:G.SDK_VERSION,eventId:Y};if(d instanceof Is){d.setDefaultLanguage(b.languageCode),We.providerId=d.providerId||"",(0,E.xb)(d.getCustomParameters())||(We.customParameters=JSON.stringify(d.getCustomParameters()));for(const[qn,Pr]of Object.entries(oe||{}))We[qn]=Pr}if(d instanceof Pi){const qn=d.getScopes().filter(Pr=>""!==Pr);qn.length>0&&(We.scopes=qn.join(","))}b.tenantId&&(We.tid=b.tenantId);const mt=We;for(const qn of Object.keys(mt))void 0===mt[qn]&&delete mt[qn];const en=yield b._getAppCheckToken(),Sn=en?`#${hr}=${encodeURIComponent(en)}`:"";return`${function xn({config:b}){return b.emulator?wt(b,Mn):`https://${b.authDomain}/${Qt}`}(b)}?${(0,E.xO)(mt).slice(1)}${Sn}`})).apply(this,arguments)}const Yn="webStorageSupport",Ki=class ei{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jo,this._completeRedirectFn=Pu,this._overrideRedirectResult=lo}_openPopup(d,g,T,Y){var oe=this;return(0,p.Z)(function*(){var We;pn(null===(We=oe.eventManagers[d._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const mt=yield ar(d,g,T,Vt(),Y);return function Ye(b,d,g,T=O,Y=z){const oe=Math.max((window.screen.availHeight-Y)/2,0).toString(),We=Math.max((window.screen.availWidth-T)/2,0).toString();let mt="";const en=Object.assign(Object.assign({},D),{width:T.toString(),height:Y.toString(),top:oe,left:We}),Sn=(0,E.z$)().toLowerCase();g&&(mt=X(Sn)?fe:g),ee(Sn)&&(d=d||Ve,en.scrollbars="yes");const qn=Object.entries(en).reduce((ia,[gu,Ic])=>`${ia}${gu}=${Ic},`,"");if(function Ct(b=(0,E.z$)()){var d;return Me(b)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Sn)&&"_self"!==mt)return function ln(b,d){const g=document.createElement("a");g.href=b,g.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(d||"",mt),new Ae(null);const Pr=window.open(d||"",mt,qn);ze(Pr,b,"popup-blocked");try{Pr.focus()}catch{}return new Ae(Pr)}(d,mt,ha())})()}_openRedirect(d,g,T,Y){var oe=this;return(0,p.Z)(function*(){return yield oe._originValidation(d),function Xa(b){Ui().location.href=b}(yield ar(d,g,T,Vt(),Y)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:Y,promise:oe}=this.eventManagers[g];return Y?Promise.resolve(Y):(pn(oe,"If manager is not set, promise should be"),oe)}const T=this.initAndGetManager(d);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const T=yield function xr(b){return $i.apply(this,arguments)}(d),Y=new Fa(d);return T.register("authEvent",oe=>(ze(oe?.authEvent,d,"invalid-auth-event"),{status:Y.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:Y},g.iframes[d._key()]=T,Y})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Yn,{type:Yn},Y=>{var oe;const We=null===(oe=Y?.[0])||void 0===oe?void 0:oe[Yn];void 0!==We&&g(!!We),_e(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Q(b){return de.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return dn()||ne()||Me()}};class Xi{constructor(d){this.factorId=d}_process(d,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,T);case"signin":return this._finalizeSignIn(d,g.credential);default:return It("unexpected MultiFactorSessionType")}}}class ki extends Xi{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new ki(d)}_finalizeEnroll(d,g,T){return function yr(b,d){return gn(b,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(b,d))}(d,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function pa(b,d){return gn(b,"POST","/v2/accounts/mfaSignIn:finalize",Mt(b,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Va=(()=>{class b{constructor(){}static assertion(g){return ki._fromCredential(g)}}return b.FACTOR_ID="phone",b})();var Ma="@firebase/auth";class _a{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(T=>{d(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,E.Pz)("authIdTokenMaxAge"),function Ql(b){(0,G._registerComponent)(new Be.wA("auth",(d,{options:g})=>{const T=d.getProvider("app").getImmediate(),Y=d.getProvider("heartbeat"),oe=d.getProvider("app-check-internal"),{apiKey:We,authDomain:mt}=T.options;ze(We&&!We.includes(":"),"invalid-api-key",{appName:T.name}),ze(!mt?.includes(":"),"argument-error",{appName:T.name});const en={apiKey:We,authDomain:mt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(b)},Sn=new _r(T,Y,oe,en);return function Or(b,d){const g=d?.persistence||[],T=(Array.isArray(g)?g:[g]).map(be);d?.errorMap&&b._updateErrorMap(d.errorMap),b._initializeWithPersistence(T,d?.popupRedirectResolver)}(Sn,g),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,T)=>{d.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Be.wA("auth-internal",d=>{const g=dr(d.getProvider("auth").getImmediate());return new _a(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Ma,"0.23.1",function fu(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,G.registerVersion)(Ma,"0.23.1","esm2017")}("Browser")},2810:(cn,je,j)=>{"use strict";j.d(je,{u7:()=>yf,Jj:()=>hl,IX:()=>Pv,my:()=>Io,xU:()=>vc,Lz:()=>fl,WA:()=>Ut,F8:()=>Qd,$q:()=>Gl,W:()=>Wl,EK:()=>vi,PU:()=>fy,l7:()=>ka,Ky:()=>hn,Xb:()=>gi,Cf:()=>di,K9:()=>Ts,Me:()=>wc,yq:()=>ai,Wi:()=>Om,ET:()=>ly,Ab:()=>s_,vr:()=>gy,Fc:()=>Nv,hJ:()=>Zu,B$:()=>xv,at:()=>Xp,oe:()=>Zv,AK:()=>py,TF:()=>sf,JU:()=>km,ST:()=>Ov,fH:()=>Lm,Ix:()=>Bm,Wu:()=>mf,Lx:()=>gf,qY:()=>Zs,GL:()=>oh,QT:()=>Gv,kl:()=>sh,Xk:()=>Wv,PL:()=>Kv,UQ:()=>qv,zN:()=>oy,ad:()=>Rv,nP:()=>my,b9:()=>Er,vh:()=>$v,Pb:()=>$m,L$:()=>jm,cf:()=>Yv,sc:()=>Qv,Xo:()=>ty,IO:()=>Bv,iE:()=>au,Eo:()=>Yu,i3:()=>r_,Bt:()=>i_,pl:()=>ay,Ub:()=>yr,qK:()=>sy,TQ:()=>cd,e0:()=>jv,r7:()=>uy,Mx:()=>Um,ar:()=>ld});var we,p=j(5861),E=j(6881),G=j(4859),Te=j(1877),Ce=j(2090),Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke={},Qe=Qe||{},pe=Be||self;function De(){}function Ne(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function gt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kt="closure_uid_"+(1e9*Math.random()>>>0),Bt=0;function qe(r,e,t){return r.call.apply(r.bind,arguments)}function Et(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function rt(r,e,t){return(rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:Et).apply(null,arguments)}function Lt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function _e(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),S=2;S<arguments.length;S++)f[S-2]=arguments[S];return e.prototype[a].apply(s,f)}}function Re(){this.s=this.s,this.o=this.o}Re.prototype.s=!1,Re.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function yt(r){Object.prototype.hasOwnProperty.call(r,kt)&&r[kt]||(r[kt]=++Bt)}(this)},Re.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const At=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function ht(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function ze(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ne(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function It(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{pe.addEventListener("test",De,e),pe.removeEventListener("test",De,e)}catch{}return r}();function Vt(r){return/^[\s\xa0]*$/.test(r)}var Wt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Gt(r,e){return r<e?-1:r>e?1:0}function st(){var r=pe.navigator;return r&&(r=r.userAgent)?r:""}function at(r){return-1!=st().indexOf(r)}function ft(r){return ft[" "](r),r}function wt(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}ft[" "]=De;var tn,r,$t=at("Opera"),Pt=at("Trident")||at("MSIE"),jt=at("Edge"),Mt=jt||Pt,gn=at("Gecko")&&!(-1!=st().toLowerCase().indexOf("webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),vn=-1!=st().toLowerCase().indexOf("webkit")&&!at("Edge");function Tn(){var r=pe.document;return r?r.documentMode:void 0}e:{var An="",Fn=(r=st(),gn?/rv:([^\);]+)(\)|;)/.exec(r):jt?/Edge\/([\d\.]+)/.exec(r):Pt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):vn?/WebKit\/(\S+)/.exec(r):$t?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Fn&&(An=Fn?Fn[1]:""),Pt){var mr=Tn();if(null!=mr&&mr>parseFloat(An)){tn=String(mr);break e}}tn=An}var Tr={},rr=pe.document&&Pt&&(Tn()||parseInt(tn,10))||void 0;function Sr(r,e){if(It.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(gn){e:{try{ft(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:fr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Sr.$.h.call(this)}}_e(Sr,It);var fr={2:"touch",3:"pen",4:"mouse"};Sr.prototype.h=function(){Sr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),an=0;function Ln(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++an,this.fa=this.ia=!1}function zn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function ir(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Qr(r){const e={};for(const t in r)e[t]=r[t];return e}const li="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<li.length;c++)t=li[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Cn(r){this.src=r,this.g={},this.h=0}function Xt(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=At(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(zn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function St(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Cn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=St(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Ln(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var lr="closure_lm_"+(1e6*Math.random()|0),Cr={};function Dr(r,e,t,s,a){if(s&&s.once)return Ar(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Dr(r,e[c],t,s,a);return null}return t=pr(t),r&&r[Hn]?r.O(e,t,gt(s)?!!s.capture:!!s,a):ti(r,e,t,!1,s,a)}function ti(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=gt(a)?!!a.capture:!!a,S=Un(r);if(S||(r[lr]=S=new Cn(r)),(t=S.add(e,t,s,f,c)).proxy)return t;if(s=function zr(){const e=Vn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)pn||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent($n(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ar(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ar(r,e[c],t,s,a);return null}return t=pr(t),r&&r[Hn]?r.P(e,t,gt(s)?!!s.capture:!!s,a):ti(r,e,t,!0,s,a)}function Bn(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Bn(r,e[c],t,s,a);else s=gt(s)?!!s.capture:!!s,t=pr(t),r&&r[Hn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=St(c=r.g[e],t,s,a))&&(zn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Un(r))&&(e=r.g[e.toString()],r=-1,e&&(r=St(e,t,s,a)),(t=-1<r?e[r]:null)&&Gr(t))}function Gr(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hn])Xt(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent($n(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Un(e))?(Xt(t,r),0==t.h&&(t.src=null,e[lr]=null)):zn(r)}}}function $n(r){return r in Cr?Cr[r]:Cr[r]="on"+r}function Vn(r,e){if(r.fa)r=!0;else{e=new Sr(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Gr(r),r=t.call(s,e)}return r}function Un(r){return(r=r[lr])instanceof Cn?r:null}var cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function pr(r){return"function"==typeof r?r:(r[cr]||(r[cr]=function(e){return r.handleEvent(e)}),r[cr])}function nt(){Re.call(this),this.i=new Cn(this),this.S=this,this.J=null}function be(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new It(e,r);else if(e instanceof It)e.target=e.target||r;else{var a=e;Pn(e=new It(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Le(f,s,!0,e)&&a}if(a=Le(f=e.g=r,s,!0,e)&&a,a=Le(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Le(f=e.g=t[c],s,!1,e)&&a}function Le(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var S=f.listener,U=f.la||f.src;f.ia&&Xt(r.i,f),a=!1!==S.call(U,s)&&a}}return a&&!s.defaultPrevented}_e(nt,Re),nt.prototype[Hn]=!0,nt.prototype.removeEventListener=function(r,e,t,s){Bn(this,r,e,t,s)},nt.prototype.N=function(){if(nt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)zn(t[s]);delete r.g[e],r.h--}}this.J=null},nt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},nt.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Ot=pe.JSON.stringify;function vt(){var r=le;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Se,he=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ee,r=>r.reset());class ee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ne(r){pe.setTimeout(()=>{throw r},0)}function X(r,e){Se||function ye(){var r=pe.Promise.resolve(void 0);Se=function(){r.then(Me)}}(),ve||(Se(),ve=!0),le.add(r,e)}var ve=!1,le=new class ge{constructor(){this.h=this.g=null}add(e,t){const s=he.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Me(){for(var r;r=vt();){try{r.h.call(r.g)}catch(t){ne(t)}var e=he;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ve=!1}function Xe(r,e){nt.call(this),this.h=r||1,this.g=e||pe,this.j=rt(this.qb,this),this.l=Date.now()}function Ct(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function qt(r,e,t){if("function"==typeof r)t&&(r=rt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=rt(r.handleEvent,r)}return 2147483647<Number(e)?-1:pe.setTimeout(r,e||0)}function dn(r){r.g=qt(()=>{r.g=null,r.i&&(r.i=!1,dn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}_e(Xe,nt),(we=Xe.prototype).ga=!1,we.T=null,we.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),be(this,"tick"),this.ga&&(Ct(this),this.start()))}},we.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.N=function(){Xe.$.N.call(this),Ct(this),delete this.g};class sr extends Re{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dn(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(r){Re.call(this),this.h=r,this.g={}}_e(Ur,Re);var ct=[];function ce(r,e,t,s){Array.isArray(t)||(t&&(ct[0]=t.toString()),t=ct);for(var a=0;a<t.length;a++){var c=Dr(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function H(r){ir(r.g,function(e,t){this.g.hasOwnProperty(t)&&Gr(e)},r),r.g={}}function ae(){this.g=!0}function Tt(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Ot(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Ur.prototype.N=function(){Ur.$.N.call(this),H(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ae.prototype.Ea=function(){this.g=!1},ae.prototype.info=function(){};var Qn={},br=null;function ri(){return br=br||new nt}function Ji(r){It.call(this,Qn.Ta,r)}function Di(r){const e=ri();be(e,new Ji(e))}function Xr(r,e){It.call(this,Qn.STAT_EVENT,r),this.stat=e}function Ht(r){const e=ri();be(e,new Xr(e,r))}function kn(r,e){It.call(this,Qn.Ua,r),this.size=e}function _r(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){r()},e)}Qn.Ta="serverreachability",_e(Ji,It),Qn.STAT_EVENT="statevent",_e(Xr,It),Qn.Ua="timingevent",_e(kn,It);var dr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fr(){}function Xn(){}Fr.prototype.h=null;var Dt,He={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ue(){It.call(this,"d")}function $e(){It.call(this,"c")}function xt(){}function bn(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Ur(this),this.P=Rn,this.V=new Xe(r=Mt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}_e(Ue,It),_e($e,It),_e(xt,Fr),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},Dt=new xt;var Rn=45e3,nr={},wi={};function ci(r,e,t){r.L=1,r.v=ps(Jr(e)),r.s=t,r.S=!0,fi(r,null)}function fi(r,e){r.G=Date.now(),qi(r),r.A=Jr(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),fo(t.i,"t",s),r.C=0,t=r.l.I,r.h=new jn,r.g=Os(r.l,t?e:null,!r.s),0<r.O&&(r.M=new sr(rt(r.Pa,r,r.g),r.O)),ce(r.U,r.g,"readystatechange",r.nb),e=r.I?Qr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Di(),function xe(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",S=c.split("&"),U=0;U<S.length;U++){var q=S[U].split("=");if(1<q.length){var se=q[0];q=q[1];var Pe=se.split("_");f=2<=Pe.length&&"type"==Pe[1]?f+(se+"=")+q+"&":f+(se+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Li(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function $r(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=bs(r,t),a==wi){4==e&&(r.o=4,Ht(14),s=!1),Tt(r.j,r.m,null,"[Incomplete Response]");break}if(a==nr){r.o=4,Ht(15),Tt(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Tt(r.j,r.m,a,null),mi(r,a)}Li(r)&&a!=wi&&a!=nr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Ht(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Rs(e),e.L=!0,Ht(11))):(Tt(r.j,r.m,t,"[Invalid Chunked Response]"),Mi(r),ts(r))}function bs(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?wi:(t=Number(e.substring(t,s)),isNaN(t)?nr:(s+=1)+t>e.length?wi:(e=e.substr(s,t),r.C=s+t,e))}function qi(r){r.Y=Date.now()+r.P,Vs(r,r.P)}function Vs(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=_r(rt(r.lb,r),e)}function es(r){r.B&&(pe.clearTimeout(r.B),r.B=null)}function ts(r){0==r.l.H||r.J||is(r.l,r)}function Mi(r){es(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,Ct(r.V),H(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function mi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Fo(t.h,r)))if(!r.K&&Fo(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Ri(t),R(t)}ys(t),Ht(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=_r(rt(t.ib,t),6e3));if(1>=js(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Ti(t,11)}else if((r.K||t.g==r)&&Ri(t),!Vt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let q=a[e];if(t.V=q[0],q=q[1],2==t.H)if("c"==q[0]){t.J=q[1],t.oa=q[2];const se=q[3];null!=se&&(t.qa=se,t.j.info("VER="+t.qa));const Pe=q[4];null!=Pe&&(t.Ga=Pe,t.j.info("SVER="+t.Ga));const tt=q[5];null!=tt&&"number"==typeof tt&&0<tt&&(t.K=s=1.5*tt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Rt=r.g;if(Rt){const nn=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var c=s.h;c.g||-1==nn.indexOf("spdy")&&-1==nn.indexOf("quic")&&-1==nn.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Yi(c,c.h),c.h=null))}if(s.F){const En=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;En&&(s.Da=En,Mr(s.G,s.F,En))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Gs(s,s.I?s.oa:null,s.Y),f.K){Ms(s.h,f);var S=f,U=s.K;U&&S.setTimeout(U),S.B&&(es(S),qi(S)),s.g=f}else ni(s);0<t.i.length&&N(t)}else"stop"!=q[0]&&"close"!=q[0]||Ti(t,7);else 3==t.H&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?Ti(t,7):Ao(t):"noop"!=q[0]&&t.l&&t.l.Aa(q),t.A=0)}Di()}catch{}}function cs(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ne(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ei(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ne(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function xa(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ne(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(we=bn.prototype).setTimeout=function(r){this.P=r},we.nb=function(r){r=r.target;const e=this.M;e&&3==Ds(r)?e.l():this.Pa(r)},we.Pa=function(r){try{if(r==this.g)e:{const se=Ds(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||Mt||this.g&&(this.h.h||this.g.ja()||Vo(this.g)))){this.J||4!=se||7==e||Di(),es(this);var t=this.g.da();this.aa=t;t:if(Li(this)){var s=Vo(this.g);r="";var a=s.length,c=4==Ds(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),ts(this);var f="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ut(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,se,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vt(S)){var q=S;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,Ht(12),Mi(this),ts(this);break e}Tt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mi(this,t)}this.S?($r(this,se,f),Mt&&this.i&&3==se&&(ce(this.U,this.V,"tick",this.mb),this.V.start())):(Tt(this.j,this.m,f,null),mi(this,f)),4==se&&Mi(this),this.i&&!this.J&&(4==se?is(this.l,this):(this.i=!1,qi(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),Mi(this),ts(this)}}}catch{}},we.mb=function(){if(this.g){var r=Ds(this.g),e=this.g.ja();this.C<e.length&&(es(this),$r(this,r,e),this.i&&4!=r&&qi(this))}},we.cancel=function(){this.J=!0,Mi(this)},we.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function rn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Di(),Ht(17)),Mi(this),this.o=2,ts(this)):Vs(this,this.Y-r)};var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ds(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ds){this.h=void 0!==e?e:r.h,hs(this,r.j),this.s=r.s,this.g=r.g,fs(this,r.m),this.l=r.l,e=r.i;var t=new xi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),No(this,t),this.o=r.o}else r&&(t=String(r).match(ho))?(this.h=!!e,hs(this,t[1]||"",!0),this.s=ji(t[2]||""),this.g=ji(t[3]||"",!0),fs(this,t[4]),this.l=ji(t[5]||"",!0),No(this,t[6]||"",!0),this.o=ji(t[7]||"")):(this.h=!!e,this.i=new xi(null,this.h))}function Jr(r){return new ds(r)}function hs(r,e,t){r.j=t?ji(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function fs(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function No(r,e,t){e instanceof xi?(r.i=e,function Is(r,e){e&&!r.j&&(Hi(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Qo(this,s),fo(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Us(e,ko)),r.i=new xi(e,r.h))}function Mr(r,e,t){r.i.set(e,t)}function ps(r){return Mr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ji(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Us(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,aa),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function aa(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ds.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Us(e,Zo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Us(e,Zo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Us(t,"/"==t.charAt(0)?Do:Qs,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Us(t,Yo)),r.join("")};var Zo=/[#\/\?@]/g,Qs=/[#\?:]/g,Do=/[#\?]/g,ko=/[#\?@]/g,Yo=/#/g;function xi(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Hi(r){r.g||(r.g=new Map,r.h=0,r.i&&function Oo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Qo(r,e){Hi(r),e=Zi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Bs(r,e){return Hi(r),e=Zi(r,e),r.g.has(e)}function fo(r,e,t){Qo(r,e),0<t.length&&(r.i=null,r.g.set(Zi(r,e),ht(t)),r.h+=t.length)}function Zi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function gs(r){this.l=r||Xs,r=pe.PerformanceNavigationTiming?0<(r=pe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=xi.prototype).add=function(r,e){Hi(this),this.i=null,r=Zi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},we.forEach=function(r,e){Hi(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},we.sa=function(){Hi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},we.Z=function(r){Hi(this);let e=[];if("string"==typeof r)Bs(this,r)&&(e=e.concat(this.g.get(Zi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},we.set=function(r,e){return Hi(this),this.i=null,Bs(this,r=Zi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},we.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Xs=10;function $s(r){return!!r.h||!!r.g&&r.g.size>=r.j}function js(r){return r.h?1:r.g?r.g.size:0}function Fo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Yi(r,e){r.g?r.g.add(e):r.h=e}function Ms(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Hs(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return ht(r.i)}function xs(){}function Js(){this.g=new xs}function zs(r,e,t){const s=t||"";try{cs(r,function(a,c){let f=a;gt(a)&&(f=Ot(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ms(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function si(r){this.l=r.fc||null,this.j=r.ob||!1}function Wr(r,e){nt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ns,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gs.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},xs.prototype.stringify=function(r){return pe.JSON.stringify(r,void 0)},xs.prototype.parse=function(r){return pe.JSON.parse(r,void 0)},_e(si,Fr),si.prototype.g=function(){return new Wr(this.l,this.j)},si.prototype.i=function(r){return function(){return r}}({}),_e(Wr,nt);var ns=0;function eo(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function pi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,to(r)}function to(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(we=Wr.prototype).open=function(r,e){if(this.readyState!=ns)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,to(this)},we.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pi(this)),this.readyState=ns},we.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eo(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},we.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?pi(this):to(this),3==this.readyState&&eo(this)}},we.Za=function(r){this.g&&(this.response=this.responseText=r,pi(this))},we.Ya=function(r){this.g&&(this.response=r,pi(this))},we.ka=function(){this.g&&pi(this)},we.setRequestHeader=function(r,e){this.v.append(r,e)},we.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Lo=pe.JSON.parse;function gr(r){nt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bi,this.L=this.M=!1}_e(gr,nt);var bi="",no=/^https?$/i,yi=["POST","PUT"];function Vi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ro(r),Wn(r)}function ro(r){r.F||(r.F=!0,be(r,"complete"),be(r,"error"))}function Cs(r){if(r.h&&typeof Qe<"u"&&(!r.C[1]||4!=Ds(r)||2!=r.da()))if(r.v&&4==Ds(r))qt(r.La,0,r);else if(be(r,"readystatechange"),4==Ds(r)){r.h=!1;try{const S=r.da();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===S){var a=String(r.I).match(ho)[1]||null;if(!a&&pe.self&&pe.self.location){var c=pe.self.location.protocol;a=c.substr(0,c.length-1)}s=!no.test(a?a.toLowerCase():"")}t=s}if(t)be(r,"complete"),be(r,"success");else{r.m=6;try{var f=2<Ds(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",ro(r)}}finally{Wn(r)}}}function Wn(r,e){if(r.g){po(r);const t=r.g,s=r.C[0]?De:null;r.g=null,r.C=null,e||be(r,"ready");try{t.onreadystatechange=s}catch{}}}function po(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(pe.clearTimeout(r.A),r.A=null)}function Ds(r){return r.g?r.g.readyState:0}function Vo(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case bi:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(r){let e="";return ir(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Ps(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=rs(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Mr(r,e,t))}function To(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function So(r){this.Ga=0,this.i=[],this.j=new ae,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=To("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=To("baseRetryDelayMs",5e3,r),this.hb=To("retryDelaySeedMs",1e4,r),this.eb=To("forwardChannelMaxRetries",2,r),this.xa=To("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new gs(r&&r.concurrentRequestLimit),this.Ja=new Js,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Ao(r){if(F(r),3==r.H){var e=r.W++,t=Jr(r.G);Mr(t,"SID",r.J),Mr(t,"RID",e),Mr(t,"TYPE","terminate"),mn(r,t),(e=new bn(r,r.j,e,void 0)).L=2,e.v=ps(Jr(t)),t=!1,pe.navigator&&pe.navigator.sendBeacon&&(t=pe.navigator.sendBeacon(e.v.toString(),"")),!t&&pe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Os(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qi(e)}go(r)}function R(r){r.g&&(Rs(r),r.g.cancel(),r.g=null)}function F(r){R(r),r.u&&(pe.clearTimeout(r.u),r.u=null),Ri(r),r.h.cancel(),r.m&&("number"==typeof r.m&&pe.clearTimeout(r.m),r.m=null)}function N(r){$s(r.h)||r.m||(r.m=!0,X(r.Na,r),r.C=0)}function Je(r,e){var t;t=e?e.m:r.W++;const s=Jr(r.G);Mr(s,"SID",r.J),Mr(s,"RID",t),Mr(s,"AID",r.V),mn(r,s),r.o&&r.s&&Ps(s,r.o,r.s),t=new bn(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Nr(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Yi(r.h,t),ci(t,s,e)}function mn(r,e){r.ma&&ir(r.ma,function(t,s){Mr(e,s,t)}),r.l&&cs({},function(t,s){Mr(e,s,t)})}function Nr(r,e,t){t=Math.min(r.i.length,t);var s=r.l?rt(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let S=!0;for(let U=0;U<t;U++){let q=a[U].h;const se=a[U].g;if(q-=c,0>q)c=Math.max(0,a[U].h-100),S=!1;else try{zs(se,f,"req"+q+"_")}catch{s&&s(se)}}if(S){s=f.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function ni(r){r.g||r.u||(r.ba=1,X(r.Ma,r),r.A=0)}function ys(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=_r(rt(r.Ma,r),Oi(r,r.A)),r.A++,0))}function Rs(r){null!=r.B&&(pe.clearTimeout(r.B),r.B=null)}function io(r){r.g=new bn(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Jr(r.wa);Mr(e,"RID","rpc"),Mr(e,"SID",r.J),Mr(e,"CI",r.M?"0":"1"),Mr(e,"AID",r.V),Mr(e,"TYPE","xmlhttp"),mn(r,e),r.o&&r.s&&Ps(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=ps(Jr(e)),t.s=null,t.S=!0,fi(t,r)}function Ri(r){null!=r.v&&(pe.clearTimeout(r.v),r.v=null)}function is(r,e){var t=null;if(r.g==e){Ri(r),Rs(r),r.g=null;var s=2}else{if(!Fo(r.h,e))return;t=e.F,Ms(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;be(s=ri(),new kn(s,t)),N(r)}else ni(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function re(r,e){return!(js(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=_r(rt(r.Na,r,e),Oi(r,r.C)),r.C++,0)))}(r,e)||2==s&&ys(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Ti(r,5);break;case 4:Ti(r,10);break;case 3:Ti(r,6);break;default:Ti(r,2)}}function Oi(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Ti(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=rt(r.pb,r);t||(t=new ds("//www.google.com/images/cleardot.gif"),pe.location&&"http"==pe.location.protocol||hs(t,"https"),ps(t)),function ii(r,e){const t=new ae;if(pe.Image){const s=new Image;s.onload=Lt(ms,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Lt(ms,t,s,"TestLoadImage: error",!1,e),s.onabort=Lt(ms,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Lt(ms,t,s,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Ht(2);r.H=0,r.l&&r.l.za(e),go(r),F(r)}function go(r){if(r.H=0,r.pa=[],r.l){const e=Hs(r.h);(0!=e.length||0!=r.i.length)&&(ze(r.pa,e),ze(r.pa,r.i),r.h.i.length=0,ht(r.i),r.i.length=0),r.l.ya()}}function Gs(r,e,t){var s=t instanceof ds?Jr(t):new ds(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),fs(s,s.m);else{var a=pe.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ds(null,void 0);s&&hs(c,s),e&&(c.g=e),a&&fs(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Mr(s,t,e),Mr(s,"VER",r.qa),mn(r,s),s}function Os(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&r.Ha&&!r.va?new si({ob:!0}):r.va)).Oa(r.I),e}function Uo(){}function so(){if(Pt&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function ss(r,e){nt.call(this),this.g=new So(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Vt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ws(this)}function Mo(r){Ue.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ii(){$e.call(this),this.status=1}function Ws(r){this.g=r}function vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mo(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Kr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(we=gr.prototype).Oa=function(r){this.M=r},we.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dt.g(),this.C=function Or(r){return r.h||(r.h=r.i())}(this.u?this.u:Dt),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Vi(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=pe.FormData&&r instanceof pe.FormData,!(0<=At(yi,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{po(this),0<this.B&&((this.L=function Ia(r){return Pt&&function ur(){return wt(Tr,9,function(){let r=0;const e=Wt(String(tn)).split("."),t=Wt("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==r&&f<s;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=Gt(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Gt(0==a[2].length,0==c[2].length)||Gt(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=qt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Vi(this,c)}},we.ua=function(){typeof Qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,be(this,"timeout"),this.abort(8))},we.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,be(this,"complete"),be(this,"abort"),Wn(this))},we.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wn(this,!0)),gr.$.N.call(this)},we.La=function(){this.s||(this.G||this.v||this.l?Cs(this):this.kb())},we.kb=function(){Cs(this)},we.da=function(){try{return 2<Ds(this)?this.g.status:-1}catch{return-1}},we.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},we.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Lo(e)}},we.Ia=function(){return this.m},we.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=So.prototype).qa=8,we.H=1,we.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new bn(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=Qr(c),Pn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Nr(this,a,e),Mr(t=Jr(this.G),"RID",r),Mr(t,"CVER",22),this.F&&Mr(t,"X-HTTP-Session-Id",this.F),mn(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(rs(c)))+"&"+e:this.o&&Ps(t,this.o,c)),Yi(this.h,a),this.bb&&Mr(t,"TYPE","init"),this.P?(Mr(t,"$req",e),Mr(t,"SID","null"),a.ba=!0,ci(a,t,null)):ci(a,t,e),this.H=2}}else 3==this.H&&(r?Je(this,r):0==this.i.length||$s(this.h)||Je(this))},we.Ma=function(){if(this.u=null,io(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=_r(rt(this.jb,this),r)}},we.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ht(10),R(this),io(this))},we.ib=function(){null!=this.v&&(this.v=null,R(this),ys(this),Ht(19))},we.pb=function(r){r?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))},(we=Uo.prototype).Ba=function(){},we.Aa=function(){},we.za=function(){},we.ya=function(){},we.Va=function(){},so.prototype.g=function(r,e){return new ss(r,e)},_e(ss,nt),ss.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;Ht(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=Gs(r,null,r.Y),N(r)},ss.prototype.close=function(){Ao(this.g)},ss.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Ot(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&N(e)},ss.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,ss.$.N.call(this)},_e(Mo,Ue),_e(Ii,$e),_e(Ws,Uo),Ws.prototype.Ba=function(){be(this.g,"a")},Ws.prototype.Aa=function(r){be(this.g,new Mo(r))},Ws.prototype.za=function(r){be(this.g,new Ii)},Ws.prototype.ya=function(){be(this.g,"b")},_e(vs,function Xo(){this.blockSize=-1}),vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)mo(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){mo(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){mo(this,s),a=0;break}}this.h=a,this.i+=e},vs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Jo={};function ua(r){return-128<=r&&128>r?wt(Jo,r,function(e){return new Kr([0|e],0>e?-1:0)}):new Kr([0|r],0>r?-1:0)}function _s(r){if(isNaN(r)||!isFinite(r))return ws;if(0>r)return Jn(_s(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=$o;return new Kr(e,0)}var $o=4294967296,ws=ua(0),yo=ua(1),ea=ua(16777216);function qr(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function oi(r){return-1==r.h}function Jn(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Kr(t,~r.h).add(yo)}function la(r,e){return r.add(Jn(e))}function vo(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ta(r,e){this.g=r,this.h=e}function ja(r,e){if(qr(e))throw Error("division by zero");if(qr(r))return new ta(ws,ws);if(oi(r))return e=ja(Jn(r),e),new ta(Jn(e.g),Jn(e.h));if(oi(e))return e=ja(r,Jn(e)),new ta(Jn(e.g),e.h);if(30<r.g.length){if(oi(r)||oi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=yo,s=e;0>=s.X(r);)t=Ha(t),s=Ha(s);var a=Es(t,1),c=Es(s,1);for(s=Es(s,2),t=Es(t,2);!qr(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=Es(s,1),t=Es(t,1)}return e=la(r,a.R(e)),new ta(a,e)}for(a=ws;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=_s(t)).R(e);oi(f)||0<f.X(r);)f=(c=_s(t-=s)).R(e);qr(c)&&(c=yo),a=a.add(c),r=la(r,f)}return new ta(a,r)}function Ha(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Kr(t,r.h)}function Es(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Kr(a,r.h)}(we=Kr.prototype).ea=function(){if(oi(this))return-Jn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:$o+s)*e,e*=$o}return r},we.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(qr(this))return"0";if(oi(this))return"-"+Jn(this).toString(r);for(var e=_s(Math.pow(r,6)),t=this,s="";;){var a=ja(t,e).g,c=((0<(t=la(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(qr(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},we.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},we.X=function(r){return oi(r=la(this,r))?-1:qr(r)?0:1},we.abs=function(){return oi(this)?Jn(this):this},we.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Kr(t,-2147483648&t[t.length-1]?-1:0)},we.R=function(r){if(qr(this)||qr(r))return ws;if(oi(this))return oi(r)?Jn(this).R(Jn(r)):Jn(Jn(this).R(r));if(oi(r))return Jn(this.R(Jn(r)));if(0>this.X(ea)&&0>r.X(ea))return _s(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),S=r.D(a)>>>16,U=65535&r.D(a);t[2*s+2*a]+=f*U,vo(t,2*s+2*a),t[2*s+2*a+1]+=c*U,vo(t,2*s+2*a+1),t[2*s+2*a+1]+=f*S,vo(t,2*s+2*a+1),t[2*s+2*a+2]+=c*S,vo(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Kr(t,0)},we.gb=function(r){return ja(this,r).h},we.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Kr(t,this.h&r.h)},we.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Kr(t,this.h|r.h)},we.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Kr(t,this.h^r.h)},so.prototype.createWebChannel=so.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,hi.COMPLETE="complete",Xn.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",nt.prototype.listen=nt.prototype.O,gr.prototype.listenOnce=gr.prototype.P,gr.prototype.getLastError=gr.prototype.Sa,gr.prototype.getLastErrorCode=gr.prototype.Ia,gr.prototype.getStatus=gr.prototype.da,gr.prototype.getResponseJson=gr.prototype.Wa,gr.prototype.getResponseText=gr.prototype.ja,gr.prototype.send=gr.prototype.ha,gr.prototype.setWithCredentials=gr.prototype.Oa,vs.prototype.digest=vs.prototype.l,vs.prototype.reset=vs.prototype.reset,vs.prototype.update=vs.prototype.j,Kr.prototype.add=Kr.prototype.add,Kr.prototype.multiply=Kr.prototype.R,Kr.prototype.modulo=Kr.prototype.gb,Kr.prototype.compare=Kr.prototype.X,Kr.prototype.toNumber=Kr.prototype.ea,Kr.prototype.toString=Kr.prototype.toString,Kr.prototype.getBits=Kr.prototype.D,Kr.fromNumber=_s,Kr.fromString=function Bo(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Jn(Bo(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=_s(Math.pow(e,8)),s=ws,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=_s(Math.pow(e,c)),s=s.R(c).add(_s(f))):s=(s=s.R(t)).add(_s(f))}return s};var oo=ke.createWebChannelTransport=function(){return new so},ca=ke.getStatEventTarget=function(){return ri()},da=ke.ErrorCode=dr,P=ke.EventType=hi,W=ke.Event=Qn,L=ke.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},te=ke.FetchXmlHttpFactory=si,Ie=ke.WebChannel=Xn,dt=ke.XhrIo=gr,I=ke.Md5=vs,M=ke.Integer=Kr;const Z="@firebase/firestore";class me{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}me.UNAUTHENTICATED=new me(null),me.GOOGLE_CREDENTIALS=new me("google-credentials-uid"),me.FIRST_PARTY=new me("first-party-uid"),me.MOCK_USER=new me("mock-user");let et="9.21.0";const zt=new Te.Yd("@firebase/firestore");function er(){return zt.logLevel}function yr(r){zt.setLogLevel(r)}function bt(r,...e){if(zt.logLevel<=Te.in.DEBUG){const t=e.map(_o);zt.debug(`Firestore (${et}): ${r}`,...t)}}function kr(r,...e){if(zt.logLevel<=Te.in.ERROR){const t=e.map(_o);zt.error(`Firestore (${et}): ${r}`,...t)}}function ai(r,...e){if(zt.logLevel<=Te.in.WARN){const t=e.map(_o);zt.warn(`Firestore (${et}): ${r}`,...t)}}function _o(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Jt(r="Unexpected state"){const e=`FIRESTORE (${et}) INTERNAL ASSERTION FAILED: `+r;throw kr(e),new Error(e)}function Dn(r,e){r||Jt()}function Ts(r,e){r||Jt()}function Zt(r,e){return r}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends Ce.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class za{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(me.UNAUTHENTICATED))}shutdown(){}}class Vu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jo{constructor(e){this.t=e,this.currentUser=me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=q=>this.i!==a?(a=this.i,t(q)):Promise.resolve();let f=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new zi,e.enqueueRetryable(()=>c(this.currentUser))};const S=()=>{const q=f;e.enqueueRetryable((0,p.Z)(function*(){yield q.promise,yield c(s.currentUser)}))},U=q=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(q=>U(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?U(q):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new zi)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dn("string"==typeof s.accessToken),new za(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dn(null===e||"string"==typeof e),new me(e)}}class Zl{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=me.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Uu{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Zl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(me.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ha{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,bt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dn("string"==typeof t.token),this.T=t.token,new ha(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xa(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Du{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Xa(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function or(r,e){return r<e?-1:r>e?1:0}function Ca(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Bu(r){return r+"\0"}class vi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vi.fromMillis(Date.now())}static fromDate(e){return vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?or(this.nanoseconds,e.nanoseconds):or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new vi(0,0))}static max(){return new _n(new vi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qi{constructor(e,t,s){void 0===t?t=0:t>e.length&&Jt(),void 0===s?s=e.length-t:s>e.length-t&&Jt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Qi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kn extends Qi{construct(e,t,s){return new Kn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ut(pt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Kn(t)}static emptyPath(){return new Kn([])}}const cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Qi{construct(e,t,s){return new gi(e,t,s)}static isValidIdentifier(e){return cu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Ut(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new Ut(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[a+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Ut(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,a+=2}else"`"===S?(f=!f,a++):"."!==S||f?(s+=S,a++):(c(),a++)}if(c(),f)throw new Ut(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class hn{constructor(e){this.path=e}static fromPath(e){return new hn(Kn.fromString(e))}static fromName(e){return new hn(Kn.fromString(e).popFirst(5))}static empty(){return new hn(Kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hn(new Kn(e.slice()))}}class fa{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Tu(r){return r.fields.find(e=>2===e.kind)}function Pa(r){return r.fields.filter(e=>2!==e.kind)}fa.UNKNOWN_ID=-1;class Ja{constructor(e,t){this.fieldPath=e,this.kind=t}}class os{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new os(0,Ks.min())}}function Ka(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=_n.fromTimestamp(1e9===s?new vi(t+1,0):new vi(t,s));return new Ks(a,hn.empty(),e)}function Ho(r){return new Ks(r.readTime,r.key,-1)}class Ks{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ks(_n.min(),hn.empty(),-1)}static max(){return new Ks(_n.max(),hn.empty(),-1)}}function eu(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=hn.comparator(r.documentKey,e.documentKey),0!==t?t:or(r.largestBatchId,e.largestBatchId))}const na="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qa(r){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,p.Z)(function*(r){if(r.code!==pt.FAILED_PRECONDITION||r.message!==na)throw r;bt("LocalStore","Unexpectedly lost primary lease")}),Ju.apply(this,arguments)}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ze((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ze?t:Ze.resolve(t)}catch(t){return Ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.reject(t)}static resolve(e){return new Ze((t,s)=>{t(e)})}static reject(e){return new Ze((t,s)=>{s(e)})}static waitFor(e){return new Ze((t,s)=>{let a=0,c=0,f=!1;e.forEach(S=>{++a,S.next(()=>{++c,f&&c===a&&t()},U=>s(U))}),f=!0,c===a&&t()})}static or(e){let t=Ze.resolve(!1);for(const s of e)t=t.next(a=>a?Ze.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ze((s,a)=>{const c=e.length,f=new Array(c);let S=0;for(let U=0;U<c;U++){const q=U;t(e[q]).next(se=>{f[q]=se,++S,S===c&&s(f)},se=>a(se))}})}static doWhile(e,t){return new Ze((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Ra{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new zi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Oa(e,t.error)):this.R.resolve()},this.transaction.onerror=s=>{const a=el(s.target.error);this.R.reject(new Oa(e,a))}}static open(e,t,s,a){try{return new Ra(t,e.transaction(a,s))}catch(c){throw new Oa(t,c)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(bt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Yl(t)}}class wo{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===wo.S((0,Ce.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return bt("SimpleDb","Removing database:",e),ma(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ce.hl)())return!1;if(wo.C())return!0;const e=(0,Ce.z$)(),t=wo.S(e),s=0<t&&t<10,a=wo.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var t=this;return(0,p.Z)(function*(){return t.db||(bt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{a(new Oa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const S=f.target.error;a("VersionError"===S.name?new Ut(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Ut(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Oa(e,S))},c.onupgradeneeded=f=>{bt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.$(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{bt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,p.Z)(function*(){const f="readonly"===t;let S=0;for(;;){++S;try{c.db=yield c.O(e);const U=Ra.open(c.db,e,f?"readonly":"readwrite",s),q=a(U).next(se=>(U.P(),se)).catch(se=>(U.abort(se),Ze.reject(se))).toPromise();return q.catch(()=>{}),yield U.v,q}catch(U){const q=U,se="FirebaseError"!==q.name&&S<3;if(bt("SimpleDb","Transaction failed with error:",q.message,"Retrying:",se),c.close(),!se)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ma(this.L.delete())}}class Oa extends Ut{constructor(e,t){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ga(r){return"IndexedDbTransactionError"===r.name}class Yl{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(bt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(bt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ma(s)}add(e){return bt("SimpleDb","ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next(t=>(void 0===t&&(t=null),bt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return bt("SimpleDb","DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return bt("SimpleDb","COUNT",this.store.name),ma(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(f,S)=>{c.push(S)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Ze((c,f)=>{a.onerror=S=>{f(S.target.error)},a.onsuccess=S=>{c(S.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Ze((a,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{a(f.target.result)}})}J(e,t){bt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,f,S)=>S.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Ze((s,a)=>{t.onerror=c=>{const f=el(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(S=>{S?f.continue():s()}):s()}})}W(e,t){const s=[];return new Ze((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const S=f.target.result;if(!S)return void a();const U=new tu(S),q=t(S.primaryKey,S.value,U);if(q instanceof Ze){const se=q.catch(Pe=>(U.done(),Ze.reject(Pe)));s.push(se)}U.isDone?a():null===U.K?S.continue():S.continue(U.K)}}).next(()=>Ze.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ma(r){return new Ze((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=el(s.target.error);t(a)}})}let Da=!1;function el(r){const e=wo.S((0,Ce.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Da||(Da=!0,setTimeout(()=>{throw s},0)),s}}return r}class tl{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;bt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{bt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){ga(s)?bt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield qa(s)}yield t.et(6e4)}))}}class as{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Ze.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return bt("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(S=>{a-=S,s.add(f)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,c)).next(S=>(bt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>f.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const f=Ho(c);eu(f,s)>0&&(s=f)}),new Ks(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Gi=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Ta(r){return null==r}function Na(r){return 0===r&&1/r==-1/0}function ao(r){return"number"==typeof r&&Number.isInteger(r)&&!Na(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ni(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Za(e)),e=Su(r.get(t),e);return Za(e)}function Su(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Za(r){return r+"\x01\x01"}function qs(r){const e=r.length;if(Dn(e>=2),2===e)return Dn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Kn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const f=r.indexOf("\x01",c);switch((f<0||f>t)&&Jt(),r.charAt(f+1)){case"\x01":const S=r.substring(c,f);let U;0===a.length?U=S:(a+=S,U=a,a=""),s.push(U);break;case"\x10":a+=r.substring(c,f),a+="\0";break;case"\x11":a+=r.substring(c,f+1);break;default:Jt()}c=f+2}return new Kn(s)}const Au=["userId","batchId"];function Ya(r,e){return[r,Ni(e)]}function nu(r,e,t){return[r,Ni(e),t]}const Mu={},xo=["prefixPath","collectionGroup","readTime","documentId"],ru=["prefixPath","collectionGroup","documentId"],_=["collectionGroup","readTime","prefixPath","documentId"],C=["canonicalId","targetId"],m=["targetId","path"],x=["path","targetId"],B=["collectionId","parent"],J=["indexId","uid"],ue=["uid","sequenceNumber"],Ke=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nt=["indexId","uid","orderedDocumentKey"],sn=["userId","collectionPath","documentId"],yn=["userId","collectionPath","largestBatchId"],Zr=["userId","collectionGroup","largestBatchId"],Si=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sa=[...Si,"documentOverlays"],uo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ya=uo,zo=[...ya,"indexConfiguration","indexState","indexEntries"];class Go extends pa{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Wi(r,e){const t=Zt(r);return wo.M(t.at,e)}function nl(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ra(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ml(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ui{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new ui(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??lo.RED,this.left=a??lo.EMPTY,this.right=c??lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new lo(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return lo.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const e=this.left.check();if(e!==this.right.check())throw Jt();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new lo(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bi{constructor(e){this.comparator=e,this.data=new ui(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yl(this.data.getIterator())}getIteratorFrom(e){return new yl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bi(this.comparator);return t.data=e,t}}class yl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hu(r){return r.hasNext()?r.getNext():void 0}class Wo{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new Wo([])}unionWith(e){let t=new Bi(gi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class rl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function wc(){return typeof atob<"u"}class Ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new rl("Invalid base64 string: "+a):a}}(e);return new Ns(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ns.EMPTY_BYTE_STRING=new Ns("");const xu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(r){if(Dn(!!r),"string"==typeof r){let e=0;const t=xu.exec(r);if(Dn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:us(r.seconds),nanos:us(r.nanos)}}function us(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Aa(r){return"string"==typeof r?Ns.fromBase64String(r):Ns.fromUint8Array(r)}function vl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function iu(r){const e=r.mapValue.fields.__previous_value__;return vl(e)?iu(e):e}function Pu(r){const e=Qa(r.mapValue.fields.__local_write_time__.timestampValue);return new vi(e.seconds,e.nanos)}class il{constructor(e,t,s,a,c,f,S,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=S,this.useFetchStreams=U}}class ka{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}const va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$u={nullValue:"NULL_VALUE"};function Fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vl(r)?4:In(r)?9007199254740991:10:Jt()}function Po(r,e){if(r===e)return!0;const t=Fa(r);if(t!==Fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pu(r).isEqual(Pu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Qa(s.timestampValue),f=Qa(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Aa(r.bytesValue).isEqual(Aa(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return us(s.geoPointValue.latitude)===us(a.geoPointValue.latitude)&&us(s.geoPointValue.longitude)===us(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return us(s.integerValue)===us(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=us(s.doubleValue),f=us(a.doubleValue);return c===f?Na(c)===Na(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return Ca(r.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(nl(c)!==nl(f))return!1;for(const S in c)if(c.hasOwnProperty(S)&&(void 0===f[S]||!Po(c[S],f[S])))return!1;return!0}(r,e);default:return Jt()}var a}function su(r,e){return void 0!==(r.values||[]).find(t=>Po(t,e))}function La(r,e){if(r===e)return 0;const t=Fa(r),s=Fa(e);if(t!==s)return or(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return or(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=us(a.integerValue||a.doubleValue),S=us(c.integerValue||c.doubleValue);return f<S?-1:f>S?1:f===S?0:isNaN(f)?isNaN(S)?0:-1:1}(r,e);case 3:return $(r.timestampValue,e.timestampValue);case 4:return $(Pu(r),Pu(e));case 5:return or(r.stringValue,e.stringValue);case 6:return function(a,c){const f=Aa(a),S=Aa(c);return f.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),S=c.split("/");for(let U=0;U<f.length&&U<S.length;U++){const q=or(f[U],S[U]);if(0!==q)return q}return or(f.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=or(us(a.latitude),us(c.latitude));return 0!==f?f:or(us(a.longitude),us(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],S=c.values||[];for(let U=0;U<f.length&&U<S.length;++U){const q=La(f[U],S[U]);if(q)return q}return or(f.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===va.mapValue&&c===va.mapValue)return 0;if(a===va.mapValue)return 1;if(c===va.mapValue)return-1;const f=a.fields||{},S=Object.keys(f),U=c.fields||{},q=Object.keys(U);S.sort(),q.sort();for(let se=0;se<S.length&&se<q.length;++se){const Pe=or(S[se],q[se]);if(0!==Pe)return Pe;const tt=La(f[S[se]],U[q[se]]);if(0!==tt)return tt}return or(S.length,q.length)}(r.mapValue,e.mapValue);default:throw Jt()}}function $(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return or(r,e);const t=Qa(r),s=Qa(e),a=or(t.seconds,s.seconds);return 0!==a?a:or(t.nanos,s.nanos)}function y(r){return w(r)}function w(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Qa(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Aa(r.bytesValue).toBase64():"referenceValue"in r?hn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=w(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const S of a)f?f=!1:c+=",",c+=`${S}:${w(s.fields[S])}`;return c+"}"}(r.mapValue):Jt();var e}function Q(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function de(r){return!!r&&"integerValue"in r}function Oe(r){return!!r&&"arrayValue"in r}function Fe(r){return!!r&&"nullValue"in r}function ot(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _t(r){return!!r&&"mapValue"in r}function un(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ra(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=un(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=un(r.arrayValue.values[t]);return e}return Object.assign({},r)}function In(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function jr(r){return"nullValue"in r?$u:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Q(ka.empty(),hn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Jt()}function vr(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Q(ka.empty(),hn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?va:Jt()}function tr(r,e){const t=La(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ir(r,e){const t=La(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!_t(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=un(t)}setAll(e){let t=gi.emptyPath(),s={},a=[];e.forEach((f,S)=>{if(!t.isImmediateParentOf(S)){const U=this.getFieldsMap(t);this.applyChanges(U,s,a),s={},a=[],t=S.popLast()}f?s[S.lastSegment()]=un(f):a.push(S.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());_t(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];_t(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ra(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new wr(un(this.value))}}function Ci(r){const e=[];return ra(r.fields,(t,s)=>{const a=new gi([t]);if(_t(s)){const c=Ci(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Wo(e)}class xr{constructor(e,t,s,a,c,f,S){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=S}static newInvalidDocument(e){return new xr(e,0,_n.min(),_n.min(),_n.min(),wr.empty(),0)}static newFoundDocument(e,t,s,a){return new xr(e,1,t,_n.min(),s,a,0)}static newNoDocument(e,t){return new xr(e,2,t,_n.min(),_n.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new xr(e,3,t,_n.min(),_n.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_n.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $i{constructor(e,t){this.position=e,this.inclusive=t}}function D(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?hn.comparator(hn.fromName(f.referenceValue),t.key):La(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function O(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Po(r.position[t],e.position[t]))return!1;return!0}class z{constructor(e,t="asc"){this.field=e,this.dir=t}}function fe(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Ve{}class Ae extends Ve{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ei(e,t,s):"array-contains"===t?new Va(e,s):"in"===t?new Fi(e,s):"not-in"===t?new _l(e,s):"array-contains-any"===t?new Ec(e,s):new Ae(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ki(e,s):new Xi(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(La(t,this.value)):null!==t&&Fa(this.value)===Fa(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ye extends Ve{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ye(e,t)}matches(e){return ln(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ln(r){return"and"===r.op}function Qt(r){return"or"===r.op}function Mn(r){return hr(r)&&ln(r)}function hr(r){for(const e of r.filters)if(e instanceof Ye)return!1;return!0}function ar(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+y(r.value);if(Mn(r))return r.filters.map(e=>ar(e)).join(",");{const e=r.filters.map(t=>ar(t)).join(",");return`${r.op}(${e})`}}function wn(r,e){return r instanceof Ae?(t=r,(s=e)instanceof Ae&&t.op===s.op&&t.field.isEqual(s.field)&&Po(t.value,s.value)):r instanceof Ye?function(t,s){return s instanceof Ye&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&wn(c,s.filters[f]),!0)}(r,e):void Jt();var t,s}function xn(r,e){const t=r.filters.concat(e);return Ye.create(t,r.op)}function Yn(r){return r instanceof Ae?`${(e=r).field.canonicalString()} ${e.op} ${y(e.value)}`:r instanceof Ye?function(e){return e.op.toString()+" {"+e.getFilters().map(Yn).join(" ,")+"}"}(r):"Filter";var e}class ei extends Ae{constructor(e,t,s){super(e,t,s),this.key=hn.fromName(s.referenceValue)}matches(e){const t=hn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ki extends Ae{constructor(e,t){super(e,"in",t),this.keys=ki(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xi extends Ae{constructor(e,t){super(e,"not-in",t),this.keys=ki(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ki(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>hn.fromName(s.referenceValue))}class Va extends Ae{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oe(t)&&su(t.arrayValue,this.value)}}class Fi extends Ae{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&su(this.value.arrayValue,t)}}class _l extends Ae{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!su(this.value.arrayValue,t)}}class Ec extends Ae{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}class Ss{constructor(e,t=null,s=[],a=[],c=null,f=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=S,this.ft=null}}function Ma(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Ss(r,e,t,s,a,c,f)}function ks(r){const e=Zt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ar(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Ta(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>y(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>y(s)).join(",")),e.ft=t}return e.ft}function _a(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fe(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!wn(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!O(r.startAt,e.startAt)&&O(r.endAt,e.endAt)}function fu(r){return hn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Ql(r,e){return r.filters.filter(t=>t instanceof Ae&&t.field.isEqual(e))}function lh(r,e,t){let s=$u,a=!0;for(const c of Ql(r,e)){let f=$u,S=!0;switch(c.op){case"<":case"<=":f=jr(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,S=!1;break;case"!=":case"not-in":f=$u}tr({value:s,inclusive:a},{value:f,inclusive:S})<0&&(s=f,a=S)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];tr({value:s,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}function bc(r,e,t){let s=va,a=!0;for(const c of Ql(r,e)){let f=va,S=!0;switch(c.op){case">=":case">":f=vr(c.value),S=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,S=!1;break;case"!=":case"not-in":f=va}Ir({value:s,inclusive:a},{value:f,inclusive:S})>0&&(s=f,a=S)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];Ir({value:s,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}class pu{constructor(e,t=null,s=[],a=[],c=null,f="F",S=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=S,this.endAt=U,this.dt=null,this._t=null}}function ch(r,e,t,s,a,c,f,S){return new pu(r,e,t,s,a,c,f,S)}function Xl(r){return new pu(r)}function b(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function d(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function g(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function T(r){return null!==r.collectionGroup}function Y(r){const e=Zt(r);if(null===e.dt){e.dt=[];const t=g(e),s=d(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new z(t)),e.dt.push(new z(gi.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new z(gi.keyField(),c))}}}return e.dt}function oe(r){const e=Zt(r);if(!e._t)if("F"===e.limitType)e._t=Ma(e.path,e.collectionGroup,Y(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Y(e))t.push(new z(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new $i(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new $i(e.startAt.position,e.startAt.inclusive):null;e._t=Ma(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function We(r,e){e.getFirstInequalityField(),g(r);const t=r.filters.concat([e]);return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function mt(r,e,t){return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function en(r,e){return _a(oe(r),oe(e))&&r.limitType===e.limitType}function Sn(r){return`${ks(oe(r))}|lt:${r.limitType}`}function qn(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Yn(s)).join(", ")}]`),Ta(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>y(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>y(s)).join(",")),`Target(${t})`}(oe(r))}; limitType=${r.limitType})`}function Pr(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):hn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Y(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const S=D(a,c,f);return a.inclusive?S<=0:S<0}(t.startAt,Y(t),s)||t.endAt&&!function(a,c,f){const S=D(a,c,f);return a.inclusive?S>=0:S>0}(t.endAt,Y(t),s)));var t,s}function ia(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gu(r){return(e,t)=>{let s=!1;for(const a of Y(r)){const c=Ic(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Ic(r,e,t){const s=r.field.isKeyField()?hn.comparator(e.key,t.key):function(a,c,f){const S=c.data.field(a),U=f.data.field(a);return null!==S&&null!==U?La(S,U):Jt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Jt()}}class Ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ml(this.inner)}size(){return this.innerSize}}const wl=new ui(hn.comparator);function wa(){return wl}const Cc=new ui(hn.comparator);function ju(...r){let e=Cc;for(const t of r)e=e.insert(t.key,t);return e}function Dc(r){let e=Cc;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ua(){return Ou()}function Jl(){return Ou()}function Ou(){return new Ru(r=>r.toString(),(r,e)=>r.isEqual(e))}const Tc=new ui(hn.comparator),Sc=new Bi(hn.comparator);function Lr(...r){let e=Sc;for(const t of r)e=e.add(t);return e}const Cf=new Bi(or);function hd(){return Cf}function Ac(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Na(e)?"-0":e}}function hg(r){return{integerValue:""+r}}function Df(r,e){return ao(e)?hg(e):Ac(r,e)}class dh{constructor(){this._=void 0}}function My(r,e,t){return r instanceof ec?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&vl(a)&&(a=iu(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Hu?hh(r,e):r instanceof mu?fg(r,e):function(s,a){const c=Tf(s,a),f=Py(c)+Py(s.wt);return de(c)&&de(s.wt)?hg(f):Ac(s.serializer,f)}(r,e)}function xy(r,e,t){return r instanceof Hu?hh(r,e):r instanceof mu?fg(r,e):t}function Tf(r,e){return r instanceof Mc?de(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class ec extends dh{}class Hu extends dh{constructor(e){super(),this.elements=e}}function hh(r,e){const t=pg(e);for(const s of r.elements)t.some(a=>Po(a,s))||t.push(s);return{arrayValue:{values:t}}}class mu extends dh{constructor(e){super(),this.elements=e}}function fg(r,e){let t=pg(e);for(const s of r.elements)t=t.filter(a=>!Po(a,s));return{arrayValue:{values:t}}}class Mc extends dh{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Py(r){return us(r.integerValue||r.doubleValue)}function pg(r){return Oe(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class tc{constructor(e,t){this.field=e,this.transform=t}}class gg{constructor(e,t){this.version=e,this.transformResults=t}}class ls{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class fd{}function Sf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Nc(r.key,ls.none()):new Rc(r.key,r.data,ls.none());{const t=r.data,s=wr.empty();let a=new Bi(gi.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new sl(r.key,s,new Wo(a.toArray()),ls.none())}}function mg(r,e,t){r instanceof Rc?function(s,a,c){const f=s.value.clone(),S=ol(s.fieldTransforms,a,c.transformResults);f.setAll(S),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof sl?function(s,a,c){if(!xc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=ol(s.fieldTransforms,a,c.transformResults),S=a.data;S.setAll(vg(s)),S.setAll(f),a.convertToFoundDocument(c.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pc(r,e,t,s){return r instanceof Rc?function(a,c,f,S){if(!xc(a.precondition,c))return f;const U=a.value.clone(),q=Oc(a.fieldTransforms,S,c);return U.setAll(q),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null}(r,e,t,s):r instanceof sl?function(a,c,f,S){if(!xc(a.precondition,c))return f;const U=Oc(a.fieldTransforms,S,c),q=c.data;return q.setAll(vg(a)),q.setAll(U),c.convertToFoundDocument(c.version,q).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(se=>se.field))}(r,e,t,s):(f=t,xc(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function Oy(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Tf(s.transform,a||null);null!=c&&(null===t&&(t=wr.empty()),t.set(s.field,c))}return t||null}function yg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Ca(t,s,(a,c)=>function Ry(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Hu&&s instanceof Hu||t instanceof mu&&s instanceof mu?Ca(t.elements,s.elements,Po):t instanceof Mc&&s instanceof Mc?Po(t.wt,s.wt):t instanceof ec&&s instanceof ec);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Rc extends fd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sl extends fd{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function ol(r,e,t){const s=new Map;Dn(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,S=e.data.field(c.field);s.set(c.field,xy(f,S,t[a]))}return s}function Oc(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,My(c,f,e))}return s}class Nc extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _g extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wg{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&mg(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Pc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Pc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Jl();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let S=this.applyToLocalView(f,c.mutatedFields);S=t.has(a.key)?null:S;const U=Sf(f,S);null!==U&&s.set(a.key,U),f.isValidDocument()||f.convertToNoDocument(_n.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lr())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(t,s)=>yg(t,s))&&Ca(this.baseMutations,e.baseMutations,(t,s)=>yg(t,s))}}class Eg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Dn(e.mutations.length===s.length);let a=Tc;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Eg(e,t,s,a)}}class bg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ig{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ro,_i;function Cg(r){switch(r){default:return Jt();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Dg(r){if(void 0===r)return kr("GRPC error has no .code"),pt.UNKNOWN;switch(r){case Ro.OK:return pt.OK;case Ro.CANCELLED:return pt.CANCELLED;case Ro.UNKNOWN:return pt.UNKNOWN;case Ro.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Ro.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Ro.INTERNAL:return pt.INTERNAL;case Ro.UNAVAILABLE:return pt.UNAVAILABLE;case Ro.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Ro.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Ro.NOT_FOUND:return pt.NOT_FOUND;case Ro.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Ro.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Ro.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Ro.ABORTED:return pt.ABORTED;case Ro.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Ro.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Ro.DATA_LOSS:return pt.DATA_LOSS;default:return Jt()}}(_i=Ro||(Ro={}))[_i.OK=0]="OK",_i[_i.CANCELLED=1]="CANCELLED",_i[_i.UNKNOWN=2]="UNKNOWN",_i[_i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_i[_i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_i[_i.NOT_FOUND=5]="NOT_FOUND",_i[_i.ALREADY_EXISTS=6]="ALREADY_EXISTS",_i[_i.PERMISSION_DENIED=7]="PERMISSION_DENIED",_i[_i.UNAUTHENTICATED=16]="UNAUTHENTICATED",_i[_i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_i[_i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_i[_i.ABORTED=10]="ABORTED",_i[_i.OUT_OF_RANGE=11]="OUT_OF_RANGE",_i[_i.UNIMPLEMENTED=12]="UNIMPLEMENTED",_i[_i.INTERNAL=13]="INTERNAL",_i[_i.UNAVAILABLE=14]="UNAVAILABLE",_i[_i.DATA_LOSS=15]="DATA_LOSS";class pd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yu}static getOrCreateInstance(){return null===yu&&(yu=new pd),yu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let yu=null;function kc(){return new TextEncoder}const Tg=new M([4294967295,4294967295],0);function Af(r){const e=kc().encode(r),t=new I;return t.update(e),new Uint8Array(t.digest())}function Mf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new M([t,s],0),new M([a,c],0)]}class Sg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new fh(`Invalid padding: ${t}`);if(s<0)throw new fh(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new fh(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new fh(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=M.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(M.fromNumber(s)));return 1===a.compare(Tg)&&(a=new M([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=Af(e),[s,a]=Mf(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);if(!this.Et(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Sg(c,a,t);return s.forEach(S=>f.insert(S)),f}insert(e){if(0===this.yt)return;const t=Af(e),[s,a]=Mf(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ph(_n.min(),a,new ui(or),wa(),Lr())}}class nc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new nc(s,t,Lr(),Lr(),Lr())}}class Fc{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class Ny{constructor(e,t){this.targetId=e,this.bt=t}}class ky{constructor(e,t,s=Ns.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class xf{constructor(){this.Vt=0,this.St=Mg(),this.Dt=Ns.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Lr(),t=Lr(),s=Lr();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Jt()}}),new nc(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Mg()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Fy{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=wa(),this.jt=Ag(),this.zt=new ui(or)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:Jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const f=c.target;if(fu(f))if(0===a){const S=new hn(f.path);this.Jt(s,S,xr.newNoDocument(S,_n.min()))}else Dn(1===a);else{const S=this.se(s);if(S!==a){const U=this.ie(e,S);0!==U&&(this.te(s),this.zt=this.zt.insert(s,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=pd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(q,se,Pe){var tt,Rt,nn,En,Gn,Br;const Ai={localCacheCount:se,existenceFilterCount:Pe.count},Yr=Pe.unchangedNames;return Yr&&(Ai.bloomFilter={applied:0===q,hashCount:null!==(tt=Yr?.hashCount)&&void 0!==tt?tt:0,bitmapLength:null!==(En=null===(nn=null===(Rt=Yr?.bits)||void 0===Rt?void 0:Rt.bitmap)||void 0===nn?void 0:nn.length)&&void 0!==En?En:0,padding:null!==(Br=null===(Gn=Yr?.bits)||void 0===Gn?void 0:Gn.padding)&&void 0!==Br?Br:0}),Ai}(U,S,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:S=0}=s;let U,q;try{U=Aa(c).toUint8Array()}catch(se){if(se instanceof rl)return ai("Decoding the base64 bloom filter in existence filter failed ("+se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw se}try{q=new Sg(U,f,S)}catch(se){return ai(se instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",se),1}return 0===q.yt?1:a!==t-this.re(e.targetId,q)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Kt.oe(),S=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.At(S)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,f)=>{const S=this.ne(f);if(S){if(c.current&&fu(S.target)){const U=new hn(S.target.path);null!==this.Qt.get(U)||this.ce(f,U)||this.Jt(f,U,xr.newNoDocument(U,e))}c.kt&&(t.set(f,c.Ot()),c.$t())}});let s=Lr();this.jt.forEach((c,f)=>{let S=!0;f.forEachWhile(U=>{const q=this.ne(U);return!q||"TargetPurposeLimboResolution"===q.purpose||(S=!1,!1)}),S&&(s=s.add(c))}),this.Qt.forEach((c,f)=>f.setReadTime(e));const a=new ph(e,t,this.zt,this.Qt,s);return this.Qt=wa(),this.jt=Ag(),this.zt=new ui(or),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new xf,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Bi(or),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||bt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new xf),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Ag(){return new ui(hn.comparator)}function Mg(){return new ui(hn.comparator)}const Ly={asc:"ASCENDING",desc:"DESCENDING"},xg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gh={and:"AND",or:"OR"};class Vy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gd(r,e){return r.useProto3Json||Ta(e)?e:{value:e}}function Lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eo(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Uy(r,e){return Lc(r,e.toTimestamp())}function bo(r){return Dn(!!r),_n.fromTimestamp(function(e){const t=Qa(e);return new vi(t.seconds,t.nanos)}(r))}function md(r,e){return(t=r,new Kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Pf(r){const e=Kn.fromString(r);return Dn(vh(e)),e}function yd(r,e){return md(r.databaseId,e.path)}function zu(r,e){const t=Pf(e);if(t.get(1)!==r.databaseId.projectId)throw new Ut(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ut(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new hn(By(t))}function Rf(r,e){return md(r.databaseId,e)}function Pg(r){const e=Pf(r);return 4===e.length?Kn.emptyPath():By(e)}function Vc(r){return new Kn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function By(r){return Dn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function $y(r,e,t){return{name:yd(r,e),fields:t.value.mapValue.fields}}function Uc(r,e,t){const s=zu(r,e.name),a=bo(e.updateTime),c=e.createTime?bo(e.createTime):_n.min(),f=new wr({mapValue:{fields:e.fields}}),S=xr.newFoundDocument(s,a,c,f);return t&&S.setHasCommittedMutations(),t?S.setHasCommittedMutations():S}function Bc(r,e){let t;if(e instanceof Rc)t={update:$y(r,e.key,e.value)};else if(e instanceof Nc)t={delete:yd(r,e.key)};else if(e instanceof sl)t={update:$y(r,e.key,e.data),updateMask:Gy(e.fieldMask)};else{if(!(e instanceof _g))return Jt();t={verify:yd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof ec)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Mc)return{fieldPath:c.field.canonicalString(),increment:f.wt};throw Jt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Uy(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Jt()),t;var a}function mh(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ls.updateTime(bo(a.updateTime)):void 0!==a.exists?ls.exists(a.exists):ls.none():ls.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let S=null;"setToServerValue"in f?(Dn("REQUEST_TIME"===f.setToServerValue),S=new ec):"appendMissingElements"in f?S=new Hu(f.appendMissingElements.values||[]):"removeAllFromArray"in f?S=new mu(f.removeAllFromArray.values||[]):"increment"in f?S=new Mc(c,f.increment):Jt();const U=gi.fromServerFormat(f.fieldPath);return new tc(U,S)}(r,a)):[];var a;if(e.update){const a=zu(r,e.update.name),c=new wr({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Wo((e.updateMask.fieldPaths||[]).map(q=>gi.fromServerFormat(q)));return new sl(a,c,f,t,s)}return new Rc(a,c,t,s)}if(e.delete){const a=zu(r,e.delete);return new Nc(a,t)}if(e.verify){const a=zu(r,e.verify);return new _g(a,t)}return Jt()}function Og(r,e){return{documents:[Rf(r,e.path)]}}function yh(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Rf(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rf(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(U){if(0!==U.length)return El(Ye.create(U,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(U){if(0!==U.length)return U.map(q=>{return{field:al((se=q).field),direction:Ff(se.dir)};var se})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=gd(r,e.limit);var S,U;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function Nf(r){let e=Pg(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Dn(1===s);const se=t.from[0];se.allDescendants?a=se.collectionId:e=e.child(se.collectionId)}let c=[];t.where&&(c=function(se){const Pe=Hy(se);return Pe instanceof Ye&&Mn(Pe)?Pe.getFilters():[Pe]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(se=>{return new z(rc((Pe=se).field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Pe.direction));var Pe}));let S=null;t.limit&&(S=function(se){let Pe;return Pe="object"==typeof se?se.value:se,Ta(Pe)?null:Pe}(t.limit));let U=null;var se;t.startAt&&(U=new $i((se=t.startAt).values||[],!!se.before));let q=null;return t.endAt&&(q=function(se){return new $i(se.values||[],!se.before)}(t.endAt)),ch(e,a,f,c,S,"F",U,q)}function Hy(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=rc(e.unaryFilter.field);return Ae.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=rc(e.unaryFilter.field);return Ae.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rc(e.unaryFilter.field);return Ae.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rc(e.unaryFilter.field);return Ae.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}(r):void 0!==r.fieldFilter?Ae.create(rc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ye.create(e.compositeFilter.filters.map(t=>Hy(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Jt()}}(e.compositeFilter.op))}(r):Jt();var e}function Ff(r){return Ly[r]}function zy(r){return xg[r]}function Lf(r){return gh[r]}function al(r){return{fieldPath:r.canonicalString()}}function rc(r){return gi.fromServerFormat(r.fieldPath)}function El(r){return r instanceof Ae?function(e){if("=="===e.op){if(ot(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NAN"}};if(Fe(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ot(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NAN"}};if(Fe(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(e.field),op:zy(e.op),value:e.value}}}(r):r instanceof Ye?function(e){const t=e.getFilters().map(s=>El(s));return 1===t.length?t[0]:{compositeFilter:{op:Lf(e.op),filters:t}}}(r):Jt()}function Gy(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vh(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class vu{constructor(e,t,s,a,c=_n.min(),f=_n.min(),S=Ns.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=S,this.expectedCount=U}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ng{constructor(e){this.le=e}}function vd(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:yd(a=r.le,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Lc(a,c.version.toTimestamp()),createTime:Lc(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:bl(e.version)};else{if(!e.isUnknownDocument())return Jt();s.unknownDocument={path:t.path.toArray(),version:bl(e.version)}}var a,c;return s}function Gu(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ul(r){const e=new vi(r.seconds,r.nanoseconds);return _n.fromTimestamp(e)}function ic(r,e){const t=(e.baseMutations||[]).map(c=>mh(r.le,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>mh(r.le,c)),a=vi.fromMillis(e.localWriteTimeMs);return new wg(e.batchId,a,t,s)}function _d(r){const e=ul(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?ul(r.lastLimboFreeSnapshotVersion):_n.min();let s;var a;return void 0!==r.query.documents?(Dn(1===(a=r.query).documents.length),s=oe(Xl(Pg(a.documents[0])))):s=oe(Nf(r.query)),new vu(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Ns.fromBase64String(r.resumeToken))}function Uf(r,e){const t=bl(e.snapshotVersion),s=bl(e.lastLimboFreeSnapshotVersion);let a;a=fu(e.target)?Og(r.le,e.target):yh(r.le,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ks(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Il(r){const e=Nf({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?mt(e,e.limit,"L"):e}function Bf(r,e){return new bg(e.largestBatchId,mh(r.le,e.overlayMutation))}function kg(r,e){const t=e.path.lastSegment();return[r,Ni(e.path.popLast()),t]}function Fg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:bl(s.readTime),documentKey:Ni(s.documentKey.path),largestBatchId:s.largestBatchId}}class $f{getBundleMetadata(e,t){return Lg(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:ul(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Lg(e).put({bundleId:(s=t).id,createTime:bl(bo(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return jf(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Il(a.bundledQuery),readTime:ul(a.readTime)};var a})}saveNamedQuery(e,t){return jf(e).put({name:(s=t).name,readTime:bl(bo(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Lg(r){return Wi(r,"bundles")}function jf(r){return Wi(r,"namedQueries")}class _h{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new _h(e,t.uid||"")}getOverlay(e,t){return $c(e).get(kg(this.userId,t)).next(s=>s?Bf(this.serializer,s):null)}getOverlays(e,t){const s=Ua();return Ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,f)=>{const S=new bg(t,f);a.push(this.de(e,S))}),Ze.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(f=>a.add(Ni(f.getCollectionPath())));const c=[];return a.forEach(f=>{const S=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push($c(e).J("collectionPathOverlayIndex",S))}),Ze.waitFor(c)}getOverlaysForCollection(e,t,s){const a=Ua(),c=Ni(t),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return $c(e).j("collectionPathOverlayIndex",f).next(S=>{for(const U of S){const q=Bf(this.serializer,U);a.set(q.getKey(),q)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=Ua();let f;const S=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $c(e).X({index:"collectionGroupOverlayIndex",range:S},(U,q,se)=>{const Pe=Bf(this.serializer,q);c.size()<a||Pe.largestBatchId===f?(c.set(Pe.getKey(),Pe),f=Pe.largestBatchId):se.done()}).next(()=>c)}de(e,t){return $c(e).put(function(s,a,c){const[f,S,U]=kg(a,c.mutation.key);return{userId:a,collectionPath:S,documentId:U,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Bc(s.le,c.mutation)}}(this.serializer,this.userId,t))}}function $c(r){return Wi(r,"documentOverlays")}class jc{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(us(e.integerValue));else if("doubleValue"in e){const s=us(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),Na(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Aa(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?In(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Jt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),hn.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Wy(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Hc(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Wy(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}jc.be=new jc;class Ky{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Se(s.value),s=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.xe(s.value),s=t.next();this.Ne()}ke(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Se(s);else if(s<2048)this.Se(960|s>>>6),this.Se(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Se(480|s>>>12),this.Se(128|63&s>>>6),this.Se(128|63&s);else{const a=t.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}this.De()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.xe(s);else if(s<2048)this.xe(960|s>>>6),this.xe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.xe(480|s>>>12),this.xe(128|63&s>>>6),this.xe(128|63&s);else{const a=t.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}this.Ne()}Oe(e){const t=this.$e(e),s=Hc(t);this.Fe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Be(e){const t=this.$e(e),s=Hc(t);this.Fe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class zc{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class wd{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class Ed{constructor(){this.Qe=new Ky,this.je=new zc(this.Qe),this.ze=new wd(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Cl{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Cl(this.indexId,this.documentKey,this.arrayValue,s)}}function Dl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Vg(r.arrayValue,e.arrayValue),0!==t?t:(t=Vg(r.directionalValue,e.directionalValue),0!==t?t:hn.comparator(r.documentKey,e.documentKey)))}function Vg(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class qy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const s=t;s.isInequality()?this.Xe=s:this.Ye.push(s)}}Ze(e){Dn(e.collectionGroup===this.collectionId);const t=Tu(e);if(void 0!==t&&!this.tn(t))return!1;const s=Pa(e);let a=0,c=0;for(;a<s.length&&this.tn(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Xe){const f=s[a];if(!this.en(this.Xe,f)||!this.nn(this.Je[c++],f))return!1;++a}for(;a<s.length;++a)if(c>=this.Je.length||!this.nn(this.Je[c++],s[a]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Hf(r){var e,t;if(Dn(r instanceof Ae||r instanceof Ye),r instanceof Ae){if(r instanceof Fi){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Ae.create(r.field,"==",c)))||[];return Ye.create(a,"or")}return r}const s=r.filters.map(a=>Hf(a));return Ye.create(s,r.op)}function Ug(r){if(0===r.getFilters().length)return[];const e=Cd(Hf(r));return Dn(Bg(e)),bd(e)||Id(e)?[e]:e.getFilters()}function bd(r){return r instanceof Ae}function Id(r){return r instanceof Ye&&Mn(r)}function Bg(r){return bd(r)||Id(r)||function(e){if(e instanceof Ye&&Qt(e)){for(const t of e.getFilters())if(!bd(t)&&!Id(t))return!1;return!0}return!1}(r)}function Cd(r){if(Dn(r instanceof Ae||r instanceof Ye),r instanceof Ae)return r;if(1===r.filters.length)return Cd(r.filters[0]);const e=r.filters.map(s=>Cd(s));let t=Ye.create(e,r.op);return t=wh(t),Bg(t)?t:(Dn(t instanceof Ye),Dn(ln(t)),Dn(t.filters.length>1),t.filters.reduce((s,a)=>sc(s,a)))}function sc(r,e){let t;return Dn(r instanceof Ae||r instanceof Ye),Dn(e instanceof Ae||e instanceof Ye),t=r instanceof Ae?e instanceof Ae?Ye.create([r,e],"and"):$g(r,e):e instanceof Ae?$g(e,r):function(s,a){if(Dn(s.filters.length>0&&a.filters.length>0),ln(s)&&ln(a))return xn(s,a.getFilters());const c=Qt(s)?s:a,f=Qt(s)?a:s,S=c.filters.map(U=>sc(U,f));return Ye.create(S,"or")}(r,e),wh(t)}function $g(r,e){if(ln(e))return xn(e,r.getFilters());{const t=e.filters.map(s=>sc(r,s));return Ye.create(t,"or")}}function wh(r){if(Dn(r instanceof Ae||r instanceof Ye),r instanceof Ae)return r;const e=r.getFilters();if(1===e.length)return wh(e[0]);if(hr(r))return r;const t=e.map(a=>wh(a)),s=[];return t.forEach(a=>{a instanceof Ae?s.push(a):a instanceof Ye&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Ye.create(s,r.op)}class Zy{constructor(){this.sn=new zf}addToCollectionParentIndex(e,t){return this.sn.add(t),Ze.resolve()}getCollectionParents(e,t){return Ze.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Ze.resolve()}deleteFieldIndex(e,t){return Ze.resolve()}getDocumentsMatchingTarget(e,t){return Ze.resolve(null)}getIndexType(e,t){return Ze.resolve(0)}getFieldIndexes(e,t){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,t){return Ze.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return Ze.resolve(Ks.min())}updateCollectionGroup(e,t,s){return Ze.resolve()}updateIndexEntries(e,t){return Ze.resolve()}}class zf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Bi(Kn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Bi(Kn.comparator)).toArray()}}const Eh=new Uint8Array(0);class Yy{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new zf,this.on=new Ru(s=>ks(s),(s,a)=>_a(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const c={collectionId:s,parent:Ni(a)};return jg(e).put(c)}return Ze.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Bu(t),""],!1,!0);return jg(e).j(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;s.push(qs(f.parent))}return s})}addFieldIndex(e,t){const s=_u(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var f;delete a.indexId;const c=s.add(a);if(t.indexState){const f=Dd(e);return c.next(S=>{f.put(Fg(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=_u(e),a=Dd(e),c=Wu(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Wu(e);let a=!0;const c=new Map;return Ze.forEach(this.un(t),f=>this.cn(e,f).next(S=>{a&&(a=!!S),c.set(f,S)})).next(()=>{if(a){let f=Lr();const S=[];return Ze.forEach(c,(U,q)=>{var se;bt("IndexedDbIndexManager",`Using index ${se=U,`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map(Yr=>`${Yr.fieldPath}:${Yr.kind}`).join(",")}`} to execute ${ks(t)}`);const Pe=function(Yr,$a){const Co=Tu($a);if(void 0===Co)return null;for(const Ls of Ql(Yr,Co.fieldPath))switch(Ls.op){case"array-contains-any":return Ls.value.arrayValue.values||[];case"array-contains":return[Ls.value]}return null}(q,U),tt=function(Yr,$a){const Co=new Map;for(const Ls of Pa($a))for(const uu of Ql(Yr,Ls.fieldPath))switch(uu.op){case"==":case"in":Co.set(Ls.fieldPath.canonicalString(),uu.value);break;case"not-in":case"!=":return Co.set(Ls.fieldPath.canonicalString(),uu.value),Array.from(Co.values())}return null}(q,U),Rt=function(Yr,$a){const Co=[];let Ls=!0;for(const uu of Pa($a)){const Qu=0===uu.kind?lh(Yr,uu.fieldPath,Yr.startAt):bc(Yr,uu.fieldPath,Yr.startAt);Co.push(Qu.value),Ls&&(Ls=Qu.inclusive)}return new $i(Co,Ls)}(q,U),nn=function(Yr,$a){const Co=[];let Ls=!0;for(const uu of Pa($a)){const Qu=0===uu.kind?bc(Yr,uu.fieldPath,Yr.endAt):lh(Yr,uu.fieldPath,Yr.endAt);Co.push(Qu.value),Ls&&(Ls=Qu.inclusive)}return new $i(Co,Ls)}(q,U),En=this.an(U,q,Rt),Gn=this.an(U,q,nn),Br=this.hn(U,q,tt),Ai=this.ln(U.indexId,Pe,En,Rt.inclusive,Gn,nn.inclusive,Br);return Ze.forEach(Ai,Yr=>s.H(Yr,t.limit).next($a=>{$a.forEach(Co=>{const Ls=hn.fromSegments(Co.documentKey);f.has(Ls)||(f=f.add(Ls),S.push(Ls))})}))}).next(()=>S)}return Ze.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Ug(Ye.create(e.filters,"and")).map(s=>Ma(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,s,a,c,f,S){const U=(null!=t?t.length:1)*Math.max(s.length,c.length),q=U/(null!=t?t.length:1),se=[];for(let Pe=0;Pe<U;++Pe){const tt=t?this.fn(t[Pe/q]):Eh,Rt=this.dn(e,tt,s[Pe%q],a),nn=this._n(e,tt,c[Pe%q],f),En=S.map(Gn=>this.dn(e,tt,Gn,!0));se.push(...this.createRange(Rt,nn,En))}return se}dn(e,t,s,a){const c=new Cl(e,hn.empty(),t,s);return a?c:c.He()}_n(e,t,s,a){const c=new Cl(e,hn.empty(),t,s);return a?c.He():c}cn(e,t){const s=new qy(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const S of c)s.Ze(S)&&(!f||S.fields.length>f.fields.length)&&(f=S);return f})}getIndexType(e,t){let s=2;const a=this.un(t);return Ze.forEach(a,c=>this.cn(e,c).next(f=>{f?0!==s&&f.fields.length<function(S){let U=new Bi(gi.comparator),q=!1;for(const se of S.filters)for(const Pe of se.getFlattenedFilters())Pe.field.isKeyField()||("array-contains"===Pe.op||"array-contains-any"===Pe.op?q=!0:U=U.add(Pe.field));for(const se of S.orderBy)se.field.isKeyField()||(U=U.add(se.field));return U.size+(q?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}wn(e,t){const s=new Ed;for(const a of Pa(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=s.We(a.kind);jc.be._e(c,f)}return s.Ge()}fn(e){const t=new Ed;return jc.be._e(e,t.We(0)),t.Ge()}mn(e,t){const s=new Ed;return jc.be._e(Q(this.databaseId,t),s.We(function(a){const c=Pa(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Ge()}hn(e,t,s){if(null===s)return[];let a=[];a.push(new Ed);let c=0;for(const f of Pa(e)){const S=s[c++];for(const U of a)if(this.gn(t,f.fieldPath)&&Oe(S))a=this.yn(a,f,S);else{const q=U.We(f.kind);jc.be._e(S,q)}}return this.pn(a)}an(e,t,s){return this.hn(e,t,s.position)}pn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Ge();return t}yn(e,t,s){const a=[...e],c=[];for(const f of s.arrayValue.values||[])for(const S of a){const U=new Ed;U.seed(S.Ge()),jc.be._e(f,U.We(t.kind)),c.push(U)}return c}gn(e,t){return!!e.filters.find(s=>s instanceof Ae&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=_u(e),a=Dd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const f=[];return Ze.forEach(c,S=>a.get([S.indexId,this.uid]).next(U=>{f.push(function(q,se){const Pe=se?new os(se.sequenceNumber,new Ks(ul(se.readTime),new hn(qs(se.documentKey)),se.largestBatchId)):os.empty(),tt=q.fields.map(([Rt,nn])=>new Ja(gi.fromServerFormat(Rt),nn));return new fa(q.indexId,q.collectionGroup,tt,Pe)}(S,U))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:or(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=_u(e),c=Dd(e);return this.In(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Ze.forEach(S,U=>c.put(Fg(U.indexId,this.user,f,s)))))}updateIndexEntries(e,t){const s=new Map;return Ze.forEach(t,(a,c)=>{const f=s.get(a.collectionGroup);return(f?Ze.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(S=>(s.set(a.collectionGroup,S),Ze.forEach(S,U=>this.Tn(e,a,U).next(q=>{const se=this.En(c,U);return q.isEqual(se)?Ze.resolve():this.An(e,c,U,q,se)}))))})}Rn(e,t,s,a){return Wu(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(s,t.key),documentKey:t.key.path.toArray()})}vn(e,t,s,a){return Wu(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(s,t.key),t.key.path.toArray()])}Tn(e,t,s){const a=Wu(e);let c=new Bi(Dl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,t)])},(f,S)=>{c=c.add(new Cl(s.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>c)}En(e,t){let s=new Bi(Dl);const a=this.wn(t,e);if(null==a)return s;const c=Tu(t);if(null!=c){const f=e.data.field(c.fieldPath);if(Oe(f))for(const S of f.arrayValue.values||[])s=s.add(new Cl(t.indexId,e.key,this.fn(S),a))}else s=s.add(new Cl(t.indexId,e.key,Eh,a));return s}An(e,t,s,a,c){bt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(S,U,q,se,Pe){const tt=S.getIterator(),Rt=U.getIterator();let nn=hu(tt),En=hu(Rt);for(;nn||En;){let Gn=!1,Br=!1;if(nn&&En){const Ai=q(nn,En);Ai<0?Br=!0:Ai>0&&(Gn=!0)}else null!=nn?Br=!0:Gn=!0;Gn?(se(En),En=hu(Rt)):Br?(Pe(nn),nn=hu(tt)):(nn=hu(tt),En=hu(Rt))}}(a,c,Dl,S=>{f.push(this.Rn(e,t,s,S))},S=>{f.push(this.vn(e,t,s,S))}),Ze.waitFor(f)}In(e){let t=1;return Dd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((f,S)=>Dl(f,S)).filter((f,S,U)=>!S||0!==Dl(f,U[S-1]));const a=[];a.push(e);for(const f of s){const S=Dl(f,e),U=Dl(f,t);if(0===S)a[0]=e.He();else if(S>0&&U<0)a.push(f),a.push(f.He());else if(U>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.Pn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Eh,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Eh,[]]))}return c}Pn(e,t){return Dl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hg)}getMinOffset(e,t){return Ze.mapArray(this.un(t),s=>this.cn(e,s).next(a=>a||Jt())).next(Hg)}}function jg(r){return Wi(r,"collectionParents")}function Wu(r){return Wi(r,"indexEntries")}function _u(r){return Wi(r,"indexConfiguration")}function Dd(r){return Wi(r,"indexState")}function Hg(r){Dn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;eu(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Ks(e.readTime,e.documentKey,t)}const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ba{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ba(e,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gf(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let S=0;const U=s.X({range:f},(se,Pe,tt)=>(S++,tt.delete()));c.push(U.next(()=>{Dn(1===S)}));const q=[];for(const se of t.mutations){const Pe=nu(e,se.key.path,t.batchId);c.push(a.delete(Pe)),q.push(se.key)}return Ze.waitFor(c).next(()=>q)}function Wf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Jt();e=r.noDocument}return JSON.stringify(e).length}Ba.DEFAULT_COLLECTION_PERCENTILE=10,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ba.DEFAULT=new Ba(41943040,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ba.DISABLED=new Ba(-1,0,0);class Td{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.bn={}}static fe(e,t,s,a){Dn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Td(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).X({index:"userMutationsIndex",range:s},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=oc(e),f=Tl(e);return f.add({}).next(S=>{Dn("number"==typeof S);const U=new wg(S,t,s,a),q=function(tt,Rt,nn){const En=nn.baseMutations.map(Br=>Bc(tt.le,Br)),Gn=nn.mutations.map(Br=>Bc(tt.le,Br));return{userId:Rt,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:En,mutations:Gn}}(this.serializer,this.userId,U),se=[];let Pe=new Bi((tt,Rt)=>or(tt.canonicalString(),Rt.canonicalString()));for(const tt of a){const Rt=nu(this.userId,tt.key.path,S);Pe=Pe.add(tt.key.path.popLast()),se.push(f.put(q)),se.push(c.put(Rt,Mu))}return Pe.forEach(tt=>{se.push(this.indexManager.addToCollectionParentIndex(e,tt))}),e.addOnCommittedListener(()=>{this.bn[S]=U.keys()}),Ze.waitFor(se).next(()=>U)})}lookupMutationBatch(e,t){return Tl(e).get(t).next(s=>s?(Dn(s.userId===this.userId),ic(this.serializer,s)):null)}Vn(e,t){return this.bn[t]?Ze.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.bn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return Tl(e).X({index:"userMutationsIndex",range:a},(f,S,U)=>{S.userId===this.userId&&(Dn(S.batchId>=s),c=ic(this.serializer,S)),U.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Tl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).j("userMutationsIndex",t).next(s=>s.map(a=>ic(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ya(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return oc(e).X({range:a},(f,S,U)=>{const[q,se,Pe]=f,tt=qs(se);if(q===this.userId&&t.path.isEqual(tt))return Tl(e).get(Pe).next(Rt=>{if(!Rt)throw Jt();Dn(Rt.userId===this.userId),c.push(ic(this.serializer,Rt))});U.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bi(or);const a=[];return t.forEach(c=>{const f=Ya(this.userId,c.path),S=IDBKeyRange.lowerBound(f),U=oc(e).X({range:S},(q,se,Pe)=>{const[tt,Rt,nn]=q,En=qs(Rt);tt===this.userId&&c.path.isEqual(En)?s=s.add(nn):Pe.done()});a.push(U)}),Ze.waitFor(a).next(()=>this.Sn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=Ya(this.userId,s),f=IDBKeyRange.lowerBound(c);let S=new Bi(or);return oc(e).X({range:f},(U,q,se)=>{const[Pe,tt,Rt]=U,nn=qs(tt);Pe===this.userId&&s.isPrefixOf(nn)?nn.length===a&&(S=S.add(Rt)):se.done()}).next(()=>this.Sn(e,S))}Sn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(Tl(e).get(c).next(f=>{if(null===f)throw Jt();Dn(f.userId===this.userId),s.push(ic(this.serializer,f))}))}),Ze.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Gf(e.at,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Ze.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ze.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return oc(e).X({range:s},(c,f,S)=>{if(c[0]===this.userId){const U=qs(c[1]);a.push(U)}else S.done()}).next(()=>{Dn(0===a.length)})})}containsKey(e,t){return Kf(e,this.userId,t)}Cn(e){return zg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kf(r,e,t){const s=Ya(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return oc(r).X({range:c,Y:!0},(S,U,q)=>{const[se,Pe,tt]=S;se===e&&Pe===a&&(f=!0),q.done()}).next(()=>f)}function Tl(r){return Wi(r,"mutations")}function oc(r){return Wi(r,"documentMutations")}function zg(r){return Wi(r,"mutationQueues")}class ac{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new ac(0)}static kn(){return new ac(-1)}}class Nu{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const s=new ac(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>_n.fromTimestamp(new vi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Mn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(s=>(s.targetCount+=1,this.Fn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gc(e).delete(t.targetId)).next(()=>this.Mn(e)).next(s=>(Dn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Gc(e).X((f,S)=>{const U=_d(S);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(a++,c.push(this.removeTargetData(e,U)))}).next(()=>Ze.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Gc(e).X((s,a)=>{const c=_d(a);t(c)})}Mn(e){return qf(e).get("targetGlobalKey").next(t=>(Dn(null!==t),t))}On(e,t){return qf(e).put("targetGlobalKey",t)}$n(e,t){return Gc(e).put(Uf(this.serializer,t))}Fn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=ks(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Gc(e).X({range:a,index:"queryTargetsIndex"},(f,S,U)=>{const q=_d(S);_a(t,q.target)&&(c=q,U.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=Sl(e);return t.forEach(f=>{const S=Ni(f.path);a.push(c.put({targetId:s,path:S})),a.push(this.referenceDelegate.addReference(e,s,f))}),Ze.waitFor(a)}removeMatchingKeys(e,t,s){const a=Sl(e);return Ze.forEach(t,c=>{const f=Ni(c.path);return Ze.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=Sl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Sl(e);let c=Lr();return a.X({range:s,Y:!0},(f,S,U)=>{const q=qs(f[1]),se=new hn(q);c=c.add(se)}).next(()=>c)}containsKey(e,t){const s=Ni(t.path),a=IDBKeyRange.bound([s],[Bu(s)],!1,!0);let c=0;return Sl(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,S],U,q)=>{0!==f&&(c++,q.done())}).next(()=>c>0)}he(e,t){return Gc(e).get(t).next(s=>s?_d(s):null)}}function Gc(r){return Wi(r,"targets")}function qf(r){return Wi(r,"targetGlobal")}function Sl(r){return Wi(r,"targetDocuments")}function Gg([r,e],[t,s]){const a=or(r,t);return 0===a?or(e,s):a}class Xy{constructor(e){this.Bn=e,this.buffer=new Bi(Gg),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Gg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;bt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ga(s)?bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield qa(s)}yield t.Gn(3e5)}))}}class Kg{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ze.resolve(Gi.ct);const s=new Xy(t);return this.Qn.forEachTarget(e,a=>s.Un(a.sequenceNumber)).next(()=>this.Qn.zn(e,a=>s.Un(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Qn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(Qy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let s,a,c,f,S,U,q;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),a=this.params.maximumSequenceNumbersToCollect):a=Pe,f=Date.now(),this.nthSequenceNumber(e,a))).next(Pe=>(s=Pe,S=Date.now(),this.removeTargets(e,s,t))).next(Pe=>(c=Pe,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(Pe=>(q=Date.now(),er()<=Te.in.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-se}ms\n\tDetermined least recently used ${a} in `+(S-f)+`ms\n\tRemoved ${c} targets in `+(U-S)+`ms\n\tRemoved ${Pe} documents in `+(q-U)+`ms\nTotal Duration: ${q-se}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Pe})))}}class Jy{constructor(e,t){this.db=e,this.garbageCollector=function qg(r,e){return new Kg(r,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Hn(e){let t=0;return this.zn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(s,a)=>t(a))}addReference(e,t,s){return bh(e,s)}removeReference(e,t,s){return bh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return bh(e,t)}Yn(e,t){return function(s,a){let c=!1;return zg(s).Z(f=>Kf(s,f,a).next(S=>(S&&(c=!0),Ze.resolve(!S)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Jn(e,(f,S)=>{if(S<=t){const U=this.Yn(e,f).next(q=>{if(!q)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,_n.min()),Sl(e).delete([0,Ni(f.path)])))});a.push(U)}}).next(()=>Ze.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return bh(e,t)}Jn(e,t){const s=Sl(e);let a,c=Gi.ct;return s.X({index:"documentTargetsIndex"},([f,S],{path:U,sequenceNumber:q})=>{0===f?(c!==Gi.ct&&t(new hn(qs(a)),c),c=q,a=U):c=Gi.ct}).next(()=>{c!==Gi.ct&&t(new hn(qs(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bh(r,e){return Sl(r).put((s=r.currentSequenceNumber,{targetId:0,path:Ni(e.path),sequenceNumber:s}));var s}class Vr{constructor(){this.changes=new Ru(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ze.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return uc(e).put(s)}removeEntry(e,t,s){return uc(e).delete(function(a,c){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Gu(c),f[f.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Xn(e,s)))}getEntry(e,t){let s=xr.newInvalidDocument(t);return uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(t))},(a,c)=>{s=this.Zn(t,c)}).next(()=>s)}ts(e,t){let s={size:0,document:xr.newInvalidDocument(t)};return uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(t))},(a,c)=>{s={document:this.Zn(t,c),size:Wf(c)}}).next(()=>s)}getEntries(e,t){let s=wa();return this.es(e,t,(a,c)=>{const f=this.Zn(a,c);s=s.insert(a,f)}).next(()=>s)}ns(e,t){let s=wa(),a=new ui(hn.comparator);return this.es(e,t,(c,f)=>{const S=this.Zn(c,f);s=s.insert(c,S),a=a.insert(c,Wf(f))}).next(()=>({documents:s,ss:a}))}es(e,t,s){if(t.isEmpty())return Ze.resolve();let a=new Bi(Yf);t.forEach(U=>a=a.add(U));const c=IDBKeyRange.bound(Wc(a.first()),Wc(a.last())),f=a.getIterator();let S=f.getNext();return uc(e).X({index:"documentKeyIndex",range:c},(U,q,se)=>{const Pe=hn.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;S&&Yf(S,Pe)<0;)s(S,null),S=f.getNext();S&&S.isEqual(Pe)&&(s(S,q),S=f.hasNext()?f.getNext():null),S?se.G(Wc(S)):se.done()}).next(()=>{for(;S;)s(S,null),S=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),Gu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],S=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uc(e).j(IDBKeyRange.bound(f,S,!0)).next(U=>{let q=wa();for(const se of U){const Pe=this.Zn(hn.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);Pe.isFoundDocument()&&(Pr(t,Pe)||a.has(Pe.key))&&(q=q.insert(Pe.key,Pe))}return q})}getAllFromCollectionGroup(e,t,s,a){let c=wa();const f=Xg(t,s),S=Xg(t,Ks.max());return uc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,S,!0)},(U,q,se)=>{const Pe=this.Zn(hn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);c=c.insert(Pe.key,Pe),c.size===a&&se.done()}).next(()=>c)}newChangeBuffer(e){return new Yg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Qg(e).get("remoteDocumentGlobalKey").next(t=>(Dn(!!t),t))}Xn(e,t){return Qg(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const s=function Vf(r,e){let t;if(e.document)t=Uc(r.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=hn.fromSegments(e.noDocument.path),a=ul(e.noDocument.readTime);t=xr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Jt();{const s=hn.fromSegments(e.unknownDocument.path),a=ul(e.unknownDocument.version);t=xr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new vi(s[0],s[1]);return _n.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(_n.min()))return s}return xr.newInvalidDocument(e)}}function Zf(r){return new Zg(r)}class Yg extends Vr{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Ru(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Bi((c,f)=>or(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const S=this.os.get(c);if(t.push(this.rs.removeEntry(e,c,S.readTime)),f.isValidDocument()){const U=vd(this.rs.serializer,f);a=a.add(c.path.popLast());const q=Wf(U);s+=q-S.size,t.push(this.rs.addEntry(e,c,U))}else if(s-=S.size,this.trackRemovals){const U=vd(this.rs.serializer,f.convertToNoDocument(_n.min()));t.push(this.rs.addEntry(e,c,U))}}),a.forEach(c=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.rs.updateMetadata(e,s)),Ze.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(s=>(this.os.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:s,ss:a})=>(a.forEach((c,f)=>{this.os.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function Qg(r){return Wi(r,"remoteDocumentGlobal")}function uc(r){return Wi(r,"remoteDocumentsV14")}function Wc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xg(r,e){const t=e.documentKey.path.toArray();return[r,Gu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Yf(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=or(t[c],s[c]),a)return a;return a=or(t.length,s.length),a||(a=or(t[t.length-2],s[s.length-2]),a||or(t[t.length-1],s[s.length-1]))}class ev{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jg{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Pc(s.mutation,a,Wo.empty(),vi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Lr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Lr()){const a=Ua();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=ju();return c.forEach((S,U)=>{f=f.insert(S,U.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Ua();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Lr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,S)=>{t.set(f,S)})})}computeViews(e,t,s,a){let c=wa();const f=Ou(),S=Ou();return t.forEach((U,q)=>{const se=s.get(q.key);a.has(q.key)&&(void 0===se||se.mutation instanceof sl)?c=c.insert(q.key,q):void 0!==se?(f.set(q.key,se.mutation.getFieldMask()),Pc(se.mutation,q,se.mutation.getFieldMask(),vi.now())):f.set(q.key,Wo.empty())}),this.recalculateAndSaveOverlays(e,c).next(U=>(U.forEach((q,se)=>f.set(q,se)),t.forEach((q,se)=>{var Pe;return S.set(q,new ev(se,null!==(Pe=f.get(q))&&void 0!==Pe?Pe:null))}),S))}recalculateAndSaveOverlays(e,t){const s=Ou();let a=new ui((f,S)=>f-S),c=Lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const S of f)S.keys().forEach(U=>{const q=t.get(U);if(null===q)return;let se=s.get(U)||Wo.empty();se=S.applyToLocalView(q,se),s.set(U,se);const Pe=(a.get(S.batchId)||Lr()).add(U);a=a.insert(S.batchId,Pe)})}).next(()=>{const f=[],S=a.getReverseIterator();for(;S.hasNext();){const U=S.getNext(),q=U.key,se=U.value,Pe=Jl();se.forEach(tt=>{if(!c.has(tt)){const Rt=Sf(t.get(tt),s.get(tt));null!==Rt&&Pe.set(tt,Rt),c=c.add(tt)}}),f.push(this.documentOverlayCache.saveOverlays(e,q,Pe))}return Ze.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return hn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):T(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ze.resolve(Ua());let S=-1,U=c;return f.next(q=>Ze.forEach(q,(se,Pe)=>(S<Pe.largestBatchId&&(S=Pe.largestBatchId),c.get(se)?Ze.resolve():this.remoteDocumentCache.getEntry(e,se).next(tt=>{U=U.insert(se,tt)}))).next(()=>this.populateOverlays(e,q,c)).next(()=>this.computeViews(e,U,q,Lr())).next(se=>({batchId:S,changes:Dc(se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new hn(t)).next(s=>{let a=ju();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=ju();return this.indexManager.getCollectionParents(e,a).next(f=>Ze.forEach(f,S=>{const U=(q=t,se=S.child(a),new pu(se,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,se;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(q=>{q.forEach((se,Pe)=>{c=c.insert(se,Pe)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((S,U)=>{const q=U.getKey();null===c.get(q)&&(c=c.insert(q,xr.newInvalidDocument(q)))});let f=ju();return c.forEach((S,U)=>{const q=a.get(S);void 0!==q&&Pc(q.mutation,U,Wo.empty(),vi.now()),Pr(t,U)&&(f=f.insert(S,U))}),f})}}class U_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Ze.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:bo(s.createTime)}),Ze.resolve()}getNamedQuery(e,t){return Ze.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Il(s.bundledQuery),readTime:bo(s.readTime)}),Ze.resolve();var s}}class em{constructor(){this.overlays=new ui(hn.comparator),this.hs=new Map}getOverlay(e,t){return Ze.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ua();return Ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),Ze.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),Ze.resolve()}getOverlaysForCollection(e,t,s){const a=Ua(),c=t.length+1,f=new hn(t.child("")),S=this.overlays.getIteratorFrom(f);for(;S.hasNext();){const U=S.getNext().value,q=U.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===c&&U.largestBatchId>s&&a.set(U.getKey(),U)}return Ze.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new ui((q,se)=>q-se);const f=this.overlays.getIterator();for(;f.hasNext();){const q=f.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>s){let se=c.get(q.largestBatchId);null===se&&(se=Ua(),c=c.insert(q.largestBatchId,se)),se.set(q.getKey(),q)}}const S=Ua(),U=c.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((q,se)=>S.set(q,se)),!(S.size()>=a)););return Ze.resolve(S)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bg(t,s));let c=this.hs.get(t);void 0===c&&(c=Lr(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class Ih{constructor(){this.ls=new Bi(Fs.fs),this.ds=new Bi(Fs._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Fs(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Fs(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new hn(new Kn([])),s=new Fs(t,e),a=new Fs(t,e+1),c=[];return this.ds.forEachInRange([s,a],f=>{this.gs(f),c.push(f.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new hn(new Kn([])),s=new Fs(t,e),a=new Fs(t,e+1);let c=Lr();return this.ds.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Fs(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Fs{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return hn.comparator(e.key,t.key)||or(e.Es,t.Es)}static _s(e,t){return or(e.Es,t.Es)||hn.comparator(e.key,t.key)}}class tv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Bi(Fs.fs)}checkEmpty(e){return Ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const f=new wg(c,t,s,a);this.mutationQueue.push(f);for(const S of a)this.Rs=this.Rs.add(new Fs(S.key,c)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Ze.resolve(f)}lookupMutationBatch(e,t){return Ze.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return Ze.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Fs(t,0),a=new Fs(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const S=this.vs(f.Es);c.push(S)}),Ze.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bi(or);return t.forEach(a=>{const c=new Fs(a,0),f=new Fs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],S=>{s=s.add(S.Es)})}),Ze.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;hn.isDocumentKey(c)||(c=c.child(""));const f=new Fs(new hn(c),0);let S=new Bi(or);return this.Rs.forEachWhile(U=>{const q=U.key.path;return!!s.isPrefixOf(q)&&(q.length===a&&(S=S.add(U.Es)),!0)},f),Ze.resolve(this.bs(S))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Dn(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ze.forEach(t.mutations,a=>{const c=new Fs(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Fs(t,0),a=this.Rs.firstAfterOrEqual(s);return Ze.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ze.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qf{constructor(e){this.Ss=e,this.docs=new ui(hn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ze.resolve(s?s.document.mutableCopy():xr.newInvalidDocument(t))}getEntries(e,t){let s=wa();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():xr.newInvalidDocument(a))}),Ze.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=wa();const f=t.path,S=new hn(f.child("")),U=this.docs.getIteratorFrom(S);for(;U.hasNext();){const{key:q,value:{document:se}}=U.getNext();if(!f.isPrefixOf(q.path))break;q.path.length>f.length+1||eu(Ho(se),s)<=0||(a.has(se.key)||Pr(t,se))&&(c=c.insert(se.key,se.mutableCopy()))}return Ze.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Jt()}Ds(e,t){return Ze.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Xf(this)}getSize(e){return Ze.resolve(this.size)}}class Xf extends Vr{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),Ze.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class nv{constructor(e){this.persistence=e,this.Cs=new Ru(t=>ks(t),_a),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Ih,this.targetCount=0,this.ks=ac.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Ze.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new ac(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Ze.resolve()}updateTargetData(e,t){return this.$n(t),Ze.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((f,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.Cs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),Ze.waitFor(c).next(()=>a)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Ze.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Ze.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Ze.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Ze.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Ze.resolve(s)}containsKey(e,t){return Ze.resolve(this.Ns.containsKey(t))}}class tm{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Gi(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new nv(this),this.indexManager=new Zy,this.remoteDocumentCache=new Qf(s=>this.referenceDelegate.Bs(s)),this.serializer=new Ng(t),this.Ls=new U_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new em,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new tv(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){bt("MemoryPersistence","Starting transaction:",e);const a=new B_(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return Ze.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class B_ extends pa{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.Gs=new Ih,this.Qs=null}static js(e){return new Jf(e)}get zs(){if(this.Qs)return this.Qs;throw Jt()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Ze.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Ze.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Ze.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.zs,s=>{const a=hn.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,_n.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Ze.or([()=>Ze.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class nm{constructor(e){this.serializer=e}$(e,t,s,a){const c=new Ra("createOrUpgrade",t);var S;s<1&&a>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Au,{unique:!0}),S.createObjectStore("documentMutations"),rv(e),function(S){S.createObjectStore("remoteDocuments")}(e));let f=Ze.resolve();return s<3&&a>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),rv(e)),f=f.next(()=>function(S){const U=S.store("targetGlobal"),q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_n.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",q)}(c))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(S,U){return U.store("mutations").j().next(q=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Au,{unique:!0});const se=U.store("mutations"),Pe=q.map(tt=>se.put(tt));return Ze.waitFor(Pe)})}(e,c))),f=f.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Js(c))),s<6&&a>=6&&(f=f.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(c)))),s<7&&a>=7&&(f=f.next(()=>this.Xs(c))),s<8&&a>=8&&(f=f.next(()=>this.Zs(e,c))),s<9&&a>=9&&(f=f.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(f=f.next(()=>this.ti(c))),s<11&&a>=11&&(f=f.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(f=f.next(()=>{!function(S){const U=S.createObjectStore("documentOverlays",{keyPath:sn});U.createIndex("collectionPathOverlayIndex",yn,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",Zr,{unique:!1})}(e)})),s<13&&a>=13&&(f=f.next(()=>function(S){const U=S.createObjectStore("remoteDocumentsV14",{keyPath:xo});U.createIndex("documentKeyIndex",ru),U.createIndex("collectionGroupIndex",_)}(e)).next(()=>this.ei(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(f=f.next(()=>this.ni(e,c))),s<15&&a>=15&&(f=f.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:J}).createIndex("sequenceNumberIndex",ue,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Ke}).createIndex("documentKeyIndex",Nt,{unique:!1})}(e))),f}Ys(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Wf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Js(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Ze.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",f).next(S=>Ze.forEach(S,U=>{Dn(U.userId===c.userId);const q=ic(this.serializer,U);return Gf(e,c.userId,q).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((f,S)=>{const U=new Kn(f),q=[0,Ni(U)];c.push(t.get(q).next(se=>se?Ze.resolve():t.put({targetId:0,path:Ni(U),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Ze.waitFor(c))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:B});const s=t.store("collectionParents"),a=new zf,c=f=>{if(a.add(f)){const S=f.lastSegment(),U=f.popLast();return s.put({collectionId:S,parent:Ni(U)})}};return t.store("remoteDocuments").X({Y:!0},(f,S)=>{const U=new Kn(f);return c(U.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,S,U],q)=>{const se=qs(S);return c(se.popLast())}))}ti(e){const t=e.store("targets");return t.X((s,a)=>{const c=_d(a),f=Uf(this.serializer,c);return t.put(f)})}ei(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,f)=>{const S=t.store("remoteDocumentsV14"),U=(q=f,q.document?new hn(Kn.fromString(q.document.name).popFirst(5)):q.noDocument?hn.fromSegments(q.noDocument.path):q.unknownDocument?hn.fromSegments(q.unknownDocument.path):Jt()).path.toArray();var q;const se={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(S.put(se))}).next(()=>Ze.waitFor(a))}ni(e,t){const s=t.store("mutations"),a=Zf(this.serializer),c=new tm(Jf.js,this.serializer.le);return s.j().next(f=>{const S=new Map;return f.forEach(U=>{var q;let se=null!==(q=S.get(U.userId))&&void 0!==q?q:Lr();ic(this.serializer,U).keys().forEach(Pe=>se=se.add(Pe)),S.set(U.userId,se)}),Ze.forEach(S,(U,q)=>{const se=new me(q),Pe=_h.fe(this.serializer,se),tt=c.getIndexManager(se),Rt=Td.fe(se,this.serializer,tt,c.referenceDelegate);return new Jg(a,Rt,Pe,tt).recalculateAndSaveOverlaysForDocumentKeys(new Go(t,Gi.ct),U).next()})})}}function rv(r){r.createObjectStore("targetDocuments",{keyPath:m}).createIndex("documentTargetsIndex",x,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",C,{unique:!0}),r.createObjectStore("targetGlobal")}const ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Al{constructor(e,t,s,a,c,f,S,U,q,se,Pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.si=c,this.window=f,this.document=S,this.ii=q,this.ri=se,this.oi=Pe,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=tt=>Promise.resolve(),!Al.D())throw new Ut(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jy(this,a),this.fi=t+"main",this.serializer=new Ng(U),this.di=new wo(this.fi,this.oi,new nm(this.serializer)),this.Fs=new Nu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zf(this.serializer),this.Ls=new $f,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===se&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(pt.FAILED_PRECONDITION,ep);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Gi(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var s=(0,p.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,p.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ad(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(ga(e))return bt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Sd(e).get("owner").next(t=>Ze.resolve(this.Ri(t)))}vi(e){return Ad(e).delete(this.clientId)}Pi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Wi(s,"clientMetadata");return a.j().next(c=>{const f=e.Vi(c,18e5),S=c.filter(U=>-1===f.indexOf(U));return Ze.forEach(S,U=>a.delete(U.clientId)).next(()=>S)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Si(s.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Ze.resolve(!0):Sd(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ut(pt.FAILED_PRECONDITION,ep);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ad(e).j().next(s=>void 0===this.Vi(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&bt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Go(t,Gi.ct);return e.Ei(s).next(()=>e.vi(s))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(s=>this.bi(s.updateTimeMs,t)&&!this.Di(s.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>Ad(e).j().next(t=>this.Vi(t,18e5).map(s=>s.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return Td.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yy(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return _h.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,s){bt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(f=this.oi)?zo:14===f?ya:13===f?uo:12===f?Sa:11===f?Si:void Jt();var f;let S;return this.di.runTransaction(e,a,c,U=>(S=new Go(U,this.Os?this.Os.next():Gi.ct),"readwrite-primary"===t?this.Ii(S).next(q=>!!q||this.Ti(S)).next(q=>{if(!q)throw kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Ut(pt.FAILED_PRECONDITION,na);return s(S)}).next(q=>this.Ai(S).next(()=>q)):this.Oi(S).next(()=>s(S)))).then(U=>(S.raiseOnCommittedEvent(),U))}Oi(e){return Sd(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ut(pt.FAILED_PRECONDITION,ep)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sd(e).put("owner",t)}static D(){return wo.D()}Ei(e){const t=Sd(e);return t.get("owner").next(s=>this.Ri(s)?(bt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ze.resolve())}bi(e,t){const s=Date.now();return!(e<s-t||e>s&&(kr(`Detected an update time that is in the future: ${e} > ${s}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Ce.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return bt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return kr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){kr("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sd(r){return Wi(r,"owner")}function Ad(r){return Wi(r,"clientMetadata")}function Kc(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class tp{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=Lr(),a=Lr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new tp(e,t.fromCache,s,a)}}class np{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(b(t))return Ze.resolve(null);let s=oe(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=mt(t,null,"F"),s=oe(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Lr(...c);return this.qi.getDocuments(e,f).next(S=>this.indexManager.getMinOffset(e,s).next(U=>{const q=this.Qi(t,S);return this.ji(t,q,f,U.readTime)?this.Ui(e,mt(t,null,"F")):this.zi(e,q,t,U)}))})))}Ki(e,t,s,a){return b(t)||a.isEqual(_n.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const f=this.Qi(t,c);return this.ji(t,f,s,a)?this.Gi(e,t):(er()<=Te.in.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qn(t)),this.zi(e,f,t,Ka(a,-1)))})}Qi(e,t){let s=new Bi(gu(e));return t.forEach((a,c)=>{Pr(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return er()<=Te.in.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",qn(t)),this.qi.getDocumentsMatchingQuery(e,t,Ks.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class iv{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new ui(or),this.Ji=new Ru(c=>ks(c),_a),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jg(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function rm(r,e,t,s){return new iv(r,e,t,s)}function im(r,e){return rp.apply(this,arguments)}function rp(){return rp=(0,p.Z)(function*(r,e){const t=Zt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],S=[];let U=Lr();for(const q of a){f.push(q.batchId);for(const se of q.mutations)U=U.add(se.key)}for(const q of c){S.push(q.batchId);for(const se of q.mutations)U=U.add(se.key)}return t.localDocuments.getDocuments(s,U).next(q=>({tr:q,removedBatchIds:f,addedBatchIds:S}))})})}),rp.apply(this,arguments)}function ip(r){const e=Zt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function sp(r,e,t){let s=Lr(),a=Lr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=wa();return t.forEach((S,U)=>{const q=c.get(S);U.isFoundDocument()!==q.isFoundDocument()&&(a=a.add(S)),U.isNoDocument()&&U.version.isEqual(_n.min())?(e.removeEntry(S,U.readTime),f=f.insert(S,U)):!q.isValidDocument()||U.version.compareTo(q.version)>0||0===U.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(U),f=f.insert(S,U)):bt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",q.version," Watch version:",U.version)}),{er:f,nr:a}})}function sm(r,e){const t=Zt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ml(r,e){const t=Zt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,Ze.resolve(a)):t.Fs.allocateTargetId(s).next(f=>(a=new vu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}function Md(r,e,t){return xd.apply(this,arguments)}function xd(){return xd=(0,p.Z)(function*(r,e,t){const s=Zt(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!ga(f))throw f;bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),xd.apply(this,arguments)}function Dh(r,e,t){const s=Zt(r);let a=_n.min(),c=Lr();return s.persistence.runTransaction("Execute query","readonly",f=>function(S,U,q){const se=Zt(S),Pe=se.Ji.get(q);return void 0!==Pe?Ze.resolve(se.Hi.get(Pe)):se.Fs.getTargetData(U,q)}(s,f,oe(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(f,S.targetId).next(U=>{c=U})}).next(()=>s.Wi.getDocumentsMatchingQuery(f,e,t?a:_n.min(),t?c:Lr())).next(S=>(op(s,ia(e),S),{documents:S,sr:c})))}function av(r,e){const t=Zt(r),s=Zt(t.Fs),a=t.Hi.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.he(c,e).next(f=>f?f.target:null))}function lc(r,e){const t=Zt(r),s=t.Yi.get(e)||_n.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Xi.getAllFromCollectionGroup(a,e,Ka(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(op(t,e,a),a))}function op(r,e,t){let s=r.Yi.get(e)||_n.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}function Th(){return Th=(0,p.Z)(function*(r,e,t,s){const a=Zt(r);let c=Lr(),f=wa();for(const q of t){const se=e.ir(q.metadata.name);q.document&&(c=c.add(se));const Pe=e.rr(q);Pe.setReadTime(e.ur(q.metadata.readTime)),f=f.insert(se,Pe)}const S=a.Xi.newChangeBuffer({trackRemovals:!0}),U=yield Ml(a,(q=s,oe(Xl(Kn.fromString(`__bundle__/docs/${q}`)))));var q;return a.persistence.runTransaction("Apply bundle documents","readwrite",q=>sp(q,S,f).next(se=>(S.apply(q),se)).next(se=>a.Fs.removeMatchingKeysForTargetId(q,U.targetId).next(()=>a.Fs.addMatchingKeys(q,c,U.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(q,se.er,se.nr)).next(()=>se.er)))}),Th.apply(this,arguments)}function lv(r,e){return ap.apply(this,arguments)}function ap(){return ap=(0,p.Z)(function*(r,e,t=Lr()){const s=yield Ml(r,oe(Il(e.bundledQuery))),a=Zt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=bo(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.Ls.saveNamedQuery(c,e);const S=s.withResumeToken(Ns.EMPTY_BYTE_STRING,f);return a.Hi=a.Hi.insert(S.targetId,S),a.Fs.updateTargetData(c,S).next(()=>a.Fs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Fs.addMatchingKeys(c,t,s.targetId)).next(()=>a.Ls.saveNamedQuery(c,e))})}),ap.apply(this,arguments)}function Pd(r,e){return`firestore_clients_${r}_${e}`}function cc(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Rd(r,e){return`firestore_targets_${r}_${e}`}class xl{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static cr(e,t,s){const a=JSON.parse(s);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new Ut(a.error.code,a.error.message))),f?new xl(e,t,a.state,c):(kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dc{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static cr(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Ut(s.error.code,s.error.message))),c?new dc(e,s.state,a):(kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=hd();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=ao(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return a?new hc(e,c):(kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sh{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sh(t.clientId,t.onlineState):(kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Od{constructor(){this.activeTargetIds=hd()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nd{constructor(e,t,s,a,c){this.window=e,this.si=t,this.persistenceKey=s,this.dr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new ui(or),this.started=!1,this.gr=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.yr=Pd(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new Od),this.Ir=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.Mi();for(const a of t){if(a===e.dr)continue;const c=e.getItem(Pd(e.persistenceKey,a));if(c){const f=hc.cr(a,c);f&&(e.mr=e.mr.insert(f.clientId,f))}}e.vr();const s=e.storage.getItem(e.Ar);if(s){const a=e.Pr(s);a&&e.br(a)}for(const a of e.gr)e.wr(a);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,s){this.Sr(e,t,s),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Rd(this.persistenceKey,e));if(s){const a=dc.cr(e,s);a&&(t=a.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rd(this.persistenceKey,e))}updateQueryState(e,t,s){this.Nr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Dr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return bt("SharedClientState","READ",e,t),t}setItem(e,t){bt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){bt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(bt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.yr)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ir.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.$r(a,null)}{const a=t.Fr(s.key,s.newValue);if(a)return t.$r(a.clientId,a)}}else if(t.Tr.test(s.key)){if(null!==s.newValue){const a=t.Br(s.key,s.newValue);if(a)return t.Lr(a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.qr(s.key,s.newValue);if(a)return t.Ur(a)}}else if(s.key===t.Ar){if(null!==s.newValue){const a=t.Pr(s.newValue);if(a)return t.br(a)}}else if(s.key===t.pr){const a=function(c){let f=Gi.ct;if(null!=c)try{const S=JSON.parse(c);Dn("number"==typeof S),f=S}catch(S){kr("SharedClientState","Failed to read sequence number from WebStorage",S)}return f}(s.newValue);a!==Gi.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Kr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Gr(c)))}}else t.gr.push(s)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,s){const a=new xl(this.currentUser,e,t,s),c=cc(this.persistenceKey,this.currentUser,e);this.setItem(c,a.ar())}Dr(e){const t=cc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,s){const a=Rd(this.persistenceKey,e),c=new dc(e,t,s);this.setItem(a,c.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const s=this.Or(e);return hc.cr(s,t)}Br(e,t){const s=this.Tr.exec(e),a=Number(s[1]);return xl.cr(new me(void 0!==s[2]?s[2]:null),a,t)}qr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return dc.cr(a,t)}Pr(e){return Sh.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);bt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const s=t?this.mr.insert(e,t):this.mr.remove(e),a=this.Vr(this.mr),c=this.Vr(s),f=[],S=[];return c.forEach(U=>{a.has(U)||f.push(U)}),a.forEach(U=>{c.has(U)||S.push(U)}),this.syncEngine.zr(f,S).then(()=>{this.mr=s})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=hd();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Ah{constructor(){this.Wr=new Od,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Od,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class om{Jr(e){}shutdown(){}}class Mh{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xh=null;function up(){return null===xh?xh=268435456+Math.round(2147483648*Math.random()):xh++,"0x"+xh.toString(16)}const am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cv{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Ea="WebChannelConnection";class um extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const f=up(),S=this.Io(e,t);bt("RestConnection",`Sending RPC '${e}' ${f}:`,S,s);const U={};return this.To(U,a,c),this.Eo(e,S,U,s).then(q=>(bt("RestConnection",`Received RPC '${e}' ${f}: `,q),q),q=>{throw ai("RestConnection",`RPC '${e}' ${f} failed with error: `,q,"url: ",S,"request:",s),q})}Ao(e,t,s,a,c,f){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+et,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${am[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=up();return new Promise((f,S)=>{const U=new dt;U.setWithCredentials(!0),U.listenOnce(P.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case da.NO_ERROR:const se=U.getResponseJson();bt(Ea,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(se)),f(se);break;case da.TIMEOUT:bt(Ea,`RPC '${e}' ${c} timed out`),S(new Ut(pt.DEADLINE_EXCEEDED,"Request time out"));break;case da.HTTP_ERROR:const Pe=U.getStatus();if(bt(Ea,`RPC '${e}' ${c} failed with status:`,Pe,"response text:",U.getResponseText()),Pe>0){let tt=U.getResponseJson();Array.isArray(tt)&&(tt=tt[0]);const Rt=tt?.error;if(Rt&&Rt.status&&Rt.message){const nn=function(En){const Gn=En.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Gn)>=0?Gn:pt.UNKNOWN}(Rt.status);S(new Ut(nn,Rt.message))}else S(new Ut(pt.UNKNOWN,"Server responded with status "+U.getStatus()))}else S(new Ut(pt.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{bt(Ea,`RPC '${e}' ${c} completed.`)}});const q=JSON.stringify(a);bt(Ea,`RPC '${e}' ${c} sending request:`,a),U.send(t,"POST",q,s,15)})}Ro(e,t,s){const a=up(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=oo(),S=ca(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new te({})),this.To(U.initMessageHeaders,t,s),U.encodeInitMessageHeaders=!0;const q=c.join("");bt(Ea,`Creating RPC '${e}' stream ${a}: ${q}`,U);const se=f.createWebChannel(q,U);let Pe=!1,tt=!1;const Rt=new cv({io:En=>{tt?bt(Ea,`Not sending because RPC '${e}' stream ${a} is closed:`,En):(Pe||(bt(Ea,`Opening RPC '${e}' stream ${a} transport.`),se.open(),Pe=!0),bt(Ea,`RPC '${e}' stream ${a} sending:`,En),se.send(En))},ro:()=>se.close()}),nn=(En,Gn,Br)=>{En.listen(Gn,Ai=>{try{Br(Ai)}catch(Yr){setTimeout(()=>{throw Yr},0)}})};return nn(se,Ie.EventType.OPEN,()=>{tt||bt(Ea,`RPC '${e}' stream ${a} transport opened.`)}),nn(se,Ie.EventType.CLOSE,()=>{tt||(tt=!0,bt(Ea,`RPC '${e}' stream ${a} transport closed`),Rt.fo())}),nn(se,Ie.EventType.ERROR,En=>{tt||(tt=!0,ai(Ea,`RPC '${e}' stream ${a} transport errored:`,En),Rt.fo(new Ut(pt.UNAVAILABLE,"The operation could not be completed")))}),nn(se,Ie.EventType.MESSAGE,En=>{var Gn;if(!tt){const Br=En.data[0];Dn(!!Br);const Yr=Br.error||(null===(Gn=Br[0])||void 0===Gn?void 0:Gn.error);if(Yr){bt(Ea,`RPC '${e}' stream ${a} received error:`,Yr);const $a=Yr.status;let Co=function(uu){const Qu=Ro[uu];if(void 0!==Qu)return Dg(Qu)}($a),Ls=Yr.message;void 0===Co&&(Co=pt.INTERNAL,Ls="Unknown error status: "+$a+" with message "+Yr.message),tt=!0,Rt.fo(new Ut(Co,Ls)),se.close()}else bt(Ea,`RPC '${e}' stream ${a} received:`,Br),Rt._o(Br)}}),nn(S,W.STAT_EVENT,En=>{En.stat===L.PROXY?bt(Ea,`RPC '${e}' stream ${a} detected buffering proxy`):En.stat===L.NOPROXY&&bt(Ea,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Rt.lo()},0),Rt}}function lm(){return typeof window<"u"?window:null}function Ph(){return typeof document<"u"?document:null}function ba(r){return new Vy(r,!0)}class lp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&bt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class cm{constructor(e,t,s,a,c,f,S,U){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=S,this.listener=U,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new lp(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,p.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,p.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,p.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===pt.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===pt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new Ut(pt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,p.Z)(function*(){e.state=0,e.start()}))}Zo(e){return bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $_ extends cm{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Rg(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:Jt(),a=e.targetChange.targetIds||[],c=function(U,q){return U.useProto3Json?(Dn(void 0===q||"string"==typeof q),Ns.fromBase64String(q||"")):(Dn(void 0===q||q instanceof Uint8Array),Ns.fromUint8Array(q||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,S=f&&function(U){const q=void 0===U.code?pt.UNKNOWN:Dg(U.code);return new Ut(q,U.message||"")}(f);t=new ky(s,a,c,S||null)}else if("documentChange"in e){const s=e.documentChange,a=zu(r,s.document.name),c=bo(s.document.updateTime),f=s.document.createTime?bo(s.document.createTime):_n.min(),S=new wr({mapValue:{fields:s.document.fields}}),U=xr.newFoundDocument(a,c,f,S);t=new Fc(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,a=zu(r,s.document),c=s.readTime?bo(s.readTime):_n.min(),f=xr.newNoDocument(a,c);t=new Fc([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=zu(r,s.document);t=new Fc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Jt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Ig(a,c);t=new Ny(s.targetId,f)}}var U;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return _n.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?_n.min():c.readTime?bo(c.readTime):_n.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=Vc(this.serializer),t.addTarget=function(a,c){let f;const S=c.target;if(f=fu(S)?{documents:Og(a,S)}:{query:yh(a,S)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Eo(a,c.resumeToken);const U=gd(a,c.expectedCount);null!==U&&(f.expectedCount=U)}else if(c.snapshotVersion.compareTo(_n.min())>0){f.readTime=Lc(a,c.snapshotVersion.toTimestamp());const U=gd(a,c.expectedCount);null!==U&&(f.expectedCount=U)}return f}(this.serializer,e);const s=function kf(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=Vc(this.serializer),t.removeTarget=e,this.zo(t)}}class cp extends cm{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function jy(r,e){return r&&r.length>0?(Dn(void 0!==e),r.map(t=>function(s,a){let c=bo(s.updateTime?s.updateTime:a);return c.isEqual(_n.min())&&(c=bo(a)),new gg(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=bo(e.commitTime);return this.listener.uu(s,t)}return Dn(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Vc(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Bc(this.serializer,s))};this.zo(t)}}class dm extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new Ut(pt.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ut(pt.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ao(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ut(pt.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class hv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(kr(t),this.wu=!1):bt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hm{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(S=>{s.enqueueAndForget((0,p.Z)(function*(){var U;Rl(f)&&(bt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,p.Z)(function*(q){const se=Zt(q);se.Au.add(4),yield Pl(se),se.Pu.set("Unknown"),se.Au.delete(4),yield kd(se)}),function(q){return U.apply(this,arguments)})(f))}))}),this.Pu=new hv(s,a)}}function kd(r){return hp.apply(this,arguments)}function hp(){return hp=(0,p.Z)(function*(r){if(Rl(r))for(const e of r.Ru)yield e(!0)}),hp.apply(this,arguments)}function Pl(r){return fp.apply(this,arguments)}function fp(){return fp=(0,p.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),fp.apply(this,arguments)}function Rh(r,e){const t=Zt(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Ld(t)?wu(t):Ku(t).Uo()&&pp(t,e))}function Fd(r,e){const t=Zt(r),s=Ku(t);t.Eu.delete(e),s.Uo()&&fm(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():Rl(t)&&t.Pu.set("Unknown"))}function pp(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_n.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ku(r).nu(e)}function fm(r,e){r.bu.Lt(e),Ku(r).su(e)}function wu(r){r.bu=new Fy({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),Ku(r).start(),r.Pu.mu()}function Ld(r){return Rl(r)&&!Ku(r).qo()&&r.Eu.size>0}function Rl(r){return 0===Zt(r).Au.size}function pm(r){r.bu=void 0}function gm(r){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(r){r.Eu.forEach((e,t)=>{pp(r,e)})}),gp.apply(this,arguments)}function fv(r,e){return mp.apply(this,arguments)}function mp(){return mp=(0,p.Z)(function*(r,e){pm(r),Ld(r)?(r.Pu.pu(e),wu(r)):r.Pu.set("Unknown")}),mp.apply(this,arguments)}function yp(r,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,p.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof ky&&2===e.state&&e.cause)try{yield(s=(0,p.Z)(function*(a,c){const f=c.cause;for(const S of c.targetIds)a.Eu.has(S)&&(yield a.remoteSyncer.rejectListen(S,f),a.Eu.delete(S),a.bu.removeTarget(S))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Oh(r,s)}else if(e instanceof Fc?r.bu.Wt(e):e instanceof Ny?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(_n.min()))try{const s=yield ip(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.bu.ue(c);return f.targetChanges.forEach((S,U)=>{if(S.resumeToken.approximateByteSize()>0){const q=a.Eu.get(U);q&&a.Eu.set(U,q.withResumeToken(S.resumeToken,c))}}),f.targetMismatches.forEach((S,U)=>{const q=a.Eu.get(S);if(!q)return;a.Eu.set(S,q.withResumeToken(Ns.EMPTY_BYTE_STRING,q.snapshotVersion)),fm(a,S);const se=new vu(q.target,S,U,q.sequenceNumber);pp(a,se)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){bt("RemoteStore","Failed to raise snapshot:",s),yield Oh(r,s)}var s}),vp.apply(this,arguments)}function Oh(r,e,t){return qc.apply(this,arguments)}function qc(){return qc=(0,p.Z)(function*(r,e,t){if(!ga(e))throw e;r.Au.add(1),yield Pl(r),r.Pu.set("Offline"),t||(t=()=>ip(r.localStore)),r.asyncQueue.enqueueRetryable((0,p.Z)(function*(){bt("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield kd(r)}))}),qc.apply(this,arguments)}function Vd(r,e){return e().catch(t=>Oh(r,t,e))}function ll(r){return mm.apply(this,arguments)}function mm(){return mm=(0,p.Z)(function*(r){const e=Zt(r),t=Ol(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;_p(e);)try{const a=yield sm(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,j_(e,a)}catch(a){yield Oh(e,a)}wp(e)&&Ep(e)}),mm.apply(this,arguments)}function _p(r){return Rl(r)&&r.Tu.length<10}function j_(r,e){r.Tu.push(e);const t=Ol(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function wp(r){return Rl(r)&&!Ol(r).qo()&&r.Tu.length>0}function Ep(r){Ol(r).start()}function ym(r){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,p.Z)(function*(r){Ol(r).au()}),Nh.apply(this,arguments)}function bp(r){return ku.apply(this,arguments)}function ku(){return ku=(0,p.Z)(function*(r){const e=Ol(r);for(const t of r.Tu)e.ou(t.mutations)}),ku.apply(this,arguments)}function kh(r,e,t){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,p.Z)(function*(r,e,t){const s=r.Tu.shift(),a=Eg.from(s,e,t);yield Vd(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield ll(r)}),Zc.apply(this,arguments)}function Ud(r,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,p.Z)(function*(r,e){var t;e&&Ol(r).ru&&(yield(t=(0,p.Z)(function*(s,a){if(Cg(c=a.code)&&c!==pt.ABORTED){const f=s.Tu.shift();Ol(s).Go(),yield Vd(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield ll(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),wp(r)&&Ep(r)}),Ip.apply(this,arguments)}function Cp(r,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,p.Z)(function*(r,e){const t=Zt(r);t.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const s=Rl(t);t.Au.add(3),yield Pl(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield kd(t)}),Fh.apply(this,arguments)}function Dp(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,p.Z)(function*(r,e){const t=Zt(r);e?(t.Au.delete(2),yield kd(t)):e||(t.Au.add(2),yield Pl(t),t.Pu.set("Unknown"))}),Tp.apply(this,arguments)}function Ku(r){return r.Vu||(r.Vu=function(e,t,s){const a=Zt(e);return a.lu(),new $_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:gm.bind(null,r),co:fv.bind(null,r),eu:yp.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Vu.Go(),Ld(r)?wu(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),pm(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function Ol(r){return r.Su||(r.Su=function(e,t,s){const a=Zt(e);return a.lu(),new cp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:ym.bind(null,r),co:Ud.bind(null,r),cu:bp.bind(null,r),uu:kh.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Su.Go(),yield ll(r)):(yield r.Su.stop(),r.Tu.length>0&&(bt("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class vm{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,S=new vm(e,t,f,a,c);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yc(r,e){if(kr("AsyncQueue",`${e}: ${r}`),ga(r))return new Ut(pt.UNAVAILABLE,`${e}: ${r}`);throw r}class Qc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||hn.comparator(t.key,s.key):(t,s)=>hn.comparator(t.key,s.key),this.keyedMap=ju(),this.sortedSet=new ui(this.comparator)}static emptySet(e){return new Qc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Qc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class _m{constructor(){this.Du=new ui(hn.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Jt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class Xc{constructor(e,t,s,a,c,f,S,U,q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=S,this.excludesMetadataChanges=U,this.hasCachedResults=q}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(S=>{f.push({type:0,doc:S})}),new Xc(e,t,Qc.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&en(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class pv{constructor(){this.xu=void 0,this.listeners=[]}}class gv{constructor(){this.queries=new Ru(e=>Sn(e),en),this.onlineState="Unknown",this.Nu=new Set}}function Sp(r,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,p.Z)(function*(r,e){const t=Zt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new pv),a)try{c.xu=yield t.onListen(s)}catch(f){const S=Yc(f,`Initialization of query '${qn(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&xp(t)}),Lh.apply(this,arguments)}function Bd(r,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,p.Z)(function*(r,e){const t=Zt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Ap.apply(this,arguments)}function Mp(r,e){const t=Zt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const S of f.listeners)S.Mu(a)&&(s=!0);f.xu=a}}s&&xp(t)}function mv(r,e,t){const s=Zt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function xp(r){r.Nu.forEach(e=>{e.next()})}class Pp{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class yv{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class wm{constructor(e){this.serializer=e}ir(e){return zu(this.serializer,e)}rr(e){return e.metadata.exists?Uc(this.serializer,e.document,!1):xr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return bo(e)}}class vv{constructor(e,t,s){this.Qu=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Em(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const s=Kn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,s=new wm(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.ir(a.metadata.name);for(const f of a.metadata.queries){const S=(t.get(f)||Lr()).add(c);t.set(f,S)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function uv(r,e,t,s){return Th.apply(this,arguments)}(e.localStore,new wm(e.serializer),e.documents,e.Qu.id),s=e.zu(e.documents);for(const a of e.queries)yield lv(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function Em(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Rp{constructor(e){this.key=e}}class Op{constructor(e){this.key=e}}class bm{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Lr(),this.mutatedKeys=Lr(),this.Zu=gu(e),this.tc=new Qc(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new _m,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,S=!1;const U="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,q="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((se,Pe)=>{const tt=a.get(se),Rt=Pr(this.query,Pe)?Pe:null,nn=!!tt&&this.mutatedKeys.has(tt.key),En=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let Gn=!1;tt&&Rt?tt.data.isEqual(Rt.data)?nn!==En&&(s.track({type:3,doc:Rt}),Gn=!0):this.ic(tt,Rt)||(s.track({type:2,doc:Rt}),Gn=!0,(U&&this.Zu(Rt,U)>0||q&&this.Zu(Rt,q)<0)&&(S=!0)):!tt&&Rt?(s.track({type:0,doc:Rt}),Gn=!0):tt&&!Rt&&(s.track({type:1,doc:tt}),Gn=!0,(U||q)&&(S=!0)),Gn&&(Rt?(f=f.add(Rt),c=En?c.add(se):c.delete(se)):(f=f.delete(se),c=c.delete(se)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const se="F"===this.query.limitType?f.last():f.first();f=f.delete(se.key),c=c.delete(se.key),s.track({type:1,doc:se})}return{tc:f,sc:s,ji:S,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((q,se)=>function(Pe,tt){const Rt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return Rt(Pe)-Rt(tt)}(q.type,se.type)||this.Zu(q.doc,se.doc)),this.rc(s);const f=t?this.oc():[],S=0===this.Xu.size&&this.current?1:0,U=S!==this.Yu;return this.Yu=S,0!==c.length||U?{snapshot:new Xc(this.query,e.tc,a,c,e.mutatedKeys,0===S,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:f}:{uc:f}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new _m,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Lr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new Op(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new Rp(s))}),t}ac(e){this.Ju=e.sr,this.Xu=Lr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Xc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class H_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Im{constructor(e){this.key=e,this.lc=!1}}class z_{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fc={},this.dc=new Ru(S=>Sn(S),en),this._c=new Map,this.wc=new Set,this.mc=new ui(hn.comparator),this.gc=new Map,this.yc=new Ih,this.Ic={},this.Tc=new Map,this.Ec=ac.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Vh(r,e){return Np.apply(this,arguments)}function Np(){return Np=(0,p.Z)(function*(r,e){const t=Wh(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const f=yield Ml(t.localStore,oe(e)),S=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield kp(t,e,s,"current"===S,f.resumeToken),t.isPrimaryClient&&Rh(t.remoteStore,f)}return a}),Np.apply(this,arguments)}function kp(r,e,t,s,a){return $d.apply(this,arguments)}function $d(){return $d=(0,p.Z)(function*(r,e,t,s,a){r.Rc=(Pe,tt,Rt)=>{return(nn=(0,p.Z)(function*(En,Gn,Br,Ai){let Yr=Gn.view.nc(Br);Yr.ji&&(Yr=yield Dh(En.localStore,Gn.query,!1).then(({documents:Ls})=>Gn.view.nc(Ls,Yr)));const $a=Ai&&Ai.targetChanges.get(Gn.targetId),Co=Gn.view.applyChanges(Yr,En.isPrimaryClient,$a);return Uh(En,Gn.targetId,Co.uc),Co.snapshot}),function(En,Gn,Br,Ai){return nn.apply(this,arguments)})(r,Pe,tt,Rt);var nn};const c=yield Dh(r.localStore,e,!0),f=new bm(e,c.sr),S=f.nc(c.documents),U=nc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),q=f.applyChanges(S,r.isPrimaryClient,U);Uh(r,t,q.uc);const se=new H_(e,t,f);return r.dc.set(e,se),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),q.snapshot}),$d.apply(this,arguments)}function _v(r,e){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,p.Z)(function*(r,e){const t=Zt(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!en(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Md(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Fd(t.remoteStore,s.targetId),fc(t,s.targetId)}).catch(qa))):(fc(t,s.targetId),yield Md(t.localStore,s.targetId,!0))}),Eu.apply(this,arguments)}function sa(){return sa=(0,p.Z)(function*(r,e,t){const s=Kh(r);try{const a=yield function(c,f){const S=Zt(c),U=vi.now(),q=f.reduce((tt,Rt)=>tt.add(Rt.key),Lr());let se,Pe;return S.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let Rt=wa(),nn=Lr();return S.Xi.getEntries(tt,q).next(En=>{Rt=En,Rt.forEach((Gn,Br)=>{Br.isValidDocument()||(nn=nn.add(Gn))})}).next(()=>S.localDocuments.getOverlayedDocuments(tt,Rt)).next(En=>{se=En;const Gn=[];for(const Br of f){const Ai=Oy(Br,se.get(Br.key).overlayedDocument);null!=Ai&&Gn.push(new sl(Br.key,Ai,Ci(Ai.value.mapValue),ls.exists(!0)))}return S.mutationQueue.addMutationBatch(tt,U,Gn,f)}).next(En=>{Pe=En;const Gn=En.applyToLocalDocumentSet(se,nn);return S.documentOverlayCache.saveOverlays(tt,En.batchId,Gn)})}).then(()=>({batchId:Pe.batchId,changes:Dc(se)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,S){let U=c.Ic[c.currentUser.toKey()];U||(U=new ui(or)),U=U.insert(f,S),c.Ic[c.currentUser.toKey()]=U}(s,a.batchId,t),yield qu(s,a.changes),yield ll(s.remoteStore)}catch(a){const c=Yc(a,"Failed to persist write");t.reject(c)}}),sa.apply(this,arguments)}function Nl(r,e){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,p.Z)(function*(r,e){const t=Zt(r);try{const s=yield function ov(r,e){const t=Zt(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const S=[];e.targetChanges.forEach((se,Pe)=>{const tt=a.get(Pe);if(!tt)return;S.push(t.Fs.removeMatchingKeys(c,se.removedDocuments,Pe).next(()=>t.Fs.addMatchingKeys(c,se.addedDocuments,Pe)));let Rt=tt.withSequenceNumber(c.currentSequenceNumber);var nn,En,Gn;null!==e.targetMismatches.get(Pe)?Rt=Rt.withResumeToken(Ns.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):se.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(se.resumeToken,s)),a=a.insert(Pe,Rt),En=Rt,Gn=se,(0===(nn=tt).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||Gn.addedDocuments.size+Gn.modifiedDocuments.size+Gn.removedDocuments.size>0)&&S.push(t.Fs.updateTargetData(c,Rt))});let U=wa(),q=Lr();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(c,se))}),S.push(sp(c,f,e.documentUpdates).next(se=>{U=se.er,q=se.nr})),!s.isEqual(_n.min())){const se=t.Fs.getLastRemoteSnapshotVersion(c).next(Pe=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));S.push(se)}return Ze.waitFor(S).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,U,q)).next(()=>U)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.gc.get(c);f&&(Dn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.lc=!0:a.modifiedDocuments.size>0?Dn(f.lc):a.removedDocuments.size>0&&(Dn(f.lc),f.lc=!1))}),yield qu(t,s,e)}catch(s){yield qa(s)}}),Jc.apply(this,arguments)}function ou(r,e,t){const s=Zt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,f)=>{const S=f.view.ku(e);S.snapshot&&a.push(S.snapshot)}),function(c,f){const S=Zt(c);S.onlineState=f;let U=!1;S.queries.forEach((q,se)=>{for(const Pe of se.listeners)Pe.ku(f)&&(U=!0)}),U&&xp(S)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Fp(r,e,t){return kl.apply(this,arguments)}function kl(){return kl=(0,p.Z)(function*(r,e,t){const s=Zt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let f=new ui(hn.comparator);f=f.insert(c,xr.newNoDocument(c,_n.min()));const S=Lr().add(c),U=new ph(_n.min(),new Map,new ui(or),f,S);yield Nl(s,U),s.mc=s.mc.remove(c),s.gc.delete(e),Bh(s)}else yield Md(s.localStore,e,!1).then(()=>fc(s,e,t)).catch(qa)}),kl.apply(this,arguments)}function ed(r,e){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,p.Z)(function*(r,e){const t=Zt(r),s=e.batch.batchId;try{const a=yield function sv(r,e){const t=Zt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(f,S,U,q){const se=U.batch,Pe=se.keys();let tt=Ze.resolve();return Pe.forEach(Rt=>{tt=tt.next(()=>q.getEntry(S,Rt)).next(nn=>{const En=U.docVersions.get(Rt);Dn(null!==En),nn.version.compareTo(En)<0&&(se.applyToRemoteDocument(nn,U),nn.isValidDocument()&&(nn.setReadTime(U.commitVersion),q.addEntry(nn)))})}),tt.next(()=>f.mutationQueue.removeMutationBatch(S,se))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let S=Lr();for(let U=0;U<f.mutationResults.length;++U)f.mutationResults[U].transformResults.length>0&&(S=S.add(f.batch.mutations[U].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Bl(t,s,null),Ul(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield qu(t,a)}catch(a){yield qa(a)}}),Fl.apply(this,arguments)}function td(r,e,t){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,p.Z)(function*(r,e,t){const s=Zt(r);try{const a=yield function(c,f){const S=Zt(c);return S.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let q;return S.mutationQueue.lookupMutationBatch(U,f).next(se=>(Dn(null!==se),q=se.keys(),S.mutationQueue.removeMutationBatch(U,se))).next(()=>S.mutationQueue.performConsistencyCheck(U)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(U,q,f)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,q)).next(()=>S.localDocuments.getDocuments(U,q))})}(s.localStore,e);Bl(s,e,t),Ul(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield qu(s,a)}catch(a){yield qa(a)}}),Ll.apply(this,arguments)}function Vl(){return Vl=(0,p.Z)(function*(r,e){const t=Zt(r);Rl(t.remoteStore)||bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const f=Zt(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>f.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Tc.get(s)||[];a.push(e),t.Tc.set(s,a)}catch(s){const a=Yc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Vl.apply(this,arguments)}function Ul(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function Bl(r,e,t){const s=Zt(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function fc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||Lp(r,s)})}function Lp(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(Fd(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),Bh(r))}function Uh(r,e,t){for(const s of t)s instanceof Rp?(r.yc.addReference(s.key,e),Cm(r,s)):s instanceof Op?(bt("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||Lp(r,s.key)):Jt()}function Cm(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(bt("SyncEngine","New document in limbo: "+t),r.wc.add(s),Bh(r))}function Bh(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new hn(Kn.fromString(e)),s=r.Ec.next();r.gc.set(s,new Im(t)),r.mc=r.mc.insert(t,s),Rh(r.remoteStore,new vu(oe(Xl(t.path)),s,"TargetPurposeLimboResolution",Gi.ct))}}function qu(r,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,p.Z)(function*(r,e,t){const s=Zt(r),a=[],c=[],f=[];var S;s.dc.isEmpty()||(s.dc.forEach((S,U)=>{f.push(s.Rc(U,e,t).then(q=>{if((q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,q?.fromCache?"not-current":"current"),q){a.push(q);const se=tp.Bi(U.targetId,q);c.push(se)}}))}),yield Promise.all(f),s.fc.eu(a),yield(S=(0,p.Z)(function*(U,q){const se=Zt(U);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Pe=>Ze.forEach(q,tt=>Ze.forEach(tt.$i,Rt=>se.persistence.referenceDelegate.addReference(Pe,tt.targetId,Rt)).next(()=>Ze.forEach(tt.Fi,Rt=>se.persistence.referenceDelegate.removeReference(Pe,tt.targetId,Rt)))))}catch(Pe){if(!ga(Pe))throw Pe;bt("LocalStore","Failed to update sequence numbers: "+Pe)}for(const Pe of q){const tt=Pe.targetId;if(!Pe.fromCache){const Rt=se.Hi.get(tt),En=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);se.Hi=se.Hi.insert(tt,En)}}}),function(U,q){return S.apply(this,arguments)})(s.localStore,c))}),$h.apply(this,arguments)}function Dm(r,e){return jh.apply(this,arguments)}function jh(){return jh=(0,p.Z)(function*(r,e){const t=Zt(r);if(!t.currentUser.isEqual(e)){bt("SyncEngine","User change. New user:",e.toKey());const s=yield im(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(f=>{f.forEach(S=>{S.reject(new Ut(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield qu(t,s.tr)}var a}),jh.apply(this,arguments)}function wv(r,e){const t=Zt(r),s=t.gc.get(e);if(s&&s.lc)return Lr().add(s.key);{let a=Lr();const c=t._c.get(e);if(!c)return a;for(const f of c){const S=t.dc.get(f);a=a.unionWith(S.view.ec)}return a}}function Ev(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,p.Z)(function*(r,e){const t=Zt(r),s=yield Dh(t.localStore,e.query,!0),a=e.view.ac(s);return t.isPrimaryClient&&Uh(t,e.targetId,a.uc),a}),Hh.apply(this,arguments)}function bv(r,e){return zh.apply(this,arguments)}function zh(){return zh=(0,p.Z)(function*(r,e){const t=Zt(r);return lc(t.localStore,e).then(s=>qu(t,s))}),zh.apply(this,arguments)}function Vp(r,e,t,s){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,p.Z)(function*(r,e,t,s){const a=Zt(r),c=yield function(f,S){const U=Zt(f),q=Zt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",se=>q.Vn(se,S).next(Pe=>Pe?U.localDocuments.getDocuments(se,Pe):Ze.resolve(null)))}(a.localStore,e);var S;null!==c?("pending"===t?yield ll(a.remoteStore):"acknowledged"===t||"rejected"===t?(Bl(a,e,s||null),Ul(a,e),S=e,Zt(Zt(a.localStore).mutationQueue).Dn(S)):Jt(),yield qu(a,c)):bt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Hd.apply(this,arguments)}function rd(){return rd=(0,p.Z)(function*(r,e){const t=Zt(r);if(Wh(t),Kh(t),!0===e&&!0!==t.Ac){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield zd(t,s.toArray());t.Ac=!0,yield Dp(t.remoteStore,!0);for(const c of a)Rh(t.remoteStore,c)}else if(!1===e&&!1!==t.Ac){const s=[];let a=Promise.resolve();t._c.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(fc(t,f),Md(t.localStore,f,!0))),Fd(t.remoteStore,f)}),yield a,yield zd(t,s),function(c){const f=Zt(c);f.gc.forEach((S,U)=>{Fd(f.remoteStore,U)}),f.yc.Is(),f.gc=new Map,f.mc=new ui(hn.comparator)}(t),t.Ac=!1,yield Dp(t.remoteStore,!1)}}),rd.apply(this,arguments)}function zd(r,e,t){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,p.Z)(function*(r,e,t){const s=Zt(r),a=[],c=[];for(const f of e){let S;const U=s._c.get(f);if(U&&0!==U.length){S=yield Ml(s.localStore,oe(U[0]));for(const q of U){const se=s.dc.get(q),Pe=yield Ev(s,se);Pe.snapshot&&c.push(Pe.snapshot)}}else{const q=yield av(s.localStore,f);S=yield Ml(s.localStore,q),yield kp(s,Tm(q),f,!1,S.resumeToken)}a.push(S)}return s.fc.eu(c),a}),Gd.apply(this,arguments)}function Tm(r){return ch(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Up(r){const e=Zt(r);return Zt(Zt(e.localStore).persistence).Mi()}function Bp(r,e,t,s){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,p.Z)(function*(r,e,t,s){const a=Zt(r);if(a.Ac)return void bt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield lc(a.localStore,ia(c[0])),S=ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ns.EMPTY_BYTE_STRING);yield qu(a,f,S);break}case"rejected":yield Md(a.localStore,e,!0),fc(a,e,s);break;default:Jt()}}),Gh.apply(this,arguments)}function Sm(r,e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,p.Z)(function*(r,e,t){const s=Wh(r);if(s.Ac){for(const a of e){if(s._c.has(a)){bt("SyncEngine","Adding an already active target "+a);continue}const c=yield av(s.localStore,a),f=yield Ml(s.localStore,c);yield kp(s,Tm(c),f.targetId,!1,f.resumeToken),Rh(s.remoteStore,f)}for(const a of t)s._c.has(a)&&(yield Md(s.localStore,a,!1).then(()=>{Fd(s.remoteStore,a),fc(s,a)}).catch(qa))}}),Wd.apply(this,arguments)}function Wh(r){const e=Zt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fp.bind(null,e),e.fc.eu=Mp.bind(null,e.eventManager),e.fc.vc=mv.bind(null,e.eventManager),e}function Kh(r){const e=Zt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ed.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=td.bind(null,e),e}class id{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=ba(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rm(this.persistence,new np,e.initialUser,this.serializer)}createPersistence(e){return new tm(Jf.js,this.serializer)}createSharedClientState(e){return new Ah}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qh extends id{constructor(e,t,s){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e),yield s.bc.initialize(s,e),yield Kh(s.bc.syncEngine),yield ll(s.bc.remoteStore),yield s.persistence.pi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return rm(this.persistence,new np,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Wg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new as(t,this.persistence);return new tl(e.asyncQueue,s)}createPersistence(e){const t=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ba.withCacheSize(this.cacheSizeBytes):Ba.DEFAULT;return new Al(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,lm(),Ph(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ah}}class jp extends qh{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e);const a=s.bc.syncEngine;s.sharedClientState instanceof Nd&&(s.sharedClientState.syncEngine={Qr:Vp.bind(null,a),jr:Bp.bind(null,a),zr:Sm.bind(null,a),Mi:Up.bind(null,a),Gr:bv.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.pi(function(){var c=(0,p.Z)(function*(f){yield function Iv(r,e){return rd.apply(this,arguments)}(s.bc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=lm();if(!Nd.D(t))throw new Ut(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class pc{initialize(e,t){var s=this;return(0,p.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>ou(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Dm.bind(null,s.syncEngine),yield Dp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gv}createDatastore(e){const t=ba(e.databaseInfo.databaseId),s=new um(e.databaseInfo);return new dm(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=S=>ou(this.syncEngine,S,0),f=Mh.D()?new Mh:new om,new hm(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,S,U,q){const se=new z_(s,a,c,f,S,U);return q&&(se.Ac=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const s=Zt(t);bt("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield Pl(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hp(r,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Zh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dv{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new zi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(s=>{s&&s.Gu()?this.metadata.resolve(s.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Ku)}`))},s=>this.metadata.reject(s))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const s=e.Cc.decode(t),a=Number(s);isNaN(a)&&e.kc(`length string (${s}) is not valid number`);const c=yield e.Mc(a);return new yv(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,p.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Mc(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const s=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,p.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Tv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ut(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,p.Z)(function*(c,f){const S=Zt(c),U=Vc(S.serializer)+"/documents",q={documents:f.map(Rt=>yd(S.serializer,Rt))},se=yield S.Ao("BatchGetDocuments",U,q,f.length),Pe=new Map;se.forEach(Rt=>{const nn=function Of(r,e){return"found"in e?function(t,s){Dn(!!s.found);const a=zu(t,s.found.name),c=bo(s.found.updateTime),f=s.found.createTime?bo(s.found.createTime):_n.min(),S=new wr({mapValue:{fields:s.found.fields}});return xr.newFoundDocument(a,c,f,S)}(r,e):"missing"in e?function(t,s){Dn(!!s.missing),Dn(!!s.readTime);const a=zu(t,s.missing),c=bo(s.readTime);return xr.newNoDocument(a,c)}(r,e):Jt()}(S.serializer,Rt);Pe.set(nn.key.toString(),nn)});const tt=[];return f.forEach(Rt=>{const nn=Pe.get(Rt.toString());Dn(!!nn),tt.push(nn)}),tt}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=hn.fromPath(a);e.mutations.push(new _g(c,e.precondition(c)))}),yield(s=(0,p.Z)(function*(a,c){const f=Zt(a),S=Vc(f.serializer)+"/documents",U={writes:c.map(q=>Bc(f.serializer,q))};yield f.po("Commit",S,U)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jt();t=_n.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Ut(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_n.min())?ls.exists(!1):ls.updateTime(t):ls.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_n.min()))throw new Ut(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ls.updateTime(t)}return ls.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Am{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Fc=s.maxAttempts,this.Lo=new lp(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,p.Z)(function*(){const t=new Tv(e.datastore),s=e.Lc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.qc(c)}))}).catch(a=>{e.qc(a)})}))}Lc(e){try{const t=this.updateFunction(e);return!Ta(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cg(t)}return!1}}class zp{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=me.UNAUTHENTICATED,this.clientId=Du.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,p.Z)(function*(S){bt("FirestoreClient","Received user=",S.uid),yield c.authCredentialListener(S),c.user=S});return function(S){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(bt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Yc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Kd(r,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,p.Z)(function*(c){s.isEqual(c)||(yield im(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Yh.apply(this,arguments)}function Qh(r,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Jh(r);bt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Cp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>Cp(e.remoteStore,c)),r._onlineComponents=e}),Xh.apply(this,arguments)}function Gp(r){return"FirebaseError"===r.name?r.code===pt.FAILED_PRECONDITION||r.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Jh(r){return ef.apply(this,arguments)}function ef(){return ef=(0,p.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){bt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Gp(t))throw t;ai("Error using user provided cache. Falling back to memory cache: "+t),yield Kd(r,new id)}}else bt("FirestoreClient","Using default OfflineComponentProvider"),yield Kd(r,new id);return r._offlineComponents}),ef.apply(this,arguments)}function qd(r){return sd.apply(this,arguments)}function sd(){return sd=(0,p.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(bt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qh(r,r._uninitializedComponentsProvider._online)):(bt("FirestoreClient","Using default OnlineComponentProvider"),yield Qh(r,new pc))),r._onlineComponents}),sd.apply(this,arguments)}function cl(r){return Jh(r).then(e=>e.persistence)}function tf(r){return Jh(r).then(e=>e.localStore)}function Mm(r){return qd(r).then(e=>e.remoteStore)}function Zd(r){return qd(r).then(e=>e.syncEngine)}function jl(r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,p.Z)(function*(r){const e=yield qd(r),t=e.eventManager;return t.onListen=Vh.bind(null,e.syncEngine),t.onUnlisten=_v.bind(null,e.syncEngine),t}),Wp.apply(this,arguments)}function xm(r,e,t={}){const s=new zi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,S,U){const q=new Zh({next:Pe=>{c.enqueueAndForget(()=>Bd(a,se));const tt=Pe.docs.has(f);!tt&&Pe.fromCache?U.reject(new Ut(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&Pe.fromCache&&S&&"server"===S.source?U.reject(new Ut(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Pe)},error:Pe=>U.reject(Pe)}),se=new Pp(Xl(f.path),q,{includeMetadataChanges:!0,Uu:!0});return Sp(a,se)}(yield jl(r),r.asyncQueue,e,t,s)})),s.promise}function qp(r,e,t={}){const s=new zi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,S,U){const q=new Zh({next:Pe=>{c.enqueueAndForget(()=>Bd(a,se)),Pe.fromCache&&"server"===S.source?U.reject(new Ut(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Pe)},error:Pe=>U.reject(Pe)}),se=new Pp(f,q,{includeMetadataChanges:!0,Uu:!0});return Sp(a,se)}(yield jl(r),r.asyncQueue,e,t,s)})),s.promise}const Rm=new Map;function nf(r,e,t){if(!t)throw new Ut(pt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Om(r,e,t,s){if(!0===e&&!0===s)throw new Ut(pt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Zp(r){if(!hn.isDocumentKey(r))throw new Ut(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yp(r){if(hn.isDocumentKey(r))throw new Ut(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dl(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Jt()}function di(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ut(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dl(r);throw new Ut(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Nm(r,e){if(e<=0)throw new Ut(pt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Qp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Om("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Cu;switch(t.type){case"firstParty":return new Uu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ut(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rm.get(e);t&&(bt("ComponentProvider","Removing Datastore"),Rm.delete(e),t.terminate())}(this),Promise.resolve()}}function Xp(r,e,t,s={}){var a;const c=(r=di(r,Yd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&ai("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,S;if("string"==typeof s.mockUserToken)f=s.mockUserToken,S=me.MOCK_USER;else{f=(0,Ce.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Ut(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new me(U)}r._authCredentials=new Vu(new za(f,S))}}class Io{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Io(this.firestore,e,this._key)}}class oa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class bu extends oa{constructor(e,t,s){super(e,t,Xl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Io(this.firestore,null,new hn(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function Zu(r,e,...t){if(r=(0,Ce.m9)(r),nf("collection","path",e),r instanceof Yd){const s=Kn.fromString(e,...t);return Yp(s),new bu(r,null,s)}{if(!(r instanceof Io||r instanceof bu))throw new Ut(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Kn.fromString(e,...t));return Yp(s),new bu(r.firestore,null,s)}}function xv(r,e){if(r=di(r,Yd),nf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ut(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oa(r,null,(t=e,new pu(Kn.emptyPath(),t)));var t}function km(r,e,...t){if(r=(0,Ce.m9)(r),1===arguments.length&&(e=Du.A()),nf("doc","path",e),r instanceof Yd){const s=Kn.fromString(e,...t);return Zp(s),new Io(r,null,new hn(s))}{if(!(r instanceof Io||r instanceof bu))throw new Ut(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Kn.fromString(e,...t));return Zp(s),new Io(r.firestore,r instanceof bu?r.converter:null,new hn(s))}}function Yu(r,e){return r=(0,Ce.m9)(r),e=(0,Ce.m9)(e),(r instanceof Io||r instanceof bu)&&(e instanceof Io||e instanceof bu)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function au(r,e){return r=(0,Ce.m9)(r),e=(0,Ce.m9)(e),r instanceof oa&&e instanceof oa&&r.firestore===e.firestore&&en(r._query,e._query)&&r.converter===e.converter}class Fu{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new lp(this,"async_queue_retry"),this.Yc=()=>{const t=Ph();t&&bt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new zi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,p.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!ga(t))throw t;bt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,kr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=vm.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&Jt()}verifyOperationInProgress(){}na(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function rf(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Fm{constructor(){this._progressObserver={},this._taskCompletionResolver=new zi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Pv=-1;class As extends Yd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Fu,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||od(this),this._firestoreClient.terminate()}}function Rv(r,e){const t="object"==typeof r?r:(0,E.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,E._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,Ce.P0)("firestore");c&&Xp(a,...c)}return a}function Zs(r){return r._firestoreClient||od(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function od(r){var e,t,s;const a=r._freezeSettings(),c=(S=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new il(r._databaseId,S,r._persistenceKey,(q=a).host,q.ssl,q.experimentalForceLongPolling,q.experimentalAutoDetectLongPolling,q.useFetchStreams));var S,q;r._firestoreClient=new zp(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Ov(r,e){af(r=di(r,As));const t=Zs(r);if(t._uninitializedComponentsProvider)throw new Ut(pt.FAILED_PRECONDITION,"SDK cache is already specified.");ai("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new pc;return Vm(t,a,new qh(a,s.cacheSizeBytes,e?.forceOwnership))}function Lm(r){af(r=di(r,As));const e=Zs(r);if(e._uninitializedComponentsProvider)throw new Ut(pt.FAILED_PRECONDITION,"SDK cache is already specified.");ai("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new pc;return Vm(e,s,new jp(s,t.cacheSizeBytes))}function Vm(r,e,t){const s=new zi;return r.asyncQueue.enqueue((0,p.Z)(function*(){try{yield Kd(r,t),yield Qh(r,e),s.resolve()}catch(a){const c=a;if(!Gp(c))throw c;ai("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Nv(r){if(r._initialized&&!r._terminated)throw new Ut(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(s){if(!wo.D())return Promise.resolve();const a=s+"main";yield wo.delete(a)}),function(s){return t.apply(this,arguments)})(Kc(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Um(r){return function(e){const t=new zi;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function nd(r,e){return Vl.apply(this,arguments)}(yield Zd(e),t)})),t.promise}(Zs(r=di(r,As)))}function Bm(r){return function Kp(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield cl(r),t=yield Mm(r);return e.setNetworkEnabled(!0),function(s){const a=Zt(s);return a.Au.delete(0),kd(a)}(t)}))}(Zs(r=di(r,As)))}function sf(r){return function G_(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield cl(r),t=yield Mm(r);return e.setNetworkEnabled(!1),(s=(0,p.Z)(function*(a){const c=Zt(a);c.Au.add(0),yield Pl(c),c.Pu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Zs(r=di(r,As)))}function $m(r,e){const t=Zs(r=di(r,As)),s=new Fm;return function Ko(r,e,t,s){const a=function(c,f){let S;return S="string"==typeof c?kc().encode(c):c,U=function(U,q){if(U instanceof Uint8Array)return Hp(U,q);if(U instanceof ArrayBuffer)return Hp(new Uint8Array(U),q);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new Dv(U,f);var U}(t,ba(e));r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function $p(r,e,t){const s=Zt(r);var a;(a=(0,p.Z)(function*(c,f,S){try{const U=yield f.getMetadata();if(yield function(tt,Rt){const nn=Zt(tt),En=bo(Rt.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",Gn=>nn.Ls.getBundleMetadata(Gn,Rt.id)).then(Gn=>!!Gn&&Gn.createTime.compareTo(En)>=0)}(c.localStore,U))return yield f.close(),S._completeWith({taskState:"Success",documentsLoaded:(tt=U).totalDocuments,bytesLoaded:tt.totalBytes,totalDocuments:tt.totalDocuments,totalBytes:tt.totalBytes}),Promise.resolve(new Set);S._updateProgress(Em(U));const q=new vv(U,c.localStore,f.serializer);let se=yield f.Pc();for(;se;){const tt=yield q.ju(se);tt&&S._updateProgress(tt),se=yield f.Pc()}const Pe=yield q.complete();return yield qu(c,Pe.Hu,void 0),yield function(tt,Rt){const nn=Zt(tt);return nn.persistence.runTransaction("Save bundle","readwrite",En=>nn.Ls.saveBundleMetadata(En,Rt))}(c.localStore,U),S._completeWith(Pe.progress),Promise.resolve(Pe.Wu)}catch(U){return ai("SyncEngine",`Loading bundle failed with ${U}`),S._failWith(U),Promise.resolve(new Set)}var tt}),function(c,f,S){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Zd(r),a,s)}))}(t,r._databaseId,e,s),s}function jm(r,e){return function Pm(r,e){return r.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,s){const a=Zt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ls.getNamedQuery(c,s))}(yield tf(r),e)}))}(Zs(r=di(r,As)),e).then(t=>t?new oa(r,null,t.query):null)}function af(r){if(r._initialized||r._terminated)throw new Ut(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(Ns.fromBase64String(e))}catch(t){throw new Ut(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hl(Ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ut(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zl{constructor(e){this._methodName=e}}class Qd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return or(this._lat,e._lat)||or(this._long,e._long)}}const zm=/^__.*__$/;class Gm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}}class Wm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new sl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Km(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class uf{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return eh(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Km(this.ua)&&zm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ba(e)}ga(e,t,s,a=!1){return new uf({ua:e,methodName:t,ma:s,path:gi.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gc(r){const e=r._freezeSettings(),t=ba(r._databaseId);return new Fv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lf(r,e,t,s,a,c={}){const f=r.ga(c.merge||c.mergeFields?2:0,e,t,a);cf("Data must be an object, but it was:",f,s);const S=Ym(s,f);let U,q;if(c.merge)U=new Wo(f.fieldMask),q=f.fieldTransforms;else if(c.mergeFields){const se=[];for(const Pe of c.mergeFields){const tt=ad(e,Pe,t);if(!f.contains(tt))throw new Ut(pt.INVALID_ARGUMENT,`Field '${tt}' is specified in your field mask but missing from your input data.`);ng(se,tt)||se.push(tt)}U=new Wo(se),q=f.fieldTransforms.filter(Pe=>U.covers(Pe.field))}else U=null,q=f.fieldTransforms;return new Gm(new wr(S),U,q)}class Xd extends zl{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function qm(r,e,t){return new uf({ua:3,ma:e.settings.ma,methodName:r._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jp extends zl{_toFieldTransform(e){return new tc(e.path,new ec)}isEqual(e){return e instanceof Jp}}class Lv extends zl{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=qm(this,e,!0),s=this.ya.map(c=>mc(c,t)),a=new Hu(s);return new tc(e.path,a)}isEqual(e){return this===e}}class Vv extends zl{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=qm(this,e,!0),s=this.ya.map(c=>mc(c,t)),a=new mu(s);return new tc(e.path,a)}isEqual(e){return this===e}}class Uv extends zl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Mc(e.serializer,Df(e.serializer,this.pa));return new tc(e.path,t)}isEqual(e){return this===e}}function eg(r,e,t,s){const a=r.ga(1,e,t);cf("Data must be an object, but it was:",a,s);const c=[],f=wr.empty();ra(s,(U,q)=>{const se=Jd(e,U,t);q=(0,Ce.m9)(q);const Pe=a.fa(se);if(q instanceof Xd)c.push(se);else{const tt=mc(q,Pe);null!=tt&&(c.push(se),f.set(se,tt))}});const S=new Wo(c);return new Wm(f,S,a.fieldTransforms)}function tg(r,e,t,s,a,c){const f=r.ga(1,e,t),S=[ad(e,s,t)],U=[a];if(c.length%2!=0)throw new Ut(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let tt=0;tt<c.length;tt+=2)S.push(ad(e,c[tt])),U.push(c[tt+1]);const q=[],se=wr.empty();for(let tt=S.length-1;tt>=0;--tt)if(!ng(q,S[tt])){const Rt=S[tt];let nn=U[tt];nn=(0,Ce.m9)(nn);const En=f.fa(Rt);if(nn instanceof Xd)q.push(Rt);else{const Gn=mc(nn,En);null!=Gn&&(q.push(Rt),se.set(Rt,Gn))}}const Pe=new Wo(q);return new Wm(se,Pe,f.fieldTransforms)}function Zm(r,e,t,s=!1){return mc(t,r.ga(s?4:3,e))}function mc(r,e){if(Qm(r=(0,Ce.m9)(r)))return cf("Unsupported field value:",e,r),Ym(r,e);if(r instanceof zl)return function(t,s){if(!Km(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let S=mc(f,s.da(c));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,Ce.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Df(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=vi.fromDate(t);return{timestampValue:Lc(s.serializer,a)}}if(t instanceof vi){const a=new vi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lc(s.serializer,a)}}if(t instanceof Qd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hl)return{bytesValue:Eo(s.serializer,t._byteString)};if(t instanceof Io){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:md(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${dl(t)}`)}(r,e)}function Ym(r,e){const t={};return ml(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(r,(s,a)=>{const c=mc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Qm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof vi||r instanceof Qd||r instanceof hl||r instanceof Io||r instanceof zl)}function cf(r,e,t){if(!Qm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=dl(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ad(r,e,t){if((e=(0,Ce.m9)(e))instanceof fl)return e._internalPath;if("string"==typeof e)return Jd(r,e);throw eh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Xm=new RegExp("[~\\*/\\[\\]]");function Jd(r,e,t){if(e.search(Xm)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fl(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function eh(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let U="";return(c||f)&&(U+=" (found",c&&(U+=` in field ${s}`),f&&(U+=` in document ${a}`),U+=")"),new Ut(pt.INVALID_ARGUMENT,S+r+U)}function ng(r,e){return r.some(t=>t.isEqual(e))}class ud{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jm extends ud{data(){return super.data()}}function th(r,e){return"string"==typeof e?Jd(r,e):e instanceof fl?e._internalPath:e._delegate._internalPath}function rg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ut(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class Lu extends df{}function Bv(r,e,...t){let s=[];e instanceof df&&s.push(e),s=s.concat(t),function(a){const c=a.filter(S=>S instanceof rh).length,f=a.filter(S=>S instanceof nh).length;if(c>1||c>0&&f>0)throw new Ut(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class nh extends Lu{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new nh(e,t,s)}_apply(e){const t=this._parse(e);return og(e._query,t),new oa(e.firestore,e.converter,We(e._query,t))}_parse(e){const t=gc(e.firestore);return function(a,c,f,S,U,q,se){let Pe;if(U.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new Ut(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){sg(se,q);const tt=[];for(const Rt of se)tt.push(Hv(S,a,Rt));Pe={arrayValue:{values:tt}}}else Pe=Hv(S,a,se)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||sg(se,q),Pe=Zm(f,"where",se,"in"===q||"not-in"===q);return Ae.create(U,q,Pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function ld(r,e,t){const s=e,a=th("where",r);return nh._create(a,s,t)}class rh extends df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rh(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ye.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const S of f)og(c,S),c=We(c,S)}(e._query,t),new oa(e.firestore,e.converter,We(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hf extends Lu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hf(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Ut(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ut(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new z(a,c);return function(S,U){if(null===d(S)){const q=g(S);null!==q&&ny(0,q,U.field)}}(s,f),f}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new pu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function ty(r,e="asc"){const t=e,s=th("orderBy",r);return hf._create(s,t)}class ig extends Lu{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new ig(e,t,s)}_apply(e){return new oa(e.firestore,e.converter,mt(e._query,this._limit,this._limitType))}}function Er(r){return Nm("limit",r),ig._create("limit",r,"F")}function $v(r){return Nm("limitToLast",r),ig._create("limitToLast",r,"L")}class ff extends Lu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ff(e,t,s)}_apply(e){const t=Ys(e,this.type,this._docOrFields,this._inclusive);return new oa(e.firestore,e.converter,(a=t,new pu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function jv(...r){return ff._create("startAt",r,!0)}function cd(...r){return ff._create("startAfter",r,!1)}class pf extends Lu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new pf(e,t,s)}_apply(e){const t=Ys(e,this.type,this._docOrFields,this._inclusive);return new oa(e.firestore,e.converter,(a=t,new pu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function gf(...r){return pf._create("endBefore",r,!1)}function mf(...r){return pf._create("endAt",r,!0)}function Ys(r,e,t,s){if(t[0]=(0,Ce.m9)(t[0]),t[0]instanceof ud)return function(a,c,f,S,U){if(!S)throw new Ut(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const q=[];for(const se of Y(a))if(se.field.isKeyField())q.push(Q(c,S.key));else{const Pe=S.data.field(se.field);if(vl(Pe))throw new Ut(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Pe){const tt=se.field.canonicalString();throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tt}' (used as the orderBy) does not exist.`)}q.push(Pe)}return new $i(q,U)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=gc(r.firestore);return function(c,f,S,U,q,se){const Pe=c.explicitOrderBy;if(q.length>Pe.length)throw new Ut(pt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tt=[];for(let Rt=0;Rt<q.length;Rt++){const nn=q[Rt];if(Pe[Rt].field.isKeyField()){if("string"!=typeof nn)throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof nn}`);if(!T(c)&&-1!==nn.indexOf("/"))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${nn}' contains a slash.`);const En=c.path.child(Kn.fromString(nn));if(!hn.isDocumentKey(En))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const Gn=new hn(En);tt.push(Q(f,Gn))}else{const En=Zm(S,U,nn);tt.push(En)}}return new $i(tt,se)}(r._query,r.firestore._databaseId,a,e,t,s)}}function Hv(r,e,t){if("string"==typeof(t=(0,Ce.m9)(t))){if(""===t)throw new Ut(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T(e)&&-1!==t.indexOf("/"))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Kn.fromString(t));if(!hn.isDocumentKey(s))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q(r,new hn(s))}if(t instanceof Io)return Q(r,t._key);throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dl(t)}.`)}function sg(r,e){if(!Array.isArray(r)||0===r.length)throw new Ut(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function og(r,e){if(e.isInequality()){const s=g(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=d(r);null!==c&&ny(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ut(pt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ny(r,e,t){if(!t.isEqual(e))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class yf{convertValue(e,t="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ra(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Qd(us(e.latitude),us(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=iu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=Qa(e);return new vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Kn.fromString(e);Dn(vh(s));const a=new ka(s.get(1),s.get(3)),c=new hn(s.popFirst(5));return a.isEqual(t)||kr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function ih(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class ry extends yf{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Io(this.firestore,null,t)}}class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends ud{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Gl extends vc{data(e={}){return super.data(e)}}class Wl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Gl(this._firestore,this._userDataWriter,s.key,s,new yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Gl(s._firestore,s._userDataWriter,f.doc.key,f.doc,new yc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const S=new Gl(s._firestore,s._userDataWriter,f.doc.key,f.doc,new yc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,q=-1;return 0!==f.type&&(U=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),q=c.indexOf(f.doc.key)),{type:iy(f.type),doc:S,oldIndex:U,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iy(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function sy(r,e){return r instanceof vc&&e instanceof vc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Wl&&e instanceof Wl&&r._firestore===e._firestore&&au(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Gv(r){r=di(r,Io);const e=di(r.firestore,As);return xm(Zs(e),r._key).then(t=>cy(e,r,t))}class Iu extends yf{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Io(this.firestore,null,t)}}function sh(r){r=di(r,Io);const e=di(r.firestore,As),t=Zs(e),s=new Iu(e);return function W_(r,e){const t=new zi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const S=yield function(U,q){const se=Zt(U);return se.persistence.runTransaction("read document","readonly",Pe=>se.localDocuments.getDocument(Pe,q))}(a,c);S.isFoundDocument()?f.resolve(S):S.isNoDocument()?f.resolve(null):f.reject(new Ut(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const U=Yc(S,`Failed to get document '${c} from cache`);f.reject(U)}}),function(a,c,f){return s.apply(this,arguments)})(yield tf(r),e,t);var s})),t.promise}(t,r._key).then(a=>new vc(e,s,r._key,a,new yc(null!==a&&a.hasLocalMutations,!0),r.converter))}function Wv(r){r=di(r,Io);const e=di(r.firestore,As);return xm(Zs(e),r._key,{source:"server"}).then(t=>cy(e,r,t))}function Kv(r){r=di(r,oa);const e=di(r.firestore,As),t=Zs(e),s=new Iu(e);return rg(r._query),qp(t,r._query).then(a=>new Wl(e,s,r,a))}function qv(r){r=di(r,oa);const e=di(r.firestore,As),t=Zs(e),s=new Iu(e);return function Sv(r,e){const t=new zi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const S=yield Dh(a,c,!0),U=new bm(c,S.sr),q=U.nc(S.documents),se=U.applyChanges(q,!1);f.resolve(se.snapshot)}catch(S){const U=Yc(S,`Failed to execute query '${c} against cache`);f.reject(U)}}),function(a,c,f){return s.apply(this,arguments)})(yield tf(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Wl(e,s,r,a))}function oy(r){r=di(r,oa);const e=di(r.firestore,As),t=Zs(e),s=new Iu(e);return qp(t,r._query,{source:"server"}).then(a=>new Wl(e,s,r,a))}function ay(r,e,t){r=di(r,Io);const s=di(r.firestore,As),a=ih(r.converter,e,t);return oh(s,[lf(gc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ls.none())])}function uy(r,e,t,...s){r=di(r,Io);const a=di(r.firestore,As),c=gc(a);let f;return f="string"==typeof(e=(0,Ce.m9)(e))||e instanceof fl?tg(c,"updateDoc",r._key,e,t,s):eg(c,"updateDoc",r._key,e),oh(a,[f.toMutation(r._key,ls.exists(!0))])}function Zv(r){return oh(di(r.firestore,As),[new Nc(r._key,ls.none())])}function ly(r,e){const t=di(r.firestore,As),s=km(r),a=ih(r.converter,e);return oh(t,[lf(gc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ls.exists(!1))]).then(()=>s)}function Yv(r,...e){var t,s,a;r=(0,Ce.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||rf(e[f])||(c=e[f],f++);const S={includeMetadataChanges:c.includeMetadataChanges};if(rf(e[f])){const Pe=e[f];e[f]=null===(t=Pe.next)||void 0===t?void 0:t.bind(Pe),e[f+1]=null===(s=Pe.error)||void 0===s?void 0:s.bind(Pe),e[f+2]=null===(a=Pe.complete)||void 0===a?void 0:a.bind(Pe)}let U,q,se;if(r instanceof Io)q=di(r.firestore,As),se=Xl(r._key.path),U={next:Pe=>{e[f]&&e[f](cy(q,r,Pe))},error:e[f+1],complete:e[f+2]};else{const Pe=di(r,oa);q=di(Pe.firestore,As),se=Pe._query;const tt=new Iu(q);U={next:Rt=>{e[f]&&e[f](new Wl(q,tt,Pe,Rt))},error:e[f+1],complete:e[f+2]},rg(r._query)}return function(Pe,tt,Rt,nn){const En=new Zh(nn),Gn=new Pp(tt,En,Rt);return Pe.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Sp(yield jl(Pe),Gn)})),()=>{En.Sc(),Pe.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Bd(yield jl(Pe),Gn)}))}}(Zs(q),se,S,U)}function Qv(r,e){return function Av(r,e){const t=new Zh(e);return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield jl(r),a=t,Zt(s).Nu.add(a),void a.next();var s,a})),()=>{t.Sc(),r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield jl(r),a=t,void Zt(s).Nu.delete(a);var s,a}))}}(Zs(r=di(r,As)),rf(e)?e:{next:e})}function oh(r,e){return function(t,s){const a=new zi;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function jd(r,e,t){return sa.apply(this,arguments)}(yield Zd(t),s,a)})),a.promise}(Zs(r),e)}function cy(r,e,t){const s=t.docs.get(e._key),a=new Iu(r);return new vc(r,a,e._key,s,new yc(t.hasPendingWrites,t.fromCache),e.converter)}const hy={maxAttempts:5};class fy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gc(e)}set(e,t,s){this._verifyNotCommitted();const a=Kl(e,this._firestore),c=ih(a.converter,t,s),f=lf(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,ls.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Kl(e,this._firestore);let f;return f="string"==typeof(t=(0,Ce.m9)(t))||t instanceof fl?tg(this._dataReader,"WriteBatch.update",c._key,t,s,a):eg(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,ls.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kl(e,this._firestore);return this._mutations=this._mutations.concat(new Nc(t._key,ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kl(r,e){if((r=(0,Ce.m9)(r)).firestore!==e)throw new Ut(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class ah extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gc(e)}get(e){const t=Kl(e,this._firestore),s=new ry(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Jt();const c=a[0];if(c.isFoundDocument())return new ud(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new ud(this._firestore,s,t._key,null,t.converter);throw Jt()})}set(e,t,s){const a=Kl(e,this._firestore),c=ih(a.converter,t,s),f=lf(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const c=Kl(e,this._firestore);let f;return f="string"==typeof(t=(0,Ce.m9)(t))||t instanceof fl?tg(this._dataReader,"Transaction.update",c._key,t,s,a):eg(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=Kl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kl(e,this._firestore),s=new Iu(this._firestore);return super.get(e).then(a=>new vc(this._firestore,s,t._key,a._document,new yc(!1,!1),t.converter))}}function r_(r,e,t){r=di(r,As);const s=Object.assign(Object.assign({},hy),t);return function(a){if(a.maxAttempts<1)throw new Ut(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,f){const S=new zi;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const U=yield function $l(r){return qd(r).then(e=>e.datastore)}(a);new Am(a.asyncQueue,U,f,c,S).run()})),S.promise}(Zs(r),a=>e(new ah(r,a)),s)}function py(){return new Xd("deleteField")}function i_(){return new Jp("serverTimestamp")}function gy(...r){return new Lv("arrayUnion",r)}function s_(...r){return new Vv("arrayRemove",r)}function my(r){return new Uv("increment",r)}!function(r,e=!0){et=E.SDK_VERSION,(0,E._registerComponent)(new G.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new As(new jo(t.getProvider("auth-internal")),new gl(t.getProvider("app-check-internal")),function(S,U){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Ut(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(S.options.projectId,U)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,E.registerVersion)(Z,"3.11.0",r),(0,E.registerVersion)(Z,"3.11.0","esm2017")}()},2090:(cn,je,j)=>{"use strict";j.d(je,{$s:()=>be,BH:()=>it,G6:()=>wt,L:()=>Qe,LL:()=>vn,P0:()=>Lt,Pz:()=>Re,Sg:()=>At,UG:()=>It,US:()=>Be,ZB:()=>Ne,ZR:()=>gn,aH:()=>_e,b$:()=>Wt,eu:()=>Pt,hl:()=>$t,jU:()=>pn,m9:()=>vt,ne:()=>Cn,pd:()=>li,r3:()=>rr,ru:()=>Vt,tV:()=>pe,uI:()=>ze,vZ:()=>an,w1:()=>st,xO:()=>ir,xb:()=>fr,z$:()=>ht,zI:()=>jt,zd:()=>Qr});const Te=function(ge){const he=[];let ee=0;for(let ne=0;ne<ge.length;ne++){let X=ge.charCodeAt(ne);X<128?he[ee++]=X:X<2048?(he[ee++]=X>>6|192,he[ee++]=63&X|128):55296==(64512&X)&&ne+1<ge.length&&56320==(64512&ge.charCodeAt(ne+1))?(X=65536+((1023&X)<<10)+(1023&ge.charCodeAt(++ne)),he[ee++]=X>>18|240,he[ee++]=X>>12&63|128,he[ee++]=X>>6&63|128,he[ee++]=63&X|128):(he[ee++]=X>>12|224,he[ee++]=X>>6&63|128,he[ee++]=63&X|128)}return he},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,he){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let X=0;X<ge.length;X+=3){const Se=ge[X],ye=X+1<ge.length,ve=ye?ge[X+1]:0,le=X+2<ge.length,Me=le?ge[X+2]:0;let qt=(15&ve)<<2|Me>>6,dn=63&Me;le||(dn=64,ye||(qt=64)),ne.push(ee[Se>>2],ee[(3&Se)<<4|ve>>4],ee[qt],ee[dn])}return ne.join("")},encodeString(ge,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(ge):this.encodeByteArray(Te(ge),he)},decodeString(ge,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(ge):function(ge){const he=[];let ee=0,ne=0;for(;ee<ge.length;){const X=ge[ee++];if(X<128)he[ne++]=String.fromCharCode(X);else if(X>191&&X<224){const Se=ge[ee++];he[ne++]=String.fromCharCode((31&X)<<6|63&Se)}else if(X>239&&X<365){const le=((7&X)<<18|(63&ge[ee++])<<12|(63&ge[ee++])<<6|63&ge[ee++])-65536;he[ne++]=String.fromCharCode(55296+(le>>10)),he[ne++]=String.fromCharCode(56320+(1023&le))}else{const Se=ge[ee++],ye=ge[ee++];he[ne++]=String.fromCharCode((15&X)<<12|(63&Se)<<6|63&ye)}}return he.join("")}(this.decodeStringToByteArray(ge,he))},decodeStringToByteArray(ge,he){this.init_();const ee=he?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let X=0;X<ge.length;){const Se=ee[ge.charAt(X++)],ve=X<ge.length?ee[ge.charAt(X)]:0;++X;const Me=X<ge.length?ee[ge.charAt(X)]:64;++X;const Ct=X<ge.length?ee[ge.charAt(X)]:64;if(++X,null==Se||null==ve||null==Me||null==Ct)throw new ke;ne.push(Se<<2|ve>>4),64!==Me&&(ne.push(ve<<4&240|Me>>2),64!==Ct&&ne.push(Me<<6&192|Ct))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qe=function(ge){return function(ge){const he=Te(ge);return Be.encodeByteArray(he,!0)}(ge).replace(/\./g,"")},pe=function(ge){try{return Be.decodeString(ge,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function Ne(ge,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return he}for(const ee in he)!he.hasOwnProperty(ee)||!gt(ee)||(ge[ee]=Ne(ge[ee],he[ee]));return ge}function gt(ge){return"__proto__"!==ge}const Et=()=>{try{return function yt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=ge&&pe(ge[1]);return he&&JSON.parse(he)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},Lt=ge=>{const he=(ge=>{var he,ee;return null===(ee=null===(he=Et())||void 0===he?void 0:he.emulatorHosts)||void 0===ee?void 0:ee[ge]})(ge);if(!he)return;const ee=he.lastIndexOf(":");if(ee<=0||ee+1===he.length)throw new Error(`Invalid host ${he} with no separate hostname and port!`);const ne=parseInt(he.substring(ee+1),10);return"["===he[0]?[he.substring(1,ee-1),ne]:[he.substring(0,ee),ne]},_e=()=>{var ge;return null===(ge=Et())||void 0===ge?void 0:ge.config},Re=ge=>{var he;return null===(he=Et())||void 0===he?void 0:he[`_${ge}`]};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,ee)=>{this.resolve=he,this.reject=ee})}wrapCallback(he){return(ee,ne)=>{ee?this.reject(ee):this.resolve(ne),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(ee):he(ee,ne))}}}function At(ge,he){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=he||"demo-project",X=ge.iat||0,Se=ge.sub||ge.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:X,exp:X+3600,auth_time:X,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(ye)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function It(){var ge;const he=null===(ge=Et())||void 0===ge?void 0:ge.forceEnvironment;if("node"===he)return!0;if("browser"===he)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pn(){return"object"==typeof self&&self.self===self}function Vt(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function Wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){const ge=ht();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function wt(){return!It()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $t(){try{return"object"==typeof indexedDB}catch{return!1}}function Pt(){return new Promise((ge,he)=>{try{let ee=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ne);X.onsuccess=()=>{X.result.close(),ee||self.indexedDB.deleteDatabase(ne),ge(!0)},X.onupgradeneeded=()=>{ee=!1},X.onerror=()=>{var Se;he((null===(Se=X.error)||void 0===Se?void 0:Se.message)||"")}}catch(ee){he(ee)}})}function jt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gn extends Error{constructor(he,ee,ne){super(ee),this.code=he,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}}class vn{constructor(he,ee,ne){this.service=he,this.serviceName=ee,this.errors=ne}create(he,...ee){const ne=ee[0]||{},X=`${this.service}/${he}`,Se=this.errors[he],ye=Se?function Tn(ge,he){return ge.replace(tn,(ee,ne)=>{const X=he[ne];return null!=X?String(X):`<${ne}?>`})}(Se,ne):"Error";return new gn(X,`${this.serviceName}: ${ye} (${X}).`,ne)}}const tn=/\{\$([^}]+)}/g;function rr(ge,he){return Object.prototype.hasOwnProperty.call(ge,he)}function fr(ge){for(const he in ge)if(Object.prototype.hasOwnProperty.call(ge,he))return!1;return!0}function an(ge,he){if(ge===he)return!0;const ee=Object.keys(ge),ne=Object.keys(he);for(const X of ee){if(!ne.includes(X))return!1;const Se=ge[X],ye=he[X];if(Ln(Se)&&Ln(ye)){if(!an(Se,ye))return!1}else if(Se!==ye)return!1}for(const X of ne)if(!ee.includes(X))return!1;return!0}function Ln(ge){return null!==ge&&"object"==typeof ge}function ir(ge){const he=[];for(const[ee,ne]of Object.entries(ge))Array.isArray(ne)?ne.forEach(X=>{he.push(encodeURIComponent(ee)+"="+encodeURIComponent(X))}):he.push(encodeURIComponent(ee)+"="+encodeURIComponent(ne));return he.length?"&"+he.join("&"):""}function Qr(ge){const he={};return ge.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[X,Se]=ne.split("=");he[decodeURIComponent(X)]=decodeURIComponent(Se)}}),he}function li(ge){const he=ge.indexOf("?");if(!he)return"";const ee=ge.indexOf("#",he);return ge.substring(he,ee>0?ee:void 0)}function Cn(ge,he){const ee=new Xt(ge,he);return ee.subscribe.bind(ee)}class Xt{constructor(he,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{he(this)}).catch(ne=>{this.error(ne)})}next(he){this.forEachObserver(ee=>{ee.next(he)})}error(he){this.forEachObserver(ee=>{ee.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,ee,ne){let X;if(void 0===he&&void 0===ee&&void 0===ne)throw new Error("Missing Observer.");X=function lr(ge,he){if("object"!=typeof ge||null===ge)return!1;for(const ee of he)if(ee in ge&&"function"==typeof ge[ee])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:ee,complete:ne},void 0===X.next&&(X.next=Cr),void 0===X.error&&(X.error=Cr),void 0===X.complete&&(X.complete=Cr);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Se}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,he)}sendOne(he,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{ee(this.observers[he])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cr(){}const Un=1e3,cr=2,pr=144e5,nt=.5;function be(ge,he=Un,ee=cr){const ne=he*Math.pow(ee,ge),X=Math.round(nt*ne*(Math.random()-.5)*2);return Math.min(pr,ne+X)}function vt(ge){return ge&&ge._delegate?ge._delegate:ge}},1197:(cn,je,j)=>{"use strict";j.d(je,{b:()=>p});class p{constructor(G,Te,Ce){this.mail=G,this.clave=Te,this.perfil=Ce}}},1649:(cn,je,j)=>{"use strict";j.d(je,{j:()=>ct});var p=j(4004),E=j(4650),G=j(4986),Te=j(9751),Ce=j(8996),Be=j(9646),ke=j(4976),we=j(8675),Qe=j(4482),pe=j(5403);function De(){return(0,Qe.e)((ce,H)=>{let ae,xe=!1;ce.subscribe((0,pe.x)(H,ut=>{const Tt=ae;ae=ut,xe&&H.next([Tt,ut]),xe=!0}))})}var Ne=j(5026),gt=j(4671);function kt(ce,H){return ce===H}var Bt=j(9300),qe=j(2011),Et=j(6895),Lt=(j(9568),j(3942)),_e=j(2810),Re=j(2090),it=j(4859);function ze(ce,H){if(void 0===H)return{merge:!1};if(void 0!==H.mergeFields&&void 0!==H.merge)throw new _e.WA("invalid-argument",`Invalid options passed to function ${ce}(): You cannot specify both "merge" and "mergeFields".`);return H}function It(){if(typeof Uint8Array>"u")throw new _e.WA("unimplemented","Uint8Arrays are not available in this environment.")}function pn(){if(!(0,_e.Me)())throw new _e.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Vt{constructor(H){this._delegate=H}static fromBase64String(H){return pn(),new Vt(_e.Jj.fromBase64String(H))}static fromUint8Array(H){return It(),new Vt(_e.Jj.fromUint8Array(H))}toBase64(){return pn(),this._delegate.toBase64()}toUint8Array(){return It(),this._delegate.toUint8Array()}isEqual(H){return this._delegate.isEqual(H._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wt(ce){return function Gt(ce,H){if("object"!=typeof ce||null===ce)return!1;const ae=ce;for(const xe of H)if(xe in ae&&"function"==typeof ae[xe])return!0;return!1}(ce,["next","error","complete"])}class st{enableIndexedDbPersistence(H,ae){return(0,_e.ST)(H._delegate,{forceOwnership:ae})}enableMultiTabIndexedDbPersistence(H){return(0,_e.fH)(H._delegate)}clearIndexedDbPersistence(H){return(0,_e.Fc)(H._delegate)}}class at{constructor(H,ae,xe){this._delegate=ae,this._persistenceProvider=xe,this.INTERNAL={delete:()=>this.terminate()},H instanceof _e.l7||(this._appCompat=H)}get _databaseId(){return this._delegate._databaseId}settings(H){const ae=this._delegate._getSettings();!H.merge&&ae.host!==H.host&&(0,_e.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),H.merge&&delete(H=Object.assign(Object.assign({},ae),H)).merge,this._delegate._setSettings(H)}useEmulator(H,ae,xe={}){(0,_e.at)(this._delegate,H,ae,xe)}enableNetwork(){return(0,_e.Ix)(this._delegate)}disableNetwork(){return(0,_e.TF)(this._delegate)}enablePersistence(H){let ae=!1,xe=!1;return H&&(ae=!!H.synchronizeTabs,xe=!!H.experimentalForceOwningTab,(0,_e.Wi)("synchronizeTabs",ae,"experimentalForceOwningTab",xe)),ae?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,xe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,_e.Mx)(this._delegate)}onSnapshotsInSync(H){return(0,_e.sc)(this._delegate,H)}get app(){if(!this._appCompat)throw new _e.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(H){try{return new ur(this,(0,_e.hJ)(this._delegate,H))}catch(ae){throw gn(ae,"collection()","Firestore.collection()")}}doc(H){try{return new Mt(this,(0,_e.JU)(this._delegate,H))}catch(ae){throw gn(ae,"doc()","Firestore.doc()")}}collectionGroup(H){try{return new Fn(this,(0,_e.B$)(this._delegate,H))}catch(ae){throw gn(ae,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(H){return(0,_e.i3)(this._delegate,ae=>H(new $t(this,ae)))}batch(){return(0,_e.qY)(this._delegate),new Pt(new _e.PU(this._delegate,H=>(0,_e.GL)(this._delegate,H)))}loadBundle(H){return(0,_e.Pb)(this._delegate,H)}namedQuery(H){return(0,_e.L$)(this._delegate,H).then(ae=>ae?new Fn(this,ae):null)}}class ft extends _e.u7{constructor(H){super(),this.firestore=H}convertBytes(H){return new Vt(new _e.Jj(H))}convertReference(H){const ae=this.convertDocumentKey(H,this.firestore._databaseId);return Mt.forKey(ae,this.firestore,null)}}class $t{constructor(H,ae){this._firestore=H,this._delegate=ae,this._userDataWriter=new ft(H)}get(H){const ae=on(H);return this._delegate.get(ae).then(xe=>new tn(this._firestore,new _e.xU(this._firestore._delegate,this._userDataWriter,xe._key,xe._document,xe.metadata,ae.converter)))}set(H,ae,xe){const ut=on(H);return xe?(ze("Transaction.set",xe),this._delegate.set(ut,ae,xe)):this._delegate.set(ut,ae),this}update(H,ae,xe,...ut){const Tt=on(H);return 2===arguments.length?this._delegate.update(Tt,ae):this._delegate.update(Tt,ae,xe,...ut),this}delete(H){const ae=on(H);return this._delegate.delete(ae),this}}class Pt{constructor(H){this._delegate=H}set(H,ae,xe){const ut=on(H);return xe?(ze("WriteBatch.set",xe),this._delegate.set(ut,ae,xe)):this._delegate.set(ut,ae),this}update(H,ae,xe,...ut){const Tt=on(H);return 2===arguments.length?this._delegate.update(Tt,ae):this._delegate.update(Tt,ae,xe,...ut),this}delete(H){const ae=on(H);return this._delegate.delete(ae),this}commit(){return this._delegate.commit()}}class jt{constructor(H,ae,xe){this._firestore=H,this._userDataWriter=ae,this._delegate=xe}fromFirestore(H,ae){const xe=new _e.$q(this._firestore._delegate,this._userDataWriter,H._key,H._document,H.metadata,null);return this._delegate.fromFirestore(new An(this._firestore,xe),ae??{})}toFirestore(H,ae){return ae?this._delegate.toFirestore(H,ae):this._delegate.toFirestore(H)}static getInstance(H,ae){const xe=jt.INSTANCES;let ut=xe.get(H);ut||(ut=new WeakMap,xe.set(H,ut));let Tt=ut.get(ae);return Tt||(Tt=new jt(H,new ft(H),ae),ut.set(ae,Tt)),Tt}}jt.INSTANCES=new WeakMap;class Mt{constructor(H,ae){this.firestore=H,this._delegate=ae,this._userDataWriter=new ft(H)}static forPath(H,ae,xe){if(H.length%2!=0)throw new _e.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${H.canonicalString()} has ${H.length}`);return new Mt(ae,new _e.my(ae._delegate,xe,new _e.Ky(H)))}static forKey(H,ae,xe){return new Mt(ae,new _e.my(ae._delegate,xe,H))}get id(){return this._delegate.id}get parent(){return new ur(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(H){try{return new ur(this.firestore,(0,_e.hJ)(this._delegate,H))}catch(ae){throw gn(ae,"collection()","DocumentReference.collection()")}}isEqual(H){return(H=(0,Re.m9)(H))instanceof _e.my&&(0,_e.Eo)(this._delegate,H)}set(H,ae){ae=ze("DocumentReference.set",ae);try{return ae?(0,_e.pl)(this._delegate,H,ae):(0,_e.pl)(this._delegate,H)}catch(xe){throw gn(xe,"setDoc()","DocumentReference.set()")}}update(H,ae,...xe){try{return 1===arguments.length?(0,_e.r7)(this._delegate,H):(0,_e.r7)(this._delegate,H,ae,...xe)}catch(ut){throw gn(ut,"updateDoc()","DocumentReference.update()")}}delete(){return(0,_e.oe)(this._delegate)}onSnapshot(...H){const ae=vn(H),xe=Tn(H,ut=>new tn(this.firestore,new _e.xU(this.firestore._delegate,this._userDataWriter,ut._key,ut._document,ut.metadata,this._delegate.converter)));return(0,_e.cf)(this._delegate,ae,xe)}get(H){let ae;return ae="cache"===H?.source?(0,_e.kl)(this._delegate):"server"===H?.source?(0,_e.Xk)(this._delegate):(0,_e.QT)(this._delegate),ae.then(xe=>new tn(this.firestore,new _e.xU(this.firestore._delegate,this._userDataWriter,xe._key,xe._document,xe.metadata,this._delegate.converter)))}withConverter(H){return new Mt(this.firestore,this._delegate.withConverter(H?jt.getInstance(this.firestore,H):null))}}function gn(ce,H,ae){return ce.message=ce.message.replace(H,ae),ce}function vn(ce){for(const H of ce)if("object"==typeof H&&!Wt(H))return H;return{}}function Tn(ce,H){var ae,xe;let ut;return ut=Wt(ce[0])?ce[0]:Wt(ce[1])?ce[1]:"function"==typeof ce[0]?{next:ce[0],error:ce[1],complete:ce[2]}:{next:ce[1],error:ce[2],complete:ce[3]},{next:Tt=>{ut.next&&ut.next(H(Tt))},error:null===(ae=ut.error)||void 0===ae?void 0:ae.bind(ut),complete:null===(xe=ut.complete)||void 0===xe?void 0:xe.bind(ut)}}class tn{constructor(H,ae){this._firestore=H,this._delegate=ae}get ref(){return new Mt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(H){return this._delegate.data(H)}get(H,ae){return this._delegate.get(H,ae)}isEqual(H){return(0,_e.qK)(this._delegate,H._delegate)}}class An extends tn{data(H){const ae=this._delegate.data(H);return(0,_e.K9)(void 0!==ae,"Document in a QueryDocumentSnapshot should exist"),ae}}class Fn{constructor(H,ae){this.firestore=H,this._delegate=ae,this._userDataWriter=new ft(H)}where(H,ae,xe){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.ar)(H,ae,xe)))}catch(ut){throw gn(ut,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(H,ae){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Xo)(H,ae)))}catch(xe){throw gn(xe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(H){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.b9)(H)))}catch(ae){throw gn(ae,"limit()","Query.limit()")}}limitToLast(H){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.vh)(H)))}catch(ae){throw gn(ae,"limitToLast()","Query.limitToLast()")}}startAt(...H){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.e0)(...H)))}catch(ae){throw gn(ae,"startAt()","Query.startAt()")}}startAfter(...H){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.TQ)(...H)))}catch(ae){throw gn(ae,"startAfter()","Query.startAfter()")}}endBefore(...H){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Lx)(...H)))}catch(ae){throw gn(ae,"endBefore()","Query.endBefore()")}}endAt(...H){try{return new Fn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Wu)(...H)))}catch(ae){throw gn(ae,"endAt()","Query.endAt()")}}isEqual(H){return(0,_e.iE)(this._delegate,H._delegate)}get(H){let ae;return ae="cache"===H?.source?(0,_e.UQ)(this._delegate):"server"===H?.source?(0,_e.zN)(this._delegate):(0,_e.PL)(this._delegate),ae.then(xe=>new Tr(this.firestore,new _e.W(this.firestore._delegate,this._userDataWriter,this._delegate,xe._snapshot)))}onSnapshot(...H){const ae=vn(H),xe=Tn(H,ut=>new Tr(this.firestore,new _e.W(this.firestore._delegate,this._userDataWriter,this._delegate,ut._snapshot)));return(0,_e.cf)(this._delegate,ae,xe)}withConverter(H){return new Fn(this.firestore,this._delegate.withConverter(H?jt.getInstance(this.firestore,H):null))}}class mr{constructor(H,ae){this._firestore=H,this._delegate=ae}get type(){return this._delegate.type}get doc(){return new An(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Tr{constructor(H,ae){this._firestore=H,this._delegate=ae}get query(){return new Fn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(H=>new An(this._firestore,H))}docChanges(H){return this._delegate.docChanges(H).map(ae=>new mr(this._firestore,ae))}forEach(H,ae){this._delegate.forEach(xe=>{H.call(ae,new An(this._firestore,xe))})}isEqual(H){return(0,_e.qK)(this._delegate,H._delegate)}}class ur extends Fn{constructor(H,ae){super(H,ae),this.firestore=H,this._delegate=ae}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const H=this._delegate.parent;return H?new Mt(this.firestore,H):null}doc(H){try{return new Mt(this.firestore,void 0===H?(0,_e.JU)(this._delegate):(0,_e.JU)(this._delegate,H))}catch(ae){throw gn(ae,"doc()","CollectionReference.doc()")}}add(H){return(0,_e.ET)(this._delegate,H).then(ae=>new Mt(this.firestore,ae))}isEqual(H){return(0,_e.Eo)(this._delegate,H._delegate)}withConverter(H){return new ur(this.firestore,this._delegate.withConverter(H?jt.getInstance(this.firestore,H):null))}}function on(ce){return(0,_e.Cf)(ce,_e.my)}class Yt{constructor(...H){this._delegate=new _e.Lz(...H)}static documentId(){return new Yt(_e.Xb.keyField().canonicalString())}isEqual(H){return(H=(0,Re.m9)(H))instanceof _e.Lz&&this._delegate._internalPath.isEqual(H._internalPath)}}class rr{constructor(H){this._delegate=H}static serverTimestamp(){const H=(0,_e.Bt)();return H._methodName="FieldValue.serverTimestamp",new rr(H)}static delete(){const H=(0,_e.AK)();return H._methodName="FieldValue.delete",new rr(H)}static arrayUnion(...H){const ae=(0,_e.vr)(...H);return ae._methodName="FieldValue.arrayUnion",new rr(ae)}static arrayRemove(...H){const ae=(0,_e.Ab)(...H);return ae._methodName="FieldValue.arrayRemove",new rr(ae)}static increment(H){const ae=(0,_e.nP)(H);return ae._methodName="FieldValue.increment",new rr(ae)}isEqual(H){return this._delegate.isEqual(H._delegate)}}const Sr={Firestore:at,GeoPoint:_e.F8,Timestamp:_e.EK,Blob:Vt,Transaction:$t,WriteBatch:Pt,DocumentReference:Mt,DocumentSnapshot:tn,Query:Fn,QueryDocumentSnapshot:An,QuerySnapshot:Tr,CollectionReference:ur,FieldPath:Yt,FieldValue:rr,setLogLevel:function wt(ce){(0,_e.Ub)(ce)},CACHE_SIZE_UNLIMITED:_e.IX};!function Hn(ce){(function fr(ce,H){ce.INTERNAL.registerComponent(new it.wA("firestore-compat",ae=>{const xe=ae.getProvider("app-compat").getImmediate(),ut=ae.getProvider("firestore").getImmediate();return H(xe,ut)},"PUBLIC").setServiceProps(Object.assign({},Sr)))})(ce,(H,ae)=>new at(H,ae,new st)),ce.registerVersion("@firebase/firestore-compat","0.3.8")}(Lt.Z);var an=j(7579),Ln=j(6451),zn=j(5363),ir=j(3900),Qr=j(6063);class li extends an.x{constructor(H=1/0,ae=1/0,xe=Qr.l){super(),this._bufferSize=H,this._windowTime=ae,this._timestampProvider=xe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ae===1/0,this._bufferSize=Math.max(1,H),this._windowTime=Math.max(1,ae)}next(H){const{isStopped:ae,_buffer:xe,_infiniteTimeWindow:ut,_timestampProvider:Tt,_windowTime:rn}=this;ae||(xe.push(H),!ut&&xe.push(Tt.now()+rn)),this._trimBuffer(),super.next(H)}_subscribe(H){this._throwIfClosed(),this._trimBuffer();const ae=this._innerSubscribe(H),{_infiniteTimeWindow:xe,_buffer:ut}=this,Tt=ut.slice();for(let rn=0;rn<Tt.length&&!H.closed;rn+=xe?1:2)H.next(Tt[rn]);return this._checkFinalizedStatuses(H),ae}_trimBuffer(){const{_bufferSize:H,_timestampProvider:ae,_buffer:xe,_infiniteTimeWindow:ut}=this,Tt=(ut?1:2)*H;if(H<1/0&&Tt<xe.length&&xe.splice(0,xe.length-Tt),!ut){const rn=ae.now();let Nn=0;for(let Qn=1;Qn<xe.length&&xe[Qn]<=rn;Qn+=2)Nn=Qn;Nn&&xe.splice(0,Nn+1)}}}var Pn=j(3099);function Cn(ce,H,ae){let xe,ut=!1;return ce&&"object"==typeof ce?({bufferSize:xe=1/0,windowTime:H=1/0,refCount:ut=!1,scheduler:ae}=ce):xe=ce??1/0,(0,Pn.B)({connector:()=>new li(xe,H,ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ut})}var Xt=j(590),St=j(576);function lr(ce,H){return(0,St.m)(H)?(0,ir.w)(()=>ce,H):(0,ir.w)(()=>ce)}var Cr=j(9468),Dr=j(2313);j(9260);const Ar=new E.OlP("angularfire2.auth.use-emulator"),Bn=new E.OlP("angularfire2.auth.settings"),Gr=new E.OlP("angularfire2.auth.tenant-id"),$n=new E.OlP("angularfire2.auth.langugage-code"),Vn=new E.OlP("angularfire2.auth.use-device-language"),Un=new E.OlP("angularfire.auth.persistence"),cr=(ce,H,ae,xe,ut,Tt,rn,Nn)=>(0,qe.cc)(`${ce.name}.auth`,"AngularFireAuth",ce.name,()=>{const Qn=H.runOutsideAngular(()=>ce.auth());if(ae&&Qn.useEmulator(...ae),xe&&(Qn.tenantId=xe),Qn.languageCode=ut,Tt&&Qn.useDeviceLanguage(),rn)for(const[br,ri]of Object.entries(rn))Qn.settings[br]=ri;return Nn&&Qn.setPersistence(Nn),Qn},[ae,xe,ut,Tt,rn,Nn]);let pr=(()=>{class ce{constructor(ae,xe,ut,Tt,rn,Nn,Qn,br,ri,Ji,Di,Xr){const Ht=new an.x,kn=(0,Be.of)(void 0).pipe((0,zn.Q)(rn.outsideAngular),(0,ir.w)(()=>Tt.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,p.U)(()=>(0,qe.on)(ae,Tt,xe)),(0,p.U)(_r=>cr(_r,Tt,Nn,br,ri,Ji,Qn,Di)),Cn({bufferSize:1,refCount:!1}));if((0,Et.PM)(ut))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{kn.pipe((0,Xt.P)()).subscribe();const dr=kn.pipe((0,ir.w)(Or=>Or.getRedirectResult().then(Xn=>Xn,()=>null)),ke.iC,Cn({bufferSize:1,refCount:!1})),hi=kn.pipe((0,ir.w)(Or=>new Te.y(Xn=>({unsubscribe:Tt.runOutsideAngular(()=>Or.onAuthStateChanged(He=>Xn.next(He),He=>Xn.error(He),()=>Xn.complete()))})))),Fr=kn.pipe((0,ir.w)(Or=>new Te.y(Xn=>({unsubscribe:Tt.runOutsideAngular(()=>Or.onIdTokenChanged(He=>Xn.next(He),He=>Xn.error(He),()=>Xn.complete()))}))));this.authState=dr.pipe(lr(hi),(0,Cr.R)(rn.outsideAngular),(0,zn.Q)(rn.insideAngular)),this.user=dr.pipe(lr(Fr),(0,Cr.R)(rn.outsideAngular),(0,zn.Q)(rn.insideAngular)),this.idToken=this.user.pipe((0,ir.w)(Or=>Or?(0,Ce.D)(Or.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe((0,ir.w)(Or=>Or?(0,Ce.D)(Or.getIdTokenResult()):(0,Be.of)(null))),this.credential=(0,Ln.T)(dr,Ht,this.authState.pipe((0,Bt.h)(Or=>!Or))).pipe((0,p.U)(Or=>Or?.user?Or:null),(0,Cr.R)(rn.outsideAngular),(0,zn.Q)(rn.insideAngular))}return(0,qe.pX)(this,kn,Tt,{spy:{apply:(_r,dr,hi)=>{(_r.startsWith("signIn")||_r.startsWith("createUser"))&&hi.then(Fr=>Ht.next(Fr))}}})}}return ce.\u0275fac=function(ae){return new(ae||ce)(E.LFG(qe.Dh),E.LFG(qe.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(ke.HU),E.LFG(Ar,8),E.LFG(Bn,8),E.LFG(Gr,8),E.LFG($n,8),E.LFG(Vn,8),E.LFG(Un,8),E.LFG(Dr.nm,8))},ce.\u0275prov=E.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})();function Le(ce,H){return function be(ce,H=G.z){return new Te.y(ae=>{let xe;return null!=H?H.schedule(()=>{xe=ce.onSnapshot({includeMetadataChanges:!0},ae)}):xe=ce.onSnapshot({includeMetadataChanges:!0},ae),()=>{xe?.()}})}(ce,H)}function vt(ce,H){return Le(ce,H).pipe((0,p.U)(ae=>({payload:ae,type:"query"})))}function ge(ce,H){return vt(ce,H).pipe((0,we.O)(void 0),De(),(0,p.U)(([ae,xe])=>{const ut=xe.payload.docChanges(),Tt=ut.map(rn=>({type:rn.type,payload:rn}));return ae&&JSON.stringify(ae.payload.metadata)!==JSON.stringify(xe.payload.metadata)&&xe.payload.docs.forEach((rn,Nn)=>{const Qn=ut.find(ri=>ri.doc.ref.isEqual(rn.ref)),br=ae?.payload.docs.find(ri=>ri.ref.isEqual(rn.ref));Qn&&JSON.stringify(Qn.doc.metadata)===JSON.stringify(rn.metadata)||!Qn&&br&&JSON.stringify(br.metadata)===JSON.stringify(rn.metadata)||Tt.push({type:"modified",payload:{oldIndex:Nn,newIndex:Nn,type:"modified",doc:rn}})}),Tt}))}function he(ce,H,ae){return ge(ce,ae).pipe((0,Ne.R)((xe,ut)=>function ee(ce,H,ae){return H.forEach(xe=>{ae.indexOf(xe.type)>-1&&(ce=function X(ce,H){switch(H.type){case"added":if(!ce[H.newIndex]||!ce[H.newIndex].doc.ref.isEqual(H.doc.ref))return ne(ce,H.newIndex,0,H);break;case"modified":if(null==ce[H.oldIndex]||ce[H.oldIndex].doc.ref.isEqual(H.doc.ref)){if(H.oldIndex!==H.newIndex){const ae=ce.slice();return ae.splice(H.oldIndex,1),ae.splice(H.newIndex,0,H),ae}return ne(ce,H.newIndex,1,H)}break;case"removed":if(ce[H.oldIndex]&&ce[H.oldIndex].doc.ref.isEqual(H.doc.ref))return ne(ce,H.oldIndex,1)}return ce}(ce,xe))}),ce}(xe,ut.map(Tt=>Tt.payload),H),[]),function yt(ce,H=gt.y){return ce=ce??kt,(0,Qe.e)((ae,xe)=>{let ut,Tt=!0;ae.subscribe((0,pe.x)(xe,rn=>{const Nn=H(rn);(Tt||!ce(ut,Nn))&&(Tt=!1,ut=Nn,xe.next(rn))}))})}(),(0,p.U)(xe=>xe.map(ut=>({type:ut.type,payload:ut}))))}function ne(ce,H,ae,...xe){const ut=ce.slice();return ut.splice(H,ae,...xe),ut}function Se(ce){return(!ce||0===ce.length)&&(ce=["added","removed","modified"]),ce}class ye{constructor(H,ae,xe){this.ref=H,this.query=ae,this.afs=xe}stateChanges(H){let ae=ge(this.query,this.afs.schedulers.outsideAngular);return H&&H.length>0&&(ae=ae.pipe((0,p.U)(xe=>xe.filter(ut=>H.indexOf(ut.type)>-1)))),ae.pipe((0,we.O)(void 0),De(),(0,Bt.h)(([xe,ut])=>ut.length>0||!xe),(0,p.U)(([xe,ut])=>ut),ke.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,Ne.R)((ae,xe)=>[...ae,...xe],[]))}snapshotChanges(H){const ae=Se(H);return he(this.query,ae,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(H={}){return vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(ae=>ae.payload.docs.map(xe=>H.idField?Object.assign(Object.assign({},xe.data()),{[H.idField]:xe.id}):xe.data())),ke.iC)}get(H){return(0,Ce.D)(this.query.get(H)).pipe(ke.iC)}add(H){return this.ref.add(H)}doc(H){return new ve(this.ref.doc(H),this.afs)}}class ve{constructor(H,ae){this.ref=H,this.afs=ae}set(H,ae){return this.ref.set(H,ae)}update(H){return this.ref.update(H)}delete(){return this.ref.delete()}collection(H,ae){const xe=this.ref.collection(H),{ref:ut,query:Tt}=dn(xe,ae);return new ye(ut,Tt,this.afs)}snapshotChanges(){return function Ot(ce,H){return Le(ce,H).pipe((0,we.O)(void 0),De(),(0,p.U)(([ae,xe])=>xe.exists?ae?.exists?{payload:xe,type:"modified"}:{payload:xe,type:"added"}:{payload:xe,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(H={}){return this.snapshotChanges().pipe((0,p.U)(({payload:ae})=>H.idField?Object.assign(Object.assign({},ae.data()),{[H.idField]:ae.id}):ae.data()))}get(H){return(0,Ce.D)(this.ref.get(H)).pipe(ke.iC)}}class le{constructor(H,ae){this.query=H,this.afs=ae}stateChanges(H){return H&&0!==H.length?ge(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(ae=>ae.filter(xe=>H.indexOf(xe.type)>-1)),(0,Bt.h)(ae=>ae.length>0),ke.iC):ge(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,Ne.R)((ae,xe)=>[...ae,...xe],[]))}snapshotChanges(H){const ae=Se(H);return he(this.query,ae,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(H={}){return vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(xe=>xe.payload.docs.map(ut=>H.idField?Object.assign({[H.idField]:ut.id},ut.data()):ut.data())),ke.iC)}get(H){return(0,Ce.D)(this.query.get(H)).pipe(ke.iC)}}const Me=new E.OlP("angularfire2.enableFirestorePersistence"),Xe=new E.OlP("angularfire2.firestore.persistenceSettings"),Ct=new E.OlP("angularfire2.firestore.settings"),qt=new E.OlP("angularfire2.firestore.use-emulator");function dn(ce,H=(ae=>ae)){return{query:H(ce),ref:ce}}let sr=(()=>{class ce{constructor(ae,xe,ut,Tt,rn,Nn,Qn,br,ri,Ji,Di,Xr,Ht,kn,_r,dr,hi){this.schedulers=Qn;const Fr=(0,qe.on)(ae,Nn,xe),Or=ri;Ji&&cr(Fr,Nn,Di,Ht,kn,_r,Xr,dr),[this.firestore,this.persistenceEnabled$]=(0,qe.cc)(`${Fr.name}.firestore`,"AngularFirestore",Fr.name,()=>{const Xn=Nn.runOutsideAngular(()=>Fr.firestore());if(Tt&&Xn.settings(Tt),Or&&Xn.useEmulator(...Or),ut&&!(0,Et.PM)(rn)){const He=()=>{try{return(0,Ce.D)(Xn.enablePersistence(br||void 0).then(()=>!0,()=>!1))}catch(Ue){return typeof console<"u"&&console.warn(Ue),(0,Be.of)(!1)}};return[Xn,Nn.runOutsideAngular(He)]}return[Xn,(0,Be.of)(!1)]},[Tt,Or,ut])}collection(ae,xe){let ut;ut="string"==typeof ae?this.firestore.collection(ae):ae;const{ref:Tt,query:rn}=dn(ut,xe),Nn=this.schedulers.ngZone.run(()=>Tt);return new ye(Nn,rn,this)}collectionGroup(ae,xe){const ut=xe||(rn=>rn),Tt=this.firestore.collectionGroup(ae);return new le(ut(Tt),this)}doc(ae){let xe;xe="string"==typeof ae?this.firestore.doc(ae):ae;const ut=this.schedulers.ngZone.run(()=>xe);return new ve(ut,this)}createId(){return this.firestore.collection("_").doc().id}}return ce.\u0275fac=function(ae){return new(ae||ce)(E.LFG(qe.Dh),E.LFG(qe.xv,8),E.LFG(Me,8),E.LFG(Ct,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(ke.HU),E.LFG(Xe,8),E.LFG(qt,8),E.LFG(pr,8),E.LFG(Ar,8),E.LFG(Bn,8),E.LFG(Gr,8),E.LFG($n,8),E.LFG(Vn,8),E.LFG(Un,8),E.LFG(Dr.nm,8))},ce.\u0275prov=E.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})(),ct=(()=>{class ce{constructor(ae){this.firestore=ae,this.array=[],this.chats=[],this.ahorcado=[],this.preguntados=[],this.mayormenor=[],this.reflejos=[]}traer(ae){return this.firestore.collection(ae).valueChanges().subscribe(ut=>{this.array=ut})}traerEncuesta(ae){return this.firestore.collection(ae).valueChanges()}guardar(ae,xe){const ut=this.firestore.collection(ae),Tt={};for(const rn in xe)Tt[rn]=xe[rn];ut.add(Tt)}chat(){return this.firestore.collection("Chat",xe=>xe.orderBy("fechaHora","desc").limit(50)).valueChanges().pipe((0,p.U)(xe=>{this.chats=[];for(let ut of xe)this.chats.unshift(ut)}))}puntuacion(){return this.firestore.collection("HighScore",xe=>xe.orderBy("puntaje","desc")).valueChanges().pipe((0,p.U)(xe=>{this.ahorcado=[],this.mayormenor=[],this.preguntados=[],this.reflejos=[];for(let ut of xe)switch(ut.juego){case"Ahorcado":this.ahorcado.push(ut);break;case"Mayor Menor":this.mayormenor.push(ut);break;case"Preguntados":this.preguntados.push(ut);break;case"Reflejos":this.reflejos.push(ut)}}))}}return ce.\u0275fac=function(ae){return new(ae||ce)(E.LFG(sr))},ce.\u0275prov=E.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},5144:(cn,je,j)=>{"use strict";j.d(je,{J:()=>Te});var p=j(1197),E=j(1135),G=j(4650);let Te=(()=>{class Ce{constructor(){this.activo=new E.X(new p.b("","","")),this.tipoPerfil=""}get getActivo(){return this.activo.asObservable()}set setActivo(ke){this.activo?.next(ke)}validarUsuario(ke,we,Qe){let pe=!1;for(let De=0;De<ke.length;De++){const Ne=ke[De];if(Ne.mail==we.mail){"T"==Qe?Ne.clave==we.clave&&(this.tipoPerfil=Ne.perfil,pe=!0):pe=!0;break}}return pe}}return Ce.\u0275fac=function(ke){return new(ke||Ce)},Ce.\u0275prov=G.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},1874:(cn,je,j)=>{"use strict";var p=j(1481),E=j(4650),G=j(7340);function Ce($){return new E.vHH(3e3,!1)}function Tn(){return typeof window<"u"&&typeof window.document<"u"}function tn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function An($){switch($.length){case 0:return new G.ZN;case 1:return $[0];default:return new G.ZE($)}}function Fn($,y,w,V,Q=new Map,de=new Map){const Oe=[],Fe=[];let ot=-1,_t=null;if(V.forEach(un=>{const In=un.get("offset"),jr=In==ot,vr=jr&&_t||new Map;un.forEach((tr,Ir)=>{let wr=Ir,Ci=tr;if("offset"!==Ir)switch(wr=y.normalizePropertyName(wr,Oe),Ci){case G.k1:Ci=Q.get(Ir);break;case G.l3:Ci=de.get(Ir);break;default:Ci=y.normalizeStyleValue(Ir,wr,Ci,Oe)}vr.set(wr,Ci)}),jr||Fe.push(vr),_t=vr,ot=In}),Oe.length)throw function Vt($){return new E.vHH(3502,!1)}();return Fe}function mr($,y,w,V){switch(y){case"start":$.onStart(()=>V(w&&Tr(w,"start",$)));break;case"done":$.onDone(()=>V(w&&Tr(w,"done",$)));break;case"destroy":$.onDestroy(()=>V(w&&Tr(w,"destroy",$)))}}function Tr($,y,w){const de=ur($.element,$.triggerName,$.fromState,$.toState,y||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),Oe=$._data;return null!=Oe&&(de._data=Oe),de}function ur($,y,w,V,Q="",de=0,Oe){return{element:$,triggerName:y,fromState:w,toState:V,phaseName:Q,totalTime:de,disabled:!!Oe}}function on($,y,w){let V=$.get(y);return V||$.set(y,V=w),V}function Yt($){const y=$.indexOf(":");return[$.substring(1,y),$.slice(y+1)]}let rr=($,y)=>!1,Sr=($,y,w)=>[],fr=null;function Hn($){const y=$.parentNode||$.host;return y===fr?null:y}(tn()||typeof Element<"u")&&(Tn()?(fr=(()=>document.documentElement)(),rr=($,y)=>{for(;y;){if(y===$)return!0;y=Hn(y)}return!1}):rr=($,y)=>$.contains(y),Sr=($,y,w)=>{if(w)return Array.from($.querySelectorAll(y));const V=$.querySelector(y);return V?[V]:[]});let zn=null,ir=!1;const Cn=rr,Xt=Sr;let lr=(()=>{class ${validateStyleProperty(w){return function Qr($){zn||(zn=function Pn(){return typeof document<"u"?document.body:null}()||{},ir=!!zn.style&&"WebkitAppearance"in zn.style);let y=!0;return zn.style&&!function Ln($){return"ebkit"==$.substring(1,6)}($)&&(y=$ in zn.style,!y&&ir&&(y="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in zn.style)),y}(w)}matchesElement(w,V){return!1}containsElement(w,V){return Cn(w,V)}getParentElement(w){return Hn(w)}query(w,V,Q){return Xt(w,V,Q)}computeStyle(w,V,Q){return Q||""}animate(w,V,Q,de,Oe,Fe=[],ot){return new G.ZN(Q,de)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})(),Cr=(()=>{class ${}return $.NOOP=new lr,$})();const Dr=1e3,Ar="ng-enter",Bn="ng-leave",Gr="ng-trigger",$n=".ng-trigger",Vn="ng-animating",Un=".ng-animating";function cr($){if("number"==typeof $)return $;const y=$.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:pr(parseFloat(y[1]),y[2])}function pr($,y){return"s"===y?$*Dr:$}function nt($,y,w){return $.hasOwnProperty("duration")?$:function be($,y,w){let Q,de=0,Oe="";if("string"==typeof $){const Fe=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Fe)return y.push(Ce()),{duration:0,delay:0,easing:""};Q=pr(parseFloat(Fe[1]),Fe[2]);const ot=Fe[3];null!=ot&&(de=pr(parseFloat(ot),Fe[4]));const _t=Fe[5];_t&&(Oe=_t)}else Q=$;if(!w){let Fe=!1,ot=y.length;Q<0&&(y.push(function Be(){return new E.vHH(3100,!1)}()),Fe=!0),de<0&&(y.push(function ke(){return new E.vHH(3101,!1)}()),Fe=!0),Fe&&y.splice(ot,0,Ce())}return{duration:Q,delay:de,easing:Oe}}($,y,w)}function Le($,y={}){return Object.keys($).forEach(w=>{y[w]=$[w]}),y}function Ot($){const y=new Map;return Object.keys($).forEach(w=>{y.set(w,$[w])}),y}function he($,y=new Map,w){if(w)for(let[V,Q]of w)y.set(V,Q);for(let[V,Q]of $)y.set(V,Q);return y}function ee($,y,w){return w?y+":"+w+";":""}function ne($){let y="";for(let w=0;w<$.style.length;w++){const V=$.style.item(w);y+=ee(0,V,$.style.getPropertyValue(V))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(y+=ee(0,sr(w),$.style[w]));$.setAttribute("style",y)}function X($,y,w){$.style&&(y.forEach((V,Q)=>{const de=dn(Q);w&&!w.has(Q)&&w.set(Q,$.style[de]),$.style[de]=V}),tn()&&ne($))}function Se($,y){$.style&&(y.forEach((w,V)=>{const Q=dn(V);$.style[Q]=""}),tn()&&ne($))}function ye($){return Array.isArray($)?1==$.length?$[0]:(0,G.vP)($):$}const le=new RegExp("{{\\s*(.+?)\\s*}}","g");function Me($){let y=[];if("string"==typeof $){let w;for(;w=le.exec($);)y.push(w[1]);le.lastIndex=0}return y}function Xe($,y,w){const V=$.toString(),Q=V.replace(le,(de,Oe)=>{let Fe=y[Oe];return null==Fe&&(w.push(function Qe($){return new E.vHH(3003,!1)}()),Fe=""),Fe.toString()});return Q==V?$:Q}function Ct($){const y=[];let w=$.next();for(;!w.done;)y.push(w.value),w=$.next();return y}const qt=/-+([a-z0-9])/g;function dn($){return $.replace(qt,(...y)=>y[1].toUpperCase())}function sr($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ce($,y,w){switch(y.type){case 7:return $.visitTrigger(y,w);case 0:return $.visitState(y,w);case 1:return $.visitTransition(y,w);case 2:return $.visitSequence(y,w);case 3:return $.visitGroup(y,w);case 4:return $.visitAnimate(y,w);case 5:return $.visitKeyframes(y,w);case 6:return $.visitStyle(y,w);case 8:return $.visitReference(y,w);case 9:return $.visitAnimateChild(y,w);case 10:return $.visitAnimateRef(y,w);case 11:return $.visitQuery(y,w);case 12:return $.visitStagger(y,w);default:throw function pe($){return new E.vHH(3004,!1)}()}}function H($,y){return window.getComputedStyle($)[y]}const br="*";function ri($,y){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(V=>function Ji($,y,w){if(":"==$[0]){const ot=function Di($,y){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,V)=>parseFloat(V)>parseFloat(w);case":decrement":return(w,V)=>parseFloat(V)<parseFloat(w);default:return y.push(function ht($){return new E.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof ot)return void y.push(ot);$=ot}const V=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==V||V.length<4)return w.push(function At($){return new E.vHH(3015,!1)}()),y;const Q=V[1],de=V[2],Oe=V[3];y.push(kn(Q,Oe));"<"==de[0]&&!(Q==br&&Oe==br)&&y.push(kn(Oe,Q))}(V,w,y)):w.push($),w}const Xr=new Set(["true","1"]),Ht=new Set(["false","0"]);function kn($,y){const w=Xr.has($)||Ht.has($),V=Xr.has(y)||Ht.has(y);return(Q,de)=>{let Oe=$==br||$==Q,Fe=y==br||y==de;return!Oe&&w&&"boolean"==typeof Q&&(Oe=Q?Xr.has($):Ht.has($)),!Fe&&V&&"boolean"==typeof de&&(Fe=de?Xr.has(y):Ht.has(y)),Oe&&Fe}}const dr=new RegExp("s*:selfs*,?","g");function hi($,y,w,V){return new Or($).build(y,w,V)}class Or{constructor(y){this._driver=y}build(y,w,V){const Q=new Ue(w);return this._resetContextStyleTimingState(Q),ce(this,ye(y),Q)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,w){let V=w.queryCount=0,Q=w.depCount=0;const de=[],Oe=[];return"@"==y.name.charAt(0)&&w.errors.push(function Ne(){return new E.vHH(3006,!1)}()),y.definitions.forEach(Fe=>{if(this._resetContextStyleTimingState(w),0==Fe.type){const ot=Fe,_t=ot.name;_t.toString().split(/\s*,\s*/).forEach(un=>{ot.name=un,de.push(this.visitState(ot,w))}),ot.name=_t}else if(1==Fe.type){const ot=this.visitTransition(Fe,w);V+=ot.queryCount,Q+=ot.depCount,Oe.push(ot)}else w.errors.push(function gt(){return new E.vHH(3007,!1)}())}),{type:7,name:y.name,states:de,transitions:Oe,queryCount:V,depCount:Q,options:null}}visitState(y,w){const V=this.visitStyle(y.styles,w),Q=y.options&&y.options.params||null;if(V.containsDynamicStyles){const de=new Set,Oe=Q||{};V.styles.forEach(Fe=>{Fe instanceof Map&&Fe.forEach(ot=>{Me(ot).forEach(_t=>{Oe.hasOwnProperty(_t)||de.add(_t)})})}),de.size&&(Ct(de.values()),w.errors.push(function yt($,y){return new E.vHH(3008,!1)}()))}return{type:0,name:y.name,style:V,options:Q?{params:Q}:null}}visitTransition(y,w){w.queryCount=0,w.depCount=0;const V=ce(this,ye(y.animation),w);return{type:1,matchers:ri(y.expr,w.errors),animation:V,queryCount:w.queryCount,depCount:w.depCount,options:xt(y.options)}}visitSequence(y,w){return{type:2,steps:y.steps.map(V=>ce(this,V,w)),options:xt(y.options)}}visitGroup(y,w){const V=w.currentTime;let Q=0;const de=y.steps.map(Oe=>{w.currentTime=V;const Fe=ce(this,Oe,w);return Q=Math.max(Q,w.currentTime),Fe});return w.currentTime=Q,{type:3,steps:de,options:xt(y.options)}}visitAnimate(y,w){const V=function Dt($,y){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return bn(nt($,y).duration,0,"");const w=$;if(w.split(/\s+/).some(de=>"{"==de.charAt(0)&&"{"==de.charAt(1))){const de=bn(0,0,"");return de.dynamic=!0,de.strValue=w,de}const Q=nt(w,y);return bn(Q.duration,Q.delay,Q.easing)}(y.timings,w.errors);w.currentAnimateTimings=V;let Q,de=y.styles?y.styles:(0,G.oB)({});if(5==de.type)Q=this.visitKeyframes(de,w);else{let Oe=y.styles,Fe=!1;if(!Oe){Fe=!0;const _t={};V.easing&&(_t.easing=V.easing),Oe=(0,G.oB)(_t)}w.currentTime+=V.duration+V.delay;const ot=this.visitStyle(Oe,w);ot.isEmptyStep=Fe,Q=ot}return w.currentAnimateTimings=null,{type:4,timings:V,style:Q,options:null}}visitStyle(y,w){const V=this._makeStyleAst(y,w);return this._validateStyleAst(V,w),V}_makeStyleAst(y,w){const V=[],Q=Array.isArray(y.styles)?y.styles:[y.styles];for(let Fe of Q)"string"==typeof Fe?Fe===G.l3?V.push(Fe):w.errors.push(new E.vHH(3002,!1)):V.push(Ot(Fe));let de=!1,Oe=null;return V.forEach(Fe=>{if(Fe instanceof Map&&(Fe.has("easing")&&(Oe=Fe.get("easing"),Fe.delete("easing")),!de))for(let ot of Fe.values())if(ot.toString().indexOf("{{")>=0){de=!0;break}}),{type:6,styles:V,easing:Oe,offset:y.offset,containsDynamicStyles:de,options:null}}_validateStyleAst(y,w){const V=w.currentAnimateTimings;let Q=w.currentTime,de=w.currentTime;V&&de>0&&(de-=V.duration+V.delay),y.styles.forEach(Oe=>{"string"!=typeof Oe&&Oe.forEach((Fe,ot)=>{const _t=w.collectedStyles.get(w.currentQuerySelector),un=_t.get(ot);let In=!0;un&&(de!=Q&&de>=un.startTime&&Q<=un.endTime&&(w.errors.push(function qe($,y,w,V,Q){return new E.vHH(3010,!1)}()),In=!1),de=un.startTime),In&&_t.set(ot,{startTime:de,endTime:Q}),w.options&&function ve($,y,w){const V=y.params||{},Q=Me($);Q.length&&Q.forEach(de=>{V.hasOwnProperty(de)||w.push(function we($){return new E.vHH(3001,!1)}())})}(Fe,w.options,w.errors)})})}visitKeyframes(y,w){const V={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Et(){return new E.vHH(3011,!1)}()),V;let de=0;const Oe=[];let Fe=!1,ot=!1,_t=0;const un=y.steps.map(Ci=>{const xr=this._makeStyleAst(Ci,w);let $i=null!=xr.offset?xr.offset:function $e($){if("string"==typeof $)return null;let y=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const V=w;y=parseFloat(V.get("offset")),V.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;y=parseFloat(w.get("offset")),w.delete("offset")}return y}(xr.styles),D=0;return null!=$i&&(de++,D=xr.offset=$i),ot=ot||D<0||D>1,Fe=Fe||D<_t,_t=D,Oe.push(D),xr});ot&&w.errors.push(function rt(){return new E.vHH(3012,!1)}()),Fe&&w.errors.push(function Lt(){return new E.vHH(3200,!1)}());const In=y.steps.length;let jr=0;de>0&&de<In?w.errors.push(function _e(){return new E.vHH(3202,!1)}()):0==de&&(jr=1/(In-1));const vr=In-1,tr=w.currentTime,Ir=w.currentAnimateTimings,wr=Ir.duration;return un.forEach((Ci,xr)=>{const $i=jr>0?xr==vr?1:jr*xr:Oe[xr],D=$i*wr;w.currentTime=tr+Ir.delay+D,Ir.duration=D,this._validateStyleAst(Ci,w),Ci.offset=$i,V.styles.push(Ci)}),V}visitReference(y,w){return{type:8,animation:ce(this,ye(y.animation),w),options:xt(y.options)}}visitAnimateChild(y,w){return w.depCount++,{type:9,options:xt(y.options)}}visitAnimateRef(y,w){return{type:10,animation:this.visitReference(y.animation,w),options:xt(y.options)}}visitQuery(y,w){const V=w.currentQuerySelector,Q=y.options||{};w.queryCount++,w.currentQuery=y;const[de,Oe]=function Xn($){const y=!!$.split(/\s*,\s*/).find(w=>":self"==w);return y&&($=$.replace(dr,"")),$=$.replace(/@\*/g,$n).replace(/@\w+/g,w=>$n+"-"+w.slice(1)).replace(/:animating/g,Un),[$,y]}(y.selector);w.currentQuerySelector=V.length?V+" "+de:de,on(w.collectedStyles,w.currentQuerySelector,new Map);const Fe=ce(this,ye(y.animation),w);return w.currentQuery=null,w.currentQuerySelector=V,{type:11,selector:de,limit:Q.limit||0,optional:!!Q.optional,includeSelf:Oe,animation:Fe,originalSelector:y.selector,options:xt(y.options)}}visitStagger(y,w){w.currentQuery||w.errors.push(function Re(){return new E.vHH(3013,!1)}());const V="full"===y.timings?{duration:0,delay:0,easing:"full"}:nt(y.timings,w.errors,!0);return{type:12,animation:ce(this,ye(y.animation),w),timings:V,options:null}}}class Ue{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xt($){return $?($=Le($)).params&&($.params=function He($){return $?Le($):null}($.params)):$={},$}function bn($,y,w){return{duration:$,delay:y,easing:w}}function jn($,y,w,V,Q,de,Oe=null,Fe=!1){return{type:1,element:$,keyframes:y,preStyleProps:w,postStyleProps:V,duration:Q,delay:de,totalTime:Q+de,easing:Oe,subTimeline:Fe}}class Rn{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,w){let V=this._map.get(y);V||this._map.set(y,V=[]),V.push(...w)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const ci=new RegExp(":enter","g"),Li=new RegExp(":leave","g");function $r($,y,w,V,Q,de=new Map,Oe=new Map,Fe,ot,_t=[]){return(new bs).buildKeyframes($,y,w,V,Q,de,Oe,Fe,ot,_t)}class bs{buildKeyframes(y,w,V,Q,de,Oe,Fe,ot,_t,un=[]){_t=_t||new Rn;const In=new Vs(y,w,_t,Q,de,un,[]);In.options=ot;const jr=ot.delay?cr(ot.delay):0;In.currentTimeline.delayNextStep(jr),In.currentTimeline.setStyles([Oe],null,In.errors,ot),ce(this,V,In);const vr=In.timelines.filter(tr=>tr.containsAnimation());if(vr.length&&Fe.size){let tr;for(let Ir=vr.length-1;Ir>=0;Ir--){const wr=vr[Ir];if(wr.element===w){tr=wr;break}}tr&&!tr.allowOnlyTimelineStyles()&&tr.setStyles([Fe],null,In.errors,ot)}return vr.length?vr.map(tr=>tr.buildKeyframes()):[jn(w,[],[],[],0,jr,"",!1)]}visitTrigger(y,w){}visitState(y,w){}visitTransition(y,w){}visitAnimateChild(y,w){const V=w.subInstructions.get(w.element);if(V){const Q=w.createSubContext(y.options),de=w.currentTimeline.currentTime,Oe=this._visitSubInstructions(V,Q,Q.options);de!=Oe&&w.transformIntoNewTimeline(Oe)}w.previousNode=y}visitAnimateRef(y,w){const V=w.createSubContext(y.options);V.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],w,V),this.visitReference(y.animation,V),w.transformIntoNewTimeline(V.currentTimeline.currentTime),w.previousNode=y}_applyAnimationRefDelays(y,w,V){for(const Q of y){const de=Q?.delay;if(de){const Oe="number"==typeof de?de:cr(Xe(de,Q?.params??{},w.errors));V.delayNextStep(Oe)}}}_visitSubInstructions(y,w,V){let de=w.currentTimeline.currentTime;const Oe=null!=V.duration?cr(V.duration):null,Fe=null!=V.delay?cr(V.delay):null;return 0!==Oe&&y.forEach(ot=>{const _t=w.appendInstructionToTimeline(ot,Oe,Fe);de=Math.max(de,_t.duration+_t.delay)}),de}visitReference(y,w){w.updateOptions(y.options,!0),ce(this,y.animation,w),w.previousNode=y}visitSequence(y,w){const V=w.subContextCount;let Q=w;const de=y.options;if(de&&(de.params||de.delay)&&(Q=w.createSubContext(de),Q.transformIntoNewTimeline(),null!=de.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=qi);const Oe=cr(de.delay);Q.delayNextStep(Oe)}y.steps.length&&(y.steps.forEach(Oe=>ce(this,Oe,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>V&&Q.transformIntoNewTimeline()),w.previousNode=y}visitGroup(y,w){const V=[];let Q=w.currentTimeline.currentTime;const de=y.options&&y.options.delay?cr(y.options.delay):0;y.steps.forEach(Oe=>{const Fe=w.createSubContext(y.options);de&&Fe.delayNextStep(de),ce(this,Oe,Fe),Q=Math.max(Q,Fe.currentTimeline.currentTime),V.push(Fe.currentTimeline)}),V.forEach(Oe=>w.currentTimeline.mergeTimelineCollectedStyles(Oe)),w.transformIntoNewTimeline(Q),w.previousNode=y}_visitTiming(y,w){if(y.dynamic){const V=y.strValue;return nt(w.params?Xe(V,w.params,w.errors):V,w.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,w){const V=w.currentAnimateTimings=this._visitTiming(y.timings,w),Q=w.currentTimeline;V.delay&&(w.incrementTime(V.delay),Q.snapshotCurrentStyles());const de=y.style;5==de.type?this.visitKeyframes(de,w):(w.incrementTime(V.duration),this.visitStyle(de,w),Q.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=y}visitStyle(y,w){const V=w.currentTimeline,Q=w.currentAnimateTimings;!Q&&V.hasCurrentStyleProperties()&&V.forwardFrame();const de=Q&&Q.easing||y.easing;y.isEmptyStep?V.applyEmptyStep(de):V.setStyles(y.styles,de,w.errors,w.options),w.previousNode=y}visitKeyframes(y,w){const V=w.currentAnimateTimings,Q=w.currentTimeline.duration,de=V.duration,Fe=w.createSubContext().currentTimeline;Fe.easing=V.easing,y.styles.forEach(ot=>{Fe.forwardTime((ot.offset||0)*de),Fe.setStyles(ot.styles,ot.easing,w.errors,w.options),Fe.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Fe),w.transformIntoNewTimeline(Q+de),w.previousNode=y}visitQuery(y,w){const V=w.currentTimeline.currentTime,Q=y.options||{},de=Q.delay?cr(Q.delay):0;de&&(6===w.previousNode.type||0==V&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=qi);let Oe=V;const Fe=w.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!Q.optional,w.errors);w.currentQueryTotal=Fe.length;let ot=null;Fe.forEach((_t,un)=>{w.currentQueryIndex=un;const In=w.createSubContext(y.options,_t);de&&In.delayNextStep(de),_t===w.element&&(ot=In.currentTimeline),ce(this,y.animation,In),In.currentTimeline.applyStylesToKeyframe(),Oe=Math.max(Oe,In.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Oe),ot&&(w.currentTimeline.mergeTimelineCollectedStyles(ot),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=y}visitStagger(y,w){const V=w.parentContext,Q=w.currentTimeline,de=y.timings,Oe=Math.abs(de.duration),Fe=Oe*(w.currentQueryTotal-1);let ot=Oe*w.currentQueryIndex;switch(de.duration<0?"reverse":de.easing){case"reverse":ot=Fe-ot;break;case"full":ot=V.currentStaggerTime}const un=w.currentTimeline;ot&&un.delayNextStep(ot);const In=un.currentTime;ce(this,y.animation,w),w.previousNode=y,V.currentStaggerTime=Q.currentTime-In+(Q.startTime-V.currentTimeline.startTime)}}const qi={};class Vs{constructor(y,w,V,Q,de,Oe,Fe,ot){this._driver=y,this.element=w,this.subInstructions=V,this._enterClassName=Q,this._leaveClassName=de,this.errors=Oe,this.timelines=Fe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ot||new es(this._driver,w,0),Fe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,w){if(!y)return;const V=y;let Q=this.options;null!=V.duration&&(Q.duration=cr(V.duration)),null!=V.delay&&(Q.delay=cr(V.delay));const de=V.params;if(de){let Oe=Q.params;Oe||(Oe=this.options.params={}),Object.keys(de).forEach(Fe=>{(!w||!Oe.hasOwnProperty(Fe))&&(Oe[Fe]=Xe(de[Fe],Oe,this.errors))})}}_copyOptions(){const y={};if(this.options){const w=this.options.params;if(w){const V=y.params={};Object.keys(w).forEach(Q=>{V[Q]=w[Q]})}}return y}createSubContext(y=null,w,V){const Q=w||this.element,de=new Vs(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,V||0));return de.previousNode=this.previousNode,de.currentAnimateTimings=this.currentAnimateTimings,de.options=this._copyOptions(),de.updateOptions(y),de.currentQueryIndex=this.currentQueryIndex,de.currentQueryTotal=this.currentQueryTotal,de.parentContext=this,this.subContextCount++,de}transformIntoNewTimeline(y){return this.previousNode=qi,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,w,V){const Q={duration:w??y.duration,delay:this.currentTimeline.currentTime+(V??0)+y.delay,easing:""},de=new ts(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,Q,y.stretchStartingKeyframe);return this.timelines.push(de),Q}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,w,V,Q,de,Oe){let Fe=[];if(Q&&Fe.push(this.element),y.length>0){y=(y=y.replace(ci,"."+this._enterClassName)).replace(Li,"."+this._leaveClassName);let _t=this._driver.query(this.element,y,1!=V);0!==V&&(_t=V<0?_t.slice(_t.length+V,_t.length):_t.slice(0,V)),Fe.push(..._t)}return!de&&0==Fe.length&&Oe.push(function it($){return new E.vHH(3014,!1)}()),Fe}}class es{constructor(y,w,V,Q){this._driver=y,this.element=w,this.startTime=V,this._elementTimelineStylesLookup=Q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+y),w&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,w){return this.applyStylesToKeyframe(),new es(this._driver,y,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,w){this._localTimelineStyles.set(y,w),this._globalTimelineStyles.set(y,w),this._styleSummary.set(y,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[w,V]of this._globalTimelineStyles)this._backFill.set(w,V||G.l3),this._currentKeyframe.set(w,G.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,w,V,Q){w&&this._previousKeyframe.set("easing",w);const de=Q&&Q.params||{},Oe=function mi($,y){const w=new Map;let V;return $.forEach(Q=>{if("*"===Q){V=V||y.keys();for(let de of V)w.set(de,G.l3)}else he(Q,w)}),w}(y,this._globalTimelineStyles);for(let[Fe,ot]of Oe){const _t=Xe(ot,de,V);this._pendingStyles.set(Fe,_t),this._localTimelineStyles.has(Fe)||this._backFill.set(Fe,this._globalTimelineStyles.get(Fe)??G.l3),this._updateStyle(Fe,_t)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,w)=>{this._currentKeyframe.set(w,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,y)}))}snapshotCurrentStyles(){for(let[y,w]of this._localTimelineStyles)this._pendingStyles.set(y,w),this._updateStyle(y,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let w in this._currentKeyframe)y.push(w);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((w,V)=>{const Q=this._styleSummary.get(V);(!Q||w.time>Q.time)&&this._updateStyle(V,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,w=new Set,V=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((Fe,ot)=>{const _t=he(Fe,new Map,this._backFill);_t.forEach((un,In)=>{un===G.k1?y.add(In):un===G.l3&&w.add(In)}),V||_t.set("offset",ot/this.duration),Q.push(_t)});const de=y.size?Ct(y.values()):[],Oe=w.size?Ct(w.values()):[];if(V){const Fe=Q[0],ot=new Map(Fe);Fe.set("offset",0),ot.set("offset",1),Q=[Fe,ot]}return jn(this.element,Q,de,Oe,this.duration,this.startTime,this.easing,!1)}}class ts extends es{constructor(y,w,V,Q,de,Oe,Fe=!1){super(y,w,Oe.delay),this.keyframes=V,this.preStyleProps=Q,this.postStyleProps=de,this._stretchStartingKeyframe=Fe,this.timings={duration:Oe.duration,delay:Oe.delay,easing:Oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:w,duration:V,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&w){const de=[],Oe=V+w,Fe=w/Oe,ot=he(y[0]);ot.set("offset",0),de.push(ot);const _t=he(y[0]);_t.set("offset",Mi(Fe)),de.push(_t);const un=y.length-1;for(let In=1;In<=un;In++){let jr=he(y[In]);const vr=jr.get("offset");jr.set("offset",Mi((w+vr*V)/Oe)),de.push(jr)}V=Oe,w=0,Q="",y=de}return jn(this.element,y,this.preStyleProps,this.postStyleProps,V,w,Q,!0)}}function Mi($,y=3){const w=Math.pow(10,y-1);return Math.round($*w)/w}class Ei{}const ho=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Oo extends Ei{normalizePropertyName(y,w){return dn(y)}normalizeStyleValue(y,w,V,Q){let de="";const Oe=V.toString().trim();if(ho.has(w)&&0!==V&&"0"!==V)if("number"==typeof V)de="px";else{const Fe=V.match(/^[+-]?[\d\.]+([a-z]*)$/);Fe&&0==Fe[1].length&&Q.push(function De($,y){return new E.vHH(3005,!1)}())}return Oe+de}}function ds($,y,w,V,Q,de,Oe,Fe,ot,_t,un,In,jr){return{type:0,element:$,triggerName:y,isRemovalTransition:Q,fromState:w,fromStyles:de,toState:V,toStyles:Oe,timelines:Fe,queriedElements:ot,preStyleProps:_t,postStyleProps:un,totalTime:In,errors:jr}}const Jr={};class hs{constructor(y,w,V){this._triggerName=y,this.ast=w,this._stateStyles=V}match(y,w,V,Q){return function No($,y,w,V,Q){return $.some(de=>de(y,w,V,Q))}(this.ast.matchers,y,w,V,Q)}buildStyles(y,w,V){let Q=this._stateStyles.get("*");return void 0!==y&&(Q=this._stateStyles.get(y?.toString())||Q),Q?Q.buildStyles(w,V):new Map}build(y,w,V,Q,de,Oe,Fe,ot,_t,un){const In=[],jr=this.ast.options&&this.ast.options.params||Jr,tr=this.buildStyles(V,Fe&&Fe.params||Jr,In),Ir=ot&&ot.params||Jr,wr=this.buildStyles(Q,Ir,In),Ci=new Set,xr=new Map,$i=new Map,D="void"===Q,O={params:Mr(Ir,jr),delay:this.ast.options?.delay},z=un?[]:$r(y,w,this.ast.animation,de,Oe,tr,wr,O,_t,In);let fe=0;if(z.forEach(Ae=>{fe=Math.max(Ae.duration+Ae.delay,fe)}),In.length)return ds(w,this._triggerName,V,Q,D,tr,wr,[],[],xr,$i,fe,In);z.forEach(Ae=>{const Ye=Ae.element,ln=on(xr,Ye,new Set);Ae.preStyleProps.forEach(Mn=>ln.add(Mn));const Qt=on($i,Ye,new Set);Ae.postStyleProps.forEach(Mn=>Qt.add(Mn)),Ye!==w&&Ci.add(Ye)});const Ve=Ct(Ci.values());return ds(w,this._triggerName,V,Q,D,tr,wr,z,Ve,xr,$i,fe)}}function Mr($,y){const w=Le(y);for(const V in $)$.hasOwnProperty(V)&&null!=$[V]&&(w[V]=$[V]);return w}class ps{constructor(y,w,V){this.styles=y,this.defaultParams=w,this.normalizer=V}buildStyles(y,w){const V=new Map,Q=Le(this.defaultParams);return Object.keys(y).forEach(de=>{const Oe=y[de];null!==Oe&&(Q[de]=Oe)}),this.styles.styles.forEach(de=>{"string"!=typeof de&&de.forEach((Oe,Fe)=>{Oe&&(Oe=Xe(Oe,Q,w));const ot=this.normalizer.normalizePropertyName(Fe,w);Oe=this.normalizer.normalizeStyleValue(Fe,ot,Oe,w),V.set(Fe,Oe)})}),V}}class Us{constructor(y,w,V){this.name=y,this.ast=w,this._normalizer=V,this.transitionFactories=[],this.states=new Map,w.states.forEach(Q=>{this.states.set(Q.name,new ps(Q.style,Q.options&&Q.options.params||{},V))}),Zo(this.states,"true","1"),Zo(this.states,"false","0"),w.transitions.forEach(Q=>{this.transitionFactories.push(new hs(y,Q,this.states))}),this.fallbackTransition=function aa($,y,w){return new hs($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Oe,Fe)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,w,V,Q){return this.transitionFactories.find(Oe=>Oe.match(y,w,V,Q))||null}matchStyles(y,w,V){return this.fallbackTransition.buildStyles(y,w,V)}}function Zo($,y,w){$.has(y)?$.has(w)||$.set(w,$.get(y)):$.has(w)&&$.set(y,$.get(w))}const Qs=new Rn;class Do{constructor(y,w,V){this.bodyNode=y,this._driver=w,this._normalizer=V,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,w){const V=[],Q=[],de=hi(this._driver,w,V,Q);if(V.length)throw function Wt($){return new E.vHH(3503,!1)}();this._animations.set(y,de)}_buildPlayer(y,w,V){const Q=y.element,de=Fn(0,this._normalizer,0,y.keyframes,w,V);return this._driver.animate(Q,de,y.duration,y.delay,y.easing,[],!0)}create(y,w,V={}){const Q=[],de=this._animations.get(y);let Oe;const Fe=new Map;if(de?(Oe=$r(this._driver,w,de,Ar,Bn,new Map,new Map,V,Qs,Q),Oe.forEach(un=>{const In=on(Fe,un.element,new Map);un.postStyleProps.forEach(jr=>In.set(jr,null))})):(Q.push(function Gt(){return new E.vHH(3300,!1)}()),Oe=[]),Q.length)throw function st($){return new E.vHH(3504,!1)}();Fe.forEach((un,In)=>{un.forEach((jr,vr)=>{un.set(vr,this._driver.computeStyle(In,vr,G.l3))})});const _t=An(Oe.map(un=>{const In=Fe.get(un.element);return this._buildPlayer(un,new Map,In)}));return this._playersById.set(y,_t),_t.onDestroy(()=>this.destroy(y)),this.players.push(_t),_t}destroy(y){const w=this._getPlayer(y);w.destroy(),this._playersById.delete(y);const V=this.players.indexOf(w);V>=0&&this.players.splice(V,1)}_getPlayer(y){const w=this._playersById.get(y);if(!w)throw function at($){return new E.vHH(3301,!1)}();return w}listen(y,w,V,Q){const de=ur(w,"","","");return mr(this._getPlayer(y),V,de,Q),()=>{}}command(y,w,V,Q){if("register"==V)return void this.register(y,Q[0]);if("create"==V)return void this.create(y,w,Q[0]||{});const de=this._getPlayer(y);switch(V){case"play":de.play();break;case"pause":de.pause();break;case"reset":de.reset();break;case"restart":de.restart();break;case"finish":de.finish();break;case"init":de.init();break;case"setPosition":de.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(y)}}}const ko="ng-animate-queued",xi="ng-animate-disabled",fo=[],Zi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Is={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pi="__ng_removed";class gs{get params(){return this.options.params}constructor(y,w=""){this.namespaceId=w;const V=y&&y.hasOwnProperty("value");if(this.value=function Hs($){return $??null}(V?y.value:y),V){const de=Le(y);delete de.value,this.options=de}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const w=y.params;if(w){const V=this.options.params;Object.keys(w).forEach(Q=>{null==V[Q]&&(V[Q]=w[Q])})}}}const Xs="void",$s=new gs(Xs);class js{constructor(y,w,V){this.id=y,this.hostElement=w,this._engine=V,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,si(w,this._hostClassName)}listen(y,w,V,Q){if(!this._triggers.has(w))throw function ft($,y){return new E.vHH(3302,!1)}();if(null==V||0==V.length)throw function wt($){return new E.vHH(3303,!1)}();if(!function Js($){return"start"==$||"done"==$}(V))throw function $t($,y){return new E.vHH(3400,!1)}();const de=on(this._elementListeners,y,[]),Oe={name:w,phase:V,callback:Q};de.push(Oe);const Fe=on(this._engine.statesByElement,y,new Map);return Fe.has(w)||(si(y,Gr),si(y,Gr+"-"+w),Fe.set(w,$s)),()=>{this._engine.afterFlush(()=>{const ot=de.indexOf(Oe);ot>=0&&de.splice(ot,1),this._triggers.has(w)||Fe.delete(w)})}}register(y,w){return!this._triggers.has(y)&&(this._triggers.set(y,w),!0)}_getTrigger(y){const w=this._triggers.get(y);if(!w)throw function Pt($){return new E.vHH(3401,!1)}();return w}trigger(y,w,V,Q=!0){const de=this._getTrigger(w),Oe=new Yi(this.id,w,y);let Fe=this._engine.statesByElement.get(y);Fe||(si(y,Gr),si(y,Gr+"-"+w),this._engine.statesByElement.set(y,Fe=new Map));let ot=Fe.get(w);const _t=new gs(V,this.id);if(!(V&&V.hasOwnProperty("value"))&&ot&&_t.absorbOptions(ot.options),Fe.set(w,_t),ot||(ot=$s),_t.value!==Xs&&ot.value===_t.value){if(!function to($,y){const w=Object.keys($),V=Object.keys(y);if(w.length!=V.length)return!1;for(let Q=0;Q<w.length;Q++){const de=w[Q];if(!y.hasOwnProperty(de)||$[de]!==y[de])return!1}return!0}(ot.params,_t.params)){const Ir=[],wr=de.matchStyles(ot.value,ot.params,Ir),Ci=de.matchStyles(_t.value,_t.params,Ir);Ir.length?this._engine.reportError(Ir):this._engine.afterFlush(()=>{Se(y,wr),X(y,Ci)})}return}const jr=on(this._engine.playersByElement,y,[]);jr.forEach(Ir=>{Ir.namespaceId==this.id&&Ir.triggerName==w&&Ir.queued&&Ir.destroy()});let vr=de.matchTransition(ot.value,_t.value,y,_t.params),tr=!1;if(!vr){if(!Q)return;vr=de.fallbackTransition,tr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:w,transition:vr,fromState:ot,toState:_t,player:Oe,isFallbackTransition:tr}),tr||(si(y,ko),Oe.onStart(()=>{Wr(y,ko)})),Oe.onDone(()=>{let Ir=this.players.indexOf(Oe);Ir>=0&&this.players.splice(Ir,1);const wr=this._engine.playersByElement.get(y);if(wr){let Ci=wr.indexOf(Oe);Ci>=0&&wr.splice(Ci,1)}}),this.players.push(Oe),jr.push(Oe),Oe}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(w=>w.delete(y)),this._elementListeners.forEach((w,V)=>{this._elementListeners.set(V,w.filter(Q=>Q.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const w=this._engine.playersByElement.get(y);w&&(w.forEach(V=>V.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,w){const V=this._engine.driver.query(y,$n,!0);V.forEach(Q=>{if(Q[Pi])return;const de=this._engine.fetchNamespacesByElement(Q);de.size?de.forEach(Oe=>Oe.triggerLeaveAnimation(Q,w,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>V.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(y,w,V,Q){const de=this._engine.statesByElement.get(y),Oe=new Map;if(de){const Fe=[];if(de.forEach((ot,_t)=>{if(Oe.set(_t,ot.value),this._triggers.has(_t)){const un=this.trigger(y,_t,Xs,Q);un&&Fe.push(un)}}),Fe.length)return this._engine.markElementAsRemoved(this.id,y,!0,w,Oe),V&&An(Fe).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const w=this._elementListeners.get(y),V=this._engine.statesByElement.get(y);if(w&&V){const Q=new Set;w.forEach(de=>{const Oe=de.name;if(Q.has(Oe))return;Q.add(Oe);const ot=this._triggers.get(Oe).fallbackTransition,_t=V.get(Oe)||$s,un=new gs(Xs),In=new Yi(this.id,Oe,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Oe,transition:ot,fromState:_t,toState:un,player:In,isFallbackTransition:!0})})}}removeNode(y,w){const V=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,w),this.triggerLeaveAnimation(y,w,!0))return;let Q=!1;if(V.totalAnimations){const de=V.players.length?V.playersByQueriedElement.get(y):[];if(de&&de.length)Q=!0;else{let Oe=y;for(;Oe=Oe.parentNode;)if(V.statesByElement.get(Oe)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(y),Q)V.markElementAsRemoved(this.id,y,!1,w);else{const de=y[Pi];(!de||de===Zi)&&(V.afterFlush(()=>this.clearElementCache(y)),V.destroyInnerAnimations(y),V._onRemovalComplete(y,w))}}insertNode(y,w){si(y,this._hostClassName)}drainQueuedTransitions(y){const w=[];return this._queue.forEach(V=>{const Q=V.player;if(Q.destroyed)return;const de=V.element,Oe=this._elementListeners.get(de);Oe&&Oe.forEach(Fe=>{if(Fe.name==V.triggerName){const ot=ur(de,V.triggerName,V.fromState.value,V.toState.value);ot._data=y,mr(V.player,Fe.phase,ot,Fe.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):w.push(V)}),this._queue=[],w.sort((V,Q)=>{const de=V.transition.ast.depCount,Oe=Q.transition.ast.depCount;return 0==de||0==Oe?de-Oe:this._engine.driver.containsElement(V.element,Q.element)?1:-1})}destroy(y){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let w=!1;return this._elementListeners.has(y)&&(w=!0),w=!!this._queue.find(V=>V.element===y)||w,w}}class Fo{_onRemovalComplete(y,w){this.onRemovalComplete(y,w)}constructor(y,w,V){this.bodyNode=y,this.driver=w,this._normalizer=V,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,de)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(w=>{w.players.forEach(V=>{V.queued&&y.push(V)})}),y}createNamespace(y,w){const V=new js(y,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(V,w):(this.newHostElements.set(w,V),this.collectEnterElement(w)),this._namespaceLookup[y]=V}_balanceNamespaceList(y,w){const V=this._namespaceList,Q=this.namespacesByHostElement;if(V.length-1>=0){let Oe=!1,Fe=this.driver.getParentElement(w);for(;Fe;){const ot=Q.get(Fe);if(ot){const _t=V.indexOf(ot);V.splice(_t+1,0,y),Oe=!0;break}Fe=this.driver.getParentElement(Fe)}Oe||V.unshift(y)}else V.push(y);return Q.set(w,y),y}register(y,w){let V=this._namespaceLookup[y];return V||(V=this.createNamespace(y,w)),V}registerTrigger(y,w,V){let Q=this._namespaceLookup[y];Q&&Q.register(w,V)&&this.totalAnimations++}destroy(y,w){if(!y)return;const V=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(V.hostElement),delete this._namespaceLookup[y];const Q=this._namespaceList.indexOf(V);Q>=0&&this._namespaceList.splice(Q,1)}),this.afterFlushAnimationsDone(()=>V.destroy(w))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const w=new Set,V=this.statesByElement.get(y);if(V)for(let Q of V.values())if(Q.namespaceId){const de=this._fetchNamespace(Q.namespaceId);de&&w.add(de)}return w}trigger(y,w,V,Q){if(xs(w)){const de=this._fetchNamespace(y);if(de)return de.trigger(w,V,Q),!0}return!1}insertNode(y,w,V,Q){if(!xs(w))return;const de=w[Pi];if(de&&de.setForRemoval){de.setForRemoval=!1,de.setForMove=!0;const Oe=this.collectedLeaveElements.indexOf(w);Oe>=0&&this.collectedLeaveElements.splice(Oe,1)}if(y){const Oe=this._fetchNamespace(y);Oe&&Oe.insertNode(w,V)}Q&&this.collectEnterElement(w)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,w){w?this.disabledNodes.has(y)||(this.disabledNodes.add(y),si(y,xi)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Wr(y,xi))}removeNode(y,w,V,Q){if(xs(w)){const de=y?this._fetchNamespace(y):null;if(de?de.removeNode(w,Q):this.markElementAsRemoved(y,w,!1,Q),V){const Oe=this.namespacesByHostElement.get(w);Oe&&Oe.id!==y&&Oe.removeNode(w,Q)}}else this._onRemovalComplete(w,Q)}markElementAsRemoved(y,w,V,Q,de){this.collectedLeaveElements.push(w),w[Pi]={namespaceId:y,setForRemoval:Q,hasAnimation:V,removedBeforeQueried:!1,previousTriggersValues:de}}listen(y,w,V,Q,de){return xs(w)?this._fetchNamespace(y).listen(w,V,Q,de):()=>{}}_buildInstruction(y,w,V,Q,de){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,V,Q,y.fromState.options,y.toState.options,w,de)}destroyInnerAnimations(y){let w=this.driver.query(y,$n,!0);w.forEach(V=>this.destroyActiveAnimationsForElement(V)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(y,Un,!0),w.forEach(V=>this.finishActiveQueriedAnimationOnElement(V)))}destroyActiveAnimationsForElement(y){const w=this.playersByElement.get(y);w&&w.forEach(V=>{V.queued?V.markedForDestroy=!0:V.destroy()})}finishActiveQueriedAnimationOnElement(y){const w=this.playersByQueriedElement.get(y);w&&w.forEach(V=>V.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return An(this.players).onDone(()=>y());y()})}processLeaveNode(y){const w=y[Pi];if(w&&w.setForRemoval){if(y[Pi]=Zi,w.namespaceId){this.destroyInnerAnimations(y);const V=this._fetchNamespace(w.namespaceId);V&&V.clearElementCache(y)}this._onRemovalComplete(y,w.setForRemoval)}y.classList?.contains(xi)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(V=>{this.markElementAsDisabled(V,!1)})}flush(y=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((V,Q)=>this._balanceNamespaceList(V,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let V=0;V<this.collectedEnterElements.length;V++)si(this.collectedEnterElements[V],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const V=[];try{w=this._flushAnimations(V,y)}finally{for(let Q=0;Q<V.length;Q++)V[Q]()}}else for(let V=0;V<this.collectedLeaveElements.length;V++)this.processLeaveNode(this.collectedLeaveElements[V]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(V=>V()),this._flushFns=[],this._whenQuietFns.length){const V=this._whenQuietFns;this._whenQuietFns=[],w.length?An(w).onDone(()=>{V.forEach(Q=>Q())}):V.forEach(Q=>Q())}}reportError(y){throw function jt($){return new E.vHH(3402,!1)}()}_flushAnimations(y,w){const V=new Rn,Q=[],de=new Map,Oe=[],Fe=new Map,ot=new Map,_t=new Map,un=new Set;this.disabledNodes.forEach(wn=>{un.add(wn);const xn=this.driver.query(wn,".ng-animate-queued",!0);for(let Yn=0;Yn<xn.length;Yn++)un.add(xn[Yn])});const In=this.bodyNode,jr=Array.from(this.statesByElement.keys()),vr=ms(jr,this.collectedEnterElements),tr=new Map;let Ir=0;vr.forEach((wn,xn)=>{const Yn=Ar+Ir++;tr.set(xn,Yn),wn.forEach(ei=>si(ei,Yn))});const wr=[],Ci=new Set,xr=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const xn=this.collectedLeaveElements[wn],Yn=xn[Pi];Yn&&Yn.setForRemoval&&(wr.push(xn),Ci.add(xn),Yn.hasAnimation?this.driver.query(xn,".ng-star-inserted",!0).forEach(ei=>Ci.add(ei)):xr.add(xn))}const $i=new Map,D=ms(jr,Array.from(Ci));D.forEach((wn,xn)=>{const Yn=Bn+Ir++;$i.set(xn,Yn),wn.forEach(ei=>si(ei,Yn))}),y.push(()=>{vr.forEach((wn,xn)=>{const Yn=tr.get(xn);wn.forEach(ei=>Wr(ei,Yn))}),D.forEach((wn,xn)=>{const Yn=$i.get(xn);wn.forEach(ei=>Wr(ei,Yn))}),wr.forEach(wn=>{this.processLeaveNode(wn)})});const O=[],z=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(w).forEach(Yn=>{const ei=Yn.player,Ki=Yn.element;if(O.push(ei),this.collectedEnterElements.length){const Ss=Ki[Pi];if(Ss&&Ss.setForMove){if(Ss.previousTriggersValues&&Ss.previousTriggersValues.has(Yn.triggerName)){const Ma=Ss.previousTriggersValues.get(Yn.triggerName),ks=this.statesByElement.get(Yn.element);if(ks&&ks.has(Yn.triggerName)){const _a=ks.get(Yn.triggerName);_a.value=Ma,ks.set(Yn.triggerName,_a)}}return void ei.destroy()}}const Xi=!In||!this.driver.containsElement(In,Ki),ki=$i.get(Ki),Va=tr.get(Ki),Fi=this._buildInstruction(Yn,V,Va,ki,Xi);if(Fi.errors&&Fi.errors.length)return void z.push(Fi);if(Xi)return ei.onStart(()=>Se(Ki,Fi.fromStyles)),ei.onDestroy(()=>X(Ki,Fi.toStyles)),void Q.push(ei);if(Yn.isFallbackTransition)return ei.onStart(()=>Se(Ki,Fi.fromStyles)),ei.onDestroy(()=>X(Ki,Fi.toStyles)),void Q.push(ei);const _l=[];Fi.timelines.forEach(Ss=>{Ss.stretchStartingKeyframe=!0,this.disabledNodes.has(Ss.element)||_l.push(Ss)}),Fi.timelines=_l,V.append(Ki,Fi.timelines),Oe.push({instruction:Fi,player:ei,element:Ki}),Fi.queriedElements.forEach(Ss=>on(Fe,Ss,[]).push(ei)),Fi.preStyleProps.forEach((Ss,Ma)=>{if(Ss.size){let ks=ot.get(Ma);ks||ot.set(Ma,ks=new Set),Ss.forEach((_a,fu)=>ks.add(fu))}}),Fi.postStyleProps.forEach((Ss,Ma)=>{let ks=_t.get(Ma);ks||_t.set(Ma,ks=new Set),Ss.forEach((_a,fu)=>ks.add(fu))})});if(z.length){const wn=[];z.forEach(xn=>{wn.push(function gn($,y){return new E.vHH(3505,!1)}())}),O.forEach(xn=>xn.destroy()),this.reportError(wn)}const fe=new Map,Ve=new Map;Oe.forEach(wn=>{const xn=wn.element;V.has(xn)&&(Ve.set(xn,xn),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,fe))}),Q.forEach(wn=>{const xn=wn.element;this._getPreviousPlayers(xn,!1,wn.namespaceId,wn.triggerName,null).forEach(ei=>{on(fe,xn,[]).push(ei),ei.destroy()})});const Ae=wr.filter(wn=>Lo(wn,ot,_t)),Ye=new Map;ii(Ye,this.driver,xr,_t,G.l3).forEach(wn=>{Lo(wn,ot,_t)&&Ae.push(wn)});const Qt=new Map;vr.forEach((wn,xn)=>{ii(Qt,this.driver,new Set(wn),ot,G.k1)}),Ae.forEach(wn=>{const xn=Ye.get(wn),Yn=Qt.get(wn);Ye.set(wn,new Map([...Array.from(xn?.entries()??[]),...Array.from(Yn?.entries()??[])]))});const Mn=[],hr=[],ar={};Oe.forEach(wn=>{const{element:xn,player:Yn,instruction:ei}=wn;if(V.has(xn)){if(un.has(xn))return Yn.onDestroy(()=>X(xn,ei.toStyles)),Yn.disabled=!0,Yn.overrideTotalTime(ei.totalTime),void Q.push(Yn);let Ki=ar;if(Ve.size>1){let ki=xn;const Va=[];for(;ki=ki.parentNode;){const Fi=Ve.get(ki);if(Fi){Ki=Fi;break}Va.push(ki)}Va.forEach(Fi=>Ve.set(Fi,Ki))}const Xi=this._buildAnimation(Yn.namespaceId,ei,fe,de,Qt,Ye);if(Yn.setRealPlayer(Xi),Ki===ar)Mn.push(Yn);else{const ki=this.playersByElement.get(Ki);ki&&ki.length&&(Yn.parentPlayer=An(ki)),Q.push(Yn)}}else Se(xn,ei.fromStyles),Yn.onDestroy(()=>X(xn,ei.toStyles)),hr.push(Yn),un.has(xn)&&Q.push(Yn)}),hr.forEach(wn=>{const xn=de.get(wn.element);if(xn&&xn.length){const Yn=An(xn);wn.setRealPlayer(Yn)}}),Q.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<wr.length;wn++){const xn=wr[wn],Yn=xn[Pi];if(Wr(xn,Bn),Yn&&Yn.hasAnimation)continue;let ei=[];if(Fe.size){let Xi=Fe.get(xn);Xi&&Xi.length&&ei.push(...Xi);let ki=this.driver.query(xn,Un,!0);for(let Va=0;Va<ki.length;Va++){let Fi=Fe.get(ki[Va]);Fi&&Fi.length&&ei.push(...Fi)}}const Ki=ei.filter(Xi=>!Xi.destroyed);Ki.length?ns(this,xn,Ki):this.processLeaveNode(xn)}return wr.length=0,Mn.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const xn=this.players.indexOf(wn);this.players.splice(xn,1)}),wn.play()}),Mn}elementContainsData(y,w){let V=!1;const Q=w[Pi];return Q&&Q.setForRemoval&&(V=!0),this.playersByElement.has(w)&&(V=!0),this.playersByQueriedElement.has(w)&&(V=!0),this.statesByElement.has(w)&&(V=!0),this._fetchNamespace(y).elementContainsData(w)||V}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,w,V,Q,de){let Oe=[];if(w){const Fe=this.playersByQueriedElement.get(y);Fe&&(Oe=Fe)}else{const Fe=this.playersByElement.get(y);if(Fe){const ot=!de||de==Xs;Fe.forEach(_t=>{_t.queued||!ot&&_t.triggerName!=Q||Oe.push(_t)})}}return(V||Q)&&(Oe=Oe.filter(Fe=>!(V&&V!=Fe.namespaceId||Q&&Q!=Fe.triggerName))),Oe}_beforeAnimationBuild(y,w,V){const de=w.element,Oe=w.isRemovalTransition?void 0:y,Fe=w.isRemovalTransition?void 0:w.triggerName;for(const ot of w.timelines){const _t=ot.element,un=_t!==de,In=on(V,_t,[]);this._getPreviousPlayers(_t,un,Oe,Fe,w.toState).forEach(vr=>{const tr=vr.getRealPlayer();tr.beforeDestroy&&tr.beforeDestroy(),vr.destroy(),In.push(vr)})}Se(de,w.fromStyles)}_buildAnimation(y,w,V,Q,de,Oe){const Fe=w.triggerName,ot=w.element,_t=[],un=new Set,In=new Set,jr=w.timelines.map(tr=>{const Ir=tr.element;un.add(Ir);const wr=Ir[Pi];if(wr&&wr.removedBeforeQueried)return new G.ZN(tr.duration,tr.delay);const Ci=Ir!==ot,xr=function eo($){const y=[];return pi($,y),y}((V.get(Ir)||fo).map(fe=>fe.getRealPlayer())).filter(fe=>!!fe.element&&fe.element===Ir),$i=de.get(Ir),D=Oe.get(Ir),O=Fn(0,this._normalizer,0,tr.keyframes,$i,D),z=this._buildPlayer(tr,O,xr);if(tr.subTimeline&&Q&&In.add(Ir),Ci){const fe=new Yi(y,Fe,Ir);fe.setRealPlayer(z),_t.push(fe)}return z});_t.forEach(tr=>{on(this.playersByQueriedElement,tr.element,[]).push(tr),tr.onDone(()=>function Ms($,y,w){let V=$.get(y);if(V){if(V.length){const Q=V.indexOf(w);V.splice(Q,1)}0==V.length&&$.delete(y)}return V}(this.playersByQueriedElement,tr.element,tr))}),un.forEach(tr=>si(tr,Vn));const vr=An(jr);return vr.onDestroy(()=>{un.forEach(tr=>Wr(tr,Vn)),X(ot,w.toStyles)}),In.forEach(tr=>{on(Q,tr,[]).push(vr)}),vr}_buildPlayer(y,w,V){return w.length>0?this.driver.animate(y.element,w,y.duration,y.delay,y.easing,V):new G.ZN(y.duration,y.delay)}}class Yi{constructor(y,w,V){this.namespaceId=y,this.triggerName=w,this.element=V,this._player=new G.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((w,V)=>{w.forEach(Q=>mr(y,V,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const w=this._player;w.triggerCallback&&y.onStart(()=>w.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,w){on(this._queuedCallbacks,y,[]).push(w)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const w=this._player;w.triggerCallback&&w.triggerCallback(y)}}function xs($){return $&&1===$.nodeType}function zs($,y){const w=$.style.display;return $.style.display=y??"none",w}function ii($,y,w,V,Q){const de=[];w.forEach(ot=>de.push(zs(ot)));const Oe=[];V.forEach((ot,_t)=>{const un=new Map;ot.forEach(In=>{const jr=y.computeStyle(_t,In,Q);un.set(In,jr),(!jr||0==jr.length)&&(_t[Pi]=Is,Oe.push(_t))}),$.set(_t,un)});let Fe=0;return w.forEach(ot=>zs(ot,de[Fe++])),Oe}function ms($,y){const w=new Map;if($.forEach(Fe=>w.set(Fe,[])),0==y.length)return w;const V=1,Q=new Set(y),de=new Map;function Oe(Fe){if(!Fe)return V;let ot=de.get(Fe);if(ot)return ot;const _t=Fe.parentNode;return ot=w.has(_t)?_t:Q.has(_t)?V:Oe(_t),de.set(Fe,ot),ot}return y.forEach(Fe=>{const ot=Oe(Fe);ot!==V&&w.get(ot).push(Fe)}),w}function si($,y){$.classList?.add(y)}function Wr($,y){$.classList?.remove(y)}function ns($,y,w){An(w).onDone(()=>$.processLeaveNode(y))}function pi($,y){for(let w=0;w<$.length;w++){const V=$[w];V instanceof G.ZE?pi(V.players,y):y.push(V)}}function Lo($,y,w){const V=w.get($);if(!V)return!1;let Q=y.get($);return Q?V.forEach(de=>Q.add(de)):y.set($,V),w.delete($),!0}class gr{constructor(y,w,V){this.bodyNode=y,this._driver=w,this._normalizer=V,this._triggerCache={},this.onRemovalComplete=(Q,de)=>{},this._transitionEngine=new Fo(y,w,V),this._timelineEngine=new Do(y,w,V),this._transitionEngine.onRemovalComplete=(Q,de)=>this.onRemovalComplete(Q,de)}registerTrigger(y,w,V,Q,de){const Oe=y+"-"+Q;let Fe=this._triggerCache[Oe];if(!Fe){const ot=[],_t=[],un=hi(this._driver,de,ot,_t);if(ot.length)throw function pn($,y){return new E.vHH(3404,!1)}();Fe=function ji($,y,w){return new Us($,y,w)}(Q,un,this._normalizer),this._triggerCache[Oe]=Fe}this._transitionEngine.registerTrigger(w,Q,Fe)}register(y,w){this._transitionEngine.register(y,w)}destroy(y,w){this._transitionEngine.destroy(y,w)}onInsert(y,w,V,Q){this._transitionEngine.insertNode(y,w,V,Q)}onRemove(y,w,V,Q){this._transitionEngine.removeNode(y,w,Q||!1,V)}disableAnimations(y,w){this._transitionEngine.markElementAsDisabled(y,w)}process(y,w,V,Q){if("@"==V.charAt(0)){const[de,Oe]=Yt(V);this._timelineEngine.command(de,w,Oe,Q)}else this._transitionEngine.trigger(y,w,V,Q)}listen(y,w,V,Q,de){if("@"==V.charAt(0)){const[Oe,Fe]=Yt(V);return this._timelineEngine.listen(Oe,w,Fe,de)}return this._transitionEngine.listen(y,w,V,Q,de)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let no=(()=>{class ${constructor(w,V,Q){this._element=w,this._startStyles=V,this._endStyles=Q,this._state=0;let de=$.initialStylesByElement.get(w);de||$.initialStylesByElement.set(w,de=new Map),this._initialStyles=de}start(){this._state<1&&(this._startStyles&&X(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(X(this._element,this._initialStyles),this._endStyles&&(X(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(Se(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Se(this._element,this._endStyles),this._endStyles=null),X(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function yi($){let y=null;return $.forEach((w,V)=>{(function Ia($){return"display"===$||"position"===$})(V)&&(y=y||new Map,y.set(V,w))}),y}class Vi{constructor(y,w,V,Q){this.element=y,this.keyframes=w,this.options=V,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=V.duration,this._delay=V.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const w=[];return y.forEach(V=>{w.push(Object.fromEntries(V))}),w}_triggerWebAnimation(y,w,V){return y.animate(this._convertKeyframesToObject(w),V)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((V,Q)=>{"offset"!==Q&&y.set(Q,this._finished?V:H(this.element,Q))}),this.currentSnapshot=y}triggerCallback(y){const w="start"===y?this._onStartFns:this._onDoneFns;w.forEach(V=>V()),w.length=0}}class ro{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,w){return!1}containsElement(y,w){return Cn(y,w)}getParentElement(y){return Hn(y)}query(y,w,V){return Xt(y,w,V)}computeStyle(y,w,V){return window.getComputedStyle(y)[w]}animate(y,w,V,Q,de,Oe=[]){const ot={duration:V,delay:Q,fill:0==Q?"both":"forwards"};de&&(ot.easing=de);const _t=new Map,un=Oe.filter(vr=>vr instanceof Vi);(function Ur($,y){return 0===$||0===y})(V,Q)&&un.forEach(vr=>{vr.currentSnapshot.forEach((tr,Ir)=>_t.set(Ir,tr))});let In=function vt($){return $.length?$[0]instanceof Map?$:$.map(y=>Ot(y)):[]}(w).map(vr=>he(vr));In=function ct($,y,w){if(w.size&&y.length){let V=y[0],Q=[];if(w.forEach((de,Oe)=>{V.has(Oe)||Q.push(Oe),V.set(Oe,de)}),Q.length)for(let de=1;de<y.length;de++){let Oe=y[de];Q.forEach(Fe=>Oe.set(Fe,H($,Fe)))}}return y}(y,In,_t);const jr=function bi($,y){let w=null,V=null;return Array.isArray(y)&&y.length?(w=yi(y[0]),y.length>1&&(V=yi(y[y.length-1]))):y instanceof Map&&(w=yi(y)),w||V?new no($,w,V):null}(y,In);return new Vi(y,In,ot,jr)}}var Cs=j(6895);let Wn=(()=>{class $ extends G._j{constructor(w,V){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(V.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(w){const V=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(w)?(0,G.vP)(w):w;return Vo(this._renderer,null,V,"register",[Q]),new po(V,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(E.LFG(E.FYo),E.LFG(Cs.K0))},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})();class po extends G.LC{constructor(y,w){super(),this._id=y,this._renderer=w}create(y,w){return new Ds(this._id,y,w||{},this._renderer)}}class Ds{constructor(y,w,V,Q){this.id=y,this.element=w,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",V)}_listen(y,w){return this._renderer.listen(this.element,`@@${this.id}:${y}`,w)}_command(y,...w){return Vo(this._renderer,this.element,this.id,y,w)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vo($,y,w,V,Q){return $.setProperty(y,`@@${w}:${V}`,Q)}const Ps="@.disabled";let To=(()=>{class ${constructor(w,V,Q){this.delegate=w,this.engine=V,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),V.onRemovalComplete=(de,Oe)=>{const Fe=Oe?.parentNode(de);Fe&&Oe.removeChild(Fe,de)}}createRenderer(w,V){const de=this.delegate.createRenderer(w,V);if(!(w&&V&&V.data&&V.data.animation)){let un=this._rendererCache.get(de);return un||(un=new So("",de,this.engine,()=>this._rendererCache.delete(de)),this._rendererCache.set(de,un)),un}const Oe=V.id,Fe=V.id+"-"+this._currentId;this._currentId++,this.engine.register(Fe,w);const ot=un=>{Array.isArray(un)?un.forEach(ot):this.engine.registerTrigger(Oe,Fe,w,un.name,un)};return V.data.animation.forEach(ot),new Ao(this,Fe,de,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,V,Q){w>=0&&w<this._microtaskId?this._zone.run(()=>V(Q)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(de=>{const[Oe,Fe]=de;Oe(Fe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([V,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(E.LFG(E.FYo),E.LFG(gr),E.LFG(E.R0b))},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})();class So{constructor(y,w,V,Q){this.namespaceId=y,this.delegate=w,this.engine=V,this._onDestroy=Q,this.destroyNode=this.delegate.destroyNode?de=>w.destroyNode(de):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,w){return this.delegate.createElement(y,w)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,w){this.delegate.appendChild(y,w),this.engine.onInsert(this.namespaceId,w,y,!1)}insertBefore(y,w,V,Q=!0){this.delegate.insertBefore(y,w,V),this.engine.onInsert(this.namespaceId,w,y,Q)}removeChild(y,w,V){this.engine.onRemove(this.namespaceId,w,this.delegate,V)}selectRootElement(y,w){return this.delegate.selectRootElement(y,w)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,w,V,Q){this.delegate.setAttribute(y,w,V,Q)}removeAttribute(y,w,V){this.delegate.removeAttribute(y,w,V)}addClass(y,w){this.delegate.addClass(y,w)}removeClass(y,w){this.delegate.removeClass(y,w)}setStyle(y,w,V,Q){this.delegate.setStyle(y,w,V,Q)}removeStyle(y,w,V){this.delegate.removeStyle(y,w,V)}setProperty(y,w,V){"@"==w.charAt(0)&&w==Ps?this.disableAnimations(y,!!V):this.delegate.setProperty(y,w,V)}setValue(y,w){this.delegate.setValue(y,w)}listen(y,w,V){return this.delegate.listen(y,w,V)}disableAnimations(y,w){this.engine.disableAnimations(y,w)}}class Ao extends So{constructor(y,w,V,Q,de){super(w,V,Q,de),this.factory=y,this.namespaceId=w}setProperty(y,w,V){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Ps?this.disableAnimations(y,V=void 0===V||!!V):this.engine.process(this.namespaceId,y,w.slice(1),V):this.delegate.setProperty(y,w,V)}listen(y,w,V){if("@"==w.charAt(0)){const Q=function R($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(y);let de=w.slice(1),Oe="";return"@"!=de.charAt(0)&&([de,Oe]=function F($){const y=$.indexOf(".");return[$.substring(0,y),$.slice(y+1)]}(de)),this.engine.listen(this.namespaceId,Q,de,Oe,Fe=>{this.factory.scheduleListenerCallback(Fe._data||-1,V,Fe)})}return this.delegate.listen(y,w,V)}}const mn=[{provide:G._j,useClass:Wn},{provide:Ei,useFactory:function re(){return new Oo}},{provide:gr,useClass:(()=>{class $ extends gr{constructor(w,V,Q,de){super(w.body,V,Q)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(E.LFG(Cs.K0),E.LFG(Cr),E.LFG(Ei),E.LFG(E.z2F))},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:E.FYo,useFactory:function Je($,y,w){return new To($,y,w)},deps:[p.se,gr,E.R0b]}],Nr=[{provide:Cr,useFactory:()=>new ro},{provide:E.QbO,useValue:"BrowserAnimations"},...mn],ni=[{provide:Cr,useClass:lr},{provide:E.QbO,useValue:"NoopAnimations"},...mn];let ys=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?ni:Nr}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$}),$.\u0275inj=E.cJS({providers:Nr,imports:[p.b2]}),$})();var is=j(1194);let Oi=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-not-found"]],decls:13,vars:0,consts:[[1,"container"],[1,"row","justify-content-center","align-items-center"],["src","./assets/notfound.png",2,"width","20vw"],[1,"row-10","text-center"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["routerLink","/home",1,"btn","btn-primary"]],template:function(w,V){1&w&&(E.TgZ(0,"div",0),E._UZ(1,"br"),E.TgZ(2,"div",1),E._UZ(3,"img",2),E.qZA(),E.TgZ(4,"div",3)(5,"p",4)(6,"span",5),E._uU(7,"Opps!"),E.qZA(),E._uU(8," P\xe1gina no encontrada."),E.qZA(),E.TgZ(9,"p",6),E._uU(10," La p\xe1gina que buscas no existe. "),E.qZA(),E.TgZ(11,"a",7),E._uU(12,"Ir al Inicio"),E.qZA()()())},dependencies:[is.rH]}),$})(),Ti=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"text-center"],[1,"container"],[1,"row","justify-content-center"],["src","./assets/home.png",2,"width","15vw"]],template:function(w,V){1&w&&(E.TgZ(0,"h1",0),E._uU(1,"\xa1Bienvenido a la Sala de Juegos!"),E.qZA(),E.TgZ(2,"div",1)(3,"div",2),E._UZ(4,"img",3),E.qZA()())}}),$})();var go=j(727),Gs=j(1197),Os=j(3998),Uo=j.n(Os),so=j(1649),ss=j(5144),Mo=j(433);const Xo=[{path:"home",component:Ti},{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class ${constructor(w,V,Q){this.servBase=w,this.servUsuario=V,this.router=Q,this.miUsuario=new Gs.b("","",""),this.sub=go.w0.EMPTY}ngOnInit(){this.sub=this.servBase.traer("Usuarios")}ngOnDestroy(){this.sub.unsubscribe()}ingresar(){if(this.servUsuario.validarUsuario(this.servBase.array,this.miUsuario,"T")){Uo().fire("Ingreso correctamente!","Haga click para continuar","success");let w=(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString();this.miUsuario.perfil=this.servUsuario.tipoPerfil,this.servUsuario.setActivo=this.miUsuario,this.servBase.guardar("Log",{usuario:{mail:this.miUsuario.mail,clave:this.miUsuario.clave,perfil:this.miUsuario.perfil},fecha:w,accion:"Login"}),this.router.navigateByUrl("home")}else Uo().fire("Datos incorrectos!","Haga click para continuar","error")}llenar(w,V){this.miUsuario.mail=w,this.miUsuario.clave=V}}return $.\u0275fac=function(w){return new(w||$)(E.Y36(so.j),E.Y36(ss.J),E.Y36(is.F0))},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[1,"fadeIn","first"],["src","./assets/login.png","id","icon","alt","User Icon",2,"width","30px"],[3,"ngSubmit"],["for","emailL"],["type","text","id","emailL","name","loginEmail","placeholder","Ingrese mail",1,"fadeIn","second",3,"ngModel","ngModelChange"],["for","claveL"],["type","password","id","claveL","name","loginClave","placeholder","Ingrese contrase\xf1a",1,"fadeIn","third",3,"ngModel","ngModelChange"],[1,"row","justify-content-center","mt-2"],["type","button","value","Invalido",1,"fadeIn","fourth","p-2","col-2",3,"click"],["type","button","value","empleado",1,"fadeIn","fourth","p-2","col-2",3,"click"],["type","button","value","admin",1,"fadeIn","fourth","p-2","col-2",3,"click"],["type","submit","value","Ingresar",1,"fadeIn","fourth","p-2","col-2"]],template:function(w,V){1&w&&(E.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),E._uU(3," Ingreso "),E.qZA(),E.TgZ(4,"div",3),E._UZ(5,"img",4),E.qZA(),E.TgZ(6,"form",5),E.NdJ("ngSubmit",function(){return V.ingresar()}),E.TgZ(7,"label",6),E._uU(8,"Mail:"),E.qZA(),E._UZ(9,"br"),E.TgZ(10,"input",7),E.NdJ("ngModelChange",function(de){return V.miUsuario.mail=de}),E.qZA(),E.TgZ(11,"label",8),E._uU(12,"Contrase\xf1a:"),E.qZA(),E._UZ(13,"br"),E.TgZ(14,"input",9),E.NdJ("ngModelChange",function(de){return V.miUsuario.clave=de}),E.qZA(),E.TgZ(15,"div",10)(16,"input",11),E.NdJ("click",function(){return V.llenar("noesta@gmail.com","asd789")}),E.qZA(),E.TgZ(17,"input",12),E.NdJ("click",function(){return V.llenar("emp@gmail.com","hola123")}),E.qZA(),E.TgZ(18,"input",13),E.NdJ("click",function(){return V.llenar("admin@gmail.com","chau123")}),E.qZA(),E._UZ(19,"input",14),E.qZA()()()()),2&w&&(E.xp6(10),E.Q6J("ngModel",V.miUsuario.mail),E.xp6(4),E.Q6J("ngModel",V.miUsuario.clave))},dependencies:[Mo._Y,Mo.Fj,Mo.JJ,Mo.JL,Mo.On,Mo.F],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),$})()},{path:"registro",loadChildren:()=>j.e(368).then(j.bind(j,1368)).then($=>$.MRegistroModule)},{path:"quienSoy",loadChildren:()=>Promise.all([j.e(592),j.e(818)]).then(j.bind(j,6818)).then($=>$.MQuienSoyModule)},{path:"juegos",loadChildren:()=>j.e(426).then(j.bind(j,6426)).then($=>$.MJuegosModule)},{path:"chat",loadChildren:()=>j.e(411).then(j.bind(j,2411)).then($=>$.MChatModule)},{path:"puntuacion",loadChildren:()=>j.e(794).then(j.bind(j,7794)).then($=>$.MListadoModule)},{path:"encuesta",loadChildren:()=>j.e(942).then(j.bind(j,4942)).then($=>$.MEncuestaModule)},{path:"respuestas",loadChildren:()=>j.e(256).then(j.bind(j,9256)).then($=>$.MRespuestasModule)},{path:"errorPerfil",component:(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-error-perfil"]],decls:3,vars:0,consts:[[1,"contenedor"]],template:function(w,V){1&w&&(E.TgZ(0,"div",0)(1,"h2"),E._uU(2,"ERROR! Usted no cuenta con los permisos necesarios"),E.qZA()())},styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1em;border:3px solid #bc21c2;border-radius:10px}"]}),$})()},{path:"**",component:Oi}];let vs=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$}),$.\u0275inj=E.cJS({imports:[is.Bz.forRoot(Xo),is.Bz]}),$})();function mo($,y){if(1&$&&(E.TgZ(0,"li",5)(1,"p",1),E._uU(2),E.ALo(3,"async"),E.qZA()()),2&$){const w=E.oxw();let V;E.xp6(2),E.Oqu(null==(V=E.lcZ(3,1,w.usuario))?null:V.mail)}}function Kr($,y){1&$&&(E.TgZ(0,"li",5)(1,"a",9),E._uU(2,"Ingresar"),E.qZA()())}function Jo($,y){1&$&&(E.TgZ(0,"li",5)(1,"a",10),E._uU(2,"Registrarse"),E.qZA()())}function ua($,y){1&$&&(E.TgZ(0,"li",5)(1,"a",11),E._uU(2,"Puntuaciones"),E.qZA()())}function _s($,y){1&$&&(E.TgZ(0,"li",5)(1,"a",12),E._uU(2,"Encuesta"),E.qZA()())}function Bo($,y){1&$&&(E.TgZ(0,"li",5)(1,"a",13),E._uU(2,"Respuestas"),E.qZA()())}function $o($,y){if(1&$){const w=E.EpF();E.TgZ(0,"li",5)(1,"a",14),E.NdJ("click",function(){E.CHM(w);const Q=E.oxw();return E.KtG(Q.salir())}),E._uU(2,"Salir"),E.qZA()()}}let ws=(()=>{class ${constructor(w){this.servUsuario=w,this.usuario=this.servUsuario.getActivo}salir(){Uo().fire("Sesion finalizada!","Haga click para continuar","success"),this.servUsuario.setActivo=new Gs.b("","",""),this.servUsuario.tipoPerfil=""}}return $.\u0275fac=function(w){return new(w||$)(E.Y36(ss.J))},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-menu"]],decls:29,vars:21,consts:[[1,"container-fluid","bg-dark","flexHeader"],[1,"text-white"],["routerLink","home",1,"text-white"],[1,"list-unstyled","list-inline"],["class","list-inline-item p-3",4,"ngIf"],[1,"list-inline-item","p-3"],["routerLink","juegos",1,"text-white"],["routerLink","chat",1,"text-white"],["routerLink","quienSoy",1,"text-white"],["routerLink","login",1,"text-white"],["routerLink","registro",1,"text-white"],["routerLink","puntuacion",1,"text-white"],["routerLink","encuesta",1,"text-white"],["routerLink","respuestas",1,"text-white"],["routerLink","home",1,"text-white",3,"click"]],template:function(w,V){if(1&w&&(E.TgZ(0,"div",0)(1,"h4",1)(2,"a",2),E._uU(3,"Sala de juegos - Torrez Ailen"),E.qZA()(),E.TgZ(4,"nav")(5,"ul",3),E.YNc(6,mo,4,3,"li",4),E.ALo(7,"async"),E.YNc(8,Kr,3,0,"li",4),E.ALo(9,"async"),E.YNc(10,Jo,3,0,"li",4),E.ALo(11,"async"),E.TgZ(12,"li",5)(13,"a",6),E._uU(14,"Juegos"),E.qZA()(),E.YNc(15,ua,3,0,"li",4),E.ALo(16,"async"),E.TgZ(17,"li",5)(18,"a",7),E._uU(19,"Chat"),E.qZA()(),E.TgZ(20,"li",5)(21,"a",8),E._uU(22,"Quien Soy"),E.qZA()(),E.YNc(23,_s,3,0,"li",4),E.ALo(24,"async"),E.YNc(25,Bo,3,0,"li",4),E.ALo(26,"async"),E.YNc(27,$o,3,0,"li",4),E.ALo(28,"async"),E.qZA()()()),2&w){let Q,de,Oe,Fe,ot,_t,un;E.xp6(6),E.Q6J("ngIf",null==(Q=E.lcZ(7,7,V.usuario))?null:Q.mail),E.xp6(2),E.Q6J("ngIf",!(null!=(de=E.lcZ(9,9,V.usuario))&&de.mail)),E.xp6(2),E.Q6J("ngIf",!(null!=(Oe=E.lcZ(11,11,V.usuario))&&Oe.mail)),E.xp6(5),E.Q6J("ngIf",null==(Fe=E.lcZ(16,13,V.usuario))?null:Fe.mail),E.xp6(8),E.Q6J("ngIf",null==(ot=E.lcZ(24,15,V.usuario))?null:ot.mail),E.xp6(2),E.Q6J("ngIf",null==(_t=E.lcZ(26,17,V.usuario))?null:_t.mail),E.xp6(2),E.Q6J("ngIf",null==(un=E.lcZ(28,19,V.usuario))?null:un.mail)}},dependencies:[Cs.O5,is.rH,Cs.Ov],styles:[".flexHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),$})(),yo=(()=>{class ${constructor(){this.title="TP_SalaDeJuegos"}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-root"]],decls:2,vars:0,template:function(w,V){1&w&&E._UZ(0,"app-menu")(1,"router-outlet")},dependencies:[is.lC,ws]}),$})();var ea=j(529),qr=j(3692);const oi={firebase:{projectId:"saladejuegos-torrez",appId:"1:508436069531:web:e3cc1aedd42bc9a2765a3e",storageBucket:"saladejuegos-torrez.appspot.com",apiKey:"AIzaSyBxhJVfCOfIyQctjrrfRACwcua7aSUQato",authDomain:"saladejuegos-torrez.firebaseapp.com",messagingSenderId:"508436069531"}};var Jn=j(4976),la=j(259);j(8502),j(2090),j(6881),j(1877),j(4859);class da{constructor(){return(0,Jn.vb)("auth")}}var Ra=j(2313),wo=j(2810);class tu{constructor(y){return y}}const Oa="firestore",ma=new E.OlP("angularfire2.firestore-instances");function el($){return(y,w)=>{const V=y.runOutsideAngular(()=>$(w));return new tu(V)}}const tl={provide:class ga{constructor(){return(0,Jn.vb)(Oa)}},deps:[[new E.FiY,ma]]},as={provide:tu,useFactory:function Da($,y){const w=(0,Jn.JM)(Oa,$,y);return w&&new tu(w)},deps:[[new E.FiY,ma],qr.Ot]};let Gi=(()=>{class ${constructor(){(0,la.KN)("angularfire",Jn.q4.full,"fst")}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$}),$.\u0275inj=E.cJS({providers:[as,tl]}),$})();function Ta($,...y){return{ngModule:Gi,providers:[{provide:ma,useFactory:el($),multi:!0,deps:[E.R0b,E.zs3,Jn.HU,qr.z6,[new E.FiY,da],[new E.FiY,Ra.nm],...y]}]}}const ra=(0,Jn.u3)(wo.ad,!0);var su=j(2011);let La=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$,bootstrap:[yo]}),$.\u0275inj=E.cJS({providers:[{provide:su.Dh,useValue:oi.firebase}],imports:[p.b2,ys,vs,ea.JF,Mo.u5,(0,qr.hX)(()=>(0,qr.ZF)(oi.firebase)),Ta(()=>ra())]}),$})();p.q6().bootstrapModule(La).catch($=>console.error($))},1135:(cn,je,j)=>{"use strict";j.d(je,{X:()=>E});var p=j(7579);class E extends p.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const Ce=super._subscribe(Te);return!Ce.closed&&Te.next(this._value),Ce}getValue(){const{hasError:Te,thrownError:Ce,_value:Be}=this;if(Te)throw Ce;return this._throwIfClosed(),Be}next(Te){super.next(this._value=Te)}}},9751:(cn,je,j)=>{"use strict";j.d(je,{y:()=>we});var p=j(2961),E=j(727),G=j(8822),Te=j(9635),Ce=j(2416),Be=j(576),ke=j(2806);let we=(()=>{class Ne{constructor(yt){yt&&(this._subscribe=yt)}lift(yt){const kt=new Ne;return kt.source=this,kt.operator=yt,kt}subscribe(yt,kt,Bt){const qe=function De(Ne){return Ne&&Ne instanceof p.Lv||function pe(Ne){return Ne&&(0,Be.m)(Ne.next)&&(0,Be.m)(Ne.error)&&(0,Be.m)(Ne.complete)}(Ne)&&(0,E.Nn)(Ne)}(yt)?yt:new p.Hp(yt,kt,Bt);return(0,ke.x)(()=>{const{operator:Et,source:rt}=this;qe.add(Et?Et.call(qe,rt):rt?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(yt){try{return this._subscribe(yt)}catch(kt){yt.error(kt)}}forEach(yt,kt){return new(kt=Qe(kt))((Bt,qe)=>{const Et=new p.Hp({next:rt=>{try{yt(rt)}catch(Lt){qe(Lt),Et.unsubscribe()}},error:qe,complete:Bt});this.subscribe(Et)})}_subscribe(yt){var kt;return null===(kt=this.source)||void 0===kt?void 0:kt.subscribe(yt)}[G.L](){return this}pipe(...yt){return(0,Te.U)(yt)(this)}toPromise(yt){return new(yt=Qe(yt))((kt,Bt)=>{let qe;this.subscribe(Et=>qe=Et,Et=>Bt(Et),()=>kt(qe))})}}return Ne.create=gt=>new Ne(gt),Ne})();function Qe(Ne){var gt;return null!==(gt=Ne??Ce.v.Promise)&&void 0!==gt?gt:Promise}},7579:(cn,je,j)=>{"use strict";j.d(je,{x:()=>ke});var p=j(9751),E=j(727);const Te=(0,j(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=j(8737),Be=j(2806);let ke=(()=>{class Qe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(De){const Ne=new we(this,this);return Ne.operator=De,Ne}_throwIfClosed(){if(this.closed)throw new Te}next(De){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(De)}})}error(De){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=De;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(De)}})}complete(){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:De}=this;for(;De.length;)De.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var De;return(null===(De=this.observers)||void 0===De?void 0:De.length)>0}_trySubscribe(De){return this._throwIfClosed(),super._trySubscribe(De)}_subscribe(De){return this._throwIfClosed(),this._checkFinalizedStatuses(De),this._innerSubscribe(De)}_innerSubscribe(De){const{hasError:Ne,isStopped:gt,observers:yt}=this;return Ne||gt?E.Lc:(this.currentObservers=null,yt.push(De),new E.w0(()=>{this.currentObservers=null,(0,Ce.P)(yt,De)}))}_checkFinalizedStatuses(De){const{hasError:Ne,thrownError:gt,isStopped:yt}=this;Ne?De.error(gt):yt&&De.complete()}asObservable(){const De=new p.y;return De.source=this,De}}return Qe.create=(pe,De)=>new we(pe,De),Qe})();class we extends ke{constructor(pe,De){super(),this.destination=pe,this.source=De}next(pe){var De,Ne;null===(Ne=null===(De=this.destination)||void 0===De?void 0:De.next)||void 0===Ne||Ne.call(De,pe)}error(pe){var De,Ne;null===(Ne=null===(De=this.destination)||void 0===De?void 0:De.error)||void 0===Ne||Ne.call(De,pe)}complete(){var pe,De;null===(De=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===De||De.call(pe)}_subscribe(pe){var De,Ne;return null!==(Ne=null===(De=this.source)||void 0===De?void 0:De.subscribe(pe))&&void 0!==Ne?Ne:E.Lc}}},2961:(cn,je,j)=>{"use strict";j.d(je,{Hp:()=>Bt,Lv:()=>Ne});var p=j(576),E=j(727),G=j(2416),Te=j(7849);function Ce(){}const Be=Qe("C",void 0,void 0);function Qe(_e,Re,it){return{kind:_e,value:Re,error:it}}var pe=j(3410),De=j(2806);class Ne extends E.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,E.Nn)(Re)&&Re.add(this)):this.destination=Lt}static create(Re,it,At){return new Bt(Re,it,At)}next(Re){this.isStopped?rt(function we(_e){return Qe("N",_e,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?rt(function ke(_e){return Qe("E",void 0,_e)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?rt(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function yt(_e,Re){return gt.call(_e,Re)}class kt{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:it}=this;if(it.next)try{it.next(Re)}catch(At){qe(At)}}error(Re){const{partialObserver:it}=this;if(it.error)try{it.error(Re)}catch(At){qe(At)}else qe(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(it){qe(it)}}}class Bt extends Ne{constructor(Re,it,At){let ht;if(super(),(0,p.m)(Re)||!Re)ht={next:Re??void 0,error:it??void 0,complete:At??void 0};else{let ze;this&&G.v.useDeprecatedNextContext?(ze=Object.create(Re),ze.unsubscribe=()=>this.unsubscribe(),ht={next:Re.next&&yt(Re.next,ze),error:Re.error&&yt(Re.error,ze),complete:Re.complete&&yt(Re.complete,ze)}):ht=Re}this.destination=new kt(ht)}}function qe(_e){G.v.useDeprecatedSynchronousErrorHandling?(0,De.O)(_e):(0,Te.h)(_e)}function rt(_e,Re){const{onStoppedNotification:it}=G.v;it&&pe.z.setTimeout(()=>it(_e,Re))}const Lt={closed:!0,next:Ce,error:function Et(_e){throw _e},complete:Ce}},727:(cn,je,j)=>{"use strict";j.d(je,{Lc:()=>Be,w0:()=>Ce,Nn:()=>ke});var p=j(576);const G=(0,j(3888).d)(Qe=>function(De){Qe(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((Ne,gt)=>`${gt+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De});var Te=j(8737);class Ce{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:De}=this;if(De)if(this._parentage=null,Array.isArray(De))for(const yt of De)yt.remove(this);else De.remove(this);const{initialTeardown:Ne}=this;if((0,p.m)(Ne))try{Ne()}catch(yt){pe=yt instanceof G?yt.errors:[yt]}const{_finalizers:gt}=this;if(gt){this._finalizers=null;for(const yt of gt)try{we(yt)}catch(kt){pe=pe??[],kt instanceof G?pe=[...pe,...kt.errors]:pe.push(kt)}}if(pe)throw new G(pe)}}add(pe){var De;if(pe&&pe!==this)if(this.closed)we(pe);else{if(pe instanceof Ce){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(De=this._finalizers)&&void 0!==De?De:[]).push(pe)}}_hasParent(pe){const{_parentage:De}=this;return De===pe||Array.isArray(De)&&De.includes(pe)}_addParent(pe){const{_parentage:De}=this;this._parentage=Array.isArray(De)?(De.push(pe),De):De?[De,pe]:pe}_removeParent(pe){const{_parentage:De}=this;De===pe?this._parentage=null:Array.isArray(De)&&(0,Te.P)(De,pe)}remove(pe){const{_finalizers:De}=this;De&&(0,Te.P)(De,pe),pe instanceof Ce&&pe._removeParent(this)}}Ce.EMPTY=(()=>{const Qe=new Ce;return Qe.closed=!0,Qe})();const Be=Ce.EMPTY;function ke(Qe){return Qe instanceof Ce||Qe&&"closed"in Qe&&(0,p.m)(Qe.remove)&&(0,p.m)(Qe.add)&&(0,p.m)(Qe.unsubscribe)}function we(Qe){(0,p.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(cn,je,j)=>{"use strict";j.d(je,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(cn,je,j)=>{"use strict";j.d(je,{z:()=>Ce});var p=j(8189),G=j(7669),Te=j(8996);function Ce(...Be){return function E(){return(0,p.J)(1)}()((0,Te.D)(Be,(0,G.yG)(Be)))}},515:(cn,je,j)=>{"use strict";j.d(je,{E:()=>E});const E=new(j(9751).y)(Ce=>Ce.complete())},8996:(cn,je,j)=>{"use strict";j.d(je,{D:()=>Re});var p=j(8421),E=j(5363),G=j(9468),Be=j(9751),we=j(2202),Qe=j(576),pe=j(9672);function Ne(it,At){if(!it)throw new Error("Iterable cannot be null");return new Be.y(ht=>{(0,pe.f)(ht,At,()=>{const ze=it[Symbol.asyncIterator]();(0,pe.f)(ht,At,()=>{ze.next().then(It=>{It.done?ht.complete():ht.next(It.value)})},0,!0)})})}var gt=j(3670),yt=j(8239),kt=j(1144),Bt=j(6495),qe=j(2206),Et=j(4532),rt=j(3260);function Re(it,At){return At?function _e(it,At){if(null!=it){if((0,gt.c)(it))return function Te(it,At){return(0,p.Xf)(it).pipe((0,G.R)(At),(0,E.Q)(At))}(it,At);if((0,kt.z)(it))return function ke(it,At){return new Be.y(ht=>{let ze=0;return At.schedule(function(){ze===it.length?ht.complete():(ht.next(it[ze++]),ht.closed||this.schedule())})})}(it,At);if((0,yt.t)(it))return function Ce(it,At){return(0,p.Xf)(it).pipe((0,G.R)(At),(0,E.Q)(At))}(it,At);if((0,qe.D)(it))return Ne(it,At);if((0,Bt.T)(it))return function De(it,At){return new Be.y(ht=>{let ze;return(0,pe.f)(ht,At,()=>{ze=it[we.h](),(0,pe.f)(ht,At,()=>{let It,pn;try{({value:It,done:pn}=ze.next())}catch(Vt){return void ht.error(Vt)}pn?ht.complete():ht.next(It)},0,!0)}),()=>(0,Qe.m)(ze?.return)&&ze.return()})}(it,At);if((0,rt.L)(it))return function Lt(it,At){return Ne((0,rt.Q)(it),At)}(it,At)}throw(0,Et.z)(it)}(it,At):(0,p.Xf)(it)}},8421:(cn,je,j)=>{"use strict";j.d(je,{Xf:()=>gt});var p=j(655),E=j(1144),G=j(8239),Te=j(9751),Ce=j(3670),Be=j(2206),ke=j(4532),we=j(6495),Qe=j(3260),pe=j(576),De=j(7849),Ne=j(8822);function gt(_e){if(_e instanceof Te.y)return _e;if(null!=_e){if((0,Ce.c)(_e))return function yt(_e){return new Te.y(Re=>{const it=_e[Ne.L]();if((0,pe.m)(it.subscribe))return it.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,E.z)(_e))return function kt(_e){return new Te.y(Re=>{for(let it=0;it<_e.length&&!Re.closed;it++)Re.next(_e[it]);Re.complete()})}(_e);if((0,G.t)(_e))return function Bt(_e){return new Te.y(Re=>{_e.then(it=>{Re.closed||(Re.next(it),Re.complete())},it=>Re.error(it)).then(null,De.h)})}(_e);if((0,Be.D)(_e))return Et(_e);if((0,we.T)(_e))return function qe(_e){return new Te.y(Re=>{for(const it of _e)if(Re.next(it),Re.closed)return;Re.complete()})}(_e);if((0,Qe.L)(_e))return function rt(_e){return Et((0,Qe.Q)(_e))}(_e)}throw(0,ke.z)(_e)}function Et(_e){return new Te.y(Re=>{(function Lt(_e,Re){var it,At,ht,ze;return(0,p.mG)(this,void 0,void 0,function*(){try{for(it=(0,p.KL)(_e);!(At=yield it.next()).done;)if(Re.next(At.value),Re.closed)return}catch(It){ht={error:It}}finally{try{At&&!At.done&&(ze=it.return)&&(yield ze.call(it))}finally{if(ht)throw ht.error}}Re.complete()})})(_e,Re).catch(it=>Re.error(it))})}},6451:(cn,je,j)=>{"use strict";j.d(je,{T:()=>Be});var p=j(8189),E=j(8421),G=j(515),Te=j(7669),Ce=j(8996);function Be(...ke){const we=(0,Te.yG)(ke),Qe=(0,Te._6)(ke,1/0),pe=ke;return pe.length?1===pe.length?(0,E.Xf)(pe[0]):(0,p.J)(Qe)((0,Ce.D)(pe,we)):G.E}},9646:(cn,je,j)=>{"use strict";j.d(je,{of:()=>G});var p=j(7669),E=j(8996);function G(...Te){const Ce=(0,p.yG)(Te);return(0,E.D)(Te,Ce)}},5403:(cn,je,j)=>{"use strict";j.d(je,{x:()=>E});var p=j(2961);function E(Te,Ce,Be,ke,we){return new G(Te,Ce,Be,ke,we)}class G extends p.Lv{constructor(Ce,Be,ke,we,Qe,pe){super(Ce),this.onFinalize=Qe,this.shouldUnsubscribe=pe,this._next=Be?function(De){try{Be(De)}catch(Ne){Ce.error(Ne)}}:super._next,this._error=we?function(De){try{we(De)}catch(Ne){Ce.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(De){Ce.error(De)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Be}=this;super.unsubscribe(),!Be&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},4351:(cn,je,j)=>{"use strict";j.d(je,{b:()=>G});var p=j(5577),E=j(576);function G(Te,Ce){return(0,E.m)(Ce)?(0,p.z)(Te,Ce,1):(0,p.z)(Te,1)}},6590:(cn,je,j)=>{"use strict";j.d(je,{d:()=>G});var p=j(4482),E=j(5403);function G(Te){return(0,p.e)((Ce,Be)=>{let ke=!1;Ce.subscribe((0,E.x)(Be,we=>{ke=!0,Be.next(we)},()=>{ke||Be.next(Te),Be.complete()}))})}},9300:(cn,je,j)=>{"use strict";j.d(je,{h:()=>G});var p=j(4482),E=j(5403);function G(Te,Ce){return(0,p.e)((Be,ke)=>{let we=0;Be.subscribe((0,E.x)(ke,Qe=>Te.call(Ce,Qe,we++)&&ke.next(Qe)))})}},590:(cn,je,j)=>{"use strict";j.d(je,{P:()=>ke});var p=j(6805),E=j(9300),G=j(5698),Te=j(6590),Ce=j(8068),Be=j(4671);function ke(we,Qe){const pe=arguments.length>=2;return De=>De.pipe(we?(0,E.h)((Ne,gt)=>we(Ne,gt,De)):Be.y,(0,G.q)(1),pe?(0,Te.d)(Qe):(0,Ce.T)(()=>new p.K))}},4004:(cn,je,j)=>{"use strict";j.d(je,{U:()=>G});var p=j(4482),E=j(5403);function G(Te,Ce){return(0,p.e)((Be,ke)=>{let we=0;Be.subscribe((0,E.x)(ke,Qe=>{ke.next(Te.call(Ce,Qe,we++))}))})}},8189:(cn,je,j)=>{"use strict";j.d(je,{J:()=>G});var p=j(5577),E=j(4671);function G(Te=1/0){return(0,p.z)(E.y,Te)}},5577:(cn,je,j)=>{"use strict";j.d(je,{z:()=>we});var p=j(4004),E=j(8421),G=j(4482),Te=j(9672),Ce=j(5403),ke=j(576);function we(Qe,pe,De=1/0){return(0,ke.m)(pe)?we((Ne,gt)=>(0,p.U)((yt,kt)=>pe(Ne,yt,gt,kt))((0,E.Xf)(Qe(Ne,gt))),De):("number"==typeof pe&&(De=pe),(0,G.e)((Ne,gt)=>function Be(Qe,pe,De,Ne,gt,yt,kt,Bt){const qe=[];let Et=0,rt=0,Lt=!1;const _e=()=>{Lt&&!qe.length&&!Et&&pe.complete()},Re=At=>Et<Ne?it(At):qe.push(At),it=At=>{yt&&pe.next(At),Et++;let ht=!1;(0,E.Xf)(De(At,rt++)).subscribe((0,Ce.x)(pe,ze=>{gt?.(ze),yt?Re(ze):pe.next(ze)},()=>{ht=!0},void 0,()=>{if(ht)try{for(Et--;qe.length&&Et<Ne;){const ze=qe.shift();kt?(0,Te.f)(pe,kt,()=>it(ze)):it(ze)}_e()}catch(ze){pe.error(ze)}}))};return Qe.subscribe((0,Ce.x)(pe,Re,()=>{Lt=!0,_e()})),()=>{Bt?.()}}(Ne,gt,Qe,De)))}},5363:(cn,je,j)=>{"use strict";j.d(je,{Q:()=>Te});var p=j(9672),E=j(4482),G=j(5403);function Te(Ce,Be=0){return(0,E.e)((ke,we)=>{ke.subscribe((0,G.x)(we,Qe=>(0,p.f)(we,Ce,()=>we.next(Qe),Be),()=>(0,p.f)(we,Ce,()=>we.complete(),Be),Qe=>(0,p.f)(we,Ce,()=>we.error(Qe),Be)))})}},5026:(cn,je,j)=>{"use strict";j.d(je,{R:()=>Te});var p=j(4482),E=j(5403);function Te(Ce,Be){return(0,p.e)(function G(Ce,Be,ke,we,Qe){return(pe,De)=>{let Ne=ke,gt=Be,yt=0;pe.subscribe((0,E.x)(De,kt=>{const Bt=yt++;gt=Ne?Ce(gt,kt,Bt):(Ne=!0,kt),we&&De.next(gt)},Qe&&(()=>{Ne&&De.next(gt),De.complete()})))}}(Ce,Be,arguments.length>=2,!0))}},3099:(cn,je,j)=>{"use strict";j.d(je,{B:()=>Ce});var p=j(8421),E=j(7579),G=j(2961),Te=j(4482);function Ce(ke={}){const{connector:we=(()=>new E.x),resetOnError:Qe=!0,resetOnComplete:pe=!0,resetOnRefCountZero:De=!0}=ke;return Ne=>{let gt,yt,kt,Bt=0,qe=!1,Et=!1;const rt=()=>{yt?.unsubscribe(),yt=void 0},Lt=()=>{rt(),gt=kt=void 0,qe=Et=!1},_e=()=>{const Re=gt;Lt(),Re?.unsubscribe()};return(0,Te.e)((Re,it)=>{Bt++,!Et&&!qe&&rt();const At=kt=kt??we();it.add(()=>{Bt--,0===Bt&&!Et&&!qe&&(yt=Be(_e,De))}),At.subscribe(it),!gt&&Bt>0&&(gt=new G.Hp({next:ht=>At.next(ht),error:ht=>{Et=!0,rt(),yt=Be(Lt,Qe,ht),At.error(ht)},complete:()=>{qe=!0,rt(),yt=Be(Lt,pe),At.complete()}}),(0,p.Xf)(Re).subscribe(gt))})(Ne)}}function Be(ke,we,...Qe){if(!0===we)return void ke();if(!1===we)return;const pe=new G.Hp({next:()=>{pe.unsubscribe(),ke()}});return(0,p.Xf)(we(...Qe)).subscribe(pe)}},8675:(cn,je,j)=>{"use strict";j.d(je,{O:()=>Te});var p=j(7272),E=j(7669),G=j(4482);function Te(...Ce){const Be=(0,E.yG)(Ce);return(0,G.e)((ke,we)=>{(Be?(0,p.z)(Ce,ke,Be):(0,p.z)(Ce,ke)).subscribe(we)})}},9468:(cn,je,j)=>{"use strict";j.d(je,{R:()=>E});var p=j(4482);function E(G,Te=0){return(0,p.e)((Ce,Be)=>{Be.add(G.schedule(()=>Ce.subscribe(Be),Te))})}},3900:(cn,je,j)=>{"use strict";j.d(je,{w:()=>Te});var p=j(8421),E=j(4482),G=j(5403);function Te(Ce,Be){return(0,E.e)((ke,we)=>{let Qe=null,pe=0,De=!1;const Ne=()=>De&&!Qe&&we.complete();ke.subscribe((0,G.x)(we,gt=>{Qe?.unsubscribe();let yt=0;const kt=pe++;(0,p.Xf)(Ce(gt,kt)).subscribe(Qe=(0,G.x)(we,Bt=>we.next(Be?Be(gt,Bt,kt,yt++):Bt),()=>{Qe=null,Ne()}))},()=>{De=!0,Ne()}))})}},5698:(cn,je,j)=>{"use strict";j.d(je,{q:()=>Te});var p=j(515),E=j(4482),G=j(5403);function Te(Ce){return Ce<=0?()=>p.E:(0,E.e)((Be,ke)=>{let we=0;Be.subscribe((0,G.x)(ke,Qe=>{++we<=Ce&&(ke.next(Qe),Ce<=we&&ke.complete())}))})}},8505:(cn,je,j)=>{"use strict";j.d(je,{b:()=>Ce});var p=j(576),E=j(4482),G=j(5403),Te=j(4671);function Ce(Be,ke,we){const Qe=(0,p.m)(Be)||ke||we?{next:Be,error:ke,complete:we}:Be;return Qe?(0,E.e)((pe,De)=>{var Ne;null===(Ne=Qe.subscribe)||void 0===Ne||Ne.call(Qe);let gt=!0;pe.subscribe((0,G.x)(De,yt=>{var kt;null===(kt=Qe.next)||void 0===kt||kt.call(Qe,yt),De.next(yt)},()=>{var yt;gt=!1,null===(yt=Qe.complete)||void 0===yt||yt.call(Qe),De.complete()},yt=>{var kt;gt=!1,null===(kt=Qe.error)||void 0===kt||kt.call(Qe,yt),De.error(yt)},()=>{var yt,kt;gt&&(null===(yt=Qe.unsubscribe)||void 0===yt||yt.call(Qe)),null===(kt=Qe.finalize)||void 0===kt||kt.call(Qe)}))}):Te.y}},8068:(cn,je,j)=>{"use strict";j.d(je,{T:()=>Te});var p=j(6805),E=j(4482),G=j(5403);function Te(Be=Ce){return(0,E.e)((ke,we)=>{let Qe=!1;ke.subscribe((0,G.x)(we,pe=>{Qe=!0,we.next(pe)},()=>Qe?we.complete():we.error(Be())))})}function Ce(){return new p.K}},4408:(cn,je,j)=>{"use strict";j.d(je,{o:()=>Ce});var p=j(727);class E extends p.w0{constructor(ke,we){super()}schedule(ke,we=0){return this}}const G={setInterval(Be,ke,...we){const{delegate:Qe}=G;return Qe?.setInterval?Qe.setInterval(Be,ke,...we):setInterval(Be,ke,...we)},clearInterval(Be){const{delegate:ke}=G;return(ke?.clearInterval||clearInterval)(Be)},delegate:void 0};var Te=j(8737);class Ce extends E{constructor(ke,we){super(ke,we),this.scheduler=ke,this.work=we,this.pending=!1}schedule(ke,we=0){var Qe;if(this.closed)return this;this.state=ke;const pe=this.id,De=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(De,pe,we)),this.pending=!0,this.delay=we,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(De,this.id,we),this}requestAsyncId(ke,we,Qe=0){return G.setInterval(ke.flush.bind(ke,this),Qe)}recycleAsyncId(ke,we,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return we;null!=we&&G.clearInterval(we)}execute(ke,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(ke,we);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,we){let pe,Qe=!1;try{this.work(ke)}catch(De){Qe=!0,pe=De||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:ke,scheduler:we}=this,{actions:Qe}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Qe,this),null!=ke&&(this.id=this.recycleAsyncId(we,ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(cn,je,j)=>{"use strict";j.d(je,{v:()=>G});var p=j(6063);class E{constructor(Ce,Be=E.now){this.schedulerActionCtor=Ce,this.now=Be}schedule(Ce,Be=0,ke){return new this.schedulerActionCtor(this,Ce).schedule(ke,Be)}}E.now=p.l.now;class G extends E{constructor(Ce,Be=E.now){super(Ce,Be),this.actions=[],this._active=!1}flush(Ce){const{actions:Be}=this;if(this._active)return void Be.push(Ce);let ke;this._active=!0;do{if(ke=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Be.shift());if(this._active=!1,ke){for(;Ce=Be.shift();)Ce.unsubscribe();throw ke}}}},4986:(cn,je,j)=>{"use strict";j.d(je,{z:()=>G});var p=j(4408);const G=new(j(7565).v)(p.o)},6063:(cn,je,j)=>{"use strict";j.d(je,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(cn,je,j)=>{"use strict";j.d(je,{z:()=>p});const p={setTimeout(E,G,...Te){const{delegate:Ce}=p;return Ce?.setTimeout?Ce.setTimeout(E,G,...Te):setTimeout(E,G,...Te)},clearTimeout(E){const{delegate:G}=p;return(G?.clearTimeout||clearTimeout)(E)},delegate:void 0}},2202:(cn,je,j)=>{"use strict";j.d(je,{h:()=>E});const E=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(cn,je,j)=>{"use strict";j.d(je,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(cn,je,j)=>{"use strict";j.d(je,{K:()=>E});const E=(0,j(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(cn,je,j)=>{"use strict";j.d(je,{_6:()=>Be,jO:()=>Te,yG:()=>Ce});var p=j(576);function G(ke){return ke[ke.length-1]}function Te(ke){return(0,p.m)(G(ke))?ke.pop():void 0}function Ce(ke){return function E(ke){return ke&&(0,p.m)(ke.schedule)}(G(ke))?ke.pop():void 0}function Be(ke,we){return"number"==typeof G(ke)?ke.pop():we}},4742:(cn,je,j)=>{"use strict";j.d(je,{D:()=>Ce});const{isArray:p}=Array,{getPrototypeOf:E,prototype:G,keys:Te}=Object;function Ce(ke){if(1===ke.length){const we=ke[0];if(p(we))return{args:we,keys:null};if(function Be(ke){return ke&&"object"==typeof ke&&E(ke)===G}(we)){const Qe=Te(we);return{args:Qe.map(pe=>we[pe]),keys:Qe}}}return{args:ke,keys:null}}},8737:(cn,je,j)=>{"use strict";function p(E,G){if(E){const Te=E.indexOf(G);0<=Te&&E.splice(Te,1)}}j.d(je,{P:()=>p})},3888:(cn,je,j)=>{"use strict";function p(E){const Te=E(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}j.d(je,{d:()=>p})},1810:(cn,je,j)=>{"use strict";function p(E,G){return E.reduce((Te,Ce,Be)=>(Te[Ce]=G[Be],Te),{})}j.d(je,{n:()=>p})},2806:(cn,je,j)=>{"use strict";j.d(je,{O:()=>Te,x:()=>G});var p=j(2416);let E=null;function G(Ce){if(p.v.useDeprecatedSynchronousErrorHandling){const Be=!E;if(Be&&(E={errorThrown:!1,error:null}),Ce(),Be){const{errorThrown:ke,error:we}=E;if(E=null,ke)throw we}}else Ce()}function Te(Ce){p.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=Ce)}},9672:(cn,je,j)=>{"use strict";function p(E,G,Te,Ce=0,Be=!1){const ke=G.schedule(function(){Te(),Be?E.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(E.add(ke),!Be)return ke}j.d(je,{f:()=>p})},4671:(cn,je,j)=>{"use strict";function p(E){return E}j.d(je,{y:()=>p})},1144:(cn,je,j)=>{"use strict";j.d(je,{z:()=>p});const p=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(cn,je,j)=>{"use strict";j.d(je,{D:()=>E});var p=j(576);function E(G){return Symbol.asyncIterator&&(0,p.m)(G?.[Symbol.asyncIterator])}},576:(cn,je,j)=>{"use strict";function p(E){return"function"==typeof E}j.d(je,{m:()=>p})},3670:(cn,je,j)=>{"use strict";j.d(je,{c:()=>G});var p=j(8822),E=j(576);function G(Te){return(0,E.m)(Te[p.L])}},6495:(cn,je,j)=>{"use strict";j.d(je,{T:()=>G});var p=j(2202),E=j(576);function G(Te){return(0,E.m)(Te?.[p.h])}},8239:(cn,je,j)=>{"use strict";j.d(je,{t:()=>E});var p=j(576);function E(G){return(0,p.m)(G?.then)}},3260:(cn,je,j)=>{"use strict";j.d(je,{L:()=>Te,Q:()=>G});var p=j(655),E=j(576);function G(Ce){return(0,p.FC)(this,arguments,function*(){const ke=Ce.getReader();try{for(;;){const{value:we,done:Qe}=yield(0,p.qq)(ke.read());if(Qe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(we)}}finally{ke.releaseLock()}})}function Te(Ce){return(0,E.m)(Ce?.getReader)}},4482:(cn,je,j)=>{"use strict";j.d(je,{A:()=>E,e:()=>G});var p=j(576);function E(Te){return(0,p.m)(Te?.lift)}function G(Te){return Ce=>{if(E(Ce))return Ce.lift(function(Be){try{return Te(Be,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(cn,je,j)=>{"use strict";j.d(je,{Z:()=>Te});var p=j(4004);const{isArray:E}=Array;function Te(Ce){return(0,p.U)(Be=>function G(Ce,Be){return E(Be)?Ce(...Be):Ce(Be)}(Ce,Be))}},9635:(cn,je,j)=>{"use strict";j.d(je,{U:()=>G,z:()=>E});var p=j(4671);function E(...Te){return G(Te)}function G(Te){return 0===Te.length?p.y:1===Te.length?Te[0]:function(Be){return Te.reduce((ke,we)=>we(ke),Be)}}},7849:(cn,je,j)=>{"use strict";j.d(je,{h:()=>G});var p=j(2416),E=j(3410);function G(Te){E.z.setTimeout(()=>{const{onUnhandledError:Ce}=p.v;if(!Ce)throw Te;Ce(Te)})}},4532:(cn,je,j)=>{"use strict";function p(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(je,{z:()=>p})},3998:function(cn){cn.exports=function(){"use strict";var je={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const p=I=>{const M={};for(const Z in I)M[I[Z]]="swal2-"+I[Z];return M},E=p(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),G=p(["success","warning","info","question","error"]),Te="SweetAlert2:",Be=I=>I.charAt(0).toUpperCase()+I.slice(1),ke=I=>{console.warn(`${Te} ${"object"==typeof I?I.join(" "):I}`)},we=I=>{console.error(`${Te} ${I}`)},Qe=[],De=(I,M)=>{(I=>{Qe.includes(I)||(Qe.push(I),ke(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${M}" instead.`)},Ne=I=>"function"==typeof I?I():I,gt=I=>I&&"function"==typeof I.toPromise,yt=I=>gt(I)?I.toPromise():Promise.resolve(I),kt=I=>I&&Promise.resolve(I)===I,Bt=()=>document.body.querySelector(`.${E.container}`),qe=I=>{const M=Bt();return M?M.querySelector(I):null},Et=I=>qe(`.${I}`),rt=()=>Et(E.popup),Lt=()=>Et(E.icon),Re=()=>Et(E.title),it=()=>Et(E["html-container"]),At=()=>Et(E.image),ht=()=>Et(E["progress-steps"]),ze=()=>Et(E["validation-message"]),It=()=>qe(`.${E.actions} .${E.confirm}`),pn=()=>qe(`.${E.actions} .${E.cancel}`),Vt=()=>qe(`.${E.actions} .${E.deny}`),Gt=()=>qe(`.${E.loader}`),st=()=>Et(E.actions),at=()=>Et(E.footer),ft=()=>Et(E["timer-progress-bar"]),wt=()=>Et(E.close),Pt=()=>{const I=Array.from(rt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Z,me)=>{const et=parseInt(Z.getAttribute("tabindex")),zt=parseInt(me.getAttribute("tabindex"));return et>zt?1:et<zt?-1:0}),M=Array.from(rt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(Z=>"-1"!==Z.getAttribute("tabindex"));return(I=>{const M=[];for(let Z=0;Z<I.length;Z++)-1===M.indexOf(I[Z])&&M.push(I[Z]);return M})(I.concat(M)).filter(Z=>zn(Z))},jt=()=>tn(document.body,E.shown)&&!tn(document.body,E["toast-shown"])&&!tn(document.body,E["no-backdrop"]),Mt=()=>rt()&&tn(rt(),E.toast),vn={previousBodyPadding:null},Tn=(I,M)=>{if(I.textContent="",M){const me=(new DOMParser).parseFromString(M,"text/html");Array.from(me.querySelector("head").childNodes).forEach(et=>{I.appendChild(et)}),Array.from(me.querySelector("body").childNodes).forEach(et=>{et instanceof HTMLVideoElement||et instanceof HTMLAudioElement?I.appendChild(et.cloneNode(!0)):I.appendChild(et)})}},tn=(I,M)=>{if(!M)return!1;const Z=M.split(/\s+/);for(let me=0;me<Z.length;me++)if(!I.classList.contains(Z[me]))return!1;return!0},Fn=(I,M,Z)=>{if(((I,M)=>{Array.from(I.classList).forEach(Z=>{!Object.values(E).includes(Z)&&!Object.values(G).includes(Z)&&!Object.values(M.showClass).includes(Z)&&I.classList.remove(Z)})})(I,M),M.customClass&&M.customClass[Z]){if("string"!=typeof M.customClass[Z]&&!M.customClass[Z].forEach)return void ke(`Invalid type of customClass.${Z}! Expected string or iterable object, got "${typeof M.customClass[Z]}"`);on(I,M.customClass[Z])}},mr=(I,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return I.querySelector(`.${E.popup} > .${E[M]}`);case"checkbox":return I.querySelector(`.${E.popup} > .${E.checkbox} input`);case"radio":return I.querySelector(`.${E.popup} > .${E.radio} input:checked`)||I.querySelector(`.${E.popup} > .${E.radio} input:first-child`);case"range":return I.querySelector(`.${E.popup} > .${E.range} input`);default:return I.querySelector(`.${E.popup} > .${E.input}`)}},Tr=I=>{if(I.focus(),"file"!==I.type){const M=I.value;I.value="",I.value=M}},ur=(I,M,Z)=>{!I||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(me=>{Array.isArray(I)?I.forEach(et=>{Z?et.classList.add(me):et.classList.remove(me)}):Z?I.classList.add(me):I.classList.remove(me)}))},on=(I,M)=>{ur(I,M,!0)},Yt=(I,M)=>{ur(I,M,!1)},rr=(I,M)=>{const Z=Array.from(I.children);for(let me=0;me<Z.length;me++){const et=Z[me];if(et instanceof HTMLElement&&tn(et,M))return et}},Sr=(I,M,Z)=>{Z===`${parseInt(Z)}`&&(Z=parseInt(Z)),Z||0===parseInt(Z)?I.style[M]="number"==typeof Z?`${Z}px`:Z:I.style.removeProperty(M)},fr=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Hn=I=>{I.style.display="none"},an=(I,M,Z,me)=>{const et=I.querySelector(M);et&&(et.style[Z]=me)},Ln=function(I,M){M?fr(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Hn(I)},zn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),Qr=I=>I.scrollHeight>I.clientHeight,li=I=>{const M=window.getComputedStyle(I),Z=parseFloat(M.getPropertyValue("animation-duration")||"0"),me=parseFloat(M.getPropertyValue("transition-duration")||"0");return Z>0||me>0},Pn=function(I){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const Z=ft();zn(Z)&&(M&&(Z.style.transition="none",Z.style.width="100%"),setTimeout(()=>{Z.style.transition=`width ${I/1e3}s linear`,Z.style.width="0%"},10))},St={},Cr=I=>new Promise(M=>{if(!I)return M();const Z=window.scrollX,me=window.scrollY;St.restoreFocusTimeout=setTimeout(()=>{St.previousActiveElement instanceof HTMLElement?(St.previousActiveElement.focus(),St.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(Z,me)}),Dr=()=>typeof window>"u"||typeof document>"u",ti=`\n <div aria-labelledby="${E.title}" aria-describedby="${E["html-container"]}" class="${E.popup}" tabindex="-1">\n   <button type="button" class="${E.close}"></button>\n   <ul class="${E["progress-steps"]}"></ul>\n   <div class="${E.icon}"></div>\n   <img class="${E.image}" />\n   <h2 class="${E.title}" id="${E.title}"></h2>\n   <div class="${E["html-container"]}" id="${E["html-container"]}"></div>\n   <input class="${E.input}" />\n   <input type="file" class="${E.file}" />\n   <div class="${E.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${E.select}"></select>\n   <div class="${E.radio}"></div>\n   <label for="${E.checkbox}" class="${E.checkbox}">\n     <input type="checkbox" />\n     <span class="${E.label}"></span>\n   </label>\n   <textarea class="${E.textarea}"></textarea>\n   <div class="${E["validation-message"]}" id="${E["validation-message"]}"></div>\n   <div class="${E.actions}">\n     <div class="${E.loader}"></div>\n     <button type="button" class="${E.confirm}"></button>\n     <button type="button" class="${E.deny}"></button>\n     <button type="button" class="${E.cancel}"></button>\n   </div>\n   <div class="${E.footer}"></div>\n   <div class="${E["timer-progress-bar-container"]}">\n     <div class="${E["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Ar=()=>{St.currentInstance.resetValidationMessage()},Un=I=>{const M=(()=>{const I=Bt();return!!I&&(I.remove(),Yt([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0)})();if(Dr())return void we("SweetAlert2 requires document to initialize");const Z=document.createElement("div");Z.className=E.container,M&&on(Z,E["no-transition"]),Tn(Z,ti);const me=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);me.appendChild(Z),(I=>{const M=rt();M.setAttribute("role",I.toast?"alert":"dialog"),M.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||M.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&on(Bt(),E.rtl)})(me),(()=>{const I=rt(),M=rr(I,E.input),Z=rr(I,E.file),me=I.querySelector(`.${E.range} input`),et=I.querySelector(`.${E.range} output`),zt=rr(I,E.select),er=I.querySelector(`.${E.checkbox} input`),yr=rr(I,E.textarea);M.oninput=Ar,Z.onchange=Ar,zt.onchange=Ar,er.onchange=Ar,yr.oninput=Ar,me.oninput=()=>{Ar(),et.value=me.value},me.onchange=()=>{Ar(),et.value=me.value}})()},cr=(I,M)=>{I instanceof HTMLElement?M.appendChild(I):"object"==typeof I?pr(I,M):I&&Tn(M,I)},pr=(I,M)=>{I.jquery?nt(M,I):Tn(M,I.toString())},nt=(I,M)=>{if(I.textContent="",0 in M)for(let Z=0;Z in M;Z++)I.appendChild(M[Z].cloneNode(!0));else I.appendChild(M.cloneNode(!0))},be=(()=>{if(Dr())return!1;const I=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Z in M)if(Object.prototype.hasOwnProperty.call(M,Z)&&typeof I.style[Z]<"u")return M[Z];return!1})(),Ot=(I,M)=>{const Z=st(),me=Gt();M.showConfirmButton||M.showDenyButton||M.showCancelButton?fr(Z):Hn(Z),Fn(Z,M,"actions"),function vt(I,M,Z){const me=It(),et=Vt(),zt=pn();he(me,"confirm",Z),he(et,"deny",Z),he(zt,"cancel",Z),function ge(I,M,Z,me){me.buttonsStyling?(on([I,M,Z],E.styled),me.confirmButtonColor&&(I.style.backgroundColor=me.confirmButtonColor,on(I,E["default-outline"])),me.denyButtonColor&&(M.style.backgroundColor=me.denyButtonColor,on(M,E["default-outline"])),me.cancelButtonColor&&(Z.style.backgroundColor=me.cancelButtonColor,on(Z,E["default-outline"]))):Yt([I,M,Z],E.styled)}(me,et,zt,Z),Z.reverseButtons&&(Z.toast?(I.insertBefore(zt,me),I.insertBefore(et,me)):(I.insertBefore(zt,M),I.insertBefore(et,M),I.insertBefore(me,M)))}(Z,me,M),Tn(me,M.loaderHtml),Fn(me,M,"loader")};function he(I,M,Z){Ln(I,Z[`show${Be(M)}Button`],"inline-block"),Tn(I,Z[`${M}ButtonText`]),I.setAttribute("aria-label",Z[`${M}ButtonAriaLabel`]),I.className=E[M],Fn(I,Z,`${M}Button`),on(I,Z[`${M}ButtonClass`])}const ne=(I,M)=>{const Z=Bt();Z&&(function X(I,M){"string"==typeof M?I.style.background=M:M||on([document.documentElement,document.body],E["no-backdrop"])}(Z,M.backdrop),function Se(I,M){M in E?on(I,E[M]):(ke('The "position" parameter is not valid, defaulting to "center"'),on(I,E.center))}(Z,M.position),function ye(I,M){if(M&&"string"==typeof M){const Z=`grow-${M}`;Z in E&&on(I,E[Z])}}(Z,M.grow),Fn(Z,M,"container"))};const ve=["input","file","range","select","radio","checkbox","textarea"],Me=I=>{if(!ce[I.input])return void we(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const M=Ur(I.input),Z=ce[I.input](M,I);fr(M),I.inputAutoFocus&&setTimeout(()=>{Tr(Z)})},Ct=(I,M)=>{const Z=mr(rt(),I);if(Z){(I=>{for(let M=0;M<I.attributes.length;M++){const Z=I.attributes[M].name;["type","value","style"].includes(Z)||I.removeAttribute(Z)}})(Z);for(const me in M)Z.setAttribute(me,M[me])}},qt=I=>{const M=Ur(I.input);"object"==typeof I.customClass&&on(M,I.customClass.input)},dn=(I,M)=>{(!I.placeholder||M.inputPlaceholder)&&(I.placeholder=M.inputPlaceholder)},sr=(I,M,Z)=>{if(Z.inputLabel){I.id=E.input;const me=document.createElement("label"),et=E["input-label"];me.setAttribute("for",I.id),me.className=et,"object"==typeof Z.customClass&&on(me,Z.customClass.inputLabel),me.innerText=Z.inputLabel,M.insertAdjacentElement("beforebegin",me)}},Ur=I=>rr(rt(),E[I]||E.input),ct=(I,M)=>{["string","number"].includes(typeof M)?I.value=`${M}`:kt(M)||ke(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof M}"`)},ce={};ce.text=ce.email=ce.password=ce.number=ce.tel=ce.url=(I,M)=>(ct(I,M.inputValue),sr(I,I,M),dn(I,M),I.type=M.input,I),ce.file=(I,M)=>(sr(I,I,M),dn(I,M),I),ce.range=(I,M)=>{const Z=I.querySelector("input"),me=I.querySelector("output");return ct(Z,M.inputValue),Z.type=M.input,ct(me,M.inputValue),sr(Z,I,M),I},ce.select=(I,M)=>{if(I.textContent="",M.inputPlaceholder){const Z=document.createElement("option");Tn(Z,M.inputPlaceholder),Z.value="",Z.disabled=!0,Z.selected=!0,I.appendChild(Z)}return sr(I,I,M),I},ce.radio=I=>(I.textContent="",I),ce.checkbox=(I,M)=>{const Z=mr(rt(),"checkbox");Z.value="1",Z.id=E.checkbox,Z.checked=Boolean(M.inputValue);const me=I.querySelector("span");return Tn(me,M.inputPlaceholder),Z},ce.textarea=(I,M)=>{ct(I,M.inputValue),dn(I,M),sr(I,I,M);return setTimeout(()=>{if("MutationObserver"in window){const me=parseInt(window.getComputedStyle(rt()).width);new MutationObserver(()=>{const zt=I.offsetWidth+(me=>parseInt(window.getComputedStyle(me).marginLeft)+parseInt(window.getComputedStyle(me).marginRight))(I);rt().style.width=zt>me?`${zt}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const H=(I,M)=>{const Z=it();Fn(Z,M,"htmlContainer"),M.html?(cr(M.html,Z),fr(Z,"block")):M.text?(Z.textContent=M.text,fr(Z,"block")):Hn(Z),((I,M)=>{const Z=rt(),me=je.innerParams.get(I),et=!me||M.input!==me.input;ve.forEach(zt=>{const er=rr(Z,E[zt]);Ct(zt,M.inputAttributes),er.className=E[zt],et&&Hn(er)}),M.input&&(et&&Me(M),qt(M))})(I,M)},ut=(I,M)=>{for(const Z in G)M.icon!==Z&&Yt(I,G[Z]);on(I,G[M.icon]),br(I,M),Tt(),Fn(I,M,"icon")},Tt=()=>{const I=rt(),M=window.getComputedStyle(I).getPropertyValue("background-color"),Z=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let me=0;me<Z.length;me++)Z[me].style.backgroundColor=M},Qn=(I,M)=>{let me,Z=I.innerHTML;M.iconHtml?me=ri(M.iconHtml):"success"===M.icon?(me='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',Z=Z.replace(/ style=".*?"/g,"")):me="error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':ri({question:"?",warning:"!",info:"i"}[M.icon]),Z.trim()!==me.trim()&&Tn(I,me)},br=(I,M)=>{if(M.iconColor){I.style.color=M.iconColor,I.style.borderColor=M.iconColor;for(const Z of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])an(I,Z,"backgroundColor",M.iconColor);an(I,".swal2-success-ring","borderColor",M.iconColor)}},ri=I=>`<div class="${E["icon-content"]}">${I}</div>`,Xr=(I,M)=>{I.className=`${E.popup} ${zn(I)?M.showClass.popup:""}`,M.toast?(on([document.documentElement,document.body],E["toast-shown"]),on(I,E.toast)):on(I,E.modal),Fn(I,M,"popup"),"string"==typeof M.customClass&&on(I,M.customClass),M.icon&&on(I,E[`icon-${M.icon}`])},kn=I=>{const M=document.createElement("li");return on(M,E["progress-step"]),Tn(M,I),M},_r=I=>{const M=document.createElement("li");return on(M,E["progress-step-line"]),I.progressStepsDistance&&Sr(M,"width",I.progressStepsDistance),M},hi=(I,M)=>{((I,M)=>{const Z=Bt(),me=rt();M.toast?(Sr(Z,"width",M.width),me.style.width="100%",me.insertBefore(Gt(),Lt())):Sr(me,"width",M.width),Sr(me,"padding",M.padding),M.color&&(me.style.color=M.color),M.background&&(me.style.background=M.background),Hn(ze()),Xr(me,M)})(0,M),ne(0,M),((I,M)=>{const Z=ht();M.progressSteps&&0!==M.progressSteps.length?(fr(Z),Z.textContent="",M.currentProgressStep>=M.progressSteps.length&&ke("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((me,et)=>{const zt=kn(me);if(Z.appendChild(zt),et===M.currentProgressStep&&on(zt,E["active-progress-step"]),et!==M.progressSteps.length-1){const er=_r(M);Z.appendChild(er)}})):Hn(Z)})(0,M),((I,M)=>{const Z=je.innerParams.get(I),me=Lt();Z&&M.icon===Z.icon?(Qn(me,M),ut(me,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(G).indexOf(M.icon)?(we(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${M.icon}"`),Hn(me)):(fr(me),Qn(me,M),ut(me,M),on(me,M.showClass.icon)):Hn(me)})(I,M),((I,M)=>{const Z=At();M.imageUrl?(fr(Z,""),Z.setAttribute("src",M.imageUrl),Z.setAttribute("alt",M.imageAlt),Sr(Z,"width",M.imageWidth),Sr(Z,"height",M.imageHeight),Z.className=E.image,Fn(Z,M,"image")):Hn(Z)})(0,M),((I,M)=>{const Z=Re();Ln(Z,M.title||M.titleText,"block"),M.title&&cr(M.title,Z),M.titleText&&(Z.innerText=M.titleText),Fn(Z,M,"title")})(0,M),((I,M)=>{const Z=wt();Tn(Z,M.closeButtonHtml),Fn(Z,M,"closeButton"),Ln(Z,M.showCloseButton),Z.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),H(I,M),Ot(0,M),((I,M)=>{const Z=at();Ln(Z,M.footer),M.footer&&cr(M.footer,Z),Fn(Z,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(rt())};function Fr(){const I=je.innerParams.get(this);if(!I)return;const M=je.domCache.get(this);Hn(M.loader),Mt()?I.icon&&fr(Lt()):Or(M),Yt([M.popup,M.actions],E.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const Or=I=>{const M=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));M.length?fr(M[0],"inline-block"):!zn(It())&&!zn(Vt())&&!zn(pn())&&Hn(I.actions)};const Ue=()=>It()&&It().click(),xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bn=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},Rn=(I,M)=>{const Z=Pt();if(Z.length)return(I+=M)===Z.length?I=0:-1===I&&(I=Z.length-1),void Z[I].focus();rt().focus()},nr=["ArrowRight","ArrowDown"],wi=["ArrowLeft","ArrowUp"],ci=(I,M,Z)=>{const me=je.innerParams.get(I);me&&(M.isComposing||229===M.keyCode||(me.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?fi(I,M,me):"Tab"===M.key?Li(M):[...nr,...wi].includes(M.key)?$r(M.key):"Escape"===M.key&&bs(M,me,Z)))},fi=(I,M,Z)=>{if(Ne(Z.allowEnterKey)&&M.target&&I.getInput()&&M.target instanceof HTMLElement&&M.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(Z.input))return;Ue(),M.preventDefault()}},Li=I=>{const M=I.target,Z=Pt();let me=-1;for(let et=0;et<Z.length;et++)if(M===Z[et]){me=et;break}Rn(me,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},$r=I=>{const M=It(),Z=Vt(),me=pn();if(document.activeElement instanceof HTMLElement&&![M,Z,me].includes(document.activeElement))return;const zt=nr.includes(I)?"nextElementSibling":"previousElementSibling";let er=document.activeElement;for(let yr=0;yr<st().children.length;yr++){if(er=er[zt],!er)return;if(er instanceof HTMLButtonElement&&zn(er))break}er instanceof HTMLButtonElement&&er.focus()},bs=(I,M,Z)=>{Ne(M.allowEscapeKey)&&(I.preventDefault(),Z(xt.esc))};var qi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const es=()=>{Array.from(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},Mi=()=>{const I=navigator.userAgent,M=!!I.match(/iPad/i)||!!I.match(/iPhone/i),Z=!!I.match(/WebKit/i);M&&Z&&!I.match(/CriOS/i)&&rt().scrollHeight>window.innerHeight-44&&(Bt().style.paddingBottom="44px")},mi=()=>{const I=Bt();let M;I.ontouchstart=Z=>{M=xa(Z)},I.ontouchmove=Z=>{M&&(Z.preventDefault(),Z.stopPropagation())}},xa=I=>{const M=I.target,Z=Bt();return!Ei(I)&&!cs(I)&&(M===Z||!Qr(Z)&&M instanceof HTMLElement&&"INPUT"!==M.tagName&&"TEXTAREA"!==M.tagName&&!(Qr(it())&&it().contains(M)))},Ei=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,cs=I=>I.touches&&I.touches.length>1,ho=()=>{if(tn(document.body,E.iosfix)){const I=parseInt(document.body.style.top,10);Yt(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}},Oo=()=>{null===vn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(vn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${vn.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=E["scrollbar-measure"],document.body.appendChild(I);const M=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),M})()}px`)},ds=()=>{null!==vn.previousBodyPadding&&(document.body.style.paddingRight=`${vn.previousBodyPadding}px`,vn.previousBodyPadding=null)};function Jr(I,M,Z,me){Mt()?Qs(I,me):(Cr(Z).then(()=>Qs(I,me)),bn(St)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),jt()&&(ds(),ho(),es()),function hs(){Yt([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"]])}()}function fs(I){I=Us(I);const M=qi.swalPromiseResolve.get(this),Z=Mr(this);this.isAwaitingPromise()?I.isDismissed||(ji(this),M(I)):Z&&M(I)}const Mr=I=>{const M=rt();if(!M)return!1;const Z=je.innerParams.get(I);if(!Z||tn(M,Z.hideClass.popup))return!1;Yt(M,Z.showClass.popup),on(M,Z.hideClass.popup);const me=Bt();return Yt(me,Z.showClass.backdrop),on(me,Z.hideClass.backdrop),aa(I,M,Z),!0};const ji=I=>{I.isAwaitingPromise()&&(je.awaitingPromise.delete(I),je.innerParams.get(I)||I._destroy())},Us=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),aa=(I,M,Z)=>{const me=Bt(),et=be&&li(M);"function"==typeof Z.willClose&&Z.willClose(M),et?Zo(I,M,me,Z.returnFocus,Z.didClose):Jr(I,me,Z.returnFocus,Z.didClose)},Zo=(I,M,Z,me,et)=>{St.swalCloseEventFinishedCallback=Jr.bind(null,I,Z,me,et),M.addEventListener(be,function(zt){zt.target===M&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback)})},Qs=(I,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(I.params)(),I._destroy()})};function Do(I,M,Z){const me=je.domCache.get(I);M.forEach(et=>{me[et].disabled=Z})}function ko(I,M){if(I)if("radio"===I.type){const me=I.parentNode.parentNode.querySelectorAll("input");for(let et=0;et<me.length;et++)me[et].disabled=M}else I.disabled=M}const Zi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Is=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pi={},gs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Xs=I=>Object.prototype.hasOwnProperty.call(Zi,I),$s=I=>-1!==Is.indexOf(I),js=I=>Pi[I],Fo=I=>{Xs(I)||ke(`Unknown parameter "${I}"`)},Yi=I=>{gs.includes(I)&&ke(`The parameter "${I}" is incompatible with toasts`)},Ms=I=>{js(I)&&De(I,js(I))};const Js=I=>{const M={};return Object.keys(I).forEach(Z=>{$s(Z)?M[Z]=I[Z]:ke(`Invalid parameter to update: ${Z}`)}),M};const ii=I=>{ms(I),delete I.params,delete St.keydownHandler,delete St.keydownTarget,delete St.currentInstance},ms=I=>{I.isAwaitingPromise()?(si(je,I),je.awaitingPromise.set(I,!0)):(si(qi,I),si(je,I))},si=(I,M)=>{for(const Z in I)I[Z].delete(M)};var Wr=Object.freeze({__proto__:null,_destroy:function zs(){const I=je.domCache.get(this),M=je.innerParams.get(this);M?(I.popup&&St.swalCloseEventFinishedCallback&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback),"function"==typeof M.didDestroy&&M.didDestroy(),ii(this)):ms(this)},close:fs,closeModal:fs,closePopup:fs,closeToast:fs,disableButtons:function xi(){Do(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function Qo(){ko(this.getInput(),!0)},disableLoading:Fr,enableButtons:function Yo(){Do(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Hi(){ko(this.getInput(),!1)},getInput:function Xn(I){const M=je.innerParams.get(I||this),Z=je.domCache.get(I||this);return Z?mr(Z.popup,M.input):null},handleAwaitingPromise:ji,hideLoading:Fr,isAwaitingPromise:function No(){return!!je.awaitingPromise.get(this)},rejectPromise:function ps(I){const M=qi.swalPromiseReject.get(this);ji(this),M&&M(I)},resetValidationMessage:function fo(){const I=je.domCache.get(this);I.validationMessage&&Hn(I.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),Yt(M,E.inputerror))},showValidationMessage:function Bs(I){const M=je.domCache.get(this),Z=je.innerParams.get(this);Tn(M.validationMessage,I),M.validationMessage.className=E["validation-message"],Z.customClass&&Z.customClass.validationMessage&&on(M.validationMessage,Z.customClass.validationMessage),fr(M.validationMessage);const me=this.getInput();me&&(me.setAttribute("aria-invalid",!0),me.setAttribute("aria-describedby",E["validation-message"]),Tr(me),on(me,E.inputerror))},update:function xs(I){const M=rt(),Z=je.innerParams.get(this);if(!M||tn(M,Z.hideClass.popup))return void ke("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const me=Js(I),et=Object.assign({},Z,me);hi(this,et),je.innerParams.set(this,et),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}});const ns=I=>{let M=rt();M||new dt,M=rt();const Z=Gt();Mt()?Hn(Lt()):eo(M,I),fr(Z),M.setAttribute("data-loading","true"),M.setAttribute("aria-busy","true"),M.focus()},eo=(I,M)=>{const Z=st(),me=Gt();!M&&zn(It())&&(M=It()),fr(Z),M&&(Hn(M),me.setAttribute("data-button-to-replace",M.className)),me.parentNode.insertBefore(me,M),on([I,Z],E.loading)},Lo=I=>I.checked?1:0,gr=I=>I.checked?I.value:null,bi=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,no=(I,M)=>{const Z=rt(),me=et=>{Ia[M.input](Z,Vi(et),M)};gt(M.inputOptions)||kt(M.inputOptions)?(ns(It()),yt(M.inputOptions).then(et=>{I.hideLoading(),me(et)})):"object"==typeof M.inputOptions?me(M.inputOptions):we("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof M.inputOptions)},yi=(I,M)=>{const Z=I.getInput();Hn(Z),yt(M.inputValue).then(me=>{Z.value="number"===M.input?`${parseFloat(me)||0}`:`${me}`,fr(Z),Z.focus(),I.hideLoading()}).catch(me=>{we(`Error in inputValue promise: ${me}`),Z.value="",fr(Z),Z.focus(),I.hideLoading()})},Ia={select:(I,M,Z)=>{const me=rr(I,E.select),et=(zt,er,yr)=>{const bt=document.createElement("option");bt.value=yr,Tn(bt,er),bt.selected=ro(yr,Z.inputValue),zt.appendChild(bt)};M.forEach(zt=>{const er=zt[0],yr=zt[1];if(Array.isArray(yr)){const bt=document.createElement("optgroup");bt.label=er,bt.disabled=!1,me.appendChild(bt),yr.forEach(kr=>et(bt,kr[1],kr[0]))}else et(me,yr,er)}),me.focus()},radio:(I,M,Z)=>{const me=rr(I,E.radio);M.forEach(zt=>{const er=zt[0],yr=zt[1],bt=document.createElement("input"),kr=document.createElement("label");bt.type="radio",bt.name=E.radio,bt.value=er,ro(er,Z.inputValue)&&(bt.checked=!0);const ai=document.createElement("span");Tn(ai,yr),ai.className=E.label,kr.appendChild(bt),kr.appendChild(ai),me.appendChild(kr)});const et=me.querySelectorAll("input");et.length&&et[0].focus()}},Vi=I=>{const M=[];return typeof Map<"u"&&I instanceof Map?I.forEach((Z,me)=>{let et=Z;"object"==typeof et&&(et=Vi(et)),M.push([me,et])}):Object.keys(I).forEach(Z=>{let me=I[Z];"object"==typeof me&&(me=Vi(me)),M.push([Z,me])}),M},ro=(I,M)=>M&&M.toString()===I.toString(),Ds=(I,M)=>{const Z=je.innerParams.get(I);if(!Z.input)return void we(`The "input" parameter is needed to be set when using returnInputValueOn${Be(M)}`);const me=((I,M)=>{const Z=I.getInput();if(!Z)return null;switch(M.input){case"checkbox":return Lo(Z);case"radio":return gr(Z);case"file":return bi(Z);default:return M.inputAutoTrim?Z.value.trim():Z.value}})(I,Z);Z.inputValidator?Vo(I,me,M):I.getInput().checkValidity()?"deny"===M?rs(I,me):So(I,me):(I.enableButtons(),I.showValidationMessage(Z.validationMessage))},Vo=(I,M,Z)=>{const me=je.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>yt(me.inputValidator(M,me.validationMessage))).then(zt=>{I.enableButtons(),I.enableInput(),zt?I.showValidationMessage(zt):"deny"===Z?rs(I,M):So(I,M)})},rs=(I,M)=>{const Z=je.innerParams.get(I||void 0);Z.showLoaderOnDeny&&ns(Vt()),Z.preDeny?(je.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>yt(Z.preDeny(M,Z.validationMessage))).then(et=>{!1===et?(I.hideLoading(),ji(I)):I.close({isDenied:!0,value:typeof et>"u"?M:et})}).catch(et=>To(I||void 0,et))):I.close({isDenied:!0,value:M})},Ps=(I,M)=>{I.close({isConfirmed:!0,value:M})},To=(I,M)=>{I.rejectPromise(M)},So=(I,M)=>{const Z=je.innerParams.get(I||void 0);Z.showLoaderOnConfirm&&ns(),Z.preConfirm?(I.resetValidationMessage(),je.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>yt(Z.preConfirm(M,Z.validationMessage))).then(et=>{zn(ze())||!1===et?(I.hideLoading(),ji(I)):Ps(I,typeof et>"u"?M:et)}).catch(et=>To(I||void 0,et))):Ps(I,M)},R=(I,M,Z)=>{M.popup.onclick=()=>{const me=je.innerParams.get(I);me&&(F(me)||me.timer||me.input)||Z(xt.close)}},F=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let N=!1;const re=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(M){I.container.onmouseup=void 0,M.target===I.container&&(N=!0)}}},Je=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(M){I.popup.onmouseup=void 0,(M.target===I.popup||I.popup.contains(M.target))&&(N=!0)}}},mn=(I,M,Z)=>{M.container.onclick=me=>{const et=je.innerParams.get(I);N?N=!1:me.target===M.container&&Ne(et.allowOutsideClick)&&Z(xt.backdrop)}},ni=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const is=()=>{if(St.timeout)return(()=>{const I=ft(),M=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const Z=parseInt(window.getComputedStyle(I).width);I.style.width=M/Z*100+"%"})(),St.timeout.stop()},Oi=()=>{if(St.timeout){const I=St.timeout.start();return Pn(I),I}};let Os=!1;const Uo={};const ss=I=>{for(let M=I.target;M&&M!==document;M=M.parentNode)for(const Z in Uo){const me=M.getAttribute(Z);if(me)return void Uo[Z].fire({template:me})}};var Mo=Object.freeze({__proto__:null,argsToParams:I=>{const M={};return"object"!=typeof I[0]||ni(I[0])?["title","html","icon"].forEach((Z,me)=>{const et=I[me];"string"==typeof et||ni(et)?M[Z]=et:void 0!==et&&we(`Unexpected type of ${Z}! Expected "string" or "Element", got ${typeof et}`)}):Object.assign(M,I[0]),M},bindClickHandler:function so(){Uo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Os||(document.body.addEventListener("click",ss),Os=!0)},clickCancel:()=>pn()&&pn().click(),clickConfirm:Ue,clickDeny:()=>Vt()&&Vt().click(),enableLoading:ns,fire:function Rs(){for(var M=arguments.length,Z=new Array(M),me=0;me<M;me++)Z[me]=arguments[me];return new this(...Z)},getActions:st,getCancelButton:pn,getCloseButton:wt,getConfirmButton:It,getContainer:Bt,getDenyButton:Vt,getFocusableElements:Pt,getFooter:at,getHtmlContainer:it,getIcon:Lt,getIconContent:()=>Et(E["icon-content"]),getImage:At,getInputLabel:()=>Et(E["input-label"]),getLoader:Gt,getPopup:rt,getProgressSteps:ht,getTimerLeft:()=>St.timeout&&St.timeout.getTimerLeft(),getTimerProgressBar:ft,getTitle:Re,getValidationMessage:ze,increaseTimer:I=>{if(St.timeout){const M=St.timeout.increase(I);return Pn(M,!0),M}},isDeprecatedParameter:js,isLoading:()=>rt().hasAttribute("data-loading"),isTimerRunning:()=>St.timeout&&St.timeout.isRunning(),isUpdatableParameter:$s,isValidParameter:Xs,isVisible:()=>zn(rt()),mixin:function io(I){return class M extends(this){_main(me,et){return super._main(me,Object.assign({},I,et))}}},resumeTimer:Oi,showLoading:ns,stopTimer:is,toggleTimer:()=>{const I=St.timeout;return I&&(I.running?is():Oi())}});class Ii{constructor(M,Z){this.callback=M,this.remaining=Z,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const Z=this.running;return Z&&this.stop(),this.remaining+=M,Z&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ws=["swal-title","swal-html","swal-footer"],vs=I=>{const M={};return Array.from(I.querySelectorAll("swal-param")).forEach(me=>{ws(me,["name","value"]);const et=me.getAttribute("name"),zt=me.getAttribute("value");M[et]="boolean"==typeof Zi[et]?"false"!==zt:"object"==typeof Zi[et]?JSON.parse(zt):zt}),M},mo=I=>{const M={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(me=>{const et=me.getAttribute("name"),zt=me.getAttribute("value");M[et]=new Function(`return ${zt}`)()}),M},Kr=I=>{const M={};return Array.from(I.querySelectorAll("swal-button")).forEach(me=>{ws(me,["type","color","aria-label"]);const et=me.getAttribute("type");M[`${et}ButtonText`]=me.innerHTML,M[`show${Be(et)}Button`]=!0,me.hasAttribute("color")&&(M[`${et}ButtonColor`]=me.getAttribute("color")),me.hasAttribute("aria-label")&&(M[`${et}ButtonAriaLabel`]=me.getAttribute("aria-label"))}),M},Jo=I=>{const M={},Z=I.querySelector("swal-image");return Z&&(ws(Z,["src","width","height","alt"]),Z.hasAttribute("src")&&(M.imageUrl=Z.getAttribute("src")),Z.hasAttribute("width")&&(M.imageWidth=Z.getAttribute("width")),Z.hasAttribute("height")&&(M.imageHeight=Z.getAttribute("height")),Z.hasAttribute("alt")&&(M.imageAlt=Z.getAttribute("alt"))),M},ua=I=>{const M={},Z=I.querySelector("swal-icon");return Z&&(ws(Z,["type","color"]),Z.hasAttribute("type")&&(M.icon=Z.getAttribute("type")),Z.hasAttribute("color")&&(M.iconColor=Z.getAttribute("color")),M.iconHtml=Z.innerHTML),M},_s=I=>{const M={},Z=I.querySelector("swal-input");Z&&(ws(Z,["type","label","placeholder","value"]),M.input=Z.getAttribute("type")||"text",Z.hasAttribute("label")&&(M.inputLabel=Z.getAttribute("label")),Z.hasAttribute("placeholder")&&(M.inputPlaceholder=Z.getAttribute("placeholder")),Z.hasAttribute("value")&&(M.inputValue=Z.getAttribute("value")));const me=Array.from(I.querySelectorAll("swal-input-option"));return me.length&&(M.inputOptions={},me.forEach(et=>{ws(et,["value"]);const zt=et.getAttribute("value");M.inputOptions[zt]=et.innerHTML})),M},Bo=(I,M)=>{const Z={};for(const me in M){const et=M[me],zt=I.querySelector(et);zt&&(ws(zt,[]),Z[et.replace(/^swal-/,"")]=zt.innerHTML.trim())}return Z},$o=I=>{const M=Ws.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(Z=>{const me=Z.tagName.toLowerCase();M.includes(me)||ke(`Unrecognized element <${me}>`)})},ws=(I,M)=>{Array.from(I.attributes).forEach(Z=>{-1===M.indexOf(Z.name)&&ke([`Unrecognized attribute "${Z.name}" on <${I.tagName.toLowerCase()}>.`,M.length?`Allowed attributes are: ${M.join(", ")}`:"To set the value, use HTML within the element."])})},ea=I=>{const M=Bt(),Z=rt();"function"==typeof I.willOpen&&I.willOpen(Z);const et=window.getComputedStyle(document.body).overflowY;la(M,Z,I),setTimeout(()=>{oi(M,Z)},10),jt()&&(Jn(M,I.scrollbarPadding,et),Array.from(document.body.children).forEach(M=>{M===Bt()||M.contains(Bt())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!Mt()&&!St.previousActiveElement&&(St.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(Z)),Yt(M,E["no-transition"])},qr=I=>{const M=rt();if(I.target!==M)return;const Z=Bt();M.removeEventListener(be,qr),Z.style.overflowY="auto"},oi=(I,M)=>{be&&li(M)?(I.style.overflowY="hidden",M.addEventListener(be,qr)):I.style.overflowY="auto"},Jn=(I,M,Z)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!tn(document.body,E.iosfix)){const M=document.body.scrollTop;document.body.style.top=-1*M+"px",on(document.body,E.iosfix),mi(),Mi()}})(),M&&"hidden"!==Z&&Oo(),setTimeout(()=>{I.scrollTop=0})},la=(I,M,Z)=>{on(I,Z.showClass.backdrop),M.style.setProperty("opacity","0","important"),fr(M,"grid"),setTimeout(()=>{on(M,Z.showClass.popup),M.style.removeProperty("opacity")},10),on([document.documentElement,document.body],E.shown),Z.heightAuto&&Z.backdrop&&!Z.toast&&on([document.documentElement,document.body],E["height-auto"])};var vo={email:(I,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(I,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function Ha(I){(function ta(I){I.inputValidator||Object.keys(vo).forEach(M=>{I.input===M&&(I.inputValidator=vo[M])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&ke("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ja(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(ke('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Un(I)}let Es;class oo{constructor(){if(typeof window>"u")return;Es=this;for(var M=arguments.length,Z=new Array(M),me=0;me<M;me++)Z[me]=arguments[me];const et=Object.freeze(this.constructor.argsToParams(Z));Object.defineProperties(this,{params:{value:et,writable:!1,enumerable:!0,configurable:!0}});const zt=Es._main(Es.params);je.promise.set(this,zt)}_main(M){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&ke('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in I)Fo(M),I.toast&&Yi(M),Ms(M)})(Object.assign({},Z,M)),St.currentInstance&&(St.currentInstance._destroy(),jt()&&es()),St.currentInstance=Es;const me=da(M,Z);Ha(me),Object.freeze(me),St.timeout&&(St.timeout.stop(),delete St.timeout),clearTimeout(St.restoreFocusTimeout);const et=P(Es);return hi(Es,me),je.innerParams.set(Es,me),ca(Es,et,me)}then(M){return je.promise.get(this).then(M)}finally(M){return je.promise.get(this).finally(M)}}const ca=(I,M,Z)=>new Promise((me,et)=>{const zt=er=>{I.close({isDismissed:!0,dismiss:er})};qi.swalPromiseResolve.set(I,me),qi.swalPromiseReject.set(I,et),M.confirmButton.onclick=()=>{(I=>{const M=je.innerParams.get(I);I.disableButtons(),M.input?Ds(I,"confirm"):So(I,!0)})(I)},M.denyButton.onclick=()=>{(I=>{const M=je.innerParams.get(I);I.disableButtons(),M.returnInputValueOnDeny?Ds(I,"deny"):rs(I,!1)})(I)},M.cancelButton.onclick=()=>{((I,M)=>{I.disableButtons(),M(xt.cancel)})(I,zt)},M.closeButton.onclick=()=>{zt(xt.close)},((I,M,Z)=>{je.innerParams.get(I).toast?R(I,M,Z):(re(M),Je(M),mn(I,M,Z))})(I,M,zt),((I,M,Z,me)=>{bn(M),Z.toast||(M.keydownHandler=et=>ci(I,et,me),M.keydownTarget=Z.keydownListenerCapture?window:rt(),M.keydownListenerCapture=Z.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(I,St,Z,zt),((I,M)=>{"select"===M.input||"radio"===M.input?no(I,M):["text","email","number","tel","textarea"].includes(M.input)&&(gt(M.inputValue)||kt(M.inputValue))&&(ns(It()),yi(I,M))})(I,Z),ea(Z),W(St,Z,zt),L(M,Z),setTimeout(()=>{M.container.scrollTop=0})}),da=(I,M)=>{const Z=(I=>{const M="string"==typeof I.template?document.querySelector(I.template):I.template;if(!M)return{};const Z=M.content;return $o(Z),Object.assign(vs(Z),mo(Z),Kr(Z),Jo(Z),ua(Z),_s(Z),Bo(Z,Ws))})(I),me=Object.assign({},Zi,M,Z,I);return me.showClass=Object.assign({},Zi.showClass,me.showClass),me.hideClass=Object.assign({},Zi.hideClass,me.hideClass),me},P=I=>{const M={popup:rt(),container:Bt(),actions:st(),confirmButton:It(),denyButton:Vt(),cancelButton:pn(),loader:Gt(),closeButton:wt(),validationMessage:ze(),progressSteps:ht()};return je.domCache.set(I,M),M},W=(I,M,Z)=>{const me=ft();Hn(me),M.timer&&(I.timeout=new Ii(()=>{Z("timer"),delete I.timeout},M.timer),M.timerProgressBar&&(fr(me),Fn(me,M,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&Pn(M.timer)})))},L=(I,M)=>{if(!M.toast){if(!Ne(M.allowEnterKey))return void Ie();te(I,M)||Rn(-1,1)}},te=(I,M)=>M.focusDeny&&zn(I.denyButton)?(I.denyButton.focus(),!0):M.focusCancel&&zn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!M.focusConfirm||!zn(I.confirmButton)||(I.confirmButton.focus(),0)),Ie=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const I=new Date,M=localStorage.getItem("swal-initiation");M?(I.getTime()-Date.parse(M))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const Z=document.createElement("audio");Z.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",Z.loop=!0,document.body.appendChild(Z),setTimeout(()=>{Z.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Object.assign(oo.prototype,Wr),Object.assign(oo,Mo),Object.keys(Wr).forEach(I=>{oo[I]=function(){if(Es)return Es[I](...arguments)}}),oo.DismissReason=xt,oo.version="11.7.3";const dt=oo;return dt.default=dt,dt}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(je,j){var p=je.createElement("style");if(je.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=j);else try{p.innerHTML=j}catch{p.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(cn,je,j)=>{"use strict";function Te(st,at){var ft={};for(var wt in st)Object.prototype.hasOwnProperty.call(st,wt)&&at.indexOf(wt)<0&&(ft[wt]=st[wt]);if(null!=st&&"function"==typeof Object.getOwnPropertySymbols){var $t=0;for(wt=Object.getOwnPropertySymbols(st);$t<wt.length;$t++)at.indexOf(wt[$t])<0&&Object.prototype.propertyIsEnumerable.call(st,wt[$t])&&(ft[wt[$t]]=st[wt[$t]])}return ft}function Ne(st,at,ft,wt){return new(ft||(ft=Promise))(function(Pt,jt){function Mt(Tn){try{vn(wt.next(Tn))}catch(tn){jt(tn)}}function gn(Tn){try{vn(wt.throw(Tn))}catch(tn){jt(tn)}}function vn(Tn){Tn.done?Pt(Tn.value):function $t(Pt){return Pt instanceof ft?Pt:new ft(function(jt){jt(Pt)})}(Tn.value).then(Mt,gn)}vn((wt=wt.apply(st,at||[])).next())})}function _e(st){return this instanceof _e?(this.v=st,this):new _e(st)}function Re(st,at,ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $t,wt=ft.apply(st,at||[]),Pt=[];return $t={},jt("next"),jt("throw"),jt("return"),$t[Symbol.asyncIterator]=function(){return this},$t;function jt(An){wt[An]&&($t[An]=function(Fn){return new Promise(function(mr,Tr){Pt.push([An,Fn,mr,Tr])>1||Mt(An,Fn)})})}function Mt(An,Fn){try{!function gn(An){An.value instanceof _e?Promise.resolve(An.value.v).then(vn,Tn):tn(Pt[0][2],An)}(wt[An](Fn))}catch(mr){tn(Pt[0][3],mr)}}function vn(An){Mt("next",An)}function Tn(An){Mt("throw",An)}function tn(An,Fn){An(Fn),Pt.shift(),Pt.length&&Mt(Pt[0][0],Pt[0][1])}}function At(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,at=st[Symbol.asyncIterator];return at?at.call(st):(st=function Bt(st){var at="function"==typeof Symbol&&Symbol.iterator,ft=at&&st[at],wt=0;if(ft)return ft.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&wt>=st.length&&(st=void 0),{value:st&&st[wt++],done:!st}}};throw new TypeError(at?"Object is not iterable.":"Symbol.iterator is not defined.")}(st),ft={},wt("next"),wt("throw"),wt("return"),ft[Symbol.asyncIterator]=function(){return this},ft);function wt(Pt){ft[Pt]=st[Pt]&&function(jt){return new Promise(function(Mt,gn){!function $t(Pt,jt,Mt,gn){Promise.resolve(gn).then(function(vn){Pt({value:vn,done:Mt})},jt)}(Mt,gn,(jt=st[Pt](jt)).done,jt.value)})}}}j.d(je,{FC:()=>Re,KL:()=>At,_T:()=>Te,mG:()=>Ne,qq:()=>_e})},7340:(cn,je,j)=>{"use strict";j.d(je,{LC:()=>E,SB:()=>Qe,X$:()=>Te,ZE:()=>rt,ZN:()=>Et,_j:()=>p,eR:()=>De,jt:()=>Ce,k1:()=>Lt,l3:()=>G,oB:()=>we,vP:()=>ke});class p{}class E{}const G="*";function Te(_e,Re){return{type:7,name:_e,definitions:Re,options:{}}}function Ce(_e,Re=null){return{type:4,styles:Re,timings:_e}}function ke(_e,Re=null){return{type:2,steps:_e,options:Re}}function we(_e){return{type:6,styles:_e,offset:null}}function Qe(_e,Re,it){return{type:0,name:_e,styles:Re,options:it}}function De(_e,Re,it=null){return{type:1,expr:_e,animation:Re,options:it}}function qe(_e){Promise.resolve().then(_e)}class Et{constructor(Re=0,it=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Re+it}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}onStart(Re){this._originalOnStartFns.push(Re),this._onStartFns.push(Re)}onDone(Re){this._originalOnDoneFns.push(Re),this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Re=>Re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Re){this._position=this.totalTime?Re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Re){const it="start"==Re?this._onStartFns:this._onDoneFns;it.forEach(At=>At()),it.length=0}}class rt{constructor(Re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Re;let it=0,At=0,ht=0;const ze=this.players.length;0==ze?qe(()=>this._onFinish()):this.players.forEach(It=>{It.onDone(()=>{++it==ze&&this._onFinish()}),It.onDestroy(()=>{++At==ze&&this._onDestroy()}),It.onStart(()=>{++ht==ze&&this._onStart()})}),this.totalTime=this.players.reduce((It,pn)=>Math.max(It,pn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}init(){this.players.forEach(Re=>Re.init())}onStart(Re){this._onStartFns.push(Re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Re=>Re()),this._onStartFns=[])}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Re=>Re.play())}pause(){this.players.forEach(Re=>Re.pause())}restart(){this.players.forEach(Re=>Re.restart())}finish(){this._onFinish(),this.players.forEach(Re=>Re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Re=>Re.destroy()),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this.players.forEach(Re=>Re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Re){const it=Re*this.totalTime;this.players.forEach(At=>{const ht=At.totalTime?Math.min(1,it/At.totalTime):1;At.setPosition(ht)})}getPosition(){const Re=this.players.reduce((it,At)=>null===it||At.totalTime>it.totalTime?At:it,null);return null!=Re?Re.getPosition():0}beforeDestroy(){this.players.forEach(Re=>{Re.beforeDestroy&&Re.beforeDestroy()})}triggerCallback(Re){const it="start"==Re?this._onStartFns:this._onDoneFns;it.forEach(At=>At()),it.length=0}}const Lt="!"},6895:(cn,je,j)=>{"use strict";j.d(je,{Do:()=>rt,EM:()=>js,HT:()=>Te,JF:()=>xs,K0:()=>Be,Mx:()=>Di,O5:()=>Ue,Ov:()=>Mi,PC:()=>fi,PM:()=>Pi,RF:()=>bn,S$:()=>Bt,V_:()=>Qe,Ye:()=>Lt,b0:()=>Et,bD:()=>Qo,ez:()=>Hi,mk:()=>kn,n9:()=>jn,q:()=>G,sg:()=>Or,w_:()=>Ce});var p=j(4650);let E=null;function G(){return E}function Te(P){E||(E=P)}class Ce{}const Be=new p.OlP("DocumentToken");let ke=(()=>{class P{historyGo(L){throw new Error("Not implemented")}}return P.\u0275fac=function(L){return new(L||P)},P.\u0275prov=p.Yz7({token:P,factory:function(){return function we(){return(0,p.LFG)(pe)}()},providedIn:"platform"}),P})();const Qe=new p.OlP("Location Initialized");let pe=(()=>{class P extends ke{constructor(L){super(),this._doc=L,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(L){const te=G().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",L,!1),()=>te.removeEventListener("popstate",L)}onHashChange(L){const te=G().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",L,!1),()=>te.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,te,Ie){De()?this._history.pushState(L,te,Ie):this._location.hash=Ie}replaceState(L,te,Ie){De()?this._history.replaceState(L,te,Ie):this._location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return P.\u0275fac=function(L){return new(L||P)(p.LFG(Be))},P.\u0275prov=p.Yz7({token:P,factory:function(){return function Ne(){return new pe((0,p.LFG)(Be))}()},providedIn:"platform"}),P})();function De(){return!!window.history.pushState}function gt(P,W){if(0==P.length)return W;if(0==W.length)return P;let L=0;return P.endsWith("/")&&L++,W.startsWith("/")&&L++,2==L?P+W.substring(1):1==L?P+W:P+"/"+W}function yt(P){const W=P.match(/#|\?|$/),L=W&&W.index||P.length;return P.slice(0,L-("/"===P[L-1]?1:0))+P.slice(L)}function kt(P){return P&&"?"!==P[0]?"?"+P:P}let Bt=(()=>{class P{historyGo(L){throw new Error("Not implemented")}}return P.\u0275fac=function(L){return new(L||P)},P.\u0275prov=p.Yz7({token:P,factory:function(){return(0,p.f3M)(Et)},providedIn:"root"}),P})();const qe=new p.OlP("appBaseHref");let Et=(()=>{class P extends Bt{constructor(L,te){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return gt(this._baseHref,L)}path(L=!1){const te=this._platformLocation.pathname+kt(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&L?`${te}${Ie}`:te}pushState(L,te,Ie,dt){const I=this.prepareExternalUrl(Ie+kt(dt));this._platformLocation.pushState(L,te,I)}replaceState(L,te,Ie,dt){const I=this.prepareExternalUrl(Ie+kt(dt));this._platformLocation.replaceState(L,te,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return P.\u0275fac=function(L){return new(L||P)(p.LFG(ke),p.LFG(qe,8))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),rt=(()=>{class P extends Bt{constructor(L,te){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(L){const te=gt(this._baseHref,L);return te.length>0?"#"+te:te}pushState(L,te,Ie,dt){let I=this.prepareExternalUrl(Ie+kt(dt));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.pushState(L,te,I)}replaceState(L,te,Ie,dt){let I=this.prepareExternalUrl(Ie+kt(dt));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.replaceState(L,te,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return P.\u0275fac=function(L){return new(L||P)(p.LFG(ke),p.LFG(qe,8))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac}),P})(),Lt=(()=>{class P{constructor(L){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const te=this._locationStrategy.getBaseHref();this._basePath=function At(P){if(new RegExp("^(https?:)?//").test(P)){const[,L]=P.split(/\/\/[^\/]+/);return L}return P}(yt(it(te))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,te=""){return this.path()==this.normalize(L+kt(te))}normalize(L){return P.stripTrailingSlash(function Re(P,W){if(!P||!W.startsWith(P))return W;const L=W.substring(P.length);return""===L||["/",";","?","#"].includes(L[0])?L:W}(this._basePath,it(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,te="",Ie=null){this._locationStrategy.pushState(Ie,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+kt(te)),Ie)}replaceState(L,te="",Ie=null){this._locationStrategy.replaceState(Ie,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+kt(te)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",te){this._urlChangeListeners.forEach(Ie=>Ie(L,te))}subscribe(L,te,Ie){return this._subject.subscribe({next:L,error:te,complete:Ie})}}return P.normalizeQueryParams=kt,P.joinWithSlash=gt,P.stripTrailingSlash=yt,P.\u0275fac=function(L){return new(L||P)(p.LFG(Bt))},P.\u0275prov=p.Yz7({token:P,factory:function(){return function _e(){return new Lt((0,p.LFG)(Bt))}()},providedIn:"root"}),P})();function it(P){return P.replace(/\/index.html$/,"")}function Di(P,W){W=encodeURIComponent(W);for(const L of P.split(";")){const te=L.indexOf("="),[Ie,dt]=-1==te?[L,""]:[L.slice(0,te),L.slice(te+1)];if(Ie.trim()===W)return decodeURIComponent(dt)}return null}const Xr=/\s+/,Ht=[];let kn=(()=>{class P{constructor(L,te,Ie,dt){this._iterableDiffers=L,this._keyValueDiffers=te,this._ngEl=Ie,this._renderer=dt,this.initialClasses=Ht,this.stateMap=new Map}set klass(L){this.initialClasses=null!=L?L.trim().split(Xr):Ht}set ngClass(L){this.rawClass="string"==typeof L?L.trim().split(Xr):L}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const L=this.rawClass;if(Array.isArray(L)||L instanceof Set)for(const te of L)this._updateState(te,!0);else if(null!=L)for(const te of Object.keys(L))this._updateState(te,Boolean(L[te]));this._applyStateDiff()}_updateState(L,te){const Ie=this.stateMap.get(L);void 0!==Ie?(Ie.enabled!==te&&(Ie.changed=!0,Ie.enabled=te),Ie.touched=!0):this.stateMap.set(L,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const L of this.stateMap){const te=L[0],Ie=L[1];Ie.changed?(this._toggleClass(te,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),Ie.touched=!1}}_toggleClass(L,te){(L=L.trim()).length>0&&L.split(Xr).forEach(Ie=>{te?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}}return P.\u0275fac=function(L){return new(L||P)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},P.\u0275dir=p.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class Fr{constructor(W,L,te,Ie){this.$implicit=W,this.ngForOf=L,this.index=te,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{class P{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,te,Ie){this._viewContainer=L,this._template=te,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const te=this._viewContainer;L.forEachOperation((Ie,dt,I)=>{if(null==Ie.previousIndex)te.createEmbeddedView(this._template,new Fr(Ie.item,this._ngForOf,-1,-1),null===I?void 0:I);else if(null==I)te.remove(null===dt?void 0:dt);else if(null!==dt){const M=te.get(dt);te.move(M,I),Xn(M,Ie)}});for(let Ie=0,dt=te.length;Ie<dt;Ie++){const M=te.get(Ie).context;M.index=Ie,M.count=dt,M.ngForOf=this._ngForOf}L.forEachIdentityChange(Ie=>{Xn(te.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(L,te){return!0}}return P.\u0275fac=function(L){return new(L||P)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},P.\u0275dir=p.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function Xn(P,W){P.context.$implicit=W.item}let Ue=(()=>{class P{constructor(L,te){this._viewContainer=L,this._context=new $e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Dt("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Dt("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,te){return!0}}return P.\u0275fac=function(L){return new(L||P)(p.Y36(p.s_b),p.Y36(p.Rgc))},P.\u0275dir=p.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class $e{constructor(){this.$implicit=null,this.ngIf=null}}function Dt(P,W){if(W&&!W.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,p.AaK)(W)}'.`)}class xt{constructor(W,L){this._viewContainerRef=W,this._templateRef=L,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(W){W&&!this._created?this.create():!W&&this._created&&this.destroy()}}let bn=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(L){this._ngSwitch=L,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(L){this._defaultViews.push(L)}_matchCase(L){const te=L==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||te,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),te}_updateDefaultCases(L){if(this._defaultViews.length>0&&L!==this._defaultUsed){this._defaultUsed=L;for(const te of this._defaultViews)te.enforceState(L)}}}return P.\u0275fac=function(L){return new(L||P)},P.\u0275dir=p.lG2({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),P})(),jn=(()=>{class P{constructor(L,te,Ie){this.ngSwitch=Ie,Ie._addCase(),this._view=new xt(L,te)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return P.\u0275fac=function(L){return new(L||P)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(bn,9))},P.\u0275dir=p.lG2({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),P})(),fi=(()=>{class P{constructor(L,te,Ie){this._ngEl=L,this._differs=te,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(L){this._ngStyle=L,!this._differ&&L&&(this._differ=this._differs.find(L).create())}ngDoCheck(){if(this._differ){const L=this._differ.diff(this._ngStyle);L&&this._applyChanges(L)}}_setStyle(L,te){const[Ie,dt]=L.split("."),I=-1===Ie.indexOf("-")?void 0:p.JOm.DashCase;null!=te?this._renderer.setStyle(this._ngEl.nativeElement,Ie,dt?`${te}${dt}`:te,I):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,I)}_applyChanges(L){L.forEachRemovedItem(te=>this._setStyle(te.key,null)),L.forEachAddedItem(te=>this._setStyle(te.key,te.currentValue)),L.forEachChangedItem(te=>this._setStyle(te.key,te.currentValue))}}return P.\u0275fac=function(L){return new(L||P)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},P.\u0275dir=p.lG2({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),P})();class qi{createSubscription(W,L){return W.subscribe({next:L,error:te=>{throw te}})}dispose(W){W.unsubscribe()}}class Vs{createSubscription(W,L){return W.then(L,te=>{throw te})}dispose(W){}}const es=new Vs,ts=new qi;let Mi=(()=>{class P{constructor(L){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=L}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(L){return this._obj?L!==this._obj?(this._dispose(),this.transform(L)):this._latestValue:(L&&this._subscribe(L),this._latestValue)}_subscribe(L){this._obj=L,this._strategy=this._selectStrategy(L),this._subscription=this._strategy.createSubscription(L,te=>this._updateLatestValue(L,te))}_selectStrategy(L){if((0,p.QGY)(L))return es;if((0,p.F4k)(L))return ts;throw function bs(P,W){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(L,te){L===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return P.\u0275fac=function(L){return new(L||P)(p.Y36(p.sBO,16))},P.\u0275pipe=p.Yjl({name:"async",type:P,pure:!1,standalone:!0}),P})(),Hi=(()=>{class P{}return P.\u0275fac=function(L){return new(L||P)},P.\u0275mod=p.oAB({type:P}),P.\u0275inj=p.cJS({}),P})();const Qo="browser",Bs="server";function Pi(P){return P===Bs}let js=(()=>{class P{}return P.\u0275prov=(0,p.Yz7)({token:P,providedIn:"root",factory:()=>new Fo((0,p.LFG)(Be),window)}),P})();class Fo{constructor(W,L){this.document=W,this.window=L,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const L=function Ms(P,W){const L=P.getElementById(W)||P.getElementsByName(W)[0];if(L)return L;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const te=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ie=te.currentNode;for(;Ie;){const dt=Ie.shadowRoot;if(dt){const I=dt.getElementById(W)||dt.querySelector(`[name="${W}"]`);if(I)return I}Ie=te.nextNode()}}return null}(this.document,W);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=W)}}scrollToElement(W){const L=W.getBoundingClientRect(),te=L.left+this.window.pageXOffset,Ie=L.top+this.window.pageYOffset,dt=this.offset();this.window.scrollTo(te-dt[0],Ie-dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Yi(this.window.history)||Yi(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yi(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class xs{}},529:(cn,je,j)=>{"use strict";j.d(je,{JF:()=>Un,eN:()=>at});var p=j(6895),E=j(4650),G=j(9646),Te=j(9751),Ce=j(4351),Be=j(9300),ke=j(4004);class we{}class Qe{}class pe{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?this.lazyInit="string"==typeof be?()=>{this.headers=new Map,be.split("\n").forEach(Le=>{const Ot=Le.indexOf(":");if(Ot>0){const vt=Le.slice(0,Ot),ge=vt.toLowerCase(),he=Le.slice(Ot+1).trim();this.maybeSetNormalizedName(vt,ge),this.headers.has(ge)?this.headers.get(ge).push(he):this.headers.set(ge,[he])}})}:()=>{this.headers=new Map,Object.entries(be).forEach(([Le,Ot])=>{let vt;if(vt="string"==typeof Ot?[Ot]:"number"==typeof Ot?[Ot.toString()]:Ot.map(ge=>ge.toString()),vt.length>0){const ge=Le.toLowerCase();this.headers.set(ge,vt),this.maybeSetNormalizedName(Le,ge)}})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Le=this.headers.get(be.toLowerCase());return Le&&Le.length>0?Le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Le){return this.clone({name:be,value:Le,op:"a"})}set(be,Le){return this.clone({name:be,value:Le,op:"s"})}delete(be,Le){return this.clone({name:be,value:Le,op:"d"})}maybeSetNormalizedName(be,Le){this.normalizedNames.has(Le)||this.normalizedNames.set(Le,be)}init(){this.lazyInit&&(this.lazyInit instanceof pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Le=>{this.headers.set(Le,be.headers.get(Le)),this.normalizedNames.set(Le,be.normalizedNames.get(Le))})}clone(be){const Le=new pe;return Le.lazyInit=this.lazyInit&&this.lazyInit instanceof pe?this.lazyInit:this,Le.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Le}applyUpdate(be){const Le=be.name.toLowerCase();switch(be.op){case"a":case"s":let Ot=be.value;if("string"==typeof Ot&&(Ot=[Ot]),0===Ot.length)return;this.maybeSetNormalizedName(be.name,Le);const vt=("a"===be.op?this.headers.get(Le):void 0)||[];vt.push(...Ot),this.headers.set(Le,vt);break;case"d":const ge=be.value;if(ge){let he=this.headers.get(Le);if(!he)return;he=he.filter(ee=>-1===ge.indexOf(ee)),0===he.length?(this.headers.delete(Le),this.normalizedNames.delete(Le)):this.headers.set(Le,he)}else this.headers.delete(Le),this.normalizedNames.delete(Le)}}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Le=>be(this.normalizedNames.get(Le),this.headers.get(Le)))}}class Ne{encodeKey(be){return Bt(be)}encodeValue(be){return Bt(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const yt=/%(\d[a-f0-9])/gi,kt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bt(nt){return encodeURIComponent(nt).replace(yt,(be,Le)=>kt[Le]??be)}function qe(nt){return`${nt}`}class Et{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new Ne,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(nt,be){const Le=new Map;return nt.length>0&&nt.replace(/^\?/,"").split("&").forEach(vt=>{const ge=vt.indexOf("="),[he,ee]=-1==ge?[be.decodeKey(vt),""]:[be.decodeKey(vt.slice(0,ge)),be.decodeValue(vt.slice(ge+1))],ne=Le.get(he)||[];ne.push(ee),Le.set(he,ne)}),Le}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Le=>{const Ot=be.fromObject[Le],vt=Array.isArray(Ot)?Ot.map(qe):[qe(Ot)];this.map.set(Le,vt)})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Le=this.map.get(be);return Le?Le[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Le){return this.clone({param:be,value:Le,op:"a"})}appendAll(be){const Le=[];return Object.keys(be).forEach(Ot=>{const vt=be[Ot];Array.isArray(vt)?vt.forEach(ge=>{Le.push({param:Ot,value:ge,op:"a"})}):Le.push({param:Ot,value:vt,op:"a"})}),this.clone(Le)}set(be,Le){return this.clone({param:be,value:Le,op:"s"})}delete(be,Le){return this.clone({param:be,value:Le,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Le=this.encoder.encodeKey(be);return this.map.get(be).map(Ot=>Le+"="+this.encoder.encodeValue(Ot)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Le=new Et({encoder:this.encoder});return Le.cloneFrom=this.cloneFrom||this,Le.updates=(this.updates||[]).concat(be),Le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Le=("a"===be.op?this.map.get(be.param):void 0)||[];Le.push(qe(be.value)),this.map.set(be.param,Le);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let Ot=this.map.get(be.param)||[];const vt=Ot.indexOf(qe(be.value));-1!==vt&&Ot.splice(vt,1),Ot.length>0?this.map.set(be.param,Ot):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class Lt{constructor(){this.map=new Map}set(be,Le){return this.map.set(be,Le),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function Re(nt){return typeof ArrayBuffer<"u"&&nt instanceof ArrayBuffer}function it(nt){return typeof Blob<"u"&&nt instanceof Blob}function At(nt){return typeof FormData<"u"&&nt instanceof FormData}class ze{constructor(be,Le,Ot,vt){let ge;if(this.url=Le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function _e(nt){switch(nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==Ot?Ot:null,ge=vt):ge=Ot,ge&&(this.reportProgress=!!ge.reportProgress,this.withCredentials=!!ge.withCredentials,ge.responseType&&(this.responseType=ge.responseType),ge.headers&&(this.headers=ge.headers),ge.context&&(this.context=ge.context),ge.params&&(this.params=ge.params)),this.headers||(this.headers=new pe),this.context||(this.context=new Lt),this.params){const he=this.params.toString();if(0===he.length)this.urlWithParams=Le;else{const ee=Le.indexOf("?");this.urlWithParams=Le+(-1===ee?"?":ee<Le.length-1?"&":"")+he}}else this.params=new Et,this.urlWithParams=Le}serializeBody(){return null===this.body?null:Re(this.body)||it(this.body)||At(this.body)||function ht(nt){return typeof URLSearchParams<"u"&&nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Et?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||At(this.body)?null:it(this.body)?this.body.type||null:Re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Et?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){const Le=be.method||this.method,Ot=be.url||this.url,vt=be.responseType||this.responseType,ge=void 0!==be.body?be.body:this.body,he=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,ee=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let ne=be.headers||this.headers,X=be.params||this.params;const Se=be.context??this.context;return void 0!==be.setHeaders&&(ne=Object.keys(be.setHeaders).reduce((ye,ve)=>ye.set(ve,be.setHeaders[ve]),ne)),be.setParams&&(X=Object.keys(be.setParams).reduce((ye,ve)=>ye.set(ve,be.setParams[ve]),X)),new ze(Le,Ot,ge,{params:X,headers:ne,context:Se,reportProgress:ee,responseType:vt,withCredentials:he})}}var It=(()=>((It=It||{})[It.Sent=0]="Sent",It[It.UploadProgress=1]="UploadProgress",It[It.ResponseHeader=2]="ResponseHeader",It[It.DownloadProgress=3]="DownloadProgress",It[It.Response=4]="Response",It[It.User=5]="User",It))();class pn{constructor(be,Le=200,Ot="OK"){this.headers=be.headers||new pe,this.status=void 0!==be.status?be.status:Le,this.statusText=be.statusText||Ot,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class Vt extends pn{constructor(be={}){super(be),this.type=It.ResponseHeader}clone(be={}){return new Vt({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Wt extends pn{constructor(be={}){super(be),this.type=It.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new Wt({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Gt extends pn{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function st(nt,be){return{body:be,headers:nt.headers,context:nt.context,observe:nt.observe,params:nt.params,reportProgress:nt.reportProgress,responseType:nt.responseType,withCredentials:nt.withCredentials}}let at=(()=>{class nt{constructor(Le){this.handler=Le}request(Le,Ot,vt={}){let ge;if(Le instanceof ze)ge=Le;else{let ne,X;ne=vt.headers instanceof pe?vt.headers:new pe(vt.headers),vt.params&&(X=vt.params instanceof Et?vt.params:new Et({fromObject:vt.params})),ge=new ze(Le,Ot,void 0!==vt.body?vt.body:null,{headers:ne,context:vt.context,params:X,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const he=(0,G.of)(ge).pipe((0,Ce.b)(ne=>this.handler.handle(ne)));if(Le instanceof ze||"events"===vt.observe)return he;const ee=he.pipe((0,Be.h)(ne=>ne instanceof Wt));switch(vt.observe||"body"){case"body":switch(ge.responseType){case"arraybuffer":return ee.pipe((0,ke.U)(ne=>{if(null!==ne.body&&!(ne.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ne.body}));case"blob":return ee.pipe((0,ke.U)(ne=>{if(null!==ne.body&&!(ne.body instanceof Blob))throw new Error("Response is not a Blob.");return ne.body}));case"text":return ee.pipe((0,ke.U)(ne=>{if(null!==ne.body&&"string"!=typeof ne.body)throw new Error("Response is not a string.");return ne.body}));default:return ee.pipe((0,ke.U)(ne=>ne.body))}case"response":return ee;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(Le,Ot={}){return this.request("DELETE",Le,Ot)}get(Le,Ot={}){return this.request("GET",Le,Ot)}head(Le,Ot={}){return this.request("HEAD",Le,Ot)}jsonp(Le,Ot){return this.request("JSONP",Le,{params:(new Et).append(Ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Le,Ot={}){return this.request("OPTIONS",Le,Ot)}patch(Le,Ot,vt={}){return this.request("PATCH",Le,st(vt,Ot))}post(Le,Ot,vt={}){return this.request("POST",Le,st(vt,Ot))}put(Le,Ot,vt={}){return this.request("PUT",Le,st(vt,Ot))}}return nt.\u0275fac=function(Le){return new(Le||nt)(E.LFG(we))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function ft(nt,be){return be(nt)}function wt(nt,be){return(Le,Ot)=>be.intercept(Le,{handle:vt=>nt(vt,Ot)})}const Pt=new E.OlP("HTTP_INTERCEPTORS"),jt=new E.OlP("HTTP_INTERCEPTOR_FNS");function Mt(){let nt=null;return(be,Le)=>(null===nt&&(nt=((0,E.f3M)(Pt,{optional:!0})??[]).reduceRight(wt,ft)),nt(be,Le))}let gn=(()=>{class nt extends we{constructor(Le,Ot){super(),this.backend=Le,this.injector=Ot,this.chain=null}handle(Le){if(null===this.chain){const Ot=Array.from(new Set(this.injector.get(jt)));this.chain=Ot.reduceRight((vt,ge)=>function $t(nt,be,Le){return(Ot,vt)=>Le.runInContext(()=>be(Ot,ge=>nt(ge,vt)))}(vt,ge,this.injector),ft)}return this.chain(Le,Ot=>this.backend.handle(Ot))}}return nt.\u0275fac=function(Le){return new(Le||nt)(E.LFG(Qe),E.LFG(E.lqb))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const Sr=/^\)\]\}',?\n/;let Hn=(()=>{class nt{constructor(Le){this.xhrFactory=Le}handle(Le){if("JSONP"===Le.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te.y(Ot=>{const vt=this.xhrFactory.build();if(vt.open(Le.method,Le.urlWithParams),Le.withCredentials&&(vt.withCredentials=!0),Le.headers.forEach((le,Me)=>vt.setRequestHeader(le,Me.join(","))),Le.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!Le.headers.has("Content-Type")){const le=Le.detectContentTypeHeader();null!==le&&vt.setRequestHeader("Content-Type",le)}if(Le.responseType){const le=Le.responseType.toLowerCase();vt.responseType="json"!==le?le:"text"}const ge=Le.serializeBody();let he=null;const ee=()=>{if(null!==he)return he;const le=vt.statusText||"OK",Me=new pe(vt.getAllResponseHeaders()),Xe=function fr(nt){return"responseURL"in nt&&nt.responseURL?nt.responseURL:/^X-Request-URL:/m.test(nt.getAllResponseHeaders())?nt.getResponseHeader("X-Request-URL"):null}(vt)||Le.url;return he=new Vt({headers:Me,status:vt.status,statusText:le,url:Xe}),he},ne=()=>{let{headers:le,status:Me,statusText:Xe,url:Ct}=ee(),qt=null;204!==Me&&(qt=typeof vt.response>"u"?vt.responseText:vt.response),0===Me&&(Me=qt?200:0);let dn=Me>=200&&Me<300;if("json"===Le.responseType&&"string"==typeof qt){const sr=qt;qt=qt.replace(Sr,"");try{qt=""!==qt?JSON.parse(qt):null}catch(Ur){qt=sr,dn&&(dn=!1,qt={error:Ur,text:qt})}}dn?(Ot.next(new Wt({body:qt,headers:le,status:Me,statusText:Xe,url:Ct||void 0})),Ot.complete()):Ot.error(new Gt({error:qt,headers:le,status:Me,statusText:Xe,url:Ct||void 0}))},X=le=>{const{url:Me}=ee(),Xe=new Gt({error:le,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:Me||void 0});Ot.error(Xe)};let Se=!1;const ye=le=>{Se||(Ot.next(ee()),Se=!0);let Me={type:It.DownloadProgress,loaded:le.loaded};le.lengthComputable&&(Me.total=le.total),"text"===Le.responseType&&vt.responseText&&(Me.partialText=vt.responseText),Ot.next(Me)},ve=le=>{let Me={type:It.UploadProgress,loaded:le.loaded};le.lengthComputable&&(Me.total=le.total),Ot.next(Me)};return vt.addEventListener("load",ne),vt.addEventListener("error",X),vt.addEventListener("timeout",X),vt.addEventListener("abort",X),Le.reportProgress&&(vt.addEventListener("progress",ye),null!==ge&&vt.upload&&vt.upload.addEventListener("progress",ve)),vt.send(ge),Ot.next({type:It.Sent}),()=>{vt.removeEventListener("error",X),vt.removeEventListener("abort",X),vt.removeEventListener("load",ne),vt.removeEventListener("timeout",X),Le.reportProgress&&(vt.removeEventListener("progress",ye),null!==ge&&vt.upload&&vt.upload.removeEventListener("progress",ve)),vt.readyState!==vt.DONE&&vt.abort()}})}}return nt.\u0275fac=function(Le){return new(Le||nt)(E.LFG(p.JF))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const an=new E.OlP("XSRF_ENABLED"),zn=new E.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Qr=new E.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class li{}let Pn=(()=>{class nt{constructor(Le,Ot,vt){this.doc=Le,this.platform=Ot,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Le=this.doc.cookie||"";return Le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(Le,this.cookieName),this.lastCookieString=Le),this.lastToken}}return nt.\u0275fac=function(Le){return new(Le||nt)(E.LFG(p.K0),E.LFG(E.Lbi),E.LFG(zn))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function Cn(nt,be){const Le=nt.url.toLowerCase();if(!(0,E.f3M)(an)||"GET"===nt.method||"HEAD"===nt.method||Le.startsWith("http://")||Le.startsWith("https://"))return be(nt);const Ot=(0,E.f3M)(li).getToken(),vt=(0,E.f3M)(Qr);return null!=Ot&&!nt.headers.has(vt)&&(nt=nt.clone({headers:nt.headers.set(vt,Ot)})),be(nt)}var St=(()=>((St=St||{})[St.Interceptors=0]="Interceptors",St[St.LegacyInterceptors=1]="LegacyInterceptors",St[St.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",St[St.NoXsrfProtection=3]="NoXsrfProtection",St[St.JsonpSupport=4]="JsonpSupport",St[St.RequestsMadeViaParent=5]="RequestsMadeViaParent",St))();function lr(nt,be){return{\u0275kind:nt,\u0275providers:be}}function Cr(...nt){const be=[at,Hn,gn,{provide:we,useExisting:gn},{provide:Qe,useExisting:Hn},{provide:jt,useValue:Cn,multi:!0},{provide:an,useValue:!0},{provide:li,useClass:Pn}];for(const Le of nt)be.push(...Le.\u0275providers);return(0,E.MR2)(be)}const ti=new E.OlP("LEGACY_INTERCEPTOR_FN");let Un=(()=>{class nt{}return nt.\u0275fac=function(Le){return new(Le||nt)},nt.\u0275mod=E.oAB({type:nt}),nt.\u0275inj=E.cJS({providers:[Cr(lr(St.LegacyInterceptors,[{provide:ti,useFactory:Mt},{provide:jt,useExisting:ti,multi:!0}]))]}),nt})()},4650:(cn,je,j)=>{"use strict";j.d(je,{$8M:()=>os,$WT:()=>Qn,$Z:()=>op,AFp:()=>e0,ALo:()=>bw,AaK:()=>we,CHM:()=>N,CRH:()=>Pw,CZH:()=>Iy,CqO:()=>Kh,D6c:()=>Sb,EJc:()=>HE,EpF:()=>Sm,F4k:()=>Wh,FYo:()=>Cl,FiY:()=>Si,GfV:()=>Hf,Gpc:()=>De,JOm:()=>_t,KtG:()=>re,LFG:()=>Un,LSH:()=>md,Lbi:()=>UE,Lck:()=>F0,MAs:()=>zh,MMx:()=>c_,MR2:()=>jy,NdJ:()=>$p,OlP:()=>Ze,Oqu:()=>af,P3R:()=>Vc,PXZ:()=>ib,Q6J:()=>Vp,QGY:()=>Wd,QbO:()=>BE,Qsj:()=>Dl,R0b:()=>Xu,RDi:()=>Ry,Rgc:()=>cg,SBq:()=>wd,Sil:()=>GE,Suo:()=>xw,TTD:()=>$s,TgZ:()=>rd,VKq:()=>gw,W1O:()=>kw,WLB:()=>mw,X6Q:()=>lb,XFs:()=>an,Xpm:()=>dn,Xts:()=>Of,Y36:()=>lc,YKP:()=>ow,YNc:()=>Hh,Yjl:()=>ut,Yz7:()=>tn,Z0I:()=>Tr,ZZ4:()=>F_,_Bn:()=>sw,_UZ:()=>Gd,_Vd:()=>Hc,_c5:()=>Db,_uU:()=>jm,aQg:()=>L_,c2e:()=>$E,cJS:()=>Fn,cg1:()=>ey,dDg:()=>eb,dqk:()=>Pn,eFA:()=>p0,eJc:()=>w_,ekj:()=>bu,eoX:()=>c0,f3M:()=>pr,g9A:()=>n0,h0i:()=>Ef,hGG:()=>Tb,hij:()=>Hl,iGM:()=>Mw,ifc:()=>ne,ip1:()=>Jw,jDz:()=>uw,kL8:()=>hf,lG2:()=>xe,lcZ:()=>Iw,lqb:()=>Gu,lri:()=>u0,n5z:()=>Pa,oAB:()=>ce,oxw:()=>Hp,q4F:()=>Ug,qLn:()=>sc,qOj:()=>Bd,qZA:()=>zd,rWj:()=>l0,sBO:()=>cb,s_b:()=>wy,soG:()=>Cy,tb:()=>h0,tp0:()=>uo,uIk:()=>Fp,vHH:()=>qe,vpe:()=>ql,wAp:()=>Er,xp6:()=>Zg,z2F:()=>Dy,zSh:()=>vh,zs3:()=>Fs});var p=j(7579),E=j(727),G=j(9751),Te=j(6451),Ce=j(3099);function Be(n){for(let i in n)if(n[i]===Be)return i;throw Error("Could not find renamed property on target object.")}function ke(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function we(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(we).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Qe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const pe=Be({__forward_ref__:Be});function De(n){return n.__forward_ref__=De,n.toString=function(){return we(this())},n}function Ne(n){return gt(n)?n():n}function gt(n){return"function"==typeof n&&n.hasOwnProperty(pe)&&n.__forward_ref__===De}function yt(n){return n&&!!n.\u0275providers}const Bt="https://g.co/ng/security#xss";class qe extends Error{constructor(i,o){super(Et(i,o)),this.code=i}}function Et(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function At(n,i){throw new qe(-201,!1)}function jt(n,i){null==n&&function Mt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function tn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function mr(n){return ur(n,rr)||ur(n,fr)}function Tr(n){return null!==mr(n)}function ur(n,i){return n.hasOwnProperty(i)?n[i]:null}function Yt(n){return n&&(n.hasOwnProperty(Sr)||n.hasOwnProperty(Hn))?n[Sr]:null}const rr=Be({\u0275prov:Be}),Sr=Be({\u0275inj:Be}),fr=Be({ngInjectableDef:Be}),Hn=Be({ngInjectorDef:Be});var an=(()=>((an=an||{})[an.Default=0]="Default",an[an.Host=1]="Host",an[an.Self=2]="Self",an[an.SkipSelf=4]="SkipSelf",an[an.Optional=8]="Optional",an))();let Ln;function ir(n){const i=Ln;return Ln=n,i}function Qr(n,i,o){const u=mr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&an.Optional?null:void 0!==i?i:void At(we(n))}const Pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lr={},Cr="__NG_DI_FLAG__",Dr="ngTempTokenPath",ti="ngTokenPath",zr=/\n/gm,Ar="\u0275",Bn="__source";let Gr;function $n(n){const i=Gr;return Gr=n,i}function Vn(n,i=an.Default){if(void 0===Gr)throw new qe(-203,!1);return null===Gr?Qr(n,void 0,i):Gr.get(n,i&an.Optional?null:void 0,i)}function Un(n,i=an.Default){return(function zn(){return Ln}()||Vn)(Ne(n),i)}function pr(n,i=an.Default){return Un(n,nt(i))}function nt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function be(n){const i=[];for(let o=0;o<n.length;o++){const u=Ne(n[o]);if(Array.isArray(u)){if(0===u.length)throw new qe(900,!1);let l,h=an.Default;for(let v=0;v<u.length;v++){const A=u[v],k=Ot(A);"number"==typeof k?-1===k?l=A.token:h|=k:l=A}i.push(Un(l,h))}else i.push(Un(u))}return i}function Le(n,i){return n[Cr]=i,n.prototype[Cr]=i,n}function Ot(n){return n[Cr]}function he(n){return{toString:n}.toString()}var ee=(()=>((ee=ee||{})[ee.OnPush=0]="OnPush",ee[ee.Default=1]="Default",ee))(),ne=(()=>{return(n=ne||(ne={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ne;var n})();const X={},Se=[],ye=Be({\u0275cmp:Be}),ve=Be({\u0275dir:Be}),le=Be({\u0275pipe:Be}),Me=Be({\u0275mod:Be}),Xe=Be({\u0275fac:Be}),Ct=Be({__NG_ELEMENT_ID__:Be});let qt=0;function dn(n){return he(()=>{const i=ri(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ne.Emulated,id:"c"+qt++,styles:n.styles||Se,_:null,schemas:n.schemas||null,tView:null};Ji(o);const u=n.dependencies;return o.directiveDefs=Di(u,!1),o.pipeDefs=Di(u,!0),o})}function Ur(n){return Tt(n)||rn(n)}function ct(n){return null!==n}function ce(n){return he(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ae(n,i){if(null==n)return X;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function xe(n){return he(()=>{const i=ri(n);return Ji(i),i})}function ut(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Tt(n){return n[ye]||null}function rn(n){return n[ve]||null}function Nn(n){return n[le]||null}function Qn(n){const i=Tt(n)||rn(n)||Nn(n);return null!==i&&i.standalone}function br(n,i){const o=n[Me]||null;if(!o&&!0===i)throw new Error(`Type ${we(n)} does not have '\u0275mod' property.`);return o}function ri(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ae(n.inputs,i),outputs:ae(n.outputs)}}function Ji(n){n.features?.forEach(i=>i(n))}function Di(n,i){if(!n)return null;const o=i?Nn:Ur;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(ct)}const Xr=0,Ht=1,kn=2,_r=3,dr=4,hi=5,Fr=6,Or=7,Xn=8,He=9,Ue=10,$e=11,Dt=12,xt=13,bn=14,jn=15,Rn=16,nr=17,wi=18,ci=19,fi=20,Li=21,$r=22,qi=1,Vs=2,es=7,ts=8,Mi=9,mi=10;function Ei(n){return Array.isArray(n)&&"object"==typeof n[qi]}function cs(n){return Array.isArray(n)&&!0===n[qi]}function ho(n){return 0!=(4&n.flags)}function Oo(n){return n.componentOffset>-1}function ds(n){return 1==(1&n.flags)}function Jr(n){return!!n.template}function hs(n){return 0!=(256&n[kn])}function gs(n,i){return n.hasOwnProperty(Xe)?n[Xe]:null}class Xs{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function $s(){return js}function js(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yi),Fo}function Fo(){const n=Hs(this),i=n?.current;if(i){const o=n.previous;if(o===X)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Yi(n,i,o,u){const l=this.declaredInputs[o],h=Hs(n)||function xs(n,i){return n[Ms]=i}(n,{previous:X,current:null}),v=h.current||(h.current={}),A=h.previous,k=A[l];v[l]=new Xs(k&&k.currentValue,i,A===X),n[u]=i}$s.ngInherit=!0;const Ms="__ngSimpleChanges__";function Hs(n){return n[Ms]||null}const ii=function(n,i,o){};function Wr(n){for(;Array.isArray(n);)n=n[Xr];return n}function eo(n,i){return Wr(i[n])}function pi(n,i){return Wr(i[n.index])}function Lo(n,i){return n.data[i]}function gr(n,i){return n[i]}function bi(n,i){const o=i[n];return Ei(o)?o:o[Xr]}function yi(n){return 64==(64&n[kn])}function Vi(n,i){return null==i?null:n[i]}function ro(n){n[wi]=0}function Cs(n,i){n[hi]+=i;let o=n,u=n[_r];for(;null!==u&&(1===i&&1===o[hi]||-1===i&&0===o[hi]);)u[hi]+=i,o=u,u=u[_r]}const Wn={lFrame:_s(null),bindingsEnabled:!0};function To(){return Wn.bindingsEnabled}function R(){return Wn.lFrame.lView}function F(){return Wn.lFrame.tView}function N(n){return Wn.lFrame.contextLView=n,n[Xn]}function re(n){return Wn.lFrame.contextLView=null,n}function Je(){let n=mn();for(;null!==n&&64===n.type;)n=n.parent;return n}function mn(){return Wn.lFrame.currentTNode}function ni(n,i){const o=Wn.lFrame;o.currentTNode=n,o.isParent=i}function ys(){return Wn.lFrame.isParent}function Oi(){const n=Wn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Gs(){return Wn.lFrame.bindingIndex++}function ss(n,i){const o=Wn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ii(i)}function Ii(n){Wn.lFrame.currentDirectiveIndex=n}function Xo(){return Wn.lFrame.currentQueryIndex}function vs(n){Wn.lFrame.currentQueryIndex=n}function mo(n){const i=n[Ht];return 2===i.type?i.declTNode:1===i.type?n[Fr]:null}function Kr(n,i,o){if(o&an.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&an.Host||(l=mo(h),null===l||(h=h[jn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=Wn.lFrame=ua();return u.currentTNode=i,u.lView=n,!0}function Jo(n){const i=ua(),o=n[Ht];Wn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ua(){const n=Wn.lFrame,i=null===n?null:n.child;return null===i?_s(n):i}function _s(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Bo(){const n=Wn.lFrame;return Wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $o=Bo;function ws(){const n=Bo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qr(){return Wn.lFrame.selectedIndex}function oi(n){Wn.lFrame.selectedIndex=n}function Jn(){const n=Wn.lFrame;return Lo(n.tView,n.selectedIndex)}function oo(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:A,ngAfterViewInit:k,ngAfterViewChecked:K,ngOnDestroy:ie}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),A&&((n.contentHooks??(n.contentHooks=[])).push(o,A),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,A)),k&&(n.viewHooks??(n.viewHooks=[])).push(-o,k),K&&((n.viewHooks??(n.viewHooks=[])).push(o,K),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,K)),null!=ie&&(n.destroyHooks??(n.destroyHooks=[])).push(o,ie)}}function ca(n,i,o){W(n,i,3,o)}function da(n,i,o,u){(3&n[kn])===o&&W(n,i,o,u)}function P(n,i){let o=n[kn];(3&o)===i&&(o&=2047,o+=1,n[kn]=o)}function W(n,i,o,u){const h=u??-1,v=i.length-1;let A=0;for(let k=void 0!==u?65535&n[wi]:0;k<v;k++)if("number"==typeof i[k+1]){if(A=i[k],null!=u&&A>=u)break}else i[k]<0&&(n[wi]+=65536),(A<h||-1==h)&&(L(n,o,i,k),n[wi]=(4294901760&n[wi])+k+2),k++}function L(n,i,o,u){const l=o[u]<0,h=o[u+1],A=n[l?-o[u]:o[u]];if(l){if(n[kn]>>11<n[wi]>>16&&(3&n[kn])===i){n[kn]+=2048,ii(4,A,h);try{h.call(A)}finally{ii(5,A,h)}}}else{ii(4,A,h);try{h.call(A)}finally{ii(5,A,h)}}}const te=-1;class Ie{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function yr(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],A=o[u++];n.setAttribute(i,v,A,h)}else{const h=l,v=o[++u];kr(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function bt(n){return 3===n||4===n||6===n}function kr(n){return 64===n.charCodeAt(0)}function ai(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||_o(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function _o(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const A=n[h++];if("number"==typeof A){if(A===i){v=-1;break}if(A>i){v=h-1;break}}}for(;h<n.length;){const A=n[h];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Jt(n){return n!==te}function Dn(n){return 32767&n}function Zt(n,i){let o=function Ts(n){return n>>16}(n),u=i;for(;o>0;)u=u[jn],o--;return u}let pt=!0;function Ut(n){const i=pt;return pt=n,i}const za=255,Cu=5;let Vu=0;const jo={};function Uu(n,i){const o=gl(n,i);if(-1!==o)return o;const u=i[Ht];u.firstCreatePass&&(n.injectorIndex=i.length,ha(u.data,n),ha(i,null),ha(u.blueprint,null));const l=Ui(n,i),h=n.injectorIndex;if(Jt(l)){const v=Dn(l),A=Zt(l,i),k=A[Ht].data;for(let K=0;K<8;K++)i[h+K]=A[v+K]|k[v+K]}return i[h+8]=l,h}function ha(n,i){n.push(0,0,0,0,0,0,0,0,i)}function gl(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ui(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Wa(l),null===u)return te;if(o++,l=l[jn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return te}function Xa(n,i,o){!function Zl(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Ct)&&(u=o[Ct]),null==u&&(u=o[Ct]=Vu++);const l=u&za;i.data[n+(l>>Cu)]|=1<<l}(n,i,o)}function or(n,i,o){if(o&an.Optional||void 0!==n)return n;At()}function Ca(n,i,o,u){if(o&an.Optional&&void 0===u&&(u=null),!(o&(an.Self|an.Host))){const l=n[He],h=ir(void 0);try{return l?l.get(i,u,o&an.Optional):Qr(i,u,o&an.Optional)}finally{ir(h)}}return or(u,0,o)}function Bu(n,i,o,u=an.Default,l){if(null!==n){if(1024&i[kn]){const v=function Ja(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[kn]&&!(256&v[kn]);){const A=vi(h,v,o,u|an.Self,jo);if(A!==jo)return A;let k=h.parent;if(!k){const K=v[Li];if(K){const ie=K.get(o,jo,u);if(ie!==jo)return ie}k=Wa(v),v=v[jn]}h=k}return l}(n,i,o,u,jo);if(v!==jo)return v}const h=vi(n,i,o,u,jo);if(h!==jo)return h}return Ca(i,o,u,l)}function vi(n,i,o,u,l){const h=function cu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Ct)?n[Ct]:void 0;return"number"==typeof i?i>=0?i&za:Tu:i}(o);if("function"==typeof h){if(!Kr(i,n,u))return u&an.Host?or(l,0,u):Ca(i,o,u,l);try{const v=h(u);if(null!=v||u&an.Optional)return v;At()}finally{$o()}}else if("number"==typeof h){let v=null,A=gl(n,i),k=te,K=u&an.Host?i[Rn][Fr]:null;for((-1===A||u&an.SkipSelf)&&(k=-1===A?Ui(n,i):i[A+8],k!==te&&hn(u,!1)?(v=i[Ht],A=Dn(k),i=Zt(k,i)):A=-1);-1!==A;){const ie=i[Ht];if(gi(h,A,ie.data)){const Ee=_n(A,i,o,v,u,K);if(Ee!==jo)return Ee}k=i[A+8],k!==te&&hn(u,i[Ht].data[A+8]===K)&&gi(h,A,i)?(v=ie,A=Dn(k),i=Zt(k,i)):A=-1}}return l}function _n(n,i,o,u,l,h){const v=i[Ht],A=v.data[n+8],ie=Qi(A,v,o,null==u?Oo(A)&&pt:u!=v&&0!=(3&A.type),l&an.Host&&h===A);return null!==ie?Kn(i,v,ie,A):jo}function Qi(n,i,o,u,l){const h=n.providerIndexes,v=i.data,A=1048575&h,k=n.directiveStart,ie=h>>20,Ge=l?A+ie:n.directiveEnd;for(let lt=u?A:A+ie;lt<Ge;lt++){const Ft=v[lt];if(lt<k&&o===Ft||lt>=k&&Ft.type===o)return lt}if(l){const lt=v[k];if(lt&&Jr(lt)&&lt.type===o)return k}return null}function Kn(n,i,o,u){let l=n[o];const h=i.data;if(function dt(n){return n instanceof Ie}(l)){const v=l;v.resolving&&function _e(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new qe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(h[o]));const A=Ut(v.canSeeViewProviders);v.resolving=!0;const k=v.injectImpl?ir(v.injectImpl):null;Kr(n,u,an.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Es(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=js(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==k&&ir(k),Ut(A),v.resolving=!1,$o()}}return l}function gi(n,i,o){return!!(o[i+(n>>Cu)]&1<<n)}function hn(n,i){return!(n&an.Self||n&an.Host&&i)}class fa{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Bu(this._tNode,this._lView,i,nt(u),o)}}function Tu(){return new fa(Je(),R())}function Pa(n){return he(()=>{const i=n.prototype.constructor,o=i[Xe]||Ga(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Xe]||Ga(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ga(n){return gt(n)?()=>{const i=Ga(Ne(n));return i&&i()}:gs(n)}function Wa(n){const i=n[Ht],o=i.type;return 2===o?i.declTNode:1===o?n[Fr]:null}function os(n){return function Du(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(bt(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Je(),n)}const Ho="__parameters__";function pa(n,i,o){return he(()=>{const u=function na(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return A.annotation=v,A;function A(k,K,ie){const Ee=k.hasOwnProperty(Ho)?k[Ho]:Object.defineProperty(k,Ho,{value:[]})[Ho];for(;Ee.length<=ie;)Ee.push(null);return(Ee[ie]=Ee[ie]||[]).push(v),k}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Ze{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=tn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ni(n,i){n.forEach(o=>Array.isArray(o)?Ni(o,i):i(o))}function Su(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Za(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function xo(n,i,o){let u=_(n,i);return u>=0?n[1|u]=o:(u=~u,function nu(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function ru(n,i){const o=_(n,i);if(o>=0)return n[1|o]}function _(n,i){return function m(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Si=Le(pa("Optional"),8),uo=Le(pa("SkipSelf"),4);var _t=(()=>((_t=_t||{})[_t.Important=1]="Important",_t[_t.DashCase=2]="DashCase",_t))();const tr=new Map;let Ir=0;const Ve="__ngContext__";function Ae(n,i){Ei(i)?(n[Ve]=i[fi],function Ci(n){tr.set(n[fi],n)}(i)):n[Ve]=i}let Xi;function ki(n,i){return Xi(n,i)}function Fi(n){const i=n[_r];return cs(i)?i[_r]:i}function Ss(n){return ks(n[xt])}function Ma(n){return ks(n[dr])}function ks(n){for(;null!==n&&!cs(n);)n=n[dr];return n}function _a(n,i,o,u,l){if(null!=u){let h,v=!1;cs(u)?h=u:Ei(u)&&(v=!0,u=u[Xr]);const A=Wr(u);0===n&&null!==o?null==l?ia(i,o,A):Pr(i,o,A,l||null,!0):1===n&&null!==o?Pr(i,o,A,l||null,!0):2===n?function Cf(n,i,o){const u=wl(n,i);u&&function Ic(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,A,v):3===n&&i.destroyNode(A),null!=h&&function dh(n,i,o,u,l){const h=o[es];h!==Wr(o)&&_a(i,n,u,h,l);for(let A=mi;A<o.length;A++){const k=o[A];Ac(k[Ht],k,n,i,u,h)}}(i,n,h,o,l)}}function bc(n,i,o){return n.createElement(i,o)}function T(n,i){const o=n[Mi],u=o.indexOf(i),l=i[_r];512&i[kn]&&(i[kn]&=-513,Cs(l,-1)),o.splice(u,1)}function Y(n,i){if(n.length<=mi)return;const o=mi+i,u=n[o];if(u){const l=u[nr];null!==l&&l!==n&&T(l,u),i>0&&(n[o-1][dr]=u[dr]);const h=Za(n,mi+i);!function pu(n,i){Ac(n,i,i[$e],2,null,null),i[Xr]=null,i[Fr]=null}(u[Ht],u);const v=h[ci];null!==v&&v.detachView(h[Ht]),u[_r]=null,u[dr]=null,u[kn]&=-65}return u}function oe(n,i){if(!(128&i[kn])){const o=i[$e];o.destroyNode&&Ac(n,i,o,3,null,null),function b(n){let i=n[xt];if(!i)return We(n[Ht],n);for(;i;){let o=null;if(Ei(i))o=i[xt];else{const u=i[mi];u&&(o=u)}if(!o){for(;i&&!i[dr]&&i!==n;)Ei(i)&&We(i[Ht],i),i=i[_r];null===i&&(i=n),Ei(i)&&We(i[Ht],i),o=i&&i[dr]}i=o}}(i)}}function We(n,i){if(!(128&i[kn])){i[kn]&=-65,i[kn]|=128,function en(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Ie)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const A=l[h[v]],k=h[v+1];ii(4,A,k);try{k.call(A)}finally{ii(5,A,k)}}else{ii(4,l,h);try{h.call(l)}finally{ii(5,l,h)}}}}}(n,i),function mt(n,i){const o=n.cleanup,u=i[Or];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[Or]=null}}(n,i),1===i[Ht].type&&i[$e].destroy();const o=i[nr];if(null!==o&&cs(i[_r])){o!==i[_r]&&T(o,i);const u=i[ci];null!==u&&u.detachView(n)}!function $i(n){tr.delete(n[fi])}(i)}}function Sn(n,i,o){return function qn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Xr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===ne.None||h===ne.Emulated)return null}return pi(u,o)}}(n,i.parent,o)}function Pr(n,i,o,u,l){n.insertBefore(i,o,u,l)}function ia(n,i,o){n.appendChild(i,o)}function gu(n,i,o,u,l){null!==u?Pr(n,i,o,u,l):ia(n,i,o)}function wl(n,i){return n.parentNode(i)}let Ua,tc,ls,Dc=function ju(n,i,o){return 40&n.type?pi(n,o):null};function Ou(n,i,o,u){const l=Sn(n,u,i),h=i[$e],A=function Cc(n,i,o){return Dc(n,i,o)}(u.parent||i[Fr],u,i);if(null!=l)if(Array.isArray(o))for(let k=0;k<o.length;k++)gu(h,l,o[k],A,!1);else gu(h,l,o,A,!1);void 0!==Ua&&Ua(h,u,i,o,l)}function Tc(n,i){if(null!==i){const o=i.type;if(3&o)return pi(i,n);if(4&o)return Lr(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Tc(n,u);{const l=n[i.index];return cs(l)?Lr(-1,l):Wr(l)}}if(32&o)return ki(i,n)()||Wr(n[i.index]);{const u=Sc(n,i);return null!==u?Array.isArray(u)?u[0]:Tc(Fi(n[Rn]),u):Tc(n,i.next)}}return null}function Sc(n,i){return null!==i?n[Rn][Fr].projection[i.projection]:null}function Lr(n,i){const o=mi+n+1;if(o<i.length){const u=i[o],l=u[Ht].firstChild;if(null!==l)return Tc(u,l)}return i[es]}function hd(n,i,o,u,l,h,v){for(;null!=o;){const A=u[o.index],k=o.type;if(v&&0===i&&(A&&Ae(Wr(A),u),o.flags|=2),32!=(32&o.flags))if(8&k)hd(n,i,o.child,u,l,h,!1),_a(i,n,l,A,h);else if(32&k){const K=ki(o,u);let ie;for(;ie=K();)_a(i,n,l,ie,h);_a(i,n,l,A,h)}else 16&k?Df(n,i,u,o,l,h):_a(i,n,l,A,h);o=v?o.projectionNext:o.next}}function Ac(n,i,o,u,l,h){hd(o,u,n.firstChild,i,l,h,!1)}function Df(n,i,o,u,l,h){const v=o[Rn],k=v[Fr].projection[u.projection];if(Array.isArray(k))for(let K=0;K<k.length;K++)_a(i,n,l,k[K],h);else hd(n,i,k,v[_r],l,h,!0)}function Tf(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function ec(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&yr(n,i,u),null!==l&&Tf(n,i,l),null!==h&&function xy(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function Ry(n){tc=n}function mg(n){return function xc(){if(void 0===ls&&(ls=null,Pn.trustedTypes))try{ls=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ls}()?.createScriptURL(n)||n}class Pc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bt})`}}function ol(n){return n instanceof Pc?n.changingThisBreaksApplicationSecurity:n}function Oc(n,i){const o=function Nc(n){return n instanceof Pc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Bt})`)}return o===i}const Dg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Eo=(()=>((Eo=Eo||{})[Eo.NONE=0]="NONE",Eo[Eo.HTML=1]="HTML",Eo[Eo.STYLE=2]="STYLE",Eo[Eo.SCRIPT=3]="SCRIPT",Eo[Eo.URL=4]="URL",Eo[Eo.RESOURCE_URL=5]="RESOURCE_URL",Eo))();function md(n){const i=Uc();return i?i.sanitize(Eo.URL,n)||"":Oc(n,"URL")?ol(n):function pd(n){return(n=String(n)).match(Dg)?n:"unsafe:"+n}(rt(n))}function Pf(n){const i=Uc();if(i)return mg(i.sanitize(Eo.RESOURCE_URL,n)||"");if(Oc(n,"ResourceURL"))return mg(ol(n));throw new qe(904,!1)}function Vc(n,i,o){return function Pg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pf:md}(i,o)(n)}function Uc(){const n=R();return n&&n[Dt]}const Of=new Ze("ENVIRONMENT_INITIALIZER"),Rg=new Ze("INJECTOR",-1),Bc=new Ze("INJECTOR_DEF_TYPES");class mh{get(i,o=lr){if(o===lr){const u=new Error(`NullInjectorError: No provider for ${we(i)}!`);throw u.name="NullInjectorError",u}return o}}function jy(n){return{\u0275providers:n}}function Og(...n){return{\u0275providers:yh(0,n),\u0275fromNgModule:!0}}function yh(n,...i){const o=[],u=new Set;let l;return Ni(i,h=>{const v=h;kf(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&Nf(l,o),o}function Nf(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ff(l,h=>{i.push(h)})}}function kf(n,i,o,u){if(!(n=Ne(n)))return!1;let l=null,h=Yt(n);const v=!h&&Tt(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const k=n.ngModule;if(h=Yt(k),!h)return!1;l=k}const A=u.has(l);if(v){if(A)return!1;if(u.add(l),v.dependencies){const k="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const K of k)kf(K,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!A){let K;u.add(l);try{Ni(h.imports,ie=>{kf(ie,i,o,u)&&(K||(K=[]),K.push(ie))})}finally{}void 0!==K&&Nf(K,i)}if(!A){const K=gs(l)||(()=>new l);i.push({provide:l,useFactory:K,deps:Se},{provide:Bc,useValue:l,multi:!0},{provide:Of,useValue:()=>Un(l),multi:!0})}const k=h.providers;null==k||A||Ff(k,ie=>{i.push(ie)})}}return l!==n&&void 0!==n.providers}function Ff(n,i){for(let o of n)yt(o)&&(o=o.\u0275providers),Array.isArray(o)?Ff(o,i):i(o)}const zy=Be({provide:String,useValue:Be});function Lf(n){return null!==n&&"object"==typeof n&&zy in n}function El(n){return"function"==typeof n}const vh=new Ze("Set Injector scope."),vu={},Ng={};let Vf;function vd(){return void 0===Vf&&(Vf=new mh),Vf}class Gu{}class bl extends Gu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$f(i,v=>this.processProvider(v)),this.records.set(Rg,Il(void 0,this)),l.has("environment")&&this.records.set(Gu,Il(void 0,this));const h=this.records.get(vh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Bc.multi,Se,an.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=$n(this),u=ir(void 0);try{return i()}finally{$n(o),ir(u)}}get(i,o=lr,u=an.Default){this.assertNotDestroyed(),u=nt(u);const l=$n(this),h=ir(void 0);try{if(!(u&an.SkipSelf)){let A=this.records.get(i);if(void 0===A){const k=function Fg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ze}(i)&&mr(i);A=k&&this.injectableDefInScope(k)?Il(ul(i),vu):null,this.records.set(i,A)}if(null!=A)return this.hydrate(i,A)}return(u&an.Self?vd():this.parent).get(i,o=u&an.Optional&&o===lr?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Dr]=v[Dr]||[]).unshift(we(i)),l)throw v;return function vt(n,i,o,u){const l=n[Dr];throw i[Bn]&&l.unshift(i[Bn]),n.message=function ge(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Ar?n.slice(2):n;let l=we(i);if(Array.isArray(i))l=i.map(we).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let A=i[v];h.push(v+":"+("string"==typeof A?JSON.stringify(A):we(A)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(zr,"\n  ")}`}("\n"+n.message,l,o,u),n[ti]=l,n[Dr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{ir(h),$n(l)}}resolveInjectorInitializers(){const i=$n(this),o=ir(void 0);try{const u=this.get(Of.multi,Se,an.Self);for(const l of u)l()}finally{$n(i),ir(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(we(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(i){let o=El(i=Ne(i))?i:Ne(i&&i.provide);const u=function _d(n){return Lf(n)?Il(void 0,n.useValue):Il(Uf(n),vu)}(i);if(El(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Il(void 0,vu,!0),l.factory=()=>be(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===vu&&(o.value=Ng,o.value=o.factory()),"object"==typeof o.value&&o.value&&function kg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ne(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function ul(n){const i=mr(n),o=null!==i?i.factory:gs(n);if(null!==o)return o;if(n instanceof Ze)throw new qe(204,!1);if(n instanceof Function)return function ic(n){const i=n.length;if(i>0)throw function qs(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new qe(204,!1);const o=function on(n){return n&&(n[rr]||n[fr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new qe(204,!1)}function Uf(n,i,o){let u;if(El(n)){const l=Ne(n);return gs(l)||ul(l)}if(Lf(n))u=()=>Ne(n.useValue);else if(function rc(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...be(n.deps||[]));else if(function al(n){return!(!n||!n.useExisting)}(n))u=()=>Un(Ne(n.useExisting));else{const l=Ne(n&&(n.useClass||n.provide));if(!function Bf(n){return!!n.deps}(n))return gs(l)||ul(l);u=()=>new l(...be(n.deps))}return u}function Il(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function $f(n,i){for(const o of n)Array.isArray(o)?$f(o,i):o&&yt(o)?$f(o.\u0275providers,i):i(o)}class Lg{}class jf{}class Wy{resolveComponentFactory(i){throw function _h(n){const i=Error(`No component factory found for ${we(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Hc=(()=>{class n{}return n.NULL=new Wy,n})();function Ky(){return zc(Je(),R())}function zc(n,i){return new wd(pi(n,i))}let wd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Ky,n})();function Ed(n){return n instanceof wd?n.nativeElement:n}class Cl{}let Dl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Vg(){const n=R(),o=bi(Je().index,n);return(Ei(o)?o:n)[$e]}(),n})(),qy=(()=>{class n{}return n.\u0275prov=tn({token:n,providedIn:"root",factory:()=>null}),n})();class Hf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ug=new Hf("15.2.9"),bd={},Id="ngOriginalError";function Cd(n){return n[Id]}class sc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Cd(i);for(;o&&Cd(o);)o=Cd(o);return o||null}}function _u(n){return n instanceof Function?n():n}function Td(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Kf="ng-template";function Tl(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==Td(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function oc(n){return 4===n.type&&n.value!==Kf}function zg(n,i,o){return i===(4!==n.type||o?n.value:Kf)}function ac(n,i,o){let u=4;const l=n.attrs||[],h=function Gg(n){for(let i=0;i<n.length;i++)if(bt(n[i]))return i;return n.length}(l);let v=!1;for(let A=0;A<i.length;A++){const k=i[A];if("number"!=typeof k){if(!v)if(4&u){if(u=2|1&u,""!==k&&!zg(n,k,o)||""===k&&1===i.length){if(Nu(u))return!1;v=!0}}else{const K=8&u?k:i[++A];if(8&u&&null!==n.attrs){if(!Tl(n.attrs,K,o)){if(Nu(u))return!1;v=!0}continue}const Ee=Gc(8&u?"class":k,l,oc(n),o);if(-1===Ee){if(Nu(u))return!1;v=!0;continue}if(""!==K){let Ge;Ge=Ee>h?"":l[Ee+1].toLowerCase();const lt=8&u?Ge:null;if(lt&&-1!==Td(lt,K,0)||2&u&&K!==Ge){if(Nu(u))return!1;v=!0}}}}else{if(!v&&!Nu(u)&&!Nu(k))return!1;if(v&&Nu(k))continue;v=!1,u=k|1&u}}return Nu(u)||v}function Nu(n){return 0==(1&n)}function Gc(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let A=i[++l];for(;"string"==typeof A;)A=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function Xy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function qf(n,i,o=!1){for(let u=0;u<i.length;u++)if(ac(n,i[u],o))return!0;return!1}function Kg(n,i){return n?":not("+i.trim()+")":i}function qg(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const A=n[++o];l+="["+v+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!Nu(v)&&(i+=Kg(h,l),l=""),u=v,h=h||!Nu(u);o++}return""!==l&&(i+=Kg(h,l)),i}const Vr={};function Zg(n){Zf(F(),R(),qr()+n,!1)}function Zf(n,i,o,u){if(!u)if(3==(3&i[kn])){const h=n.preOrderCheckHooks;null!==h&&ca(i,h,o)}else{const h=n.preOrderHooks;null!==h&&da(i,h,0,o)}oi(o)}function em(n,i=null,o=null,u){const l=Ih(n,i,o,u);return l.resolveInjectorInitializers(),l}function Ih(n,i=null,o=null,u,l=new Set){const h=[o||Se,Og(n)];return u=u||("object"==typeof n?void 0:we(n)),new bl(h,i||vd(),u||null,l)}let Fs=(()=>{class n{static create(o,u){if(Array.isArray(o))return em({name:""},u,o,"");{const l=o.name??"";return em({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=lr,n.NULL=new mh,n.\u0275prov=tn({token:n,providedIn:"any",factory:()=>Un(Rg)}),n.__NG_ELEMENT_ID__=-1,n})();function lc(n,i=an.Default){const o=R();return null===o?Un(n,i):Bu(Je(),o,Ne(n),i)}function op(){throw new Error("invalid")}function Th(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];vs(o[u]),v.contentQueries(2,i[h],h)}}}function Pd(n,i,o,u,l,h,v,A,k,K,ie){const Ee=i.blueprint.slice();return Ee[Xr]=l,Ee[kn]=76|u,(null!==ie||n&&1024&n[kn])&&(Ee[kn]|=1024),ro(Ee),Ee[_r]=Ee[jn]=n,Ee[Xn]=o,Ee[Ue]=v||n&&n[Ue],Ee[$e]=A||n&&n[$e],Ee[Dt]=k||n&&n[Dt]||null,Ee[He]=K||n&&n[He]||null,Ee[Fr]=h,Ee[fi]=function wr(){return Ir++}(),Ee[Li]=ie,Ee[Rn]=2==i.type?n[Rn]:Ee,Ee}function cc(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Rd(n,i,o,u,l){const h=mn(),v=ys(),k=n.data[i]=function cv(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=k),null!==h&&(v?null==h.child&&null!==k.parent&&(h.child=k):null===h.next&&(h.next=k,k.prev=h)),k}(n,i,o,u,l),function Uo(){return Wn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function Nr(){const n=Wn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return ni(h,!0),h}function xl(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function dc(n,i,o){Jo(i);try{const u=n.viewQuery;null!==u&&_p(1,u,o);const l=n.template;null!==l&&Sh(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Th(n,i),n.staticViewQueries&&_p(2,n.viewQuery,o);const h=n.components;null!==h&&function ap(n,i){for(let o=0;o<i.length;o++)vp(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[kn]&=-5,ws()}}function hc(n,i,o,u){const l=i[kn];if(128!=(128&l)){Jo(i);try{ro(i),function go(n){return Wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Sh(n,i,o,2,u);const v=3==(3&l);if(v){const K=n.preOrderCheckHooks;null!==K&&ca(i,K,null)}else{const K=n.preOrderHooks;null!==K&&da(i,K,0,null),P(i,0)}if(function fv(n){for(let i=Ss(n);null!==i;i=Ma(i)){if(!i[Vs])continue;const o=i[Mi];for(let u=0;u<o.length;u++){const l=o[u];512&l[kn]||Cs(l[_r],1),l[kn]|=512}}}(i),function gp(n){for(let i=Ss(n);null!==i;i=Ma(i))for(let o=mi;o<i.length;o++){const u=i[o],l=u[Ht];yi(u)&&hc(l,u,l.template,u[Xn])}}(i),null!==n.contentQueries&&Th(n,i),v){const K=n.contentCheckHooks;null!==K&&ca(i,K)}else{const K=n.contentHooks;null!==K&&da(i,K,1),P(i,1)}!function uv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)oi(~l);else{const h=l,v=o[++u],A=o[++u];ss(v,h),A(2,i[h])}}}finally{oi(-1)}}(n,i);const A=n.components;null!==A&&function lv(n,i){for(let o=0;o<i.length;o++)mp(n,i[o])}(i,A);const k=n.viewQuery;if(null!==k&&_p(2,k,u),v){const K=n.viewCheckHooks;null!==K&&ca(i,K)}else{const K=n.viewHooks;null!==K&&da(i,K,2),P(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[kn]&=-41,512&i[kn]&&(i[kn]&=-513,Cs(i[_r],-1))}finally{ws()}}}function Sh(n,i,o,u,l){const h=qr(),v=2&u;try{oi(-1),v&&i.length>$r&&Zf(n,i,$r,!1),ii(v?2:0,l),o(u,l)}finally{oi(h),ii(v?3:1,l)}}function Od(n,i,o){if(ho(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function Nd(n,i,o){To()&&(function hv(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;Oo(o)&&function fm(n,i,o){const u=pi(i,n),l=om(o),h=n[Ue],v=qc(n,Pd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Uu(o,i),Ae(u,i);const v=o.initialInputs;for(let A=l;A<h;A++){const k=n.data[A],K=Kn(i,n,A,o);Ae(K,i),null!==v&&Rl(0,A-l,K,k,0,v),Jr(k)&&(bi(o.index,i)[Xn]=Kn(i,n,A,o))}}(n,i,o,pi(o,i)),64==(64&o.flags)&&hm(n,i,o))}function Ah(n,i,o=pi){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],A=-1===v?o(i,n):n[v];n[l++]=A}}}function om(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Mh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Mh(n,i,o,u,l,h,v,A,k,K){const ie=$r+u,Ee=ie+l,Ge=function xh(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Vr);return o}(ie,Ee),lt="function"==typeof K?K():K;return Ge[Ht]={type:n,blueprint:Ge,template:o,queries:null,viewQuery:A,declTNode:i,data:Ge.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:k,consts:lt,incompleteFirstPass:!1}}function am(n,i,o,u){const l=wp(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Ep(n).push(u,l.length-1))}function Ea(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?um(o,i,l,h):u.hasOwnProperty(l)&&um(o,i,u[l],h)}return o}function um(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function cp(n,i,o,u){if(To()){const l=null===u?null:{"":-1},h=function hp(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(qf(i,v.selectors,!1))if(u||(u=[]),Jr(v))if(null!==v.findHostDirectiveDefs){const A=[];l=l||new Map,v.findHostDirectiveDefs(v,A,l),u.unshift(...A,v),Pl(n,i,A.length)}else u.unshift(v),Pl(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,A;null===h?v=A=null:[v,A]=h,null!==v&&dm(n,i,o,v,l,A),l&&function fp(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new qe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=ai(o.mergedAttrs,o.attrs)}function dm(n,i,o,u,l,h){for(let K=0;K<u.length;K++)Xa(Uu(o,i),n,u[K].type);!function Fd(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let K=0;K<u.length;K++){const ie=u[K];ie.providersResolver&&ie.providersResolver(ie)}let v=!1,A=!1,k=xl(n,i,u.length,null);for(let K=0;K<u.length;K++){const ie=u[K];o.mergedAttrs=ai(o.mergedAttrs,ie.hostAttrs),pp(n,o,i,k,ie),Rh(k,ie,l),null!==ie.contentQueries&&(o.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(o.flags|=64);const Ee=ie.type.prototype;!v&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!A&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),A=!0),k++}!function lm(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,A=[];let k=null,K=null;for(let ie=i.directiveStart;ie<l;ie++){const Ee=h[ie],Ge=o?o.get(Ee):null,Ft=Ge?Ge.outputs:null;k=Ea(Ee.inputs,ie,k,Ge?Ge.inputs:null),K=Ea(Ee.outputs,ie,K,Ft);const fn=null===k||null===v||oc(i)?null:pm(k,ie,v);A.push(fn)}null!==k&&(k.hasOwnProperty("class")&&(i.flags|=8),k.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=A,i.inputs=k,i.outputs=K}(n,o,h)}function hm(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function Mo(){return Wn.lFrame.currentDirectiveIndex}();try{oi(h);for(let A=u;A<l;A++){const k=n.data[A],K=i[A];Ii(A),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&kd(k,K)}}finally{oi(-1),Ii(v)}}function kd(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Pl(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Rh(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Jr(i)&&(o[""]=n)}}function pp(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=gs(l.type)),v=new Ie(h,Jr(l),lc);n.blueprint[u]=v,o[u]=v,function dv(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const A=~i.index;(function dp(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=A&&v.push(A),v.push(o,u,h)}}(n,i,u,xl(n,o,l.hostVars,Vr),l)}function wu(n,i,o,u,l,h){const v=pi(n,i);!function Ld(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const A=null==v?rt(h):v(h,u||"",l);n.setAttribute(i,l,A,o)}}(i[$e],v,h,n.value,o,u,l)}function Rl(n,i,o,u,l,h){const v=h[i];if(null!==v){const A=u.setInput;for(let k=0;k<v.length;){const K=v[k++],ie=v[k++],Ee=v[k++];null!==A?u.setInput(o,Ee,K,ie):o[ie]=Ee}}}function pm(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let A=0;A<v.length;A+=2)if(v[A]===i){u.push(h,v[A+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function gm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function mp(n,i){const o=bi(i,n);if(yi(o)){const u=o[Ht];48&o[kn]?hc(u,o,u.template,o[Xn]):o[hi]>0&&yp(o)}}function yp(n){for(let u=Ss(n);null!==u;u=Ma(u))for(let l=mi;l<u.length;l++){const h=u[l];if(yi(h))if(512&h[kn]){const v=h[Ht];hc(v,h,v.template,h[Xn])}else h[hi]>0&&yp(h)}const o=n[Ht].components;if(null!==o)for(let u=0;u<o.length;u++){const l=bi(o[u],n);yi(l)&&l[hi]>0&&yp(l)}}function vp(n,i){const o=bi(i,n),u=o[Ht];(function Oh(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),dc(u,o,o[Xn])}function qc(n,i){return n[xt]?n[bn][dr]=i:n[xt]=i,n[bn]=i,i}function Vd(n){for(;n;){n[kn]|=32;const i=Fi(n);if(hs(n)&&!i)return n;n=i}return null}function ll(n,i,o,u=!0){const l=i[Ue];l.begin&&l.begin();try{hc(n,i,n.template,o)}catch(v){throw u&&Nh(i,v),v}finally{l.end&&l.end()}}function _p(n,i,o){vs(0),i(n,o)}function wp(n){return n[Or]||(n[Or]=[])}function Ep(n){return n.cleanup||(n.cleanup=[])}function Nh(n,i){const o=n[He],u=o?o.get(sc,null):null;u&&u.handleError(i)}function bp(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],A=o[h++],k=i[v],K=n.data[v];null!==K.setInput?K.setInput(k,l,u,A):k[A]=l}}function kh(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const A=i[v];"number"==typeof A?h=A:1==h?l=Qe(l,A):2==h&&(u=Qe(u,A+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Zc(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Wr(h)),cs(h))for(let A=mi;A<h.length;A++){const k=h[A],K=k[Ht].firstChild;null!==K&&Zc(k[Ht],k,K,u)}const v=o.type;if(8&v)Zc(n,i,o.child,u);else if(32&v){const A=ki(o,i);let k;for(;k=A();)u.push(k)}else if(16&v){const A=Sc(i,o);if(Array.isArray(A))u.push(...A);else{const k=Fi(i[Rn]);Zc(k[Ht],k,A,u,!0)}}o=l?o.projectionNext:o.next}return u}class Ud{get rootNodes(){const i=this._lView,o=i[Ht];return Zc(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(i){this._lView[Xn]=i}get destroyed(){return 128==(128&this._lView[kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[_r];if(cs(i)){const o=i[ts],u=o?o.indexOf(this):-1;u>-1&&(Y(i,u),Za(o,u))}this._attachedToViewContainer=!1}oe(this._lView[Ht],this._lView)}onDestroy(i){am(this._lView[Ht],this._lView,null,i)}markForCheck(){Vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[kn]&=-65}reattach(){this._lView[kn]|=64}detectChanges(){ll(this._lView[Ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xl(n,i){Ac(n,i,i[$e],2,null,null)}(this._lView[Ht],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=i}}class Ip extends Ud{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ll(i[Ht],i,i[Xn],!1)}checkNoChanges(){}get context(){return null}}class Cp extends Hc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Tt(i);return new Ku(o,this.ngModule)}}function Fh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Tp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=nt(u);const l=this.injector.get(i,bd,u);return l!==bd||o===bd?l:this.parentInjector.get(i,o,u)}}class Ku extends jf{get inputs(){return Fh(this.componentDef.inputs)}get outputs(){return Fh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Jy(n){return n.map(qg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Gu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Tp(i,h):i,A=v.get(Cl,null);if(null===A)throw new qe(407,!1);const k=v.get(qy,null),K=A.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",Ee=u?function up(n,i,o){return n.selectRootElement(i,o===ne.ShadowDom)}(K,u,this.componentDef.encapsulation):bc(K,ie,function Dp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ie)),Ge=this.componentDef.onPush?288:272,lt=Mh(0,null,null,1,0,null,null,null,null,null),Ft=Pd(null,lt,null,Ge,null,null,A,K,k,v,null);let fn,On;Jo(Ft);try{const Zn=this.componentDef;let Rr,Kt=null;Zn.findHostDirectiveDefs?(Rr=[],Kt=new Map,Zn.findHostDirectiveDefs(Zn,Rr,Kt),Rr.push(Zn)):Rr=[Zn];const Hr=function Yc(n,i){const o=n[Ht],u=$r;return n[u]=i,cc(o,u,2,"#host",null)}(Ft,Ee),co=function Qc(n,i,o,u,l,h,v,A){const k=l[Ht];!function _m(n,i,o,u){for(const l of n)i.mergedAttrs=ai(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(kh(i,i.mergedAttrs,!0),null!==o&&ec(u,o,i))}(u,n,i,v);const K=h.createRenderer(i,o),ie=Pd(l,om(o),null,o.onPush?32:16,l[n.index],n,h,K,A||null,null,null);return k.firstCreatePass&&Pl(k,n,u.length-1),qc(l,ie),l[n.index]=ie}(Hr,Ee,Zn,Rr,Ft,A,K);On=Lo(lt,$r),Ee&&function pv(n,i,o,u){if(u)yr(n,o,["ng-version",Ug.full]);else{const{attrs:l,classes:h}=function bh(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!Nu(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&yr(n,o,l),h&&h.length>0&&Tf(n,o,h.join(" "))}}(K,Zn,Ee,u),void 0!==o&&function gv(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(On,this.ngContentSelectors,o),fn=function Xc(n,i,o,u,l,h){const v=Je(),A=l[Ht],k=pi(v,l);dm(A,l,v,o,null,u);for(let ie=0;ie<o.length;ie++)Ae(Kn(l,A,v.directiveStart+ie,v),l);hm(A,l,v),k&&Ae(k,l);const K=Kn(l,A,v.directiveStart+v.componentOffset,v);if(n[Xn]=l[Xn]=K,null!==h)for(const ie of h)ie(K,i);return Od(A,v,n),K}(co,Zn,Rr,Kt,Ft,[Sp]),dc(lt,Ft,null)}finally{ws()}return new Ol(this.componentType,fn,zc(On,Ft),Ft,On)}}class Ol extends Lg{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Ip(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;bp(h[Ht],h,l,i,o),Vd(bi(this._tNode.index,h))}}get injector(){return new fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Sp(){const n=Je();oo(R()[Ht],n)}function Bd(n){let i=function Lh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Jr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new qe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=Mp(n.inputs),v.declaredInputs=Mp(n.declaredInputs),v.outputs=Mp(n.outputs);const A=l.hostBindings;A&&Pp(n,A);const k=l.viewQuery,K=l.contentQueries;if(k&&mv(n,k),K&&xp(n,K),ke(n.inputs,l.inputs),ke(n.declaredInputs,l.declaredInputs),ke(n.outputs,l.outputs),Jr(l)&&l.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const A=h[v];A&&A.ngInherit&&A(n),A===Bd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Ap(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=ai(l.hostAttrs,o=ai(o,l.hostAttrs))}}(u)}function Mp(n){return n===X?{}:n===Se?[]:n}function mv(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function xp(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function Pp(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function Vh(n){return!!$d(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function $d(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Eu(n,i,o){return n[i]=o}function sa(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Fp(n,i,o,u){const l=R();return sa(l,Gs(),i)&&(F(),wu(Jn(),l,n,i,o,u)),Fp}function Hh(n,i,o,u,l,h,v,A){const k=R(),K=F(),ie=n+$r,Ee=K.firstCreatePass?function Ev(n,i,o,u,l,h,v,A,k){const K=i.consts,ie=cc(i,n,4,v||null,Vi(K,A));cp(i,o,ie,Vi(K,k)),oo(i,ie);const Ee=ie.tView=Mh(2,ie,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,ie),Ee.queries=i.queries.embeddedTView(ie)),ie}(ie,K,k,i,o,u,l,h,v):K.data[ie];ni(Ee,!1);const Ge=k[$e].createComment("");Ou(K,k,Ge,Ee),Ae(Ge,k),qc(k,k[ie]=gm(Ge,k,Ge,Ee)),ds(Ee)&&Nd(K,k,Ee),null!=v&&Ah(k,Ee,A)}function zh(n){return gr(function io(){return Wn.lFrame.contextLView}(),$r+n)}function Vp(n,i,o){const u=R();return sa(u,Gs(),i)&&function ba(n,i,o,u,l,h,v,A){const k=pi(i,o);let ie,K=i.inputs;!A&&null!=K&&(ie=K[u])?(bp(n,o,ie,u,l),Oo(i)&&function lp(n,i){const o=bi(i,n);16&o[kn]||(o[kn]|=32)}(o,i.index)):3&i.type&&(u=function Ph(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(k,u,l))}(F(),Jn(),u,n,i,u[$e],o,!1),Vp}function Hd(n,i,o,u,l){const v=l?"class":"style";bp(n,o,i.inputs[v],v,u)}function rd(n,i,o,u){const l=R(),h=F(),v=$r+n,A=l[$e],k=h.firstCreatePass?function Iv(n,i,o,u,l,h){const v=i.consts,k=cc(i,n,2,u,Vi(v,l));return cp(i,o,k,Vi(v,h)),null!==k.attrs&&kh(k,k.attrs,!1),null!==k.mergedAttrs&&kh(k,k.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,k),k}(v,h,l,i,o,u):h.data[v],K=l[v]=bc(A,i,function Ha(){return Wn.lFrame.currentNamespace}()),ie=ds(k);return ni(k,!0),ec(A,K,k),32!=(32&k.flags)&&Ou(h,l,K,k),0===function Vo(){return Wn.lFrame.elementDepthCount}()&&Ae(K,l),function rs(){Wn.lFrame.elementDepthCount++}(),ie&&(Nd(h,l,k),Od(h,k,l)),null!==u&&Ah(l,k),rd}function zd(){let n=Je();ys()?function Rs(){Wn.lFrame.isParent=!1}():(n=n.parent,ni(n,!1));const i=n;!function Ps(){Wn.lFrame.elementDepthCount--}();const o=F();return o.firstCreatePass&&(oo(o,n),ho(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function me(n){return 0!=(8&n.flags)}(i)&&Hd(o,i,R(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function et(n){return 0!=(16&n.flags)}(i)&&Hd(o,i,R(),i.stylesWithoutHost,!1),zd}function Gd(n,i,o,u){return rd(n,i,o,u),zd(),Gd}function Sm(){return R()}function Wd(n){return!!n&&"function"==typeof n.then}function Wh(n){return!!n&&"function"==typeof n.subscribe}const Kh=Wh;function $p(n,i,o,u){const l=R(),h=F(),v=Je();return function qh(n,i,o,u,l,h,v){const A=ds(u),K=n.firstCreatePass&&Ep(n),ie=i[Xn],Ee=wp(i);let Ge=!0;if(3&u.type||v){const fn=pi(u,i),On=v?v(fn):fn,Zn=Ee.length,Rr=v?Hr=>v(Wr(Hr[u.index])):u.index;let Kt=null;if(!v&&A&&(Kt=function Cv(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const A=i[Or],k=l[h+2];return A.length>k?A[k]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=h,Kt.__ngLastListenerFn__=h,Ge=!1;else{h=pc(u,i,ie,h,!1);const Hr=o.listen(On,l,h);Ee.push(h,Hr),K&&K.push(l,Rr,Zn,Zn+1)}}else h=pc(u,i,ie,h,!1);const lt=u.outputs;let Ft;if(Ge&&null!==lt&&(Ft=lt[l])){const fn=Ft.length;if(fn)for(let On=0;On<fn;On+=2){const co=i[Ft[On]][Ft[On+1]].subscribe(h),qo=Ee.length;Ee.push(h,co),K&&K.push(l,u.index,qo,-(qo+1))}}}(h,l,l[$e],v,n,i,u),$p}function jp(n,i,o,u){try{return ii(6,i,o),!1!==o(u)}catch(l){return Nh(n,l),!1}finally{ii(7,i,o)}}function pc(n,i,o,u,l){return function h(v){if(v===Function)return u;Vd(n.componentOffset>-1?bi(n.index,i):i);let k=jp(i,o,u,v),K=h.__ngNextListenerFn__;for(;K;)k=jp(i,o,K,v)&&k,K=K.__ngNextListenerFn__;return l&&!1===k&&(v.preventDefault(),v.returnValue=!1),k}}function Hp(n=1){return function yo(n){return(Wn.lFrame.contextLView=function ea(n,i){for(;n>0;)i=i[jn],n--;return i}(n,Wn.lFrame.contextLView))[Xn]}(n)}function sd(n,i){return n<<17|i<<2}function cl(n){return n>>17&32767}function Zd(n){return 2|n}function $l(n){return(131068&n)>>2}function jl(n,i){return-131069&n|i<<2}function Kp(n){return 1|n}function qp(n,i,o,u,l){const h=n[o+1],v=null===i;let A=u?cl(h):$l(h),k=!1;for(;0!==A&&(!1===k||v);){const ie=n[A+1];Av(n[A],i)&&(k=!0,n[A+1]=u?Kp(ie):Zd(ie)),A=u?cl(ie):$l(ie)}k&&(n[o+1]=u?Zd(h):Kp(h))}function Av(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&_(n,i)>=0}function bu(n,i){return function au(n,i,o,u){const l=R(),h=F(),v=function Os(n){const i=Wn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);h.firstUpdatePass&&function Fm(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[qr()],v=function rf(n,i){return i>=n.expandoStartIndex}(n,o);(function $m(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!v&&(i=!1),i=function Pv(n,i,o,u){const l=function Ws(n){const i=Wn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=od(o=Zs(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Zs(l,n,i,o,u),null===h){let k=function As(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==$l(u))return n[cl(u)]}(n,i,u);void 0!==k&&Array.isArray(k)&&(k=Zs(null,n,i,k[1],u),k=od(k,i.attrs,u),function K_(n,i,o,u){n[cl(o?i.classBindings:i.styleBindings)]=u}(n,i,u,k))}else h=function Rv(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=od(u,n[h].hostAttrs,o);return od(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function xm(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,A=cl(v),k=$l(v);n[u]=o;let ie,K=!1;if(Array.isArray(o)?(ie=o[1],(null===ie||_(o,ie)>0)&&(K=!0)):ie=o,l)if(0!==k){const Ge=cl(n[A+1]);n[u+1]=sd(Ge,A),0!==Ge&&(n[Ge+1]=jl(n[Ge+1],u)),n[A+1]=function Mm(n,i){return 131071&n|i<<17}(n[A+1],u)}else n[u+1]=sd(A,0),0!==A&&(n[A+1]=jl(n[A+1],u)),A=u;else n[u+1]=sd(k,0),0===A?A=u:n[k+1]=jl(n[k+1],u),k=u;K&&(n[u+1]=Zd(n[u+1])),qp(n,ie,u,!0),qp(n,ie,u,!1),function Sv(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&_(h,i)>=0&&(o[u+1]=Kp(o[u+1]))}(i,ie,n,u,h),v=sd(A,k),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}(h,n,v,u),i!==Vr&&sa(l,v,i)&&function Um(n,i,o,u,l,h,v,A){if(!(3&i.type))return;const k=n.data,K=k[A+1],ie=function Wp(n){return 1==(1&n)}(K)?Bm(k,i,o,l,$l(K),v):void 0;sf(ie)||(sf(h)||function tf(n){return 2==(2&n)}(K)&&(h=Bm(k,null,o,l,A,v)),function My(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:_t.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=_t.Important),n.setStyle(o,u,l,h))}}(u,v,eo(qr(),o),l,h))}(h,h.data[qr()],l,l[$e],n,l[v+1]=function q_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=we(ol(n)))),n}(i,o),u,v)}(n,i,null,!0),bu}function Zs(n,i,o,u,l){let h=null;const v=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<v&&(h=i[A],u=od(u,h.hostAttrs,l),h!==n);)A++;return null!==n&&(o.directiveStylingLast=A),u}function od(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xo(n,v,!!o||i[++h]))}return void 0===n?null:n}function Bm(n,i,o,u,l,h){const v=null===i;let A;for(;l>0;){const k=n[l],K=Array.isArray(k),ie=K?k[1]:k,Ee=null===ie;let Ge=o[l+1];Ge===Vr&&(Ge=Ee?Se:void 0);let lt=Ee?ru(Ge,u):ie===u?Ge:void 0;if(K&&!sf(lt)&&(lt=ru(k,u)),sf(lt)&&(A=lt,v))return A;const Ft=n[l+1];l=v?cl(Ft):$l(Ft)}if(null!==i){let k=h?i.residualClasses:i.residualStyles;null!=k&&(A=ru(k,u))}return A}function sf(n){return void 0!==n}function jm(n,i=""){const o=R(),u=F(),l=n+$r,h=u.firstCreatePass?cc(u,l,1,i,null):u.data[l],v=o[l]=function fu(n,i){return n.createText(i)}(o[$e],i);Ou(u,o,v,h),ni(h,!1)}function af(n){return Hl("",n,""),af}function Hl(n,i,o){const u=R(),l=function ed(n,i,o,u){return sa(n,Gs(),o)?i+rt(o)+u:Vr}(u,n,i,o);return l!==Vr&&function ku(n,i,o){const u=eo(i,n);!function Ql(n,i,o){n.setValue(i,o)}(n[$e],u,o)}(u,qr(),l),Hl}const Lu=void 0;var nh=["en",[["a","p"],["AM","PM"],Lu],[["AM","PM"],Lu,Lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lu,"{1} 'at' {0}",Lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let ld={};function ey(n){const i=function $v(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=ty(i);if(o)return o;const u=i.split("-")[0];if(o=ty(u),o)return o;if("en"===u)return nh;throw new qe(701,!1)}function hf(n){return ey(n)[Er.PluralCase]}function ty(n){return n in ld||(ld[n]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[n]),ld[n]}var Er=(()=>((Er=Er||{})[Er.LocaleId=0]="LocaleId",Er[Er.DayPeriodsFormat=1]="DayPeriodsFormat",Er[Er.DayPeriodsStandalone=2]="DayPeriodsStandalone",Er[Er.DaysFormat=3]="DaysFormat",Er[Er.DaysStandalone=4]="DaysStandalone",Er[Er.MonthsFormat=5]="MonthsFormat",Er[Er.MonthsStandalone=6]="MonthsStandalone",Er[Er.Eras=7]="Eras",Er[Er.FirstDayOfWeek=8]="FirstDayOfWeek",Er[Er.WeekendRange=9]="WeekendRange",Er[Er.DateFormat=10]="DateFormat",Er[Er.TimeFormat=11]="TimeFormat",Er[Er.DateTimeFormat=12]="DateTimeFormat",Er[Er.NumberSymbols=13]="NumberSymbols",Er[Er.NumberFormats=14]="NumberFormats",Er[Er.CurrencyCode=15]="CurrencyCode",Er[Er.CurrencySymbol=16]="CurrencySymbol",Er[Er.CurrencyName=17]="CurrencyName",Er[Er.Currencies=18]="Currencies",Er[Er.Directionality=19]="Directionality",Er[Er.PluralCase=20]="PluralCase",Er[Er.ExtraData=21]="ExtraData",Er))();const cd="en-US";let sg=cd;function Qu(n,i,o,u,l){if(n=Ne(n),Array.isArray(n))for(let h=0;h<n.length;h++)Qu(n[h],i,o,u,l);else{const h=F(),v=R();let A=El(n)?n:Ne(n.provide),k=Uf(n);const K=Je(),ie=1048575&K.providerIndexes,Ee=K.directiveStart,Ge=K.providerIndexes>>20;if(El(n)||!n.multi){const lt=new Ie(k,l,lc),Ft=a_(A,i,l?ie:ie+Ge,Ee);-1===Ft?(Xa(Uu(K,v),h,A),o_(h,n,i.length),i.push(A),K.directiveStart++,K.directiveEnd++,l&&(K.providerIndexes+=1048576),o.push(lt),v.push(lt)):(o[Ft]=lt,v[Ft]=lt)}else{const lt=a_(A,i,ie+Ge,Ee),Ft=a_(A,i,ie,ie+Ge),On=Ft>=0&&o[Ft];if(l&&!On||!l&&!(lt>=0&&o[lt])){Xa(Uu(K,v),h,A);const Zn=function k0(n,i,o,u,l){const h=new Ie(n,o,lc);return h.multi=[],h.index=i,h.componentProviders=0,iw(h,l,u&&!o),h}(l?N0:O0,o.length,l,u,k);!l&&On&&(o[Ft].providerFactory=Zn),o_(h,n,i.length,0),i.push(A),K.directiveStart++,K.directiveEnd++,l&&(K.providerIndexes+=1048576),o.push(Zn),v.push(Zn)}else o_(h,n,lt>-1?lt:Ft,iw(o[l?Ft:lt],k,!l&&u));!l&&u&&On&&o[Ft].componentProviders++}}}function o_(n,i,o,u){const l=El(i),h=function Gy(n){return!!n.useClass}(i);if(l||h){const k=(h?Ne(i.useClass):i).prototype.ngOnDestroy;if(k){const K=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const ie=K.indexOf(o);-1===ie?K.push(o,[u,k]):K[ie+1].push(u,k)}else K.push(o,k)}}}function iw(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function a_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function O0(n,i,o,u){return u_(this.multi,[])}function N0(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,A=Kn(o,o[Ht],this.providerFactory.index,u);h=A.slice(0,v),u_(l,h);for(let k=v;k<A.length;k++)h.push(A[k])}else h=[],u_(l,h);return h}function u_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function sw(n,i=[]){return o=>{o.providersResolver=(u,l)=>function uu(n,i,o){const u=F();if(u.firstCreatePass){const l=Jr(n);Qu(o,u.data,u.blueprint,l,!0),Qu(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Ef{}class ow{}function F0(n,i){return new aw(n,i??null)}class aw extends Ef{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cp(this);const u=br(i);this._bootstrapComponents=_u(u.bootstrap),this._r3Injector=Ih(i,o,[{provide:Ef,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],we(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class l_ extends ow{constructor(i){super(),this.moduleType=i}create(i){return new aw(this.moduleType,i)}}class L0 extends Ef{constructor(i,o,u){super(),this.componentFactoryResolver=new Cp(this),this.instance=null;const l=new bl([...i,{provide:Ef,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],o||vd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function c_(n,i,o=null){return new L0(n,i,o).injector}let V0=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=yh(0,o.type),l=u.length>0?c_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=tn({token:n,providedIn:"environment",factory:()=>new n(Un(Gu))}),n})();function uw(n){n.getStandaloneInjector=i=>i.get(V0).getOrCreateStandaloneInjector(n)}function gw(n,i,o,u){return yw(R(),Oi(),n,i,o,u)}function mw(n,i,o,u,l){return function vw(n,i,o,u,l,h,v){const A=i+o;return function Nl(n,i,o,u){const l=sa(n,i,o);return sa(n,i+1,u)||l}(n,A,l,h)?Eu(n,A+2,v?u.call(v,l,h):u(l,h)):ug(n,A+2)}(R(),Oi(),n,i,o,u,l)}function ug(n,i){const o=n[i];return o===Vr?void 0:o}function yw(n,i,o,u,l,h){const v=i+o;return sa(n,v,l)?Eu(n,v+1,h?u.call(h,l):u(l)):ug(n,v+1)}function bw(n,i){const o=F();let u;const l=n+$r;o.firstCreatePass?(u=function tE(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=gs(u.type)),v=ir(lc);try{const A=Ut(!1),k=h();return Ut(A),function bv(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,R(),l,k),k}finally{ir(v)}}function Iw(n,i,o){const u=n+$r,l=R(),h=gr(l,u);return function lg(n,i){return n[Ht].data[i].pure}(l,u)?yw(l,Oi(),i,h.transform,o,h):h.transform(o)}function h_(n){return i=>{setTimeout(n,void 0,i)}}const ql=class oE extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const k=i;l=k.next?.bind(k),h=k.error?.bind(k),v=k.complete?.bind(k)}this.__isAsync&&(h=h_(h),l&&(l=h_(l)),v&&(v=h_(v)));const A=super.subscribe({next:l,error:h,complete:v});return i instanceof E.w0&&i.add(A),A}};function aE(){return this._results[Symbol.iterator]()}class f_{get changes(){return this._changes||(this._changes=new ql)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=f_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=aE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function ao(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Na(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=cE,n})();const uE=cg,lE=class extends uE{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Pd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[nr]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[ci];return null!==v&&(l[ci]=v.createEmbeddedView(u)),dc(u,l,i),new Ud(l)}};function cE(){return _y(Je(),R())}function _y(n,i){return 4&n.type?new lE(i,n,zc(n,i)):null}let wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=dE,n})();function dE(){return Tw(Je(),R())}const hE=wy,Cw=class extends hE{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return zc(this._hostTNode,this._hostLView)}get injector(){return new fa(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ui(this._hostTNode,this._hostLView);if(Jt(i)){const o=Zt(i,this._hostLView),u=Dn(i);return new fa(o[Ht].data[u+8],o)}return new fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Dw(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function Ta(n){return"function"==typeof n}(i);let A;if(v)A=o;else{const Ee=o||{};A=Ee.index,u=Ee.injector,l=Ee.projectableNodes,h=Ee.environmentInjector||Ee.ngModuleRef}const k=v?i:new Ku(Tt(i)),K=u||this.parentInjector;if(!h&&null==k.ngModule){const Ge=(v?K:this.parentInjector).get(Gu,null);Ge&&(h=Ge)}const ie=k.create(K,l,void 0,h);return this.insert(ie.hostView,A),ie}insert(i,o){const u=i._lView,l=u[Ht];if(function Ia(n){return cs(n[_r])}(u)){const ie=this.indexOf(i);if(-1!==ie)this.detach(ie);else{const Ee=u[_r],Ge=new Cw(Ee,Ee[Fr],Ee[_r]);Ge.detach(Ge.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function d(n,i,o,u){const l=mi+u,h=o.length;u>0&&(o[l-1][dr]=i),u<h-mi?(i[dr]=o[l],Su(o,mi+u,i)):(o.push(i),i[dr]=null),i[_r]=o;const v=i[nr];null!==v&&o!==v&&function g(n,i){const o=n[Mi];i[Rn]!==i[_r][_r][Rn]&&(n[Vs]=!0),null===o?n[Mi]=[i]:o.push(i)}(v,i);const A=i[ci];null!==A&&A.insertView(n),i[kn]|=64}(l,u,v,h);const A=Lr(h,v),k=u[$e],K=wl(k,v[es]);return null!==K&&function ch(n,i,o,u,l,h){u[Xr]=l,u[Fr]=i,Ac(n,u,o,1,l,h)}(l,v[Fr],k,u,K,A),i.attachToViewContainerRef(),Su(p_(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Dw(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Y(this._lContainer,o);u&&(Za(p_(this._lContainer),o),oe(u[Ht],u))}detach(i){const o=this._adjustIndex(i,-1),u=Y(this._lContainer,o);return u&&null!=Za(p_(this._lContainer),o)?new Ud(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function Dw(n){return n[ts]}function p_(n){return n[ts]||(n[ts]=[])}function Tw(n,i){let o;const u=i[n.index];if(cs(u))o=u;else{let l;if(8&n.type)l=Wr(u);else{const h=i[$e];l=h.createComment("");const v=pi(n,i);Pr(h,wl(h,v),l,function wa(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=gm(u,i,l,n),qc(i,o)}return new Cw(o,n,i)}class g_{constructor(i){this.queryList=i,this.matches=null}clone(){return new g_(this.queryList)}setDirty(){this.queryList.setDirty()}}class m_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new m_(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Nw(i,o).matches&&this.queries[o].setDirty()}}class Sw{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class y_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new y_(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class v_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new v_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,fE(o,h)),this.matchTNodeWithReadOption(i,o,Qi(o,i,h,!1,!1))}else u===cg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Qi(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===wd||l===wy||l===cg&&4&o.type)this.addMatch(o.index,-2);else{const h=Qi(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function fE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function gE(n,i,o,u){return-1===o?function pE(n,i){return 11&n.type?zc(n,i):4&n.type?_y(n,i):null}(i,n):-2===o?function mE(n,i,o){return o===wd?zc(i,n):o===cg?_y(i,n):o===wy?Tw(i,n):void 0}(n,i,u):Kn(n,n[Ht],o,i)}function Aw(n,i,o,u){const l=i[ci].queries[u];if(null===l.matches){const h=n.data,v=o.matches,A=[];for(let k=0;k<v.length;k+=2){const K=v[k];A.push(K<0?null:gE(i,h[K],v[k+1],o.metadata.read))}l.matches=A}return l.matches}function __(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=Aw(n,i,l,o);for(let A=0;A<h.length;A+=2){const k=h[A];if(k>0)u.push(v[A/2]);else{const K=h[A+1],ie=i[-k];for(let Ee=mi;Ee<ie.length;Ee++){const Ge=ie[Ee];Ge[nr]===Ge[_r]&&__(Ge[Ht],Ge,K,u)}if(null!==ie[Mi]){const Ee=ie[Mi];for(let Ge=0;Ge<Ee.length;Ge++){const lt=Ee[Ge];__(lt[Ht],lt,K,u)}}}}}return u}function Mw(n){const i=R(),o=F(),u=Xo();vs(u+1);const l=Nw(o,u);if(n.dirty&&function no(n){return 4==(4&n[kn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?__(o,i,u,[]):Aw(o,i,l,u);n.reset(h,Ed),n.notifyOnChanges()}return!0}return!1}function xw(n,i,o,u){const l=F();if(l.firstCreatePass){const h=Je();(function Ow(n,i,o){null===n.queries&&(n.queries=new y_),n.queries.track(new v_(i,o))})(l,new Sw(i,o,u),h.index),function _E(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function Rw(n,i,o){const u=new f_(4==(4&o));am(n,i,u,u.destroy),null===i[ci]&&(i[ci]=new m_),i[ci].queries.push(new g_(u))}(l,R(),o)}function Pw(){return function vE(n,i){return n[ci].queries[i].queryList}(R(),Xo())}function Nw(n,i){return n.queries.getByIndex(i)}function kw(n,i){return _y(n,i)}function w_(n){return!!br(n)}function by(...n){}const Jw=new Ze("Application Initializer");let Iy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=by,this.reject=by,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Wd(h))o.push(h);else if(Kh(h)){const v=new Promise((A,k)=>{h.subscribe({complete:A,error:k})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Un(Jw,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e0=new Ze("AppId",{providedIn:"root",factory:function t0(){return`${D_()}${D_()}${D_()}`}});function D_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n0=new Ze("Platform Initializer"),UE=new Ze("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BE=new Ze("AnimationModuleType");let $E=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cy=new Ze("LocaleId",{providedIn:"root",factory:()=>pr(Cy,an.Optional|an.SkipSelf)||function jE(){return typeof $localize<"u"&&$localize.locale||cd}()}),HE=new Ze("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let GE=(()=>{class n{compileModuleSync(o){return new l_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=_u(br(o).declarations).reduce((v,A)=>{const k=Tt(A);return k&&v.push(new Ku(k)),v},[]);return new zE(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function T_(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Xu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ql(!1),this.onMicrotaskEmpty=new ql(!1),this.onStable=new ql(!1),this.onError=new ql(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function ZE(){let n=Pn.requestAnimationFrame,i=Pn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function XE(n){const i=()=>{!function QE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,A_(n),n.isCheckStableRunning=!0,S_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),A_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,A)=>{try{return o0(n),o.invokeTask(l,h,v,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),a0(n)}},onInvoke:(o,u,l,h,v,A,k)=>{try{return o0(n),o.invoke(l,h,v,A,k)}finally{n.shouldCoalesceRunChangeDetection&&i(),a0(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,A_(n),S_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xu.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(Xu.isInAngularZone())throw new qe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,YE,by,by);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const YE={};function S_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function A_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function o0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function a0(n){n._nesting--,S_(n)}class JE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ql,this.onMicrotaskEmpty=new ql,this.onStable=new ql,this.onError=new ql}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const u0=new Ze(""),l0=new Ze("");let M_,eb=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,M_||(function tb(n){M_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xu.assertNotInAngularZone(),T_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Un(Xu),Un(c0),Un(l0))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})(),c0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return M_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const _c=!1;let dd=null;const d0=new Ze("AllowMultipleToken"),x_=new Ze("PlatformDestroyListeners"),h0=new Ze("appBootstrapListener");class ib{constructor(i,o){this.name=i,this.token=o}}function p0(n,i,o=[]){const u=`Platform: ${i}`,l=new Ze(u);return(h=[])=>{let v=P_();if(!v||v.injector.get(d0,!1)){const A=[...o,...h,{provide:l,useValue:!0}];n?n(A):function sb(n){if(dd&&!dd.get(d0,!1))throw new qe(400,!1);dd=n;const i=n.get(m0);(function f0(n){const i=n.get(n0,null);i&&i.forEach(o=>o())})(n)}(function g0(n=[],i){return Fs.create({name:i,providers:[{provide:vh,useValue:"platform"},{provide:x_,useValue:new Set([()=>dd=null])},...n]})}(A,u))}return function ab(n){const i=P_();if(!i)throw new qe(401,!1);return i}()}}function P_(){return dd?.get(m0)??null}let m0=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function v0(n,i){let o;return o="noop"===n?new JE:("zone.js"===n?void 0:n)||new Xu(i),o}(u?.ngZone,function y0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Xu,useValue:l}];return l.run(()=>{const v=Fs.create({providers:h,parent:this.injector,name:o.moduleType.name}),A=o.create(v),k=A.injector.get(sc,null);if(!k)throw new qe(402,!1);return l.runOutsideAngular(()=>{const K=l.onError.subscribe({next:ie=>{k.handleError(ie)}});A.onDestroy(()=>{Ty(this._modules,A),K.unsubscribe()})}),function _0(n,i,o){try{const u=o();return Wd(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(k,l,()=>{const K=A.injector.get(Iy);return K.runInitializers(),K.donePromise.then(()=>(function og(n){jt(n,"Expected localeId to be defined"),"string"==typeof n&&(sg=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Cy,cd)||cd),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const l=w0({},u);return function nb(n,i,o){const u=new l_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Dy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new qe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(x_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Un(Fs))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function w0(n,i){return Array.isArray(i)?i.reduce(w0,n):{...n,...i}}let Dy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new G.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),v=new G.y(A=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Xu.assertNotInAngularZone(),T_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{Xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{k.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Te.T)(h,v.pipe((0,Ce.B)()))}bootstrap(o,u){const l=o instanceof jf;if(!this._injector.get(Iy).done){!l&&Qn(o);throw new qe(405,_c)}let v;v=l?o:this._injector.get(Hc).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const A=function rb(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Ef),K=v.create(Fs.NULL,[],u||v.selector,A),ie=K.location.nativeElement,Ee=K.injector.get(u0,null);return Ee?.registerApplication(ie),K.onDestroy(()=>{this.detachView(K.hostView),Ty(this.components,K),Ee?.unregisterApplication(ie)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ty(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(h0,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ty(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new qe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Un(Xu),Un(Gu),Un(sc))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function lb(){return!1}let cb=(()=>{class n{}return n.__NG_ELEMENT_ID__=db,n})();function db(n){return function hb(n,i,o){if(Oo(n)&&!o){const u=bi(n.index,i);return new Ud(u,u)}return 47&n.type?new Ud(i[Rn],i):null}(Je(),R(),16==(16&n))}class D0{constructor(){}supports(i){return Vh(i)}create(i){return new vb(i)}}const yb=(n,i)=>i;class vb{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yb}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<S0(u,l,h)?o:u,A=S0(v,l,h),k=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const K=A-l,ie=k-l;if(K!=ie){for(let Ge=0;Ge<K;Ge++){const lt=Ge<h.length?h[Ge]:h[Ge]=0,Ft=lt+Ge;ie<=Ft&&Ft<K&&(h[Ge]=lt+1)}h[v.previousIndex]=ie-K}}A!==k&&i(v,A,k)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Vh(i))throw new qe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let A=0;A<this.length;A++)h=i[A],v=this._trackByFn(A,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,A)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,A),u=!0),o=o._next}else l=0,function kp(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,A=>{v=this._trackByFn(l,A),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,A,v,l)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new _b(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class _b{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wb{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class T0{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new wb,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function S0(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class A0{constructor(){}supports(i){return i instanceof Map||$d(i)}create(){return new Eb}}class Eb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||$d(i)))throw new qe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new bb(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class bb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M0(){return new F_([new D0])}let F_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||M0()),deps:[[n,new uo,new Si]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new qe(901,!1)}}return n.\u0275prov=tn({token:n,providedIn:"root",factory:M0}),n})();function x0(){return new L_([new A0])}let L_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||x0()),deps:[[n,new uo,new Si]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new qe(901,!1)}}return n.\u0275prov=tn({token:n,providedIn:"root",factory:x0}),n})();const Db=p0(null,"core",[]);let Tb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Un(Dy))},n.\u0275mod=ce({type:n}),n.\u0275inj=Fn({}),n})();function Sb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(cn,je,j)=>{"use strict";j.d(je,{Wl:()=>qe,Fj:()=>_e,qu:()=>Vo,NI:()=>Rn,u:()=>xi,sg:()=>Us,u5:()=>So,JJ:()=>Pn,JL:()=>Cn,F:()=>xt,On:()=>Mi,YN:()=>Zi,wV:()=>Ei,_:()=>Jr,UX:()=>Ao,EJ:()=>fo,kI:()=>pn,_Y:()=>mi,Kr:()=>js});var p=j(4650),E=j(6895),G=j(8996),Te=j(9751),Ce=j(4742),Be=j(8421),ke=j(7669),we=j(5403),Qe=j(3268),pe=j(1810),Ne=j(4004);let gt=(()=>{class R{constructor(N,re){this._renderer=N,this._elementRef=re,this.onChange=Je=>{},this.onTouched=()=>{}}setProperty(N,re){this._renderer.setProperty(this._elementRef.nativeElement,N,re)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(p.Qsj),p.Y36(p.SBq))},R.\u0275dir=p.lG2({type:R}),R})(),yt=(()=>{class R extends gt{}return R.\u0275fac=function(){let F;return function(re){return(F||(F=p.n5z(R)))(re||R)}}(),R.\u0275dir=p.lG2({type:R,features:[p.qOj]}),R})();const kt=new p.OlP("NgValueAccessor"),Bt={provide:kt,useExisting:(0,p.Gpc)(()=>qe),multi:!0};let qe=(()=>{class R extends yt{writeValue(N){this.setProperty("checked",N)}}return R.\u0275fac=function(){let F;return function(re){return(F||(F=p.n5z(R)))(re||R)}}(),R.\u0275dir=p.lG2({type:R,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(N,re){1&N&&p.NdJ("change",function(mn){return re.onChange(mn.target.checked)})("blur",function(){return re.onTouched()})},features:[p._Bn([Bt]),p.qOj]}),R})();const Et={provide:kt,useExisting:(0,p.Gpc)(()=>_e),multi:!0},Lt=new p.OlP("CompositionEventMode");let _e=(()=>{class R extends gt{constructor(N,re,Je){super(N,re),this._compositionMode=Je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rt(){const R=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Lt,8))},R.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,re){1&N&&p.NdJ("input",function(mn){return re._handleInput(mn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(mn){return re._compositionEnd(mn.target.value)})},features:[p._Bn([Et]),p.qOj]}),R})();const Re=!1;function it(R){return null==R||("string"==typeof R||Array.isArray(R))&&0===R.length}function At(R){return null!=R&&"number"==typeof R.length}const ht=new p.OlP("NgValidators"),ze=new p.OlP("NgAsyncValidators"),It=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pn{static min(F){return function Vt(R){return F=>{if(it(F.value)||it(R))return null;const N=parseFloat(F.value);return!isNaN(N)&&N<R?{min:{min:R,actual:F.value}}:null}}(F)}static max(F){return function Wt(R){return F=>{if(it(F.value)||it(R))return null;const N=parseFloat(F.value);return!isNaN(N)&&N>R?{max:{max:R,actual:F.value}}:null}}(F)}static required(F){return function Gt(R){return it(R.value)?{required:!0}:null}(F)}static requiredTrue(F){return function st(R){return!0===R.value?null:{required:!0}}(F)}static email(F){return function at(R){return it(R.value)||It.test(R.value)?null:{email:!0}}(F)}static minLength(F){return function ft(R){return F=>it(F.value)||!At(F.value)?null:F.value.length<R?{minlength:{requiredLength:R,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function wt(R){return F=>At(F.value)&&F.value.length>R?{maxlength:{requiredLength:R,actualLength:F.value.length}}:null}(F)}static pattern(F){return function $t(R){if(!R)return Pt;let F,N;return"string"==typeof R?(N="","^"!==R.charAt(0)&&(N+="^"),N+=R,"$"!==R.charAt(R.length-1)&&(N+="$"),F=new RegExp(N)):(N=R.toString(),F=R),re=>{if(it(re.value))return null;const Je=re.value;return F.test(Je)?null:{pattern:{requiredPattern:N,actualValue:Je}}}}(F)}static nullValidator(F){return null}static compose(F){return An(F)}static composeAsync(F){return mr(F)}}function Pt(R){return null}function jt(R){return null!=R}function Mt(R){const F=(0,p.QGY)(R)?(0,G.D)(R):R;if(Re&&!(0,p.CqO)(F)){let N="Expected async validator to return Promise or Observable.";throw"object"==typeof R&&(N+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,N)}return F}function gn(R){let F={};return R.forEach(N=>{F=null!=N?{...F,...N}:F}),0===Object.keys(F).length?null:F}function vn(R,F){return F.map(N=>N(R))}function tn(R){return R.map(F=>function Tn(R){return!R.validate}(F)?F:N=>F.validate(N))}function An(R){if(!R)return null;const F=R.filter(jt);return 0==F.length?null:function(N){return gn(vn(N,F))}}function Fn(R){return null!=R?An(tn(R)):null}function mr(R){if(!R)return null;const F=R.filter(jt);return 0==F.length?null:function(N){return function De(...R){const F=(0,ke.jO)(R),{args:N,keys:re}=(0,Ce.D)(R),Je=new Te.y(mn=>{const{length:Nr}=N;if(!Nr)return void mn.complete();const ni=new Array(Nr);let ys=Nr,Rs=Nr;for(let io=0;io<Nr;io++){let Ri=!1;(0,Be.Xf)(N[io]).subscribe((0,we.x)(mn,is=>{Ri||(Ri=!0,Rs--),ni[io]=is},()=>ys--,void 0,()=>{(!ys||!Ri)&&(Rs||mn.next(re?(0,pe.n)(re,ni):ni),mn.complete())}))}});return F?Je.pipe((0,Qe.Z)(F)):Je}(vn(N,F).map(Mt)).pipe((0,Ne.U)(gn))}}function Tr(R){return null!=R?mr(tn(R)):null}function ur(R,F){return null===R?[F]:Array.isArray(R)?[...R,F]:[R,F]}function on(R){return R._rawValidators}function Yt(R){return R._rawAsyncValidators}function rr(R){return R?Array.isArray(R)?R:[R]:[]}function Sr(R,F){return Array.isArray(R)?R.includes(F):R===F}function fr(R,F){const N=rr(F);return rr(R).forEach(Je=>{Sr(N,Je)||N.push(Je)}),N}function Hn(R,F){return rr(F).filter(N=>!Sr(R,N))}class an{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Fn(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,N){return!!this.control&&this.control.hasError(F,N)}getError(F,N){return this.control?this.control.getError(F,N):null}}class Ln extends an{get formDirective(){return null}get path(){return null}}class zn extends an{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pn=(()=>{class R extends ir{constructor(N){super(N)}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(zn,2))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,re){2&N&&p.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},features:[p.qOj]}),R})(),Cn=(()=>{class R extends ir{constructor(N){super(N)}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(Ln,10))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,re){2&N&&p.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},features:[p.qOj]}),R})();function cr(R,F){return R?`with name: '${F}'`:`at index: ${F}`}const Le=!1,Ot="VALID",vt="INVALID",ge="PENDING",he="DISABLED";function ee(R){return(ye(R)?R.validators:R)||null}function X(R,F){return(ye(F)?F.asyncValidators:R)||null}function ye(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}function ve(R,F,N){const re=R.controls;if(!(F?Object.keys(re):re).length)throw new p.vHH(1e3,Le?function pr(R){return`\n    There are no form controls registered with this ${R?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!re[N])throw new p.vHH(1001,Le?function nt(R,F){return`Cannot find form control ${cr(R,F)}`}(F,N):"")}function le(R,F,N){R._forEachChild((re,Je)=>{if(void 0===N[Je])throw new p.vHH(1002,Le?function be(R,F){return`Must supply a value for form control ${cr(R,F)}`}(F,Je):"")})}class Me{constructor(F,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Ot}get invalid(){return this.status===vt}get pending(){return this.status==ge}get disabled(){return this.status===he}get enabled(){return this.status!==he}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(fr(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(fr(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Hn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Hn(F,this._rawAsyncValidators))}hasValidator(F){return Sr(this._rawValidators,F)}hasAsyncValidator(F){return Sr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=ge,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=he,this.errors=null,this._forEachChild(re=>{re.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:N}),this._onDisabledChange.forEach(re=>re(!0))}enable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=Ot,this._forEachChild(re=>{re.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:N}),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ot||this.status===ge)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?he:Ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=ge,this._hasOwnPendingAsyncValidator=!0;const N=Mt(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,N={}){this.errors=F,this._updateControlsErrors(!1!==N.emitEvent)}get(F){let N=F;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((re,Je)=>re&&re._find(Je),this)}getError(F,N){const re=N?this.get(N):this;return re&&re.errors?re.errors[F]:null}hasError(F,N){return!!this.getError(F,N)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?he:this.errors?vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ge)?ge:this._anyControlsHaveStatus(vt)?vt:Ot}_anyControlsHaveStatus(F){return this._anyControls(N=>N.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){ye(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function ne(R){return Array.isArray(R)?Fn(R):R||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function Se(R){return Array.isArray(R)?Tr(R):R||null}(this._rawAsyncValidators)}}class Xe extends Me{constructor(F,N,re){super(ee(N),X(re,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,N){return this.controls[F]?this.controls[F]:(this.controls[F]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(F,N,re={}){this.registerControl(F,N),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(F,N={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(F,N,re={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],N&&this.registerControl(F,N),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,N={}){le(this,!0,F),Object.keys(F).forEach(re=>{ve(this,!0,re),this.controls[re].setValue(F[re],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(Object.keys(F).forEach(re=>{const Je=this.controls[re];Je&&Je.patchValue(F[re],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F={},N={}){this._forEachChild((re,Je)=>{re.reset(F[Je],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(F,N,re)=>(F[re]=N.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(N,re)=>!!re._syncPendingControls()||N);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(N=>{const re=this.controls[N];re&&F(re,N)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[N,re]of Object.entries(this.controls))if(this.contains(N)&&F(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,re,Je)=>((re.enabled||this.disabled)&&(N[Je]=re.value),N))}_reduceChildren(F,N){let re=F;return this._forEachChild((Je,mn)=>{re=N(re,Je,mn)}),re}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class dn extends Xe{}const Ur=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ct}),ct="always";function ce(R,F){return[...F.path,R]}function H(R,F,N=ct){Tt(R,F),F.valueAccessor.writeValue(R.value),(R.disabled||"always"===N)&&F.valueAccessor.setDisabledState?.(R.disabled),function Nn(R,F){F.valueAccessor.registerOnChange(N=>{R._pendingValue=N,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&br(R,F)})}(R,F),function ri(R,F){const N=(re,Je)=>{F.valueAccessor.writeValue(re),Je&&F.viewToModelUpdate(re)};R.registerOnChange(N),F._registerOnDestroy(()=>{R._unregisterOnChange(N)})}(R,F),function Qn(R,F){F.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&br(R,F),"submit"!==R.updateOn&&R.markAsTouched()})}(R,F),function ut(R,F){if(F.valueAccessor.setDisabledState){const N=re=>{F.valueAccessor.setDisabledState(re)};R.registerOnDisabledChange(N),F._registerOnDestroy(()=>{R._unregisterOnDisabledChange(N)})}}(R,F)}function ae(R,F,N=!0){const re=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(re),F.valueAccessor.registerOnTouched(re)),rn(R,F),R&&(F._invokeOnDestroyCallbacks(),R._registerOnCollectionChange(()=>{}))}function xe(R,F){R.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(F)})}function Tt(R,F){const N=on(R);null!==F.validator?R.setValidators(ur(N,F.validator)):"function"==typeof N&&R.setValidators([N]);const re=Yt(R);null!==F.asyncValidator?R.setAsyncValidators(ur(re,F.asyncValidator)):"function"==typeof re&&R.setAsyncValidators([re]);const Je=()=>R.updateValueAndValidity();xe(F._rawValidators,Je),xe(F._rawAsyncValidators,Je)}function rn(R,F){let N=!1;if(null!==R){if(null!==F.validator){const Je=on(R);if(Array.isArray(Je)&&Je.length>0){const mn=Je.filter(Nr=>Nr!==F.validator);mn.length!==Je.length&&(N=!0,R.setValidators(mn))}}if(null!==F.asyncValidator){const Je=Yt(R);if(Array.isArray(Je)&&Je.length>0){const mn=Je.filter(Nr=>Nr!==F.asyncValidator);mn.length!==Je.length&&(N=!0,R.setAsyncValidators(mn))}}}const re=()=>{};return xe(F._rawValidators,re),xe(F._rawAsyncValidators,re),N}function br(R,F){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function Ji(R,F){Tt(R,F)}function hi(R,F){if(!R.hasOwnProperty("model"))return!1;const N=R.model;return!!N.isFirstChange()||!Object.is(F,N.currentValue)}function Or(R,F){R._syncPendingControls(),F.forEach(N=>{const re=N.control;"submit"===re.updateOn&&re._pendingChange&&(N.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}function Xn(R,F){if(!F)return null;let N,re,Je;return Array.isArray(F),F.forEach(mn=>{mn.constructor===_e?N=mn:function Fr(R){return Object.getPrototypeOf(R.constructor)===yt}(mn)?re=mn:Je=mn}),Je||re||N||null}const $e={provide:Ln,useExisting:(0,p.Gpc)(()=>xt)},Dt=(()=>Promise.resolve())();let xt=(()=>{class R extends Ln{constructor(N,re,Je){super(),this.callSetDisabledState=Je,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Xe({},Fn(N),Tr(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){Dt.then(()=>{const re=this._findContainer(N.path);N.control=re.registerControl(N.name,N.control),H(N.control,N,this.callSetDisabledState),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){Dt.then(()=>{const re=this._findContainer(N.path);re&&re.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){Dt.then(()=>{const re=this._findContainer(N.path),Je=new Xe({});Ji(Je,N),re.registerControl(N.name,Je),Je.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){Dt.then(()=>{const re=this._findContainer(N.path);re&&re.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,re){Dt.then(()=>{this.form.get(N.path).setValue(re)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,Or(this.form,this._directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(ht,10),p.Y36(ze,10),p.Y36(Ur,8))},R.\u0275dir=p.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(N,re){1&N&&p.NdJ("submit",function(mn){return re.onSubmit(mn)})("reset",function(){return re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([$e]),p.qOj]}),R})();function bn(R,F){const N=R.indexOf(F);N>-1&&R.splice(N,1)}function jn(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const Rn=class extends Me{constructor(F=null,N,re){super(ee(N),X(re,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ye(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=jn(F)?F.value:F)}setValue(F,N={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(F,N={}){this.setValue(F,N)}reset(F=this.defaultValue,N={}){this._applyFormState(F),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){bn(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){bn(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){jn(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},es={provide:zn,useExisting:(0,p.Gpc)(()=>Mi)},ts=(()=>Promise.resolve())();let Mi=(()=>{class R extends zn{constructor(N,re,Je,mn,Nr,ni){super(),this._changeDetectorRef=Nr,this.callSetDisabledState=ni,this.control=new Rn,this._registered=!1,this.update=new p.vpe,this._parent=N,this._setValidators(re),this._setAsyncValidators(Je),this.valueAccessor=Xn(0,mn)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const re=N.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),hi(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){H(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){ts.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const re=N.isDisabled.currentValue,Je=0!==re&&(0,p.D6c)(re);ts.then(()=>{Je&&!this.control.disabled?this.control.disable():!Je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?ce(N,this._parent):[N]}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(Ln,9),p.Y36(ht,10),p.Y36(ze,10),p.Y36(kt,10),p.Y36(p.sBO,8),p.Y36(Ur,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([es]),p.qOj,p.TTD]}),R})(),mi=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275dir=p.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})();const xa={provide:kt,useExisting:(0,p.Gpc)(()=>Ei),multi:!0};let Ei=(()=>{class R extends yt{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=re=>{N(""==re?null:parseFloat(re))}}}return R.\u0275fac=function(){let F;return function(re){return(F||(F=p.n5z(R)))(re||R)}}(),R.\u0275dir=p.lG2({type:R,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(N,re){1&N&&p.NdJ("input",function(mn){return re.onChange(mn.target.value)})("blur",function(){return re.onTouched()})},features:[p._Bn([xa]),p.qOj]}),R})();const cs={provide:kt,useExisting:(0,p.Gpc)(()=>Jr),multi:!0};let Oo=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})(),ds=(()=>{class R{constructor(){this._accessors=[]}add(N,re){this._accessors.push([N,re])}remove(N){for(let re=this._accessors.length-1;re>=0;--re)if(this._accessors[re][1]===N)return void this._accessors.splice(re,1)}select(N){this._accessors.forEach(re=>{this._isSameGroup(re,N)&&re[1]!==N&&re[1].fireUncheck(N.value)})}_isSameGroup(N,re){return!!N[0].control&&N[0]._parent===re._control._parent&&N[1].name===re.name}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:Oo}),R})(),Jr=(()=>{class R extends yt{constructor(N,re,Je,mn){super(N,re),this._registry=Je,this._injector=mn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,p.f3M)(Ur,{optional:!0})??ct}ngOnInit(){this._control=this._injector.get(zn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(N){this._state=N===this.value,this.setProperty("checked",this._state)}registerOnChange(N){this._fn=N,this.onChange=()=>{N(this.value),this._registry.select(this)}}setDisabledState(N){(this.setDisabledStateFired||N||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",N),this.setDisabledStateFired=!0}fireUncheck(N){this.writeValue(N)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ds),p.Y36(p.zs3))},R.\u0275dir=p.lG2({type:R,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(N,re){1&N&&p.NdJ("change",function(){return re.onChange()})("blur",function(){return re.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[p._Bn([cs]),p.qOj]}),R})();const No=new p.OlP("NgModelWithFormControlWarning"),ji={provide:Ln,useExisting:(0,p.Gpc)(()=>Us)};let Us=(()=>{class R extends Ln{constructor(N,re,Je){super(),this.callSetDisabledState=Je,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(N),this._setAsyncValidators(re)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const re=this.form.get(N.path);return H(re,N,this.callSetDisabledState),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),re}getControl(N){return this.form.get(N.path)}removeControl(N){ae(N.control||null,N,!1),function He(R,F){const N=R.indexOf(F);N>-1&&R.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,re){this.form.get(N.path).setValue(re)}onSubmit(N){return this.submitted=!0,Or(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const re=N.control,Je=this.form.get(N.path);re!==Je&&(ae(re||null,N),(R=>R instanceof Rn)(Je)&&(H(Je,N,this.callSetDisabledState),N.control=Je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const re=this.form.get(N.path);Ji(re,N),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const re=this.form.get(N.path);re&&function Di(R,F){return rn(R,F)}(re,N)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tt(this.form,this),this._oldForm&&rn(this._oldForm,this)}_checkFormPresent(){}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(ht,10),p.Y36(ze,10),p.Y36(Ur,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroup",""]],hostBindings:function(N,re){1&N&&p.NdJ("submit",function(mn){return re.onSubmit(mn)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([ji]),p.qOj,p.TTD]}),R})();const Yo={provide:zn,useExisting:(0,p.Gpc)(()=>xi)};let xi=(()=>{class R extends zn{set isDisabled(N){}constructor(N,re,Je,mn,Nr){super(),this._ngModelWarningConfig=Nr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(re),this._setAsyncValidators(Je),this.valueAccessor=Xn(0,mn)}ngOnChanges(N){this._added||this._setUpControl(),hi(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return ce(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return R._ngModelWarningSentOnce=!1,R.\u0275fac=function(N){return new(N||R)(p.Y36(Ln,13),p.Y36(ht,10),p.Y36(ze,10),p.Y36(kt,10),p.Y36(No,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Yo]),p.qOj,p.TTD]}),R})();const Hi={provide:kt,useExisting:(0,p.Gpc)(()=>fo),multi:!0};function Qo(R,F){return null==R?`${F}`:(F&&"object"==typeof F&&(F="Object"),`${R}: ${F}`.slice(0,50))}let fo=(()=>{class R extends yt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){this.value=N;const Je=Qo(this._getOptionId(N),N);this.setProperty("value",Je)}registerOnChange(N){this.onChange=re=>{this.value=this._getOptionValue(re),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re),N))return re;return null}_getOptionValue(N){const re=function Bs(R){return R.split(":")[0]}(N);return this._optionMap.has(re)?this._optionMap.get(re):N}}return R.\u0275fac=function(){let F;return function(re){return(F||(F=p.n5z(R)))(re||R)}}(),R.\u0275dir=p.lG2({type:R,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(N,re){1&N&&p.NdJ("change",function(mn){return re.onChange(mn.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Hi]),p.qOj]}),R})(),Zi=(()=>{class R{constructor(N,re,Je){this._element=N,this._renderer=re,this._select=Je,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(Qo(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(fo,9))},R.\u0275dir=p.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),R})();const Is={provide:kt,useExisting:(0,p.Gpc)(()=>$s),multi:!0};function Pi(R,F){return null==R?`${F}`:("string"==typeof F&&(F=`'${F}'`),F&&"object"==typeof F&&(F="Object"),`${R}: ${F}`.slice(0,50))}let $s=(()=>{class R extends yt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){let re;if(this.value=N,Array.isArray(N)){const Je=N.map(mn=>this._getOptionId(mn));re=(mn,Nr)=>{mn._setSelected(Je.indexOf(Nr.toString())>-1)}}else re=(Je,mn)=>{Je._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(N){this.onChange=re=>{const Je=[],mn=re.selectedOptions;if(void 0!==mn){const Nr=mn;for(let ni=0;ni<Nr.length;ni++){const Rs=this._getOptionValue(Nr[ni].value);Je.push(Rs)}}else{const Nr=re.options;for(let ni=0;ni<Nr.length;ni++){const ys=Nr[ni];if(ys.selected){const Rs=this._getOptionValue(ys.value);Je.push(Rs)}}}this.value=Je,N(Je)}}_registerOption(N){const re=(this._idCounter++).toString();return this._optionMap.set(re,N),re}_getOptionId(N){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re)._value,N))return re;return null}_getOptionValue(N){const re=function gs(R){return R.split(":")[0]}(N);return this._optionMap.has(re)?this._optionMap.get(re)._value:N}}return R.\u0275fac=function(){let F;return function(re){return(F||(F=p.n5z(R)))(re||R)}}(),R.\u0275dir=p.lG2({type:R,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(N,re){1&N&&p.NdJ("change",function(mn){return re.onChange(mn.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Is]),p.qOj]}),R})(),js=(()=>{class R{constructor(N,re,Je){this._element=N,this._renderer=re,this._select=Je,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(Pi(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(Pi(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return R.\u0275fac=function(N){return new(N||R)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36($s,9))},R.\u0275dir=p.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),R})(),ro=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[Oo]}),R})();class Cs extends Me{constructor(F,N,re){super(ee(N),X(re,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,N={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(F,N,re={}){this.controls.splice(F,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(F,N={}){let re=this._adjustIndex(F);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(F,N,re={}){let Je=this._adjustIndex(F);Je<0&&(Je=0),this.controls[Je]&&this.controls[Je]._registerOnCollectionChange(()=>{}),this.controls.splice(Je,1),N&&(this.controls.splice(Je,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,N={}){le(this,!1,F),F.forEach((re,Je)=>{ve(this,!1,Je),this.at(Je).setValue(re,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(F.forEach((re,Je)=>{this.at(Je)&&this.at(Je).patchValue(re,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F=[],N={}){this._forEachChild((re,Je)=>{re.reset(F[Je],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((N,re)=>!!re._syncPendingControls()||N,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((N,re)=>{F(N,re)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(N=>N.enabled&&F(N))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}function Ds(R){return!!R&&(void 0!==R.asyncValidators||void 0!==R.validators||void 0!==R.updateOn)}let Vo=(()=>{class R{constructor(){this.useNonNullable=!1}get nonNullable(){const N=new R;return N.useNonNullable=!0,N}group(N,re=null){const Je=this._reduceControls(N);let mn={};return Ds(re)?mn=re:null!==re&&(mn.validators=re.validator,mn.asyncValidators=re.asyncValidator),new Xe(Je,mn)}record(N,re=null){const Je=this._reduceControls(N);return new dn(Je,re)}control(N,re,Je){let mn={};return this.useNonNullable?(Ds(re)?mn=re:(mn.validators=re,mn.asyncValidators=Je),new Rn(N,{...mn,nonNullable:!0})):new Rn(N,re,Je)}array(N,re,Je){const mn=N.map(Nr=>this._createControl(Nr));return new Cs(mn,re,Je)}_reduceControls(N){const re={};return Object.keys(N).forEach(Je=>{re[Je]=this._createControl(N[Je])}),re}_createControl(N){return N instanceof Rn||N instanceof Me?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),So=(()=>{class R{static withConfig(N){return{ngModule:R,providers:[{provide:Ur,useValue:N.callSetDisabledState??ct}]}}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[ro]}),R})(),Ao=(()=>{class R{static withConfig(N){return{ngModule:R,providers:[{provide:No,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:Ur,useValue:N.callSetDisabledState??ct}]}}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[ro]}),R})()},1481:(cn,je,j)=>{"use strict";j.d(je,{Dx:()=>Cn,b2:()=>zn,q6:()=>fr,se:()=>Gt});var p=j(6895),E=j(4650);class G extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends G{static makeCurrent(){(0,p.HT)(new Te)}onAndCancel(ve,le,Me){return ve.addEventListener(le,Me,!1),()=>{ve.removeEventListener(le,Me,!1)}}dispatchEvent(ve,le){ve.dispatchEvent(le)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,le){return(le=le||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,le){return"window"===le?window:"document"===le?ve:"body"===le?ve.body:null}getBaseHref(ve){const le=function Be(){return Ce=Ce||document.querySelector("base"),Ce?Ce.getAttribute("href"):null}();return null==le?null:function we(ye){ke=ke||document.createElement("a"),ke.setAttribute("href",ye);const ve=ke.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(le)}resetBaseElement(){Ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,p.Mx)(document.cookie,ve)}}let ke,Ce=null;const Qe=new E.OlP("TRANSITION_ID"),De=[{provide:E.ip1,useFactory:function pe(ye,ve,le){return()=>{le.get(E.CZH).donePromise.then(()=>{const Me=(0,p.q)(),Xe=ve.querySelectorAll(`style[ng-transition="${ye}"]`);for(let Ct=0;Ct<Xe.length;Ct++)Me.remove(Xe[Ct])})}},deps:[Qe,p.K0,E.zs3],multi:!0}];let gt=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(le){return new(le||ye)},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const yt=new E.OlP("EventManagerPlugins");let kt=(()=>{class ye{constructor(le,Me){this._zone=Me,this._eventNameToPlugin=new Map,le.forEach(Xe=>{Xe.manager=this}),this._plugins=le.slice().reverse()}addEventListener(le,Me,Xe){return this._findPluginFor(Me).addEventListener(le,Me,Xe)}addGlobalEventListener(le,Me,Xe){return this._findPluginFor(Me).addGlobalEventListener(le,Me,Xe)}getZone(){return this._zone}_findPluginFor(le){const Me=this._eventNameToPlugin.get(le);if(Me)return Me;const Xe=this._plugins;for(let Ct=0;Ct<Xe.length;Ct++){const qt=Xe[Ct];if(qt.supports(le))return this._eventNameToPlugin.set(le,qt),qt}throw new Error(`No event manager plugin found for event ${le}`)}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(yt),E.LFG(E.R0b))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class Bt{constructor(ve){this._doc=ve}addGlobalEventListener(ve,le,Me){const Xe=(0,p.q)().getGlobalEventTarget(this._doc,ve);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${le}`);return this.addEventListener(Xe,le,Me)}}let qe=(()=>{class ye{constructor(){this.usageCount=new Map}addStyles(le){for(const Me of le)1===this.changeUsageCount(Me,1)&&this.onStyleAdded(Me)}removeStyles(le){for(const Me of le)0===this.changeUsageCount(Me,-1)&&this.onStyleRemoved(Me)}onStyleRemoved(le){}onStyleAdded(le){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(le,Me){const Xe=this.usageCount;let Ct=Xe.get(le)??0;return Ct+=Me,Ct>0?Xe.set(le,Ct):Xe.delete(le),Ct}ngOnDestroy(){for(const le of this.getAllStyles())this.onStyleRemoved(le);this.usageCount.clear()}}return ye.\u0275fac=function(le){return new(le||ye)},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),Et=(()=>{class ye extends qe{constructor(le){super(),this.doc=le,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(le){for(const Me of this.hostNodes)this.addStyleToHost(Me,le)}onStyleRemoved(le){const Me=this.styleRef;Me.get(le)?.forEach(Ct=>Ct.remove()),Me.delete(le)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(le){this.hostNodes.add(le);for(const Me of this.getAllStyles())this.addStyleToHost(le,Me)}removeHost(le){this.hostNodes.delete(le)}addStyleToHost(le,Me){const Xe=this.doc.createElement("style");Xe.textContent=Me,le.appendChild(Xe);const Ct=this.styleRef.get(Me);Ct?Ct.push(Xe):this.styleRef.set(Me,[Xe])}resetHostNodes(){const le=this.hostNodes;le.clear(),le.add(this.doc.head)}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,ze=new E.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Vt(ye,ve){return ve.flat(100).map(le=>le.replace(Lt,ye))}function Wt(ye){return ve=>{if("__ngUnwrap__"===ve)return ye;!1===ye(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let Gt=(()=>{class ye{constructor(le,Me,Xe,Ct){this.eventManager=le,this.sharedStylesHost=Me,this.appId=Xe,this.removeStylesOnCompDestory=Ct,this.rendererByCompId=new Map,this.defaultRenderer=new st(le)}createRenderer(le,Me){if(!le||!Me)return this.defaultRenderer;const Xe=this.getOrCreateRenderer(le,Me);return Xe instanceof jt?Xe.applyToHost(le):Xe instanceof Pt&&Xe.applyStyles(),Xe}getOrCreateRenderer(le,Me){const Xe=this.rendererByCompId;let Ct=Xe.get(Me.id);if(!Ct){const qt=this.eventManager,dn=this.sharedStylesHost,sr=this.removeStylesOnCompDestory;switch(Me.encapsulation){case E.ifc.Emulated:Ct=new jt(qt,dn,Me,this.appId,sr);break;case E.ifc.ShadowDom:return new $t(qt,dn,le,Me);default:Ct=new Pt(qt,dn,Me,sr)}Ct.onDestroy=()=>Xe.delete(Me.id),Xe.set(Me.id,Ct)}return Ct}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(kt),E.LFG(Et),E.LFG(E.AFp),E.LFG(ze))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class st{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,le){return le?document.createElementNS(rt[le]||le,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,le){(wt(ve)?ve.content:ve).appendChild(le)}insertBefore(ve,le,Me){ve&&(wt(ve)?ve.content:ve).insertBefore(le,Me)}removeChild(ve,le){ve&&ve.removeChild(le)}selectRootElement(ve,le){let Me="string"==typeof ve?document.querySelector(ve):ve;if(!Me)throw new Error(`The selector "${ve}" did not match any elements`);return le||(Me.textContent=""),Me}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,le,Me,Xe){if(Xe){le=Xe+":"+le;const Ct=rt[Xe];Ct?ve.setAttributeNS(Ct,le,Me):ve.setAttribute(le,Me)}else ve.setAttribute(le,Me)}removeAttribute(ve,le,Me){if(Me){const Xe=rt[Me];Xe?ve.removeAttributeNS(Xe,le):ve.removeAttribute(`${Me}:${le}`)}else ve.removeAttribute(le)}addClass(ve,le){ve.classList.add(le)}removeClass(ve,le){ve.classList.remove(le)}setStyle(ve,le,Me,Xe){Xe&(E.JOm.DashCase|E.JOm.Important)?ve.style.setProperty(le,Me,Xe&E.JOm.Important?"important":""):ve.style[le]=Me}removeStyle(ve,le,Me){Me&E.JOm.DashCase?ve.style.removeProperty(le):ve.style[le]=""}setProperty(ve,le,Me){ve[le]=Me}setValue(ve,le){ve.nodeValue=le}listen(ve,le,Me){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,le,Wt(Me)):this.eventManager.addEventListener(ve,le,Wt(Me))}}function wt(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class $t extends st{constructor(ve,le,Me,Xe){super(ve),this.sharedStylesHost=le,this.hostEl=Me,this.shadowRoot=Me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ct=Vt(Xe.id,Xe.styles);for(const qt of Ct){const dn=document.createElement("style");dn.textContent=qt,this.shadowRoot.appendChild(dn)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}appendChild(ve,le){return super.appendChild(this.nodeOrShadowRoot(ve),le)}insertBefore(ve,le,Me){return super.insertBefore(this.nodeOrShadowRoot(ve),le,Me)}removeChild(ve,le){return super.removeChild(this.nodeOrShadowRoot(ve),le)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends st{constructor(ve,le,Me,Xe,Ct=Me.id){super(ve),this.sharedStylesHost=le,this.removeStylesOnCompDestory=Xe,this.rendererUsageCount=0,this.styles=Vt(Ct,Me.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class jt extends Pt{constructor(ve,le,Me,Xe,Ct){const qt=Xe+"-"+Me.id;super(ve,le,Me,Ct,qt),this.contentAttr=function It(ye){return"_ngcontent-%COMP%".replace(Lt,ye)}(qt),this.hostAttr=function pn(ye){return"_nghost-%COMP%".replace(Lt,ye)}(qt)}applyToHost(ve){this.applyStyles(),this.setAttribute(ve,this.hostAttr,"")}createElement(ve,le){const Me=super.createElement(ve,le);return super.setAttribute(Me,this.contentAttr,""),Me}}let Mt=(()=>{class ye extends Bt{constructor(le){super(le)}supports(le){return!0}addEventListener(le,Me,Xe){return le.addEventListener(Me,Xe,!1),()=>this.removeEventListener(le,Me,Xe)}removeEventListener(le,Me,Xe){return le.removeEventListener(Me,Xe)}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const gn=["alt","control","meta","shift"],vn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tn={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let tn=(()=>{class ye extends Bt{constructor(le){super(le)}supports(le){return null!=ye.parseEventName(le)}addEventListener(le,Me,Xe){const Ct=ye.parseEventName(Me),qt=ye.eventCallback(Ct.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(le,Ct.domEventName,qt))}static parseEventName(le){const Me=le.toLowerCase().split("."),Xe=Me.shift();if(0===Me.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Ct=ye._normalizeKey(Me.pop());let qt="",dn=Me.indexOf("code");if(dn>-1&&(Me.splice(dn,1),qt="code."),gn.forEach(Ur=>{const ct=Me.indexOf(Ur);ct>-1&&(Me.splice(ct,1),qt+=Ur+".")}),qt+=Ct,0!=Me.length||0===Ct.length)return null;const sr={};return sr.domEventName=Xe,sr.fullKey=qt,sr}static matchEventFullKeyCode(le,Me){let Xe=vn[le.key]||le.key,Ct="";return Me.indexOf("code.")>-1&&(Xe=le.code,Ct="code."),!(null==Xe||!Xe)&&(Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),gn.forEach(qt=>{qt!==Xe&&(0,Tn[qt])(le)&&(Ct+=qt+".")}),Ct+=Xe,Ct===Me)}static eventCallback(le,Me,Xe){return Ct=>{ye.matchEventFullKeyCode(Ct,le)&&Xe.runGuarded(()=>Me(Ct))}}static _normalizeKey(le){return"esc"===le?"escape":le}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const fr=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:p.bD},{provide:E.g9A,useValue:function on(){Te.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function rr(){return(0,E.RDi)(document),document},deps:[]}]),Hn=new E.OlP(""),an=[{provide:E.rWj,useClass:class Ne{addToWindow(ve){E.dqk.getAngularTestability=(Me,Xe=!0)=>{const Ct=ve.findTestabilityInTree(Me,Xe);if(null==Ct)throw new Error("Could not find testability for element.");return Ct},E.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(Me=>{const Xe=E.dqk.getAllAngularTestabilities();let Ct=Xe.length,qt=!1;const dn=function(sr){qt=qt||sr,Ct--,0==Ct&&Me(qt)};Xe.forEach(function(sr){sr.whenStable(dn)})})}findTestabilityInTree(ve,le,Me){return null==le?null:ve.getTestability(le)??(Me?(0,p.q)().isShadowRoot(le)?this.findTestabilityInTree(ve,le.host,!0):this.findTestabilityInTree(ve,le.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],Ln=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function Yt(){return new E.qLn},deps:[]},{provide:yt,useClass:Mt,multi:!0,deps:[p.K0,E.R0b,E.Lbi]},{provide:yt,useClass:tn,multi:!0,deps:[p.K0]},{provide:Gt,useClass:Gt,deps:[kt,Et,E.AFp,ze]},{provide:E.FYo,useExisting:Gt},{provide:qe,useExisting:Et},{provide:Et,useClass:Et,deps:[p.K0]},{provide:kt,useClass:kt,deps:[yt,E.R0b]},{provide:p.JF,useClass:gt,deps:[]},[]];let zn=(()=>{class ye{constructor(le){}static withServerTransition(le){return{ngModule:ye,providers:[{provide:E.AFp,useValue:le.appId},{provide:Qe,useExisting:E.AFp},De]}}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(Hn,12))},ye.\u0275mod=E.oAB({type:ye}),ye.\u0275inj=E.cJS({providers:[...Ln,...an],imports:[p.ez,E.hGG]}),ye})(),Cn=(()=>{class ye{constructor(le){this._doc=le}getTitle(){return this._doc.title}setTitle(le){this._doc.title=le||""}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:function(le){let Me=null;return Me=le?new le:function Pn(){return new Cn((0,E.LFG)(p.K0))}(),Me},providedIn:"root"}),ye})();typeof window<"u"&&window},1194:(cn,je,j)=>{"use strict";j.d(je,{F0:()=>Qi,rH:()=>cu,Bz:()=>Su,lC:()=>Js});var p=j(4650),E=j(8996),G=j(9646),Te=j(1135),Ce=j(6805),Be=j(9751),ke=j(4742),we=j(4671),Qe=j(3268),pe=j(7669),De=j(1810),Ne=j(5403),gt=j(9672);function yt(..._){const C=(0,pe.yG)(_),m=(0,pe.jO)(_),{args:x,keys:B}=(0,ke.D)(_);if(0===x.length)return(0,E.D)([],C);const J=new Be.y(function kt(_,C,m=we.y){return x=>{Bt(C,()=>{const{length:B}=_,J=new Array(B);let ue=B,Ke=B;for(let Nt=0;Nt<B;Nt++)Bt(C,()=>{const sn=(0,E.D)(_[Nt],C);let yn=!1;sn.subscribe((0,Ne.x)(x,Zr=>{J[Nt]=Zr,yn||(yn=!0,Ke--),Ke||x.next(m(J.slice()))},()=>{--ue||x.complete()}))},x)},x)}}(x,C,B?ue=>(0,De.n)(B,ue):we.y));return m?J.pipe((0,Qe.Z)(m)):J}function Bt(_,C,m){_?(0,gt.f)(m,_,C):C()}var qe=j(7272),Et=j(8421);function rt(_){return new Be.y(C=>{(0,Et.Xf)(_()).subscribe(C)})}var Lt=j(9635),_e=j(576);function Re(_,C){const m=(0,_e.m)(_)?_:()=>_,x=B=>B.error(m());return new Be.y(C?B=>C.schedule(x,0,B):x)}var it=j(515),At=j(727),ht=j(4482);function ze(){return(0,ht.e)((_,C)=>{let m=null;_._refCount++;const x=(0,Ne.x)(C,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const B=_._connection,J=m;m=null,B&&(!J||B===J)&&B.unsubscribe(),C.unsubscribe()});_.subscribe(x),x.closed||(m=_.connect())})}class It extends Be.y{constructor(C,m){super(),this.source=C,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,ht.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new At.w0;const m=this.getSubject();C.add(this.source.subscribe((0,Ne.x)(m,void 0,()=>{this._teardown(),m.complete()},x=>{this._teardown(),m.error(x)},()=>this._teardown()))),C.closed&&(this._connection=null,C=At.w0.EMPTY)}return C}refCount(){return ze()(this)}}var pn=j(7579),Vt=j(6895),Wt=j(4004),Gt=j(3900),st=j(5698),at=j(8675),ft=j(9300),wt=j(5577),$t=j(590),Pt=j(4351),jt=j(8505);function Mt(_){return(0,ht.e)((C,m)=>{let J,x=null,B=!1;x=C.subscribe((0,Ne.x)(m,void 0,void 0,ue=>{J=(0,Et.Xf)(_(ue,Mt(_)(C))),x?(x.unsubscribe(),x=null,J.subscribe(m)):B=!0})),B&&(x.unsubscribe(),x=null,J.subscribe(m))})}var gn=j(5026);function vn(_){return _<=0?()=>it.E:(0,ht.e)((C,m)=>{let x=[];C.subscribe((0,Ne.x)(m,B=>{x.push(B),_<x.length&&x.shift()},()=>{for(const B of x)m.next(B);m.complete()},void 0,()=>{x=null}))})}var Tn=j(8068),tn=j(6590);function An(_,C){const m=arguments.length>=2;return x=>x.pipe(_?(0,ft.h)((B,J)=>_(B,J,x)):we.y,vn(1),m?(0,tn.d)(C):(0,Tn.T)(()=>new Ce.K))}function Tr(_){return(0,ht.e)((C,m)=>{try{C.subscribe(m)}finally{m.add(_)}})}var ur=j(8189),on=j(1481);const Yt="primary",rr=Symbol("RouteTitle");class Sr{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const m=this.params[C];return Array.isArray(m)?m[0]:m}return null}getAll(C){if(this.has(C)){const m=this.params[C];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function fr(_){return new Sr(_)}function Hn(_,C,m){const x=m.path.split("/");if(x.length>_.length||"full"===m.pathMatch&&(C.hasChildren()||x.length<_.length))return null;const B={};for(let J=0;J<x.length;J++){const ue=x[J],Ke=_[J];if(ue.startsWith(":"))B[ue.substring(1)]=Ke;else if(ue!==Ke.path)return null}return{consumed:_.slice(0,x.length),posParams:B}}function Ln(_,C){const m=_?Object.keys(_):void 0,x=C?Object.keys(C):void 0;if(!m||!x||m.length!=x.length)return!1;let B;for(let J=0;J<m.length;J++)if(B=m[J],!zn(_[B],C[B]))return!1;return!0}function zn(_,C){if(Array.isArray(_)&&Array.isArray(C)){if(_.length!==C.length)return!1;const m=[..._].sort(),x=[...C].sort();return m.every((B,J)=>x[J]===B)}return _===C}function ir(_){return Array.prototype.concat.apply([],_)}function Qr(_){return _.length>0?_[_.length-1]:null}function Pn(_,C){for(const m in _)_.hasOwnProperty(m)&&C(_[m],m)}function Cn(_){return(0,p.CqO)(_)?_:(0,p.QGY)(_)?(0,E.D)(Promise.resolve(_)):(0,G.of)(_)}const Xt=!1,St={exact:function ti(_,C,m){if(!pr(_.segments,C.segments)||!Gr(_.segments,C.segments,m)||_.numberOfChildren!==C.numberOfChildren)return!1;for(const x in C.children)if(!_.children[x]||!ti(_.children[x],C.children[x],m))return!1;return!0},subset:Ar},lr={exact:function Dr(_,C){return Ln(_,C)},subset:function zr(_,C){return Object.keys(C).length<=Object.keys(_).length&&Object.keys(C).every(m=>zn(_[m],C[m]))},ignored:()=>!0};function Cr(_,C,m){return St[m.paths](_.root,C.root,m.matrixParams)&&lr[m.queryParams](_.queryParams,C.queryParams)&&!("exact"===m.fragment&&_.fragment!==C.fragment)}function Ar(_,C,m){return Bn(_,C,C.segments,m)}function Bn(_,C,m,x){if(_.segments.length>m.length){const B=_.segments.slice(0,m.length);return!(!pr(B,m)||C.hasChildren()||!Gr(B,m,x))}if(_.segments.length===m.length){if(!pr(_.segments,m)||!Gr(_.segments,m,x))return!1;for(const B in C.children)if(!_.children[B]||!Ar(_.children[B],C.children[B],x))return!1;return!0}{const B=m.slice(0,_.segments.length),J=m.slice(_.segments.length);return!!(pr(_.segments,B)&&Gr(_.segments,B,x)&&_.children[Yt])&&Bn(_.children[Yt],C,J,x)}}function Gr(_,C,m){return C.every((x,B)=>lr[m](_[B].parameters,x.parameters))}class $n{constructor(C=new Vn([],{}),m={},x=null){this.root=C,this.queryParams=m,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class Vn{constructor(C,m){this.segments=C,this.children=m,this.parent=null,Pn(m,(x,B)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vt(this)}}class Un{constructor(C,m){this.path=C,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return ve(this)}}function pr(_,C){return _.length===C.length&&_.every((m,x)=>m.path===C[x].path)}let be=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return new Le},providedIn:"root"}),_})();class Le{parse(C){const m=new ct(C);return new $n(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(C){const m=`/${ge(C.root,!0)}`,x=function Me(_){const C=Object.keys(_).map(m=>{const x=_[m];return Array.isArray(x)?x.map(B=>`${ee(m)}=${ee(B)}`).join("&"):`${ee(m)}=${ee(x)}`}).filter(m=>!!m);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${m}${x}${"string"==typeof C.fragment?`#${function ne(_){return encodeURI(_)}(C.fragment)}`:""}`}}const Ot=new Le;function vt(_){return _.segments.map(C=>ve(C)).join("/")}function ge(_,C){if(!_.hasChildren())return vt(_);if(C){const m=_.children[Yt]?ge(_.children[Yt],!1):"",x=[];return Pn(_.children,(B,J)=>{J!==Yt&&x.push(`${J}:${ge(B,!1)}`)}),x.length>0?`${m}(${x.join("//")})`:m}{const m=function nt(_,C){let m=[];return Pn(_.children,(x,B)=>{B===Yt&&(m=m.concat(C(x,B)))}),Pn(_.children,(x,B)=>{B!==Yt&&(m=m.concat(C(x,B)))}),m}(_,(x,B)=>B===Yt?[ge(_.children[Yt],!1)]:[`${B}:${ge(x,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Yt]?`${vt(_)}/${m[0]}`:`${vt(_)}/(${m.join("//")})`}}function he(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ee(_){return he(_).replace(/%3B/gi,";")}function X(_){return he(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(_){return decodeURIComponent(_)}function ye(_){return Se(_.replace(/\+/g,"%20"))}function ve(_){return`${X(_.path)}${function le(_){return Object.keys(_).map(C=>`;${X(C)}=${X(_[C])}`).join("")}(_.parameters)}`}const Xe=/^[^\/()?;=#]+/;function Ct(_){const C=_.match(Xe);return C?C[0]:""}const qt=/^[^=?&#]+/,sr=/^[^&#]+/;class ct{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vn([],{}):new Vn([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(C.length>0||Object.keys(m).length>0)&&(x[Yt]=new Vn(C,m)),x}parseSegment(){const C=Ct(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new p.vHH(4009,Xt);return this.capture(C),new Un(Se(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const m=Ct(this.remaining);if(!m)return;this.capture(m);let x="";if(this.consumeOptional("=")){const B=Ct(this.remaining);B&&(x=B,this.capture(x))}C[Se(m)]=Se(x)}parseQueryParam(C){const m=function dn(_){const C=_.match(qt);return C?C[0]:""}(this.remaining);if(!m)return;this.capture(m);let x="";if(this.consumeOptional("=")){const ue=function Ur(_){const C=_.match(sr);return C?C[0]:""}(this.remaining);ue&&(x=ue,this.capture(x))}const B=ye(m),J=ye(x);if(C.hasOwnProperty(B)){let ue=C[B];Array.isArray(ue)||(ue=[ue],C[B]=ue),ue.push(J)}else C[B]=J}parseParens(C){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=Ct(this.remaining),B=this.remaining[x.length];if("/"!==B&&")"!==B&&";"!==B)throw new p.vHH(4010,Xt);let J;x.indexOf(":")>-1?(J=x.slice(0,x.indexOf(":")),this.capture(J),this.capture(":")):C&&(J=Yt);const ue=this.parseChildren();m[J]=1===Object.keys(ue).length?ue[Yt]:new Vn([],ue),this.consumeOptional("//")}return m}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new p.vHH(4011,Xt)}}function ce(_){return _.segments.length>0?new Vn([],{[Yt]:_}):_}function H(_){const C={};for(const x of Object.keys(_.children)){const J=H(_.children[x]);(J.segments.length>0||J.hasChildren())&&(C[x]=J)}return function ae(_){if(1===_.numberOfChildren&&_.children[Yt]){const C=_.children[Yt];return new Vn(_.segments.concat(C.segments),C.children)}return _}(new Vn(_.segments,C))}function xe(_){return _ instanceof $n}const ut=!1;function Qn(_,C,m,x,B){if(0===m.length)return Ji(C.root,C.root,C.root,x,B);const J=function Ht(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Xr(!0,0,_);let C=0,m=!1;const x=_.reduce((B,J,ue)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Ke={};return Pn(J.outlets,(Nt,sn)=>{Ke[sn]="string"==typeof Nt?Nt.split("/"):Nt}),[...B,{outlets:Ke}]}if(J.segmentPath)return[...B,J.segmentPath]}return"string"!=typeof J?[...B,J]:0===ue?(J.split("/").forEach((Ke,Nt)=>{0==Nt&&"."===Ke||(0==Nt&&""===Ke?m=!0:".."===Ke?C++:""!=Ke&&B.push(Ke))}),B):[...B,J]},[]);return new Xr(m,C,x)}(m);return J.toRoot()?Ji(C.root,C.root,new Vn([],{}),x,B):function ue(Nt){const sn=function dr(_,C,m,x){if(_.isAbsolute)return new kn(C.root,!0,0);if(-1===x)return new kn(m,m===C.root,0);return function hi(_,C,m){let x=_,B=C,J=m;for(;J>B;){if(J-=B,x=x.parent,!x)throw new p.vHH(4005,ut&&"Invalid number of '../'");B=x.segments.length}return new kn(x,!1,B-J)}(m,x+(br(_.commands[0])?0:1),_.numberOfDoubleDots)}(J,C,_.snapshot?._urlSegment,Nt),yn=sn.processChildren?Xn(sn.segmentGroup,sn.index,J.commands):Or(sn.segmentGroup,sn.index,J.commands);return Ji(C.root,sn.segmentGroup,yn,x,B)}(_.snapshot?._lastPathIndex)}function br(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function ri(_){return"object"==typeof _&&null!=_&&_.outlets}function Ji(_,C,m,x,B){let ue,J={};x&&Pn(x,(Nt,sn)=>{J[sn]=Array.isArray(Nt)?Nt.map(yn=>`${yn}`):`${Nt}`}),ue=_===C?m:Di(_,C,m);const Ke=ce(H(ue));return new $n(Ke,J,B)}function Di(_,C,m){const x={};return Pn(_.children,(B,J)=>{x[J]=B===C?m:Di(B,C,m)}),new Vn(_.segments,x)}class Xr{constructor(C,m,x){if(this.isAbsolute=C,this.numberOfDoubleDots=m,this.commands=x,C&&x.length>0&&br(x[0]))throw new p.vHH(4003,ut&&"Root segment cannot have matrix parameters");const B=x.find(ri);if(B&&B!==Qr(x))throw new p.vHH(4004,ut&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kn{constructor(C,m,x){this.segmentGroup=C,this.processChildren=m,this.index=x}}function Or(_,C,m){if(_||(_=new Vn([],{})),0===_.segments.length&&_.hasChildren())return Xn(_,C,m);const x=function He(_,C,m){let x=0,B=C;const J={match:!1,pathIndex:0,commandIndex:0};for(;B<_.segments.length;){if(x>=m.length)return J;const ue=_.segments[B],Ke=m[x];if(ri(Ke))break;const Nt=`${Ke}`,sn=x<m.length-1?m[x+1]:null;if(B>0&&void 0===Nt)break;if(Nt&&sn&&"object"==typeof sn&&void 0===sn.outlets){if(!xt(Nt,sn,ue))return J;x+=2}else{if(!xt(Nt,{},ue))return J;x++}B++}return{match:!0,pathIndex:B,commandIndex:x}}(_,C,m),B=m.slice(x.commandIndex);if(x.match&&x.pathIndex<_.segments.length){const J=new Vn(_.segments.slice(0,x.pathIndex),{});return J.children[Yt]=new Vn(_.segments.slice(x.pathIndex),_.children),Xn(J,0,B)}return x.match&&0===B.length?new Vn(_.segments,{}):x.match&&!_.hasChildren()?Ue(_,C,m):x.match?Xn(_,0,B):Ue(_,C,m)}function Xn(_,C,m){if(0===m.length)return new Vn(_.segments,{});{const x=function Fr(_){return ri(_[0])?_[0].outlets:{[Yt]:_}}(m),B={};if(!x[Yt]&&_.children[Yt]&&1===_.numberOfChildren&&0===_.children[Yt].segments.length){const J=Xn(_.children[Yt],C,m);return new Vn(_.segments,J.children)}return Pn(x,(J,ue)=>{"string"==typeof J&&(J=[J]),null!==J&&(B[ue]=Or(_.children[ue],C,J))}),Pn(_.children,(J,ue)=>{void 0===x[ue]&&(B[ue]=J)}),new Vn(_.segments,B)}}function Ue(_,C,m){const x=_.segments.slice(0,C);let B=0;for(;B<m.length;){const J=m[B];if(ri(J)){const Nt=$e(J.outlets);return new Vn(x,Nt)}if(0===B&&br(m[0])){x.push(new Un(_.segments[C].path,Dt(m[0]))),B++;continue}const ue=ri(J)?J.outlets[Yt]:`${J}`,Ke=B<m.length-1?m[B+1]:null;ue&&Ke&&br(Ke)?(x.push(new Un(ue,Dt(Ke))),B+=2):(x.push(new Un(ue,{})),B++)}return new Vn(x,{})}function $e(_){const C={};return Pn(_,(m,x)=>{"string"==typeof m&&(m=[m]),null!==m&&(C[x]=Ue(new Vn([],{}),0,m))}),C}function Dt(_){const C={};return Pn(_,(m,x)=>C[x]=`${m}`),C}function xt(_,C,m){return _==m.path&&Ln(C,m.parameters)}const bn="imperative";class jn{constructor(C,m){this.id=C,this.url=m}}class Rn extends jn{constructor(C,m,x="imperative",B=null){super(C,m),this.type=0,this.navigationTrigger=x,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nr extends jn{constructor(C,m,x){super(C,m),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wi extends jn{constructor(C,m,x,B){super(C,m),this.reason=x,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ci extends jn{constructor(C,m,x,B){super(C,m),this.reason=x,this.code=B,this.type=16}}class fi extends jn{constructor(C,m,x,B){super(C,m),this.error=x,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Li extends jn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends jn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs extends jn{constructor(C,m,x,B,J){super(C,m),this.urlAfterRedirects=x,this.state=B,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qi extends jn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs extends jn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class es{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ts{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mi{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xa{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(C,m,x){this.routerEvent=C,this.position=m,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ds=(()=>{class _{createUrlTree(m,x,B,J,ue,Ke){return Qn(m||x.root,B,J,ue,Ke)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})(),hs=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(C){return ds.\u0275fac(C)},providedIn:"root"}),_})();class fs{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const m=this.pathFromRoot(C);return m.length>1?m[m.length-2]:null}children(C){const m=No(C,this._root);return m?m.children.map(x=>x.value):[]}firstChild(C){const m=No(C,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(C){const m=Mr(C,this._root);return m.length<2?[]:m[m.length-2].children.map(B=>B.value).filter(B=>B!==C)}pathFromRoot(C){return Mr(C,this._root).map(m=>m.value)}}function No(_,C){if(_===C.value)return C;for(const m of C.children){const x=No(_,m);if(x)return x}return null}function Mr(_,C){if(_===C.value)return[C];for(const m of C.children){const x=Mr(_,m);if(x.length)return x.unshift(C),x}return[]}class ps{constructor(C,m){this.value=C,this.children=m}toString(){return`TreeNode(${this.value})`}}function ji(_){const C={};return _&&_.children.forEach(m=>C[m.value.outlet]=m),C}class Us extends fs{constructor(C,m){super(C),this.snapshot=m,Hi(this,C)}toString(){return this.snapshot.toString()}}function aa(_,C){const m=function Zo(_,C){const ue=new Yo([],{},{},"",{},Yt,C,null,_.root,-1,{});return new xi("",new ps(ue,[]))}(_,C),x=new Te.X([new Un("",{})]),B=new Te.X({}),J=new Te.X({}),ue=new Te.X({}),Ke=new Te.X(""),Nt=new Qs(x,B,ue,Ke,J,Yt,C,m.root);return Nt.snapshot=m.root,new Us(new ps(Nt,[]),m)}class Qs{constructor(C,m,x,B,J,ue,Ke,Nt){this.url=C,this.params=m,this.queryParams=x,this.fragment=B,this.data=J,this.outlet=ue,this.component=Ke,this.title=this.data?.pipe((0,Wt.U)(sn=>sn[rr]))??(0,G.of)(void 0),this._futureSnapshot=Nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Wt.U)(C=>fr(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Wt.U)(C=>fr(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Do(_,C="emptyOnly"){const m=_.pathFromRoot;let x=0;if("always"!==C)for(x=m.length-1;x>=1;){const B=m[x],J=m[x-1];if(B.routeConfig&&""===B.routeConfig.path)x--;else{if(J.component)break;x--}}return function ko(_){return _.reduce((C,m)=>({params:{...C.params,...m.params},data:{...C.data,...m.data},resolve:{...m.data,...C.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(x))}class Yo{get title(){return this.data?.[rr]}constructor(C,m,x,B,J,ue,Ke,Nt,sn,yn,Zr){this.url=C,this.params=m,this.queryParams=x,this.fragment=B,this.data=J,this.outlet=ue,this.component=Ke,this.routeConfig=Nt,this._urlSegment=sn,this._lastPathIndex=yn,this._resolve=Zr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xi extends fs{constructor(C,m){super(m),this.url=C,Hi(this,m)}toString(){return Qo(this._root)}}function Hi(_,C){C.value._routerState=_,C.children.forEach(m=>Hi(_,m))}function Qo(_){const C=_.children.length>0?` { ${_.children.map(Qo).join(", ")} } `:"";return`${_.value}${C}`}function Bs(_){if(_.snapshot){const C=_.snapshot,m=_._futureSnapshot;_.snapshot=m,Ln(C.queryParams,m.queryParams)||_.queryParams.next(m.queryParams),C.fragment!==m.fragment&&_.fragment.next(m.fragment),Ln(C.params,m.params)||_.params.next(m.params),function an(_,C){if(_.length!==C.length)return!1;for(let m=0;m<_.length;++m)if(!Ln(_[m],C[m]))return!1;return!0}(C.url,m.url)||_.url.next(m.url),Ln(C.data,m.data)||_.data.next(m.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function fo(_,C){const m=Ln(_.params,C.params)&&function cr(_,C){return pr(_,C)&&_.every((m,x)=>Ln(m.parameters,C[x].parameters))}(_.url,C.url);return m&&!(!_.parent!=!C.parent)&&(!_.parent||fo(_.parent,C.parent))}function Is(_,C,m){if(m&&_.shouldReuseRoute(C.value,m.value.snapshot)){const x=m.value;x._futureSnapshot=C.value;const B=function Pi(_,C,m){return C.children.map(x=>{for(const B of m.children)if(_.shouldReuseRoute(x.value,B.value.snapshot))return Is(_,x,B);return Is(_,x)})}(_,C,m);return new ps(x,B)}{if(_.shouldAttach(C.value)){const J=_.retrieve(C.value);if(null!==J){const ue=J.route;return ue.value._futureSnapshot=C.value,ue.children=C.children.map(Ke=>Is(_,Ke)),ue}}const x=function gs(_){return new Qs(new Te.X(_.url),new Te.X(_.params),new Te.X(_.queryParams),new Te.X(_.fragment),new Te.X(_.data),_.outlet,_.component,_)}(C.value),B=C.children.map(J=>Is(_,J));return new ps(x,B)}}const Xs="ngNavigationCancelingError";function $s(_,C){const{redirectTo:m,navigationBehaviorOptions:x}=xe(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,B=js(!1,0,C);return B.url=m,B.navigationBehaviorOptions=x,B}function js(_,C,m){const x=new Error("NavigationCancelingError: "+(_||""));return x[Xs]=!0,x.cancellationCode=C,m&&(x.url=m),x}function Fo(_){return Yi(_)&&xe(_.url)}function Yi(_){return _&&_[Xs]}class Ms{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hs,this.attachRef=null}}let Hs=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,x){const B=this.getOrCreateContext(m);B.outlet=x,this.contexts.set(m,B)}onChildOutletDestroyed(m){const x=this.getContext(m);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let x=this.getContext(m);return x||(x=new Ms,this.contexts.set(m,x)),x}getContext(m){return this.contexts.get(m)||null}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const xs=!1;let Js=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Hs),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:x,previousValue:B}=m.name;if(x)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,xs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,xs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,xs);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,x){this.activated=m,this._activatedRoute=x,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,x){if(this.isActivated)throw new p.vHH(4013,xs);this._activatedRoute=m;const B=this.location,ue=m.snapshot.component,Ke=this.parentContexts.getOrCreateContext(this.name).children,Nt=new zs(m,Ke,B.injector);if(x&&function ii(_){return!!_.resolveComponentFactory}(x)){const sn=x.resolveComponentFactory(ue);this.activated=B.createComponent(sn,B.length,Nt)}else this.activated=B.createComponent(ue,{index:B.length,injector:Nt,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=p.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),_})();class zs{constructor(C,m,x){this.route=C,this.childContexts=m,this.parent=x}get(C,m){return C===Qs?this.route:C===Hs?this.childContexts:this.parent.get(C,m)}}let ms=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=p.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,x){1&m&&p._UZ(0,"router-outlet")},dependencies:[Js],encapsulation:2}),_})();function si(_,C){return _.providers&&!_._injector&&(_._injector=(0,p.MMx)(_.providers,C,`Route: ${_.path}`)),_._injector??C}function no(_){const C=_.children&&_.children.map(no),m=C?{..._,children:C}:{..._};return!m.component&&!m.loadComponent&&(C||m.loadChildren)&&m.outlet&&m.outlet!==Yt&&(m.component=ms),m}function yi(_){return _.outlet||Yt}function Ia(_,C){const m=_.filter(x=>yi(x)===C);return m.push(..._.filter(x=>yi(x)!==C)),m}function Vi(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let C=_.parent;C;C=C.parent){const m=C.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Cs{constructor(C,m,x,B){this.routeReuseStrategy=C,this.futureState=m,this.currState=x,this.forwardEvent=B}activate(C){const m=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,x,C),Bs(this.futureState.root),this.activateChildRoutes(m,x,C)}deactivateChildRoutes(C,m,x){const B=ji(m);C.children.forEach(J=>{const ue=J.value.outlet;this.deactivateRoutes(J,B[ue],x),delete B[ue]}),Pn(B,(J,ue)=>{this.deactivateRouteAndItsChildren(J,x)})}deactivateRoutes(C,m,x){const B=C.value,J=m?m.value:null;if(B===J)if(B.component){const ue=x.getContext(B.outlet);ue&&this.deactivateChildRoutes(C,m,ue.children)}else this.deactivateChildRoutes(C,m,x);else J&&this.deactivateRouteAndItsChildren(m,x)}deactivateRouteAndItsChildren(C,m){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,m):this.deactivateRouteAndOutlet(C,m)}detachAndStoreRouteSubtree(C,m){const x=m.getContext(C.value.outlet),B=x&&C.value.component?x.children:m,J=ji(C);for(const ue of Object.keys(J))this.deactivateRouteAndItsChildren(J[ue],B);if(x&&x.outlet){const ue=x.outlet.detach(),Ke=x.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:ue,route:C,contexts:Ke})}}deactivateRouteAndOutlet(C,m){const x=m.getContext(C.value.outlet),B=x&&C.value.component?x.children:m,J=ji(C);for(const ue of Object.keys(J))this.deactivateRouteAndItsChildren(J[ue],B);x&&(x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated()),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(C,m,x){const B=ji(m);C.children.forEach(J=>{this.activateRoutes(J,B[J.value.outlet],x),this.forwardEvent(new Ei(J.value.snapshot))}),C.children.length&&this.forwardEvent(new mi(C.value.snapshot))}activateRoutes(C,m,x){const B=C.value,J=m?m.value:null;if(Bs(B),B===J)if(B.component){const ue=x.getOrCreateContext(B.outlet);this.activateChildRoutes(C,m,ue.children)}else this.activateChildRoutes(C,m,x);else if(B.component){const ue=x.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ke=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),ue.children.onOutletReAttached(Ke.contexts),ue.attachRef=Ke.componentRef,ue.route=Ke.route.value,ue.outlet&&ue.outlet.attach(Ke.componentRef,Ke.route.value),Bs(Ke.route.value),this.activateChildRoutes(C,null,ue.children)}else{const Ke=Vi(B.snapshot),Nt=Ke?.get(p._Vd)??null;ue.attachRef=null,ue.route=B,ue.resolver=Nt,ue.injector=Ke,ue.outlet&&ue.outlet.activateWith(B,ue.injector),this.activateChildRoutes(C,null,ue.children)}}else this.activateChildRoutes(C,null,x)}}class Wn{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class po{constructor(C,m){this.component=C,this.route=m}}function Ds(_,C,m){const x=_._root;return Ps(x,C?C._root:null,m,[x.value])}function rs(_,C){const m=Symbol(),x=C.get(_,m);return x===m?"function"!=typeof _||(0,p.Z0I)(_)?C.get(_):_:x}function Ps(_,C,m,x,B={canDeactivateChecks:[],canActivateChecks:[]}){const J=ji(C);return _.children.forEach(ue=>{(function To(_,C,m,x,B={canDeactivateChecks:[],canActivateChecks:[]}){const J=_.value,ue=C?C.value:null,Ke=m?m.getContext(_.value.outlet):null;if(ue&&J.routeConfig===ue.routeConfig){const Nt=function So(_,C,m){if("function"==typeof m)return m(_,C);switch(m){case"pathParamsChange":return!pr(_.url,C.url);case"pathParamsOrQueryParamsChange":return!pr(_.url,C.url)||!Ln(_.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fo(_,C)||!Ln(_.queryParams,C.queryParams);default:return!fo(_,C)}}(ue,J,J.routeConfig.runGuardsAndResolvers);Nt?B.canActivateChecks.push(new Wn(x)):(J.data=ue.data,J._resolvedData=ue._resolvedData),Ps(_,C,J.component?Ke?Ke.children:null:m,x,B),Nt&&Ke&&Ke.outlet&&Ke.outlet.isActivated&&B.canDeactivateChecks.push(new po(Ke.outlet.component,ue))}else ue&&Ao(C,Ke,B),B.canActivateChecks.push(new Wn(x)),Ps(_,null,J.component?Ke?Ke.children:null:m,x,B)})(ue,J[ue.value.outlet],m,x.concat([ue.value]),B),delete J[ue.value.outlet]}),Pn(J,(ue,Ke)=>Ao(ue,m.getContext(Ke),B)),B}function Ao(_,C,m){const x=ji(_),B=_.value;Pn(x,(J,ue)=>{Ao(J,B.component?C?C.children.getContext(ue):null:C,m)}),m.canDeactivateChecks.push(new po(B.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,B))}function R(_){return"function"==typeof _}function Rs(_){return _ instanceof Ce.K||"EmptyError"===_?.name}const io=Symbol("INITIAL_VALUE");function Ri(){return(0,Gt.w)(_=>yt(_.map(C=>C.pipe((0,st.q)(1),(0,at.O)(io)))).pipe((0,Wt.U)(C=>{for(const m of C)if(!0!==m){if(m===io)return io;if(!1===m||m instanceof $n)return m}return!0}),(0,ft.h)(C=>C!==io),(0,st.q)(1)))}function Mo(_){return(0,Lt.z)((0,jt.b)(C=>{if(xe(C))throw $s(0,C)}),(0,Wt.U)(C=>!0===C))}const Ws={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xo(_,C,m,x,B){const J=vs(_,C,m);return J.matched?function Ii(_,C,m,x){const B=C.canMatch;if(!B||0===B.length)return(0,G.of)(!0);const J=B.map(ue=>{const Ke=rs(ue,_);return Cn(function Nr(_){return _&&R(_.canMatch)}(Ke)?Ke.canMatch(C,m):_.runInContext(()=>Ke(C,m)))});return(0,G.of)(J).pipe(Ri(),Mo())}(x=si(C,x),C,m).pipe((0,Wt.U)(ue=>!0===ue?J:{...Ws})):(0,G.of)(J)}function vs(_,C,m){if(""===C.path)return"full"===C.pathMatch&&(_.hasChildren()||m.length>0)?{...Ws}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const B=(C.matcher||Hn)(m,_,C);if(!B)return{...Ws};const J={};Pn(B.posParams,(Ke,Nt)=>{J[Nt]=Ke.path});const ue=B.consumed.length>0?{...J,...B.consumed[B.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:B.consumed,remainingSegments:m.slice(B.consumed.length),parameters:ue,positionalParamSegments:B.posParams??{}}}function mo(_,C,m,x){if(m.length>0&&function ua(_,C,m){return m.some(x=>Bo(_,C,x)&&yi(x)!==Yt)}(_,m,x)){const J=new Vn(C,function Jo(_,C,m,x){const B={};B[Yt]=x,x._sourceSegment=_,x._segmentIndexShift=C.length;for(const J of m)if(""===J.path&&yi(J)!==Yt){const ue=new Vn([],{});ue._sourceSegment=_,ue._segmentIndexShift=C.length,B[yi(J)]=ue}return B}(_,C,x,new Vn(m,_.children)));return J._sourceSegment=_,J._segmentIndexShift=C.length,{segmentGroup:J,slicedSegments:[]}}if(0===m.length&&function _s(_,C,m){return m.some(x=>Bo(_,C,x))}(_,m,x)){const J=new Vn(_.segments,function Kr(_,C,m,x,B){const J={};for(const ue of x)if(Bo(_,m,ue)&&!B[yi(ue)]){const Ke=new Vn([],{});Ke._sourceSegment=_,Ke._segmentIndexShift=C.length,J[yi(ue)]=Ke}return{...B,...J}}(_,C,m,x,_.children));return J._sourceSegment=_,J._segmentIndexShift=C.length,{segmentGroup:J,slicedSegments:m}}const B=new Vn(_.segments,_.children);return B._sourceSegment=_,B._segmentIndexShift=C.length,{segmentGroup:B,slicedSegments:m}}function Bo(_,C,m){return(!(_.hasChildren()||C.length>0)||"full"!==m.pathMatch)&&""===m.path}function $o(_,C,m,x){return!!(yi(_)===x||x!==Yt&&Bo(C,m,_))&&("**"===_.path||vs(C,_,m).matched)}function ws(_,C,m){return 0===C.length&&!_.children[m]}const yo=!1;class ea{constructor(C){this.segmentGroup=C||null}}class qr{constructor(C){this.urlTree=C}}function oi(_){return Re(new ea(_))}function Jn(_){return Re(new qr(_))}class ja{constructor(C,m,x,B,J){this.injector=C,this.configLoader=m,this.urlSerializer=x,this.urlTree=B,this.config=J,this.allowRedirects=!0}apply(){const C=mo(this.urlTree.root,[],[],this.config).segmentGroup,m=new Vn(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,m,Yt).pipe((0,Wt.U)(J=>this.createUrlTree(H(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mt(J=>{if(J instanceof qr)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof ea?this.noMatchError(J):J}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,Yt).pipe((0,Wt.U)(B=>this.createUrlTree(H(B),C.queryParams,C.fragment))).pipe(Mt(B=>{throw B instanceof ea?this.noMatchError(B):B}))}noMatchError(C){return new p.vHH(4002,yo)}createUrlTree(C,m,x){const B=ce(C);return new $n(B,m,x)}expandSegmentGroup(C,m,x,B){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(C,m,x).pipe((0,Wt.U)(J=>new Vn([],J))):this.expandSegment(C,x,m,x.segments,B,!0)}expandChildren(C,m,x){const B=[];for(const J of Object.keys(x.children))"primary"===J?B.unshift(J):B.push(J);return(0,E.D)(B).pipe((0,Pt.b)(J=>{const ue=x.children[J],Ke=Ia(m,J);return this.expandSegmentGroup(C,Ke,ue,J).pipe((0,Wt.U)(Nt=>({segment:Nt,outlet:J})))}),(0,gn.R)((J,ue)=>(J[ue.outlet]=ue.segment,J),{}),An())}expandSegment(C,m,x,B,J,ue){return(0,E.D)(x).pipe((0,Pt.b)(Ke=>this.expandSegmentAgainstRoute(C,m,x,Ke,B,J,ue).pipe(Mt(sn=>{if(sn instanceof ea)return(0,G.of)(null);throw sn}))),(0,$t.P)(Ke=>!!Ke),Mt((Ke,Nt)=>{if(Rs(Ke))return ws(m,B,J)?(0,G.of)(new Vn([],{})):oi(m);throw Ke}))}expandSegmentAgainstRoute(C,m,x,B,J,ue,Ke){return $o(B,m,J,ue)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(C,m,B,J,ue):Ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,m,x,B,J,ue):oi(m):oi(m)}expandSegmentAgainstRouteUsingRedirect(C,m,x,B,J,ue){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,x,B,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(C,m,x,B,J,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,m,x,B){const J=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?Jn(J):this.lineralizeSegments(x,J).pipe((0,wt.z)(ue=>{const Ke=new Vn(ue,{});return this.expandSegment(C,Ke,m,ue,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,m,x,B,J,ue){const{matched:Ke,consumedSegments:Nt,remainingSegments:sn,positionalParamSegments:yn}=vs(m,B,J);if(!Ke)return oi(m);const Zr=this.applyRedirectCommands(Nt,B.redirectTo,yn);return B.redirectTo.startsWith("/")?Jn(Zr):this.lineralizeSegments(B,Zr).pipe((0,wt.z)(Si=>this.expandSegment(C,m,x,Si.concat(sn),ue,!1)))}matchSegmentAgainstRoute(C,m,x,B,J){return"**"===x.path?(C=si(x,C),x.loadChildren?(x._loadedRoutes?(0,G.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(C,x)).pipe((0,Wt.U)(Ke=>(x._loadedRoutes=Ke.routes,x._loadedInjector=Ke.injector,new Vn(B,{})))):(0,G.of)(new Vn(B,{}))):Xo(m,x,B,C).pipe((0,Gt.w)(({matched:ue,consumedSegments:Ke,remainingSegments:Nt})=>ue?this.getChildConfig(C=x._injector??C,x,B).pipe((0,wt.z)(yn=>{const Zr=yn.injector??C,Si=yn.routes,{segmentGroup:Sa,slicedSegments:uo}=mo(m,Ke,Nt,Si),ya=new Vn(Sa.segments,Sa.children);if(0===uo.length&&ya.hasChildren())return this.expandChildren(Zr,Si,ya).pipe((0,Wt.U)(nl=>new Vn(Ke,nl)));if(0===Si.length&&0===uo.length)return(0,G.of)(new Vn(Ke,{}));const zo=yi(x)===J;return this.expandSegment(Zr,ya,Si,uo,zo?Yt:J,!0).pipe((0,Wt.U)(Wi=>new Vn(Ke.concat(Wi.segments),Wi.children)))})):oi(m)))}getChildConfig(C,m,x){return m.children?(0,G.of)({routes:m.children,injector:C}):m.loadChildren?void 0!==m._loadedRoutes?(0,G.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function ss(_,C,m,x){const B=C.canLoad;if(void 0===B||0===B.length)return(0,G.of)(!0);const J=B.map(ue=>{const Ke=rs(ue,_);return Cn(function N(_){return _&&R(_.canLoad)}(Ke)?Ke.canLoad(C,m):_.runInContext(()=>Ke(C,m)))});return(0,G.of)(J).pipe(Ri(),Mo())}(C,m,x).pipe((0,wt.z)(B=>B?this.configLoader.loadChildren(C,m).pipe((0,jt.b)(J=>{m._loadedRoutes=J.routes,m._loadedInjector=J.injector})):function vo(_){return Re(js(yo,3))}())):(0,G.of)({routes:[],injector:C})}lineralizeSegments(C,m){let x=[],B=m.root;for(;;){if(x=x.concat(B.segments),0===B.numberOfChildren)return(0,G.of)(x);if(B.numberOfChildren>1||!B.children[Yt])return C.redirectTo,Re(new p.vHH(4e3,yo));B=B.children[Yt]}}applyRedirectCommands(C,m,x){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),C,x)}applyRedirectCreateUrlTree(C,m,x,B){const J=this.createSegmentGroup(C,m.root,x,B);return new $n(J,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(C,m){const x={};return Pn(C,(B,J)=>{if("string"==typeof B&&B.startsWith(":")){const Ke=B.substring(1);x[J]=m[Ke]}else x[J]=B}),x}createSegmentGroup(C,m,x,B){const J=this.createSegments(C,m.segments,x,B);let ue={};return Pn(m.children,(Ke,Nt)=>{ue[Nt]=this.createSegmentGroup(C,Ke,x,B)}),new Vn(J,ue)}createSegments(C,m,x,B){return m.map(J=>J.path.startsWith(":")?this.findPosParam(C,J,B):this.findOrReturn(J,x))}findPosParam(C,m,x){const B=x[m.path.substring(1)];if(!B)throw new p.vHH(4001,yo);return B}findOrReturn(C,m){let x=0;for(const B of m){if(B.path===C.path)return m.splice(x),B;x++}return C}}class oo{}class P{constructor(C,m,x,B,J,ue,Ke){this.injector=C,this.rootComponentType=m,this.config=x,this.urlTree=B,this.url=J,this.paramsInheritanceStrategy=ue,this.urlSerializer=Ke}recognize(){const C=mo(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,Yt).pipe((0,Wt.U)(m=>{if(null===m)return null;const x=new Yo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new ps(x,m),J=new xi(this.url,B);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(C){const m=C.value,x=Do(m,this.paramsInheritanceStrategy);m.params=Object.freeze(x.params),m.data=Object.freeze(x.data),C.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(C,m,x,B){return 0===x.segments.length&&x.hasChildren()?this.processChildren(C,m,x):this.processSegment(C,m,x,x.segments,B)}processChildren(C,m,x){return(0,E.D)(Object.keys(x.children)).pipe((0,Pt.b)(B=>{const J=x.children[B],ue=Ia(m,B);return this.processSegmentGroup(C,ue,J,B)}),(0,gn.R)((B,J)=>B&&J?(B.push(...J),B):null),function Fn(_,C=!1){return(0,ht.e)((m,x)=>{let B=0;m.subscribe((0,Ne.x)(x,J=>{const ue=_(J,B++);(ue||C)&&x.next(J),!ue&&x.complete()}))})}(B=>null!==B),(0,tn.d)(null),An(),(0,Wt.U)(B=>{if(null===B)return null;const J=Ie(B);return function W(_){_.sort((C,m)=>C.value.outlet===Yt?-1:m.value.outlet===Yt?1:C.value.outlet.localeCompare(m.value.outlet))}(J),J}))}processSegment(C,m,x,B,J){return(0,E.D)(m).pipe((0,Pt.b)(ue=>this.processSegmentAgainstRoute(ue._injector??C,ue,x,B,J)),(0,$t.P)(ue=>!!ue),Mt(ue=>{if(Rs(ue))return ws(x,B,J)?(0,G.of)([]):(0,G.of)(null);throw ue}))}processSegmentAgainstRoute(C,m,x,B,J){if(m.redirectTo||!$o(m,x,B,J))return(0,G.of)(null);let ue;if("**"===m.path){const Ke=B.length>0?Qr(B).parameters:{},Nt=M(x)+B.length,sn=new Yo(B,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,me(m),yi(m),m.component??m._loadedComponent??null,m,I(x),Nt,et(m));ue=(0,G.of)({snapshot:sn,consumedSegments:[],remainingSegments:[]})}else ue=Xo(x,m,B,C).pipe((0,Wt.U)(({matched:Ke,consumedSegments:Nt,remainingSegments:sn,parameters:yn})=>{if(!Ke)return null;const Zr=M(x)+Nt.length;return{snapshot:new Yo(Nt,yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,me(m),yi(m),m.component??m._loadedComponent??null,m,I(x),Zr,et(m)),consumedSegments:Nt,remainingSegments:sn}}));return ue.pipe((0,Gt.w)(Ke=>{if(null===Ke)return(0,G.of)(null);const{snapshot:Nt,consumedSegments:sn,remainingSegments:yn}=Ke;C=m._injector??C;const Zr=m._loadedInjector??C,Si=function L(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(m),{segmentGroup:Sa,slicedSegments:uo}=mo(x,sn,yn,Si.filter(zo=>void 0===zo.redirectTo));if(0===uo.length&&Sa.hasChildren())return this.processChildren(Zr,Si,Sa).pipe((0,Wt.U)(zo=>null===zo?null:[new ps(Nt,zo)]));if(0===Si.length&&0===uo.length)return(0,G.of)([new ps(Nt,[])]);const ya=yi(m)===J;return this.processSegment(Zr,Si,Sa,uo,ya?Yt:J).pipe((0,Wt.U)(zo=>null===zo?null:[new ps(Nt,zo)]))}))}}function te(_){const C=_.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Ie(_){const C=[],m=new Set;for(const x of _){if(!te(x)){C.push(x);continue}const B=C.find(J=>x.value.routeConfig===J.value.routeConfig);void 0!==B?(B.children.push(...x.children),m.add(B)):C.push(x)}for(const x of m){const B=Ie(x.children);C.push(new ps(x.value,B))}return C.filter(x=>!m.has(x))}function I(_){let C=_;for(;C._sourceSegment;)C=C._sourceSegment;return C}function M(_){let C=_,m=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,m+=C._segmentIndexShift??0;return m-1}function me(_){return _.data||{}}function et(_){return _.resolve||{}}function _o(_){return"string"==typeof _.title||null===_.title}function Jt(_){return(0,Gt.w)(C=>{const m=_(C);return m?(0,E.D)(m).pipe((0,Wt.U)(()=>C)):(0,G.of)(C)})}const Ts=new p.OlP("ROUTES");let Zt=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,G.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const x=Cn(m.loadComponent()).pipe((0,Wt.U)(Ut),(0,jt.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=J}),Tr(()=>{this.componentLoaders.delete(m)})),B=new It(x,()=>new pn.x).pipe(ze());return this.componentLoaders.set(m,B),B}loadChildren(m,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,G.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const J=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,Wt.U)(Ke=>{this.onLoadEndListener&&this.onLoadEndListener(x);let Nt,sn,yn=!1;Array.isArray(Ke)?sn=Ke:(Nt=Ke.create(m).injector,sn=ir(Nt.get(Ts,[],p.XFs.Self|p.XFs.Optional)));return{routes:sn.map(no),injector:Nt}}),Tr(()=>{this.childrenLoaders.delete(x)})),ue=new It(J,()=>new pn.x).pipe(ze());return this.childrenLoaders.set(x,ue),ue}loadModuleFactoryOrRoutes(m){return Cn(m()).pipe((0,Wt.U)(Ut),(0,wt.z)(x=>x instanceof p.YKP||Array.isArray(x)?(0,G.of)(x):(0,E.D)(this.compiler.compileModuleAsync(x))))}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Ut(_){return function pt(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let za=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pn.x,this.configLoader=(0,p.f3M)(Zt),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(be),this.rootContexts=(0,p.f3M)(Hs),this.navigationId=0,this.afterPreactivation=()=>(0,G.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new ts(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new es(B))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const x=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:x})}setupNavigations(m){return this.transitions=new Te.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bn,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ft.h)(x=>0!==x.id),(0,Wt.U)(x=>({...x,extractedUrl:m.urlHandlingStrategy.extract(x.rawUrl)})),(0,Gt.w)(x=>{let B=!1,J=!1;return(0,G.of)(x).pipe((0,jt.b)(ue=>{this.currentNavigation={id:ue.id,initialUrl:ue.rawUrl,extractedUrl:ue.extractedUrl,trigger:ue.source,extras:ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Gt.w)(ue=>{const Ke=m.browserUrlTree.toString(),Nt=!m.navigated||ue.extractedUrl.toString()!==Ke||Ke!==m.currentUrlTree.toString();if(!Nt&&"reload"!==(ue.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const yn="";return this.events.next(new ci(ue.id,m.serializeUrl(x.rawUrl),yn,0)),m.rawUrlTree=ue.rawUrl,ue.resolve(null),it.E}if(m.urlHandlingStrategy.shouldProcessUrl(ue.rawUrl))return Cu(ue.source)&&(m.browserUrlTree=ue.extractedUrl),(0,G.of)(ue).pipe((0,Gt.w)(yn=>{const Zr=this.transitions?.getValue();return this.events.next(new Rn(yn.id,this.urlSerializer.serialize(yn.extractedUrl),yn.source,yn.restoredState)),Zr!==this.transitions?.getValue()?it.E:Promise.resolve(yn)}),function Ha(_,C,m,x){return(0,Gt.w)(B=>function ta(_,C,m,x,B){return new ja(_,C,m,x,B).apply()}(_,C,m,B.extractedUrl,x).pipe((0,Wt.U)(J=>({...B,urlAfterRedirects:J}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,jt.b)(yn=>{this.currentNavigation={...this.currentNavigation,finalUrl:yn.urlAfterRedirects},x.urlAfterRedirects=yn.urlAfterRedirects}),function zt(_,C,m,x,B){return(0,wt.z)(J=>function da(_,C,m,x,B,J,ue="emptyOnly"){return new P(_,C,m,x,B,ue,J).recognize().pipe((0,Gt.w)(Ke=>null===Ke?function ca(_){return new Be.y(C=>C.error(_))}(new oo):(0,G.of)(Ke)))}(_,C,m,J.urlAfterRedirects,x.serialize(J.urlAfterRedirects),x,B).pipe((0,Wt.U)(ue=>({...J,targetSnapshot:ue}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,jt.b)(yn=>{if(x.targetSnapshot=yn.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const Si=m.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);m.setBrowserUrl(Si,yn)}m.browserUrlTree=yn.urlAfterRedirects}const Zr=new Li(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(Zr)}));if(Nt&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:yn,extractedUrl:Zr,source:Si,restoredState:Sa,extras:uo}=ue,ya=new Rn(yn,this.urlSerializer.serialize(Zr),Si,Sa);this.events.next(ya);const zo=aa(Zr,this.rootComponentType).snapshot;return x={...ue,targetSnapshot:zo,urlAfterRedirects:Zr,extras:{...uo,skipLocationChange:!1,replaceUrl:!1}},(0,G.of)(x)}{const yn="";return this.events.next(new ci(ue.id,m.serializeUrl(x.extractedUrl),yn,1)),m.rawUrlTree=ue.rawUrl,ue.resolve(null),it.E}}),(0,jt.b)(ue=>{const Ke=new $r(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot);this.events.next(Ke)}),(0,Wt.U)(ue=>x={...ue,guards:Ds(ue.targetSnapshot,ue.currentSnapshot,this.rootContexts)}),function is(_,C){return(0,wt.z)(m=>{const{targetSnapshot:x,currentSnapshot:B,guards:{canActivateChecks:J,canDeactivateChecks:ue}}=m;return 0===ue.length&&0===J.length?(0,G.of)({...m,guardsResult:!0}):function Oi(_,C,m,x){return(0,E.D)(_).pipe((0,wt.z)(B=>function so(_,C,m,x,B){const J=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,G.of)(!0);const ue=J.map(Ke=>{const Nt=Vi(C)??B,sn=rs(Ke,Nt);return Cn(function mn(_){return _&&R(_.canDeactivate)}(sn)?sn.canDeactivate(_,C,m,x):Nt.runInContext(()=>sn(_,C,m,x))).pipe((0,$t.P)())});return(0,G.of)(ue).pipe(Ri())}(B.component,B.route,m,C,x)),(0,$t.P)(B=>!0!==B,!0))}(ue,x,B,_).pipe((0,wt.z)(Ke=>Ke&&function F(_){return"boolean"==typeof _}(Ke)?function Ti(_,C,m,x){return(0,E.D)(C).pipe((0,Pt.b)(B=>(0,qe.z)(function Gs(_,C){return null!==_&&C&&C(new Mi(_)),(0,G.of)(!0)}(B.route.parent,x),function go(_,C){return null!==_&&C&&C(new xa(_)),(0,G.of)(!0)}(B.route,x),function Uo(_,C,m){const x=C[C.length-1],J=C.slice(0,C.length-1).reverse().map(ue=>function Vo(_){const C=_.routeConfig?_.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:_,guards:C}:null}(ue)).filter(ue=>null!==ue).map(ue=>rt(()=>{const Ke=ue.guards.map(Nt=>{const sn=Vi(ue.node)??m,yn=rs(Nt,sn);return Cn(function Je(_){return _&&R(_.canActivateChild)}(yn)?yn.canActivateChild(x,_):sn.runInContext(()=>yn(x,_))).pipe((0,$t.P)())});return(0,G.of)(Ke).pipe(Ri())}));return(0,G.of)(J).pipe(Ri())}(_,B.path,m),function Os(_,C,m){const x=C.routeConfig?C.routeConfig.canActivate:null;if(!x||0===x.length)return(0,G.of)(!0);const B=x.map(J=>rt(()=>{const ue=Vi(C)??m,Ke=rs(J,ue);return Cn(function re(_){return _&&R(_.canActivate)}(Ke)?Ke.canActivate(C,_):ue.runInContext(()=>Ke(C,_))).pipe((0,$t.P)())}));return(0,G.of)(B).pipe(Ri())}(_,B.route,m))),(0,$t.P)(B=>!0!==B,!0))}(x,J,_,C):(0,G.of)(Ke)),(0,Wt.U)(Ke=>({...m,guardsResult:Ke})))})}(this.environmentInjector,ue=>this.events.next(ue)),(0,jt.b)(ue=>{if(x.guardsResult=ue.guardsResult,xe(ue.guardsResult))throw $s(0,ue.guardsResult);const Ke=new bs(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot,!!ue.guardsResult);this.events.next(Ke)}),(0,ft.h)(ue=>!!ue.guardsResult||(m.restoreHistory(ue),this.cancelNavigationTransition(ue,"",3),!1)),Jt(ue=>{if(ue.guards.canActivateChecks.length)return(0,G.of)(ue).pipe((0,jt.b)(Ke=>{const Nt=new qi(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Nt)}),(0,Gt.w)(Ke=>{let Nt=!1;return(0,G.of)(Ke).pipe(function er(_,C){return(0,wt.z)(m=>{const{targetSnapshot:x,guards:{canActivateChecks:B}}=m;if(!B.length)return(0,G.of)(m);let J=0;return(0,E.D)(B).pipe((0,Pt.b)(ue=>function yr(_,C,m,x){const B=_.routeConfig,J=_._resolve;return void 0!==B?.title&&!_o(B)&&(J[rr]=B.title),function bt(_,C,m,x){const B=function kr(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===B.length)return(0,G.of)({});const J={};return(0,E.D)(B).pipe((0,wt.z)(ue=>function ai(_,C,m,x){const B=Vi(C)??x,J=rs(_,B);return Cn(J.resolve?J.resolve(C,m):B.runInContext(()=>J(C,m)))}(_[ue],C,m,x).pipe((0,$t.P)(),(0,jt.b)(Ke=>{J[ue]=Ke}))),vn(1),function mr(_){return(0,Wt.U)(()=>_)}(J),Mt(ue=>Rs(ue)?it.E:Re(ue)))}(J,_,C,x).pipe((0,Wt.U)(ue=>(_._resolvedData=ue,_.data=Do(_,m).resolve,B&&_o(B)&&(_.data[rr]=B.title),null)))}(ue.route,x,_,C)),(0,jt.b)(()=>J++),vn(1),(0,wt.z)(ue=>J===B.length?(0,G.of)(m):it.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,jt.b)({next:()=>Nt=!0,complete:()=>{Nt||(m.restoreHistory(Ke),this.cancelNavigationTransition(Ke,"",2))}}))}),(0,jt.b)(Ke=>{const Nt=new Vs(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Nt)}))}),Jt(ue=>{const Ke=Nt=>{const sn=[];Nt.routeConfig?.loadComponent&&!Nt.routeConfig._loadedComponent&&sn.push(this.configLoader.loadComponent(Nt.routeConfig).pipe((0,jt.b)(yn=>{Nt.component=yn}),(0,Wt.U)(()=>{})));for(const yn of Nt.children)sn.push(...Ke(yn));return sn};return yt(Ke(ue.targetSnapshot.root)).pipe((0,tn.d)(),(0,st.q)(1))}),Jt(()=>this.afterPreactivation()),(0,Wt.U)(ue=>{const Ke=function Zi(_,C,m){const x=Is(_,C._root,m?m._root:void 0);return new Us(x,C)}(m.routeReuseStrategy,ue.targetSnapshot,ue.currentRouterState);return x={...ue,targetRouterState:Ke}}),(0,jt.b)(ue=>{m.currentUrlTree=ue.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(ue.urlAfterRedirects,ue.rawUrl),m.routerState=ue.targetRouterState,"deferred"===m.urlUpdateStrategy&&(ue.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,ue),m.browserUrlTree=ue.urlAfterRedirects)}),((_,C,m)=>(0,Wt.U)(x=>(new Cs(C,x.targetRouterState,x.currentRouterState,m).activate(_),x)))(this.rootContexts,m.routeReuseStrategy,ue=>this.events.next(ue)),(0,st.q)(1),(0,jt.b)({next:ue=>{B=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new nr(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(ue.targetRouterState.snapshot),ue.resolve(!0)},complete:()=>{B=!0}}),Tr(()=>{B||J||this.cancelNavigationTransition(x,"",1),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),Mt(ue=>{if(J=!0,Yi(ue)){Fo(ue)||(m.navigated=!0,m.restoreHistory(x,!0));const Ke=new wi(x.id,this.urlSerializer.serialize(x.extractedUrl),ue.message,ue.cancellationCode);if(this.events.next(Ke),Fo(ue)){const Nt=m.urlHandlingStrategy.merge(ue.url,m.rawUrlTree),sn={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||Cu(x.source)};m.scheduleNavigation(Nt,bn,null,sn,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{m.restoreHistory(x,!0);const Ke=new fi(x.id,this.urlSerializer.serialize(x.extractedUrl),ue,x.targetSnapshot??void 0);this.events.next(Ke);try{x.resolve(m.errorHandler(ue))}catch(Nt){x.reject(Nt)}}return it.E}))}))}cancelNavigationTransition(m,x,B){const J=new wi(m.id,this.urlSerializer.serialize(m.extractedUrl),x,B);this.events.next(J),m.resolve(!1)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Cu(_){return _!==bn}let Vu=(()=>{class _{buildTitle(m){let x,B=m.root;for(;void 0!==B;)x=this.getResolvedTitleForRoute(B)??x,B=B.children.find(J=>J.outlet===Yt);return x}getResolvedTitleForRoute(m){return m.data[rr]}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(jo)},providedIn:"root"}),_})(),jo=(()=>{class _ extends Vu{constructor(m){super(),this.title=m}updateTitle(m){const x=this.buildTitle(m);void 0!==x&&this.title.setTitle(x)}}return _.\u0275fac=function(m){return new(m||_)(p.LFG(on.Dx))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Zl=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(ha)},providedIn:"root"}),_})();class Uu{shouldDetach(C){return!1}store(C,m){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,m){return C.routeConfig===m.routeConfig}}let ha=(()=>{class _ extends Uu{}return _.\u0275fac=function(){let C;return function(x){return(C||(C=p.n5z(_)))(x||_)}}(),_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Ui=new p.OlP("",{providedIn:"root",factory:()=>({})});let Xa=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(Du)},providedIn:"root"}),_})(),Du=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,x){return m}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Ca(_){throw _}function Bu(_,C,m){return C.parse("/")}const vi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_n={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qi=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Ui,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ca,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Xa),this.routeReuseStrategy=(0,p.f3M)(Zl),this.urlCreationStrategy=(0,p.f3M)(hs),this.titleStrategy=(0,p.f3M)(Vu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ir((0,p.f3M)(Ts,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(za),this.urlSerializer=(0,p.f3M)(be),this.location=(0,p.f3M)(Vt.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aa(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const x="popstate"===m.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,x,m.state)},0)}))}navigateToSyncWithBrowser(m,x,B){const J={replaceUrl:!0},ue=B?.navigationId?B:null;if(B){const Nt={...B};delete Nt.navigationId,delete Nt.\u0275routerPageId,0!==Object.keys(Nt).length&&(J.state=Nt)}const Ke=this.parseUrl(m);this.scheduleNavigation(Ke,x,ue,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(no),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,x={}){const{relativeTo:B,queryParams:J,fragment:ue,queryParamsHandling:Ke,preserveFragment:Nt}=x,sn=Nt?this.currentUrlTree.fragment:ue;let yn=null;switch(Ke){case"merge":yn={...this.currentUrlTree.queryParams,...J};break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=J||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),this.urlCreationStrategy.createUrlTree(B,this.routerState,this.currentUrlTree,m,yn,sn??null)}navigateByUrl(m,x={skipLocationChange:!1}){const B=xe(m)?m:this.parseUrl(m),J=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(J,bn,null,x)}navigate(m,x={skipLocationChange:!1}){return function Kn(_){for(let C=0;C<_.length;C++){const m=_[C];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,x),x)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let x;try{x=this.urlSerializer.parse(m)}catch(B){x=this.malformedUriErrorHandler(B,this.urlSerializer,m)}return x}isActive(m,x){let B;if(B=!0===x?{...vi}:!1===x?{..._n}:x,xe(m))return Cr(this.currentUrlTree,m,B);const J=this.parseUrl(m);return Cr(this.currentUrlTree,J,B)}removeEmptyProps(m){return Object.keys(m).reduce((x,B)=>{const J=m[B];return null!=J&&(x[B]=J),x},{})}scheduleNavigation(m,x,B,J,ue){if(this.disposed)return Promise.resolve(!1);let Ke,Nt,sn,yn;return ue?(Ke=ue.resolve,Nt=ue.reject,sn=ue.promise):sn=new Promise((Zr,Si)=>{Ke=Zr,Nt=Si}),yn="computed"===this.canceledNavigationResolution?B&&B.\u0275routerPageId?B.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:yn,source:x,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:J,resolve:Ke,reject:Nt,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(m,x){const B=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(B)||x.extras.replaceUrl){const ue={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId)};this.location.replaceState(B,"",ue)}else{const J={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.go(B,"",J)}}restoreHistory(m,x=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-(this.browserPageId??this.currentPageId);0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,x){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:x}:{navigationId:m}}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),cu=(()=>{class _{constructor(m,x,B,J,ue,Ke){this.router=m,this.route=x,this.tabIndexAttribute=B,this.renderer=J,this.el=ue,this.locationStrategy=Ke,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pn.x;const Nt=ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Nt||"area"===Nt,this.isAnchorElement?this.subscription=m.events.subscribe(sn=>{sn instanceof nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,x,B,J,ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||x||B||J||ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,x){const B=this.renderer,J=this.el.nativeElement;null!==x?B.setAttribute(J,m,x):B.removeAttribute(J,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(m){return new(m||_)(p.Y36(Qi),p.Y36(Qs),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Vt.S$))},_.\u0275dir=p.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,x){1&m&&p.NdJ("click",function(J){return x.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&m&&p.uIk("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),_})();class fa{}let Ga=(()=>{class _{constructor(m,x,B,J,ue){this.router=m,this.injector=B,this.preloadingStrategy=J,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.h)(m=>m instanceof nr),(0,Pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,x){const B=[];for(const J of x){J.providers&&!J._injector&&(J._injector=(0,p.MMx)(J.providers,m,`Route: ${J.path}`));const ue=J._injector??m,Ke=J._loadedInjector??ue;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&B.push(this.preloadConfig(ue,J)),(J.children||J._loadedRoutes)&&B.push(this.processRoutes(Ke,J.children??J._loadedRoutes))}return(0,E.D)(B).pipe((0,ur.J)())}preloadConfig(m,x){return this.preloadingStrategy.preload(x,()=>{let B;B=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(m,x):(0,G.of)(null);const J=B.pipe((0,wt.z)(ue=>null===ue?(0,G.of)(void 0):(x._loadedRoutes=ue.routes,x._loadedInjector=ue.injector,this.processRoutes(ue.injector??m,ue.routes))));if(x.loadComponent&&!x._loadedComponent){const ue=this.loader.loadComponent(x);return(0,E.D)([J,ue]).pipe((0,ur.J)())}return J})}}return _.\u0275fac=function(m){return new(m||_)(p.LFG(Qi),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(fa),p.LFG(Zt))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Ja=new p.OlP("");let Wa=(()=>{class _{constructor(m,x,B,J,ue={}){this.urlSerializer=m,this.transitions=x,this.viewportScroller=B,this.zone=J,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Rn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof nr&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof cs&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cs(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(m){p.$Z()},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})();var os=(()=>((os=os||{})[os.COMPLETE=0]="COMPLETE",os[os.FAILED=1]="FAILED",os[os.REDIRECTING=2]="REDIRECTING",os))();const Ho=!1;function na(_,C){return{\u0275kind:_,\u0275providers:C}}const pa=new p.OlP("",{providedIn:"root",factory:()=>!1});function Ra(){const _=(0,p.f3M)(p.zs3);return C=>{const m=_.get(p.z2F);if(C!==m.components[0])return;const x=_.get(Qi),B=_.get(wo);1===_.get(tu)&&x.initialNavigation(),_.get(ma,null,p.XFs.Optional)?.setUpPreloading(),_.get(Ja,null,p.XFs.Optional)?.init(),x.resetRootComponentType(m.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const wo=new p.OlP(Ho?"bootstrap done indicator":"",{factory:()=>new pn.x}),tu=new p.OlP(Ho?"initial navigation":"",{providedIn:"root",factory:()=>1});function Yl(){let _=[];return _=Ho?[{provide:p.Xts,multi:!0,useFactory:()=>{const C=(0,p.f3M)(Qi);return()=>C.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function ho(_){if(!("type"in _))return`Unknown Router Event: ${_.constructor.name}`;switch(_.type){case 14:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 2:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case 16:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case 1:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case 0:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case 6:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 5:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 10:return`RouteConfigLoadEnd(path: ${_.route.path})`;case 9:return`RouteConfigLoadStart(path: ${_.route.path})`;case 4:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 15:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],na(1,_)}const ma=new p.OlP(Ho?"router preloader":"");function Da(_){return na(0,[{provide:ma,useExisting:Ga},{provide:fa,useExisting:_}])}const Gi=!1,Na=new p.OlP(Gi?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ao=[Vt.Ye,{provide:be,useClass:Le},Qi,Hs,{provide:Qs,useFactory:function eu(_){return _.routerState.root},deps:[Qi]},Zt,Gi?{provide:pa,useValue:!0}:[]];function Ni(){return new p.PXZ("Router",Qi)}let Su=(()=>{class _{constructor(m){}static forRoot(m,x){return{ngModule:_,providers:[ao,Gi&&x?.enableTracing?Yl().\u0275providers:[],{provide:Ts,multi:!0,useValue:m},{provide:Na,useFactory:Ya,deps:[[Qi,new p.FiY,new p.tp0]]},{provide:Ui,useValue:x||{}},x?.useHash?{provide:Vt.S$,useClass:Vt.Do}:{provide:Vt.S$,useClass:Vt.b0},{provide:Ja,useFactory:()=>{const _=(0,p.f3M)(Vt.EM),C=(0,p.f3M)(p.R0b),m=(0,p.f3M)(Ui),x=(0,p.f3M)(za),B=(0,p.f3M)(be);return m.scrollOffset&&_.setOffset(m.scrollOffset),new Wa(B,x,_,C,m)}},x?.preloadingStrategy?Da(x.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Ni},x?.initialNavigation?nu(x):[],[{provide:Mu,useFactory:Ra},{provide:p.tb,multi:!0,useExisting:Mu}]]}}static forChild(m){return{ngModule:_,providers:[{provide:Ts,multi:!0,useValue:m}]}}}return _.\u0275fac=function(m){return new(m||_)(p.LFG(Na,8))},_.\u0275mod=p.oAB({type:_}),_.\u0275inj=p.cJS({imports:[ms]}),_})();function Ya(_){if(Gi&&_)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function nu(_){return["disabled"===_.initialNavigation?na(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const C=(0,p.f3M)(Qi);return()=>{C.setUpLocationChangeListener()}}},{provide:tu,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?na(2,[{provide:tu,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:C=>{const m=C.get(Vt.V_,Promise.resolve());return()=>m.then(()=>new Promise(x=>{const B=C.get(Qi),J=C.get(wo);(function Ka(_,C){_.events.pipe((0,ft.h)(m=>m instanceof nr||m instanceof wi||m instanceof fi||m instanceof ci),(0,Wt.U)(m=>m instanceof nr||m instanceof ci?os.COMPLETE:m instanceof wi&&(0===m.code||1===m.code)?os.REDIRECTING:os.FAILED),(0,ft.h)(m=>m!==os.REDIRECTING),(0,st.q)(1)).subscribe(()=>{C()})})(B,()=>{x(!0)}),C.get(za).afterPreactivation=()=>(x(!0),J.closed?(0,G.of)(void 0):J),B.initialNavigation()}))}}]).\u0275providers:[]]}const Mu=new p.OlP(Gi?"Router Initializer":"")},3942:(cn,je,j)=>{"use strict";j.d(je,{Z:()=>kt});var p=j(2090),E=j(4859),G=j(6881),Te=j(1877);class Ce{constructor(qe,Et){this._delegate=qe,this.firebase=Et,(0,G._addComponent)(qe,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(qe,Et=G._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Lt=this._delegate.container.getProvider(qe);return!Lt.isInitialized()&&"EXPLICIT"===(null===(rt=Lt.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Lt.initialize(),Lt.getImmediate({identifier:Et})}_removeServiceInstance(qe,Et=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Et)}_addComponent(qe){(0,G._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,G._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function Qe(){const Bt=function we(Bt){const qe={},Et={__esModule:!0,initializeApp:function _e(ht,ze={}){const It=G.initializeApp(ht,ze);if((0,p.r3)(qe,It.name))return qe[It.name];const pn=new Bt(It,Et);return qe[It.name]=pn,pn},app:Lt,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function it(ht){const ze=ht.name,It=ze.replace("-compat","");if(G._registerComponent(ht)&&"PUBLIC"===ht.type){const pn=(Vt=Lt())=>{if("function"!=typeof Vt[It])throw ke.create("invalid-app-argument",{appName:ze});return Vt[It]()};void 0!==ht.serviceProps&&(0,p.ZB)(pn,ht.serviceProps),Et[It]=pn,Bt.prototype[It]=function(...Vt){return this._getService.bind(this,ze).apply(this,ht.multipleInstances?Vt:[])}}return"PUBLIC"===ht.type?Et[It]:null},removeApp:function rt(ht){delete qe[ht]},useAsService:function At(ht,ze){return"serverAuth"===ze?null:ze},modularAPIs:G}};function Lt(ht){if(!(0,p.r3)(qe,ht=ht||G._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:ht});return qe[ht]}return Et.default=Et,Object.defineProperty(Et,"apps",{get:function Re(){return Object.keys(qe).map(ht=>qe[ht])}}),Lt.App=Bt,Et}(Ce);return Bt.INTERNAL=Object.assign(Object.assign({},Bt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function qe(Et){(0,p.ZB)(Bt,Et)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Bt}(),De=new Te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){De.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Bt=self.firebase.SDK_VERSION;Bt&&Bt.indexOf("LITE")>=0&&De.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const kt=pe;!function yt(Bt){(0,G.registerVersion)("@firebase/app-compat","0.2.9",Bt)}()},6881:(cn,je,j)=>{"use strict";j.r(je),j.d(je,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Gr,_DEFAULT_ENTRY_NAME:()=>Qr,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>St,_apps:()=>Pn,_clearComponents:()=>ti,_components:()=>Cn,_getProvider:()=>Cr,_registerComponent:()=>lr,_removeServiceInstance:()=>Dr,deleteApp:()=>cr,getApp:()=>Vn,getApps:()=>Un,initializeApp:()=>$n,onLog:()=>be,registerVersion:()=>nt,setLogLevel:()=>Le});var p=j(5861),E=j(4859),G=j(1877),Te=j(2090);const Ce=(ct,ce)=>ce.some(H=>ct instanceof H);let Be,ke;const pe=new WeakMap,De=new WeakMap,Ne=new WeakMap,gt=new WeakMap,yt=new WeakMap;let qe={get(ct,ce,H){if(ct instanceof IDBTransaction){if("done"===ce)return De.get(ct);if("objectStoreNames"===ce)return ct.objectStoreNames||Ne.get(ct);if("store"===ce)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return _e(ct[ce])},set:(ct,ce,H)=>(ct[ce]=H,!0),has:(ct,ce)=>ct instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in ct};function Lt(ct){return"function"==typeof ct?function rt(ct){return ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ct)?function(...ce){return ct.apply(Re(this),ce),_e(pe.get(this))}:function(...ce){return _e(ct.apply(Re(this),ce))}:function(ce,...H){const ae=ct.call(Re(this),ce,...H);return Ne.set(ae,ce.sort?ce.sort():[ce]),_e(ae)}}(ct):(ct instanceof IDBTransaction&&function Bt(ct){if(De.has(ct))return;const ce=new Promise((H,ae)=>{const xe=()=>{ct.removeEventListener("complete",ut),ct.removeEventListener("error",Tt),ct.removeEventListener("abort",Tt)},ut=()=>{H(),xe()},Tt=()=>{ae(ct.error||new DOMException("AbortError","AbortError")),xe()};ct.addEventListener("complete",ut),ct.addEventListener("error",Tt),ct.addEventListener("abort",Tt)});De.set(ct,ce)}(ct),Ce(ct,function we(){return Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ct,qe):ct)}function _e(ct){if(ct instanceof IDBRequest)return function kt(ct){const ce=new Promise((H,ae)=>{const xe=()=>{ct.removeEventListener("success",ut),ct.removeEventListener("error",Tt)},ut=()=>{H(_e(ct.result)),xe()},Tt=()=>{ae(ct.error),xe()};ct.addEventListener("success",ut),ct.addEventListener("error",Tt)});return ce.then(H=>{H instanceof IDBCursor&&pe.set(H,ct)}).catch(()=>{}),yt.set(ce,ct),ce}(ct);if(gt.has(ct))return gt.get(ct);const ce=Lt(ct);return ce!==ct&&(gt.set(ct,ce),yt.set(ce,ct)),ce}const Re=ct=>yt.get(ct),ht=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],It=new Map;function pn(ct,ce){if(!(ct instanceof IDBDatabase)||ce in ct||"string"!=typeof ce)return;if(It.get(ce))return It.get(ce);const H=ce.replace(/FromIndex$/,""),ae=ce!==H,xe=ze.includes(H);if(!(H in(ae?IDBIndex:IDBObjectStore).prototype)||!xe&&!ht.includes(H))return;const ut=function(){var Tt=(0,p.Z)(function*(rn,...Nn){const Qn=this.transaction(rn,xe?"readwrite":"readonly");let br=Qn.store;return ae&&(br=br.index(Nn.shift())),(yield Promise.all([br[H](...Nn),xe&&Qn.done]))[0]});return function(Nn){return Tt.apply(this,arguments)}}();return It.set(ce,ut),ut}!function Et(ct){qe=ct(qe)}(ct=>({...ct,get:(ce,H,ae)=>pn(ce,H)||ct.get(ce,H,ae),has:(ce,H)=>!!pn(ce,H)||ct.has(ce,H)}));class Vt{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(H=>{if(function Wt(ct){return"VERSION"===ct.getComponent()?.type}(H)){const ae=H.getImmediate();return`${ae.library}/${ae.version}`}return null}).filter(H=>H).join(" ")}}const Gt="@firebase/app",at=new G.Yd("@firebase/app"),Qr="[DEFAULT]",li={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pn=new Map,Cn=new Map;function Xt(ct,ce){try{ct.container.addComponent(ce)}catch(H){at.debug(`Component ${ce.name} failed to register with FirebaseApp ${ct.name}`,H)}}function St(ct,ce){ct.container.addOrOverwriteComponent(ce)}function lr(ct){const ce=ct.name;if(Cn.has(ce))return at.debug(`There were multiple attempts to register component ${ce}.`),!1;Cn.set(ce,ct);for(const H of Pn.values())Xt(H,ct);return!0}function Cr(ct,ce){const H=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),ct.container.getProvider(ce)}function Dr(ct,ce,H=Qr){Cr(ct,ce).clearInstance(H)}function ti(){Cn.clear()}const Ar=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bn{constructor(ce,H,ae){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=ae,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const Gr="9.21.0";function $n(ct,ce={}){let H=ct;"object"!=typeof ce&&(ce={name:ce});const ae=Object.assign({name:Qr,automaticDataCollectionEnabled:!1},ce),xe=ae.name;if("string"!=typeof xe||!xe)throw Ar.create("bad-app-name",{appName:String(xe)});if(H||(H=(0,Te.aH)()),!H)throw Ar.create("no-options");const ut=Pn.get(xe);if(ut){if((0,Te.vZ)(H,ut.options)&&(0,Te.vZ)(ae,ut.config))return ut;throw Ar.create("duplicate-app",{appName:xe})}const Tt=new E.H0(xe);for(const Nn of Cn.values())Tt.addComponent(Nn);const rn=new Bn(H,ae,Tt);return Pn.set(xe,rn),rn}function Vn(ct=Qr){const ce=Pn.get(ct);if(!ce&&ct===Qr)return $n();if(!ce)throw Ar.create("no-app",{appName:ct});return ce}function Un(){return Array.from(Pn.values())}function cr(ct){return pr.apply(this,arguments)}function pr(){return(pr=(0,p.Z)(function*(ct){const ce=ct.name;Pn.has(ce)&&(Pn.delete(ce),yield Promise.all(ct.container.getProviders().map(H=>H.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function nt(ct,ce,H){var ae;let xe=null!==(ae=li[ct])&&void 0!==ae?ae:ct;H&&(xe+=`-${H}`);const ut=xe.match(/\s|\//),Tt=ce.match(/\s|\//);if(ut||Tt){const rn=[`Unable to register library "${xe}" with version "${ce}":`];return ut&&rn.push(`library name "${xe}" contains illegal characters (whitespace or "/")`),ut&&Tt&&rn.push("and"),Tt&&rn.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void at.warn(rn.join(" "))}lr(new E.wA(`${xe}-version`,()=>({library:xe,version:ce}),"VERSION"))}function be(ct,ce){if(null!==ct&&"function"!=typeof ct)throw Ar.create("invalid-log-argument");(0,G.Am)(ct,ce)}function Le(ct){(0,G.Ub)(ct)}const Ot="firebase-heartbeat-database",vt=1,ge="firebase-heartbeat-store";let he=null;function ee(){return he||(he=function it(ct,ce,{blocked:H,upgrade:ae,blocking:xe,terminated:ut}={}){const Tt=indexedDB.open(ct,ce),rn=_e(Tt);return ae&&Tt.addEventListener("upgradeneeded",Nn=>{ae(_e(Tt.result),Nn.oldVersion,Nn.newVersion,_e(Tt.transaction),Nn)}),H&&Tt.addEventListener("blocked",Nn=>H(Nn.oldVersion,Nn.newVersion,Nn)),rn.then(Nn=>{ut&&Nn.addEventListener("close",()=>ut()),xe&&Nn.addEventListener("versionchange",Qn=>xe(Qn.oldVersion,Qn.newVersion,Qn))}).catch(()=>{}),rn}(Ot,vt,{upgrade:(ct,ce)=>{0===ce&&ct.createObjectStore(ge)}}).catch(ct=>{throw Ar.create("idb-open",{originalErrorMessage:ct.message})})),he}function X(){return(X=(0,p.Z)(function*(ct){try{return(yield ee()).transaction(ge).objectStore(ge).get(ve(ct))}catch(ce){if(ce instanceof Te.ZR)at.warn(ce.message);else{const H=Ar.create("idb-get",{originalErrorMessage:ce?.message});at.warn(H.message)}}})).apply(this,arguments)}function Se(ct,ce){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(ct,ce){try{const ae=(yield ee()).transaction(ge,"readwrite");return yield ae.objectStore(ge).put(ce,ve(ct)),ae.done}catch(H){if(H instanceof Te.ZR)at.warn(H.message);else{const ae=Ar.create("idb-set",{originalErrorMessage:H?.message});at.warn(ae.message)}}})).apply(this,arguments)}function ve(ct){return`${ct.name}!${ct.options.appId}`}class Xe{constructor(ce){this.container=ce,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this._storage=new dn(H),this._heartbeatsCachePromise=this._storage.read().then(ae=>(this._heartbeatsCache=ae,ae))}triggerHeartbeat(){var ce=this;return(0,p.Z)(function*(){const ae=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xe=Ct();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==xe&&!ce._heartbeatsCache.heartbeats.some(ut=>ut.date===xe))return ce._heartbeatsCache.heartbeats.push({date:xe,agent:ae}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(ut=>{const Tt=new Date(ut.date).valueOf();return Date.now()-Tt<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,p.Z)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const H=Ct(),{heartbeatsToSend:ae,unsentEntries:xe}=function qt(ct,ce=1024){const H=[];let ae=ct.slice();for(const xe of ct){const ut=H.find(Tt=>Tt.agent===xe.agent);if(ut){if(ut.dates.push(xe.date),sr(H)>ce){ut.dates.pop();break}}else if(H.push({agent:xe.agent,dates:[xe.date]}),sr(H)>ce){H.pop();break}ae=ae.slice(1)}return{heartbeatsToSend:H,unsentEntries:ae}}(ce._heartbeatsCache.heartbeats),ut=(0,Te.L)(JSON.stringify({version:2,heartbeats:ae}));return ce._heartbeatsCache.lastSentHeartbeatDate=H,xe.length>0?(ce._heartbeatsCache.heartbeats=xe,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),ut})()}}function Ct(){return(new Date).toISOString().substring(0,10)}class dn{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,p.Z)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function ne(ct){return X.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var H=this;return(0,p.Z)(function*(){var ae;if(yield H._canUseIndexedDBPromise){const ut=yield H.read();return Se(H.app,{lastSentHeartbeatDate:null!==(ae=ce.lastSentHeartbeatDate)&&void 0!==ae?ae:ut.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var H=this;return(0,p.Z)(function*(){var ae;if(yield H._canUseIndexedDBPromise){const ut=yield H.read();return Se(H.app,{lastSentHeartbeatDate:null!==(ae=ce.lastSentHeartbeatDate)&&void 0!==ae?ae:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...ce.heartbeats]})}})()}}function sr(ct){return(0,Te.L)(JSON.stringify({version:2,heartbeats:ct})).length}!function Ur(ct){lr(new E.wA("platform-logger",ce=>new Vt(ce),"PRIVATE")),lr(new E.wA("heartbeat",ce=>new Xe(ce),"PRIVATE")),nt(Gt,"0.9.9",ct),nt(Gt,"0.9.9","esm2017"),nt("fire-js","")}("")},4859:(cn,je,j)=>{"use strict";j.d(je,{H0:()=>we,wA:()=>G});var p=j(5861),E=j(2090);class G{constructor(pe,De,Ne){this.name=pe,this.instanceFactory=De,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Te="[DEFAULT]";class Ce{constructor(pe,De){this.name=pe,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const De=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(De)){const Ne=new E.BH;if(this.instancesDeferred.set(De,Ne),this.isInitialized(De)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:De});gt&&Ne.resolve(gt)}catch{}}return this.instancesDeferred.get(De).promise}getImmediate(pe){var De;const Ne=this.normalizeInstanceIdentifier(pe?.identifier),gt=null!==(De=pe?.optional)&&void 0!==De&&De;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(yt){if(gt)return null;throw yt}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function ke(Qe){return"EAGER"===Qe.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[De,Ne]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(De);try{const yt=this.getOrInitializeService({instanceIdentifier:gt});Ne.resolve(yt)}catch{}}}}clearInstance(pe=Te){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,p.Z)(function*(){const De=Array.from(pe.instances.values());yield Promise.all([...De.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...De.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Te){return this.instances.has(pe)}getOptions(pe=Te){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:De={}}=pe,Ne=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:Ne,options:De});for(const[yt,kt]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(yt)&&kt.resolve(gt);return gt}onInit(pe,De){var Ne;const gt=this.normalizeInstanceIdentifier(De),yt=null!==(Ne=this.onInitCallbacks.get(gt))&&void 0!==Ne?Ne:new Set;yt.add(pe),this.onInitCallbacks.set(gt,yt);const kt=this.instances.get(gt);return kt&&pe(kt,gt),()=>{yt.delete(pe)}}invokeOnInitCallbacks(pe,De){const Ne=this.onInitCallbacks.get(De);if(Ne)for(const gt of Ne)try{gt(pe,De)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:De={}}){let Ne=this.instances.get(pe);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=pe,Qe===Te?void 0:Qe),options:De}),this.instances.set(pe,Ne),this.instancesOptions.set(pe,De),this.invokeOnInitCallbacks(Ne,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Ne)}catch{}var Qe;return Ne||null}normalizeInstanceIdentifier(pe=Te){return this.component?this.component.multipleInstances?pe:Te:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const De=this.getProvider(pe.name);if(De.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);De.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const De=new Ce(pe,this);return this.providers.set(pe,De),De}getProviders(){return Array.from(this.providers.values())}}},1877:(cn,je,j)=>{"use strict";j.d(je,{Am:()=>Qe,Ub:()=>we,Yd:()=>ke,in:()=>E});const p=[];var E=(()=>{return(pe=E||(E={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",E;var pe})();const G={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},Te=E.INFO,Ce={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},Be=(pe,De,...Ne)=>{if(De<pe.logLevel)return;const gt=(new Date).toISOString(),yt=Ce[De];if(!yt)throw new Error(`Attempted to log a message with an invalid logType (value: ${De})`);console[yt](`[${gt}]  ${pe.name}:`,...Ne)};class ke{constructor(De){this.name=De,this._logLevel=Te,this._logHandler=Be,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(De){if(!(De in E))throw new TypeError(`Invalid value "${De}" assigned to \`logLevel\``);this._logLevel=De}setLogLevel(De){this._logLevel="string"==typeof De?G[De]:De}get logHandler(){return this._logHandler}set logHandler(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De}get userLogHandler(){return this._userLogHandler}set userLogHandler(De){this._userLogHandler=De}debug(...De){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...De),this._logHandler(this,E.DEBUG,...De)}log(...De){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...De),this._logHandler(this,E.VERBOSE,...De)}info(...De){this._userLogHandler&&this._userLogHandler(this,E.INFO,...De),this._logHandler(this,E.INFO,...De)}warn(...De){this._userLogHandler&&this._userLogHandler(this,E.WARN,...De),this._logHandler(this,E.WARN,...De)}error(...De){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...De),this._logHandler(this,E.ERROR,...De)}}function we(pe){p.forEach(De=>{De.setLogLevel(pe)})}function Qe(pe,De){for(const Ne of p){let gt=null;De&&De.level&&(gt=G[De.level]),Ne.userLogHandler=null===pe?null:(yt,kt,...Bt)=>{const qe=Bt.map(Et=>{if(null==Et)return null;if("string"==typeof Et)return Et;if("number"==typeof Et||"boolean"==typeof Et)return Et.toString();if(Et instanceof Error)return Et.message;try{return JSON.stringify(Et)}catch{return null}}).filter(Et=>Et).join(" ");kt>=(gt??yt.logLevel)&&pe({level:E[kt].toLowerCase(),message:qe,args:Bt,type:yt.name})}}}},259:(cn,je,j)=>{"use strict";j.d(je,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=j(6881);(0,p.registerVersion)("firebase","9.21.0","app")},9260:(cn,je,j)=>{"use strict";j.d(je,{Z:()=>p.Z});var p=j(3942);p.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(cn,je,j)=>{"use strict";j.r(je);var p=j(5861),E=j(3942),G=j(8502),Te=j(2090),ke=(j(6881),j(1877),j(4859));function we(){return window}const Qe=2e3;function De(){return De=(0,p.Z)(function*(ee,ne,X){var Se;const{BuildInfo:ye}=we();(0,G.as)(ne.sessionId,"AuthEvent did not contain a session ID");const ve=yield function Et(ee){return rt.apply(this,arguments)}(ne.sessionId),le={};return(0,G.at)()?le.ibi=ye.packageName:(0,G.au)()?le.apn=ye.packageName:(0,G.av)(ee,"operation-not-supported-in-this-environment"),ye.displayName&&(le.appDisplayName=ye.displayName),le.sessionId=ve,(0,G.aw)(ee,X,ne.type,void 0,null!==(Se=ne.eventId)&&void 0!==Se?Se:void 0,le)}),De.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(ee){const{BuildInfo:ne}=we(),X={};(0,G.at)()?X.iosBundleId=ne.packageName:(0,G.au)()?X.androidPackageName=ne.packageName:(0,G.av)(ee,"operation-not-supported-in-this-environment"),yield(0,G.ax)(ee,X)})).apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(ee,ne,X){const{cordova:Se}=we();let ye=()=>{};try{yield new Promise((ve,le)=>{let Me=null;function Xe(){var dn;ve();const sr=null===(dn=Se.plugins.browsertab)||void 0===dn?void 0:dn.close;"function"==typeof sr&&sr(),"function"==typeof X?.close&&X.close()}function Ct(){Me||(Me=window.setTimeout(()=>{le((0,G.az)(ee,"redirect-cancelled-by-user"))},Qe))}function qt(){"visible"===document?.visibilityState&&Ct()}ne.addPassiveListener(Xe),document.addEventListener("resume",Ct,!1),(0,G.au)()&&document.addEventListener("visibilitychange",qt,!1),ye=()=>{ne.removePassiveListener(Xe),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",qt,!1),Me&&window.clearTimeout(Me)}})}finally{ye()}})).apply(this,arguments)}function rt(){return(rt=(0,p.Z)(function*(ee){const ne=function Lt(ee){if((0,G.as)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ee);const ne=new ArrayBuffer(ee.length),X=new Uint8Array(ne);for(let Se=0;Se<ee.length;Se++)X[Se]=ee.charCodeAt(Se);return X}(ee),X=yield crypto.subtle.digest("SHA-256",ne);return Array.from(new Uint8Array(X)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const _e=20;class Re extends G.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ne=>{this.resolveInialized=ne})}addPassiveListener(ne){this.passiveListeners.add(ne)}removePassiveListener(ne){this.passiveListeners.delete(ne)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ne){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(ne)),super.onEvent(ne)}initialized(){var ne=this;return(0,p.Z)(function*(){yield ne.initPromise})()}}function ht(ee){return ze.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(ee){const ne=yield Vt()._get(Wt(ee));return ne&&(yield Vt()._remove(Wt(ee))),ne})).apply(this,arguments)}function pn(){const ee=[],ne="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let X=0;X<_e;X++){const Se=Math.floor(Math.random()*ne.length);ee.push(ne.charAt(Se))}return ee.join("")}function Vt(){return(0,G.aC)(G.b)}function Wt(ee){return(0,G.aD)("authEvent",ee.config.apiKey,ee.name)}function at(ee){if(!ee?.includes("?"))return{};const[ne,...X]=ee.split("?");return(0,Te.zd)(X.join("?"))}const $t=class wt{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aE,this._overrideRedirectResult=G.aF}_initialize(ne){var X=this;return(0,p.Z)(function*(){const Se=ne._key();let ye=X.eventManagers.get(Se);return ye||(ye=new Re(ne),X.eventManagers.set(Se,ye),X.attachCallbackListeners(ne,ye)),ye})()}_openPopup(ne){(0,G.av)(ne,"operation-not-supported-in-this-environment")}_openRedirect(ne,X,Se,ye){var ve=this;return(0,p.Z)(function*(){!function qe(ee){var ne,X,Se,ye,ve,le,Me,Xe,Ct,qt;const dn=we();(0,G.aA)("function"==typeof(null===(ne=dn?.universalLinks)||void 0===ne?void 0:ne.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aA)(typeof(null===(X=dn?.BuildInfo)||void 0===X?void 0:X.packageName)<"u",ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aA)("function"==typeof(null===(ve=null===(ye=null===(Se=dn?.cordova)||void 0===Se?void 0:Se.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===ve?void 0:ve.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aA)("function"==typeof(null===(Xe=null===(Me=null===(le=dn?.cordova)||void 0===le?void 0:le.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===Xe?void 0:Xe.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aA)("function"==typeof(null===(qt=null===(Ct=dn?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===qt?void 0:qt.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ne);const le=yield ve._initialize(ne);yield le.initialized(),le.resetRedirect(),(0,G.aG)(),yield ve._originValidation(ne);const Me=function it(ee,ne,X=null){return{type:ne,eventId:X,urlResponse:null,sessionId:pn(),postBody:null,tenantId:ee.tenantId,error:(0,G.az)(ee,"no-auth-event")}}(ne,Se,ye);yield function At(ee,ne){return Vt()._set(Wt(ee),ne)}(ne,Me);const Xe=yield function pe(ee,ne,X){return De.apply(this,arguments)}(ne,Me,X),Ct=yield function yt(ee){const{cordova:ne}=we();return new Promise(X=>{ne.plugins.browsertab.isAvailable(Se=>{let ye=null;Se?ne.plugins.browsertab.openUrl(ee):ye=ne.InAppBrowser.open(ee,(0,G.ay)()?"_blank":"_system","location=yes"),X(ye)})})}(Xe);return function kt(ee,ne,X){return Bt.apply(this,arguments)}(ne,le,Ct)})()}_isIframeWebStorageSupported(ne,X){throw new Error("Method not implemented.")}_originValidation(ne){const X=ne._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function Ne(ee){return gt.apply(this,arguments)}(ne)),this.originValidationPromises[X]}attachCallbackListeners(ne,X){const{universalLinks:Se,handleOpenURL:ye,BuildInfo:ve}=we(),le=setTimeout((0,p.Z)(function*(){yield ht(ne),X.onEvent(Pt())}),500),Me=function(){var qt=(0,p.Z)(function*(dn){clearTimeout(le);const sr=yield ht(ne);let Ur=null;sr&&dn?.url&&(Ur=function It(ee,ne){var X,Se;const ye=function st(ee){const ne=at(ee),X=ne.link?decodeURIComponent(ne.link):void 0,Se=at(X).link,ye=ne.deep_link_id?decodeURIComponent(ne.deep_link_id):void 0;return at(ye).link||ye||Se||X||ee}(ne);if(ye.includes("/__/auth/callback")){const ve=at(ye),le=ve.firebaseError?function Gt(ee){try{return JSON.parse(ee)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,Me=null===(Se=null===(X=le?.code)||void 0===X?void 0:X.split("auth/"))||void 0===Se?void 0:Se[1],Xe=Me?(0,G.az)(Me):null;return Xe?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:ye,postBody:null}}return null}(sr,dn.url)),X.onEvent(Ur||Pt())});return function(sr){return qt.apply(this,arguments)}}();typeof Se<"u"&&"function"==typeof Se.subscribe&&Se.subscribe(null,Me);const Xe=ye,Ct=`${ve.packageName.toLowerCase()}://`;we().handleOpenURL=function(){var qt=(0,p.Z)(function*(dn){if(dn.toLowerCase().startsWith(Ct)&&Me({url:dn}),"function"==typeof Xe)try{Xe(dn)}catch(sr){console.error(sr)}});return function(dn){return qt.apply(this,arguments)}}()}};function Pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.az)("no-auth-event")}}const vn=1e3;function Tn(){var ee;return(null===(ee=self?.location)||void 0===ee?void 0:ee.protocol)||null}function An(ee=(0,Te.z$)()){return!("file:"!==Tn()&&"ionic:"!==Tn()&&"capacitor:"!==Tn()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const ee=self.localStorage,ne=G.aL();if(ee)return ee.setItem(ne,"1"),ee.removeItem(ne),!function ur(ee=(0,Te.z$)()){return function mr(){return(0,Te.w1)()&&11===document?.documentMode}()||function Tr(ee=(0,Te.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,Te.hl)()}catch{return Yt()&&(0,Te.hl)()}return!1}function Yt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rr(){return(function tn(){return"http:"===Tn()||"https:"===Tn()}()||(0,Te.ru)()||An())&&!function Fn(){return(0,Te.b$)()||(0,Te.UG)()}()&&on()&&!Yt()}function Sr(){return An()&&typeof document<"u"}function Hn(){return(Hn=(0,p.Z)(function*(){return!!Sr()&&new Promise(ee=>{const ne=setTimeout(()=>{ee(!1)},vn);document.addEventListener("deviceready",()=>{clearTimeout(ne),ee(!0)})})})).apply(this,arguments)}const Ln={LOCAL:"local",NONE:"none",SESSION:"session"},zn=G.aA,ir="persistence";function li(ee){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(ee){yield ee._initializationPromise;const ne=Xt(),X=G.aD(ir,ee.config.apiKey,ee.name);ne&&ne.setItem(X,ee._getPersistence())})).apply(this,arguments)}function Xt(){var ee;try{return(null===(ee=function an(){return typeof window<"u"?window:null}())||void 0===ee?void 0:ee.sessionStorage)||null}catch{return null}}const St=G.aA;class lr{constructor(){this.browserResolver=G.aC(G.k),this.cordovaResolver=G.aC($t),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aE,this._overrideRedirectResult=G.aF}_initialize(ne){var X=this;return(0,p.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(ne)})()}_openPopup(ne,X,Se,ye){var ve=this;return(0,p.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(ne,X,Se,ye)})()}_openRedirect(ne,X,Se,ye){var ve=this;return(0,p.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(ne,X,Se,ye)})()}_isIframeWebStorageSupported(ne,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ne,X)}_originValidation(ne){return this.assertedUnderlyingResolver._originValidation(ne)}get _shouldInitProactively(){return Sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ne=this;return(0,p.Z)(function*(){if(ne.underlyingResolver)return;const X=yield function fr(){return Hn.apply(this,arguments)}();ne.underlyingResolver=X?ne.cordovaResolver:ne.browserResolver})()}}function Cr(ee){return ee.unwrap()}function ti(ee){return Ar(ee)}function Ar(ee){const{_tokenResponse:ne}=ee instanceof Te.ZR?ee.customData:ee;if(!ne)return null;if(!(ee instanceof Te.ZR)&&"temporaryProof"in ne&&"phoneNumber"in ne)return G.P.credentialFromResult(ee);const X=ne.providerId;if(!X||X===G.p.PASSWORD)return null;let Se;switch(X){case G.p.GOOGLE:Se=G.V;break;case G.p.FACEBOOK:Se=G.U;break;case G.p.GITHUB:Se=G.W;break;case G.p.TWITTER:Se=G.Z;break;default:const{oauthIdToken:ye,oauthAccessToken:ve,oauthTokenSecret:le,pendingToken:Me,nonce:Xe}=ne;return ve||le||ye||Me?Me?X.startsWith("saml.")?G.aO._create(X,Me):G.L._fromParams({providerId:X,signInMethod:X,pendingToken:Me,idToken:ye,accessToken:ve}):new G.X(X).credential({idToken:ye,accessToken:ve,rawNonce:Xe}):null}return ee instanceof Te.ZR?Se.credentialFromError(ee):Se.credentialFromResult(ee)}function Bn(ee,ne){return ne.catch(X=>{throw X instanceof Te.ZR&&function zr(ee,ne){var X;const Se=null===(X=ne.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===ne?.code)ne.resolver=new Vn(ee,G.aq(ee,ne));else if(Se){const ye=Ar(ne),ve=ne;ye&&(ve.credential=ye,ve.tenantId=Se.tenantId||void 0,ve.email=Se.email||void 0,ve.phoneNumber=Se.phoneNumber||void 0)}}(ee,X),X}).then(X=>{const ye=X.user;return{operationType:X.operationType,credential:ti(X),additionalUserInfo:G.ao(X),user:Un.getOrCreate(ye)}})}function Gr(ee,ne){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(ee,ne){const X=yield ne;return{verificationId:X.verificationId,confirm:Se=>Bn(ee,X.confirm(Se))}})).apply(this,arguments)}class Vn{constructor(ne,X){this.resolver=X,this.auth=function Dr(ee){return ee.wrapped()}(ne)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ne){return Bn(Cr(this.auth),this.resolver.resolveSignIn(ne))}}class Un{constructor(ne){this._delegate=ne,this.multiFactor=G.ar(ne)}static getOrCreate(ne){return Un.USER_MAP.has(ne)||Un.USER_MAP.set(ne,new Un(ne)),Un.USER_MAP.get(ne)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ne){return this._delegate.getIdTokenResult(ne)}getIdToken(ne){return this._delegate.getIdToken(ne)}linkAndRetrieveDataWithCredential(ne){return this.linkWithCredential(ne)}linkWithCredential(ne){var X=this;return(0,p.Z)(function*(){return Bn(X.auth,G.a0(X._delegate,ne))})()}linkWithPhoneNumber(ne,X){var Se=this;return(0,p.Z)(function*(){return Gr(Se.auth,G.l(Se._delegate,ne,X))})()}linkWithPopup(ne){var X=this;return(0,p.Z)(function*(){return Bn(X.auth,G.d(X._delegate,ne,lr))})()}linkWithRedirect(ne){var X=this;return(0,p.Z)(function*(){return yield li(G.aH(X.auth)),G.g(X._delegate,ne,lr)})()}reauthenticateAndRetrieveDataWithCredential(ne){return this.reauthenticateWithCredential(ne)}reauthenticateWithCredential(ne){var X=this;return(0,p.Z)(function*(){return Bn(X.auth,G.a1(X._delegate,ne))})()}reauthenticateWithPhoneNumber(ne,X){return Gr(this.auth,G.r(this._delegate,ne,X))}reauthenticateWithPopup(ne){return Bn(this.auth,G.e(this._delegate,ne,lr))}reauthenticateWithRedirect(ne){var X=this;return(0,p.Z)(function*(){return yield li(G.aH(X.auth)),G.h(X._delegate,ne,lr)})()}sendEmailVerification(ne){return G.ae(this._delegate,ne)}unlink(ne){var X=this;return(0,p.Z)(function*(){return yield G.an(X._delegate,ne),X})()}updateEmail(ne){return G.aj(this._delegate,ne)}updatePassword(ne){return G.ak(this._delegate,ne)}updatePhoneNumber(ne){return G.u(this._delegate,ne)}updateProfile(ne){return G.ai(this._delegate,ne)}verifyBeforeUpdateEmail(ne,X){return G.af(this._delegate,ne,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const cr=G.aA;let pr=(()=>{class ee{constructor(X,Se){if(this.app=X,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=X.options;cr(ye,"invalid-api-key",{appName:X.name}),cr(ye,"invalid-api-key",{appName:X.name});const ve=typeof window<"u"?lr:void 0;this._delegate=Se.initialize({options:{persistence:be(ye,X.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(G.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,Se){G.I(this._delegate,X,Se)}applyActionCode(X){return G.a5(this._delegate,X)}checkActionCode(X){return G.a6(this._delegate,X)}confirmPasswordReset(X,Se){return G.a4(this._delegate,X,Se)}createUserWithEmailAndPassword(X,Se){var ye=this;return(0,p.Z)(function*(){return Bn(ye._delegate,G.a8(ye._delegate,X,Se))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return G.ad(this._delegate,X)}isSignInWithEmailLink(X){return G.ab(this._delegate,X)}getRedirectResult(){var X=this;return(0,p.Z)(function*(){cr(rr(),X._delegate,"operation-not-supported-in-this-environment");const Se=yield G.j(X._delegate,lr);return Se?Bn(X._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function jt(ee,ne){(0,G.aH)(ee)._logFramework(ne)}(this._delegate,X)}onAuthStateChanged(X,Se,ye){const{next:ve,error:le,complete:Me}=nt(X,Se,ye);return this._delegate.onAuthStateChanged(ve,le,Me)}onIdTokenChanged(X,Se,ye){const{next:ve,error:le,complete:Me}=nt(X,Se,ye);return this._delegate.onIdTokenChanged(ve,le,Me)}sendSignInLinkToEmail(X,Se){return G.aa(this._delegate,X,Se)}sendPasswordResetEmail(X,Se){return G.a3(this._delegate,X,Se||void 0)}setPersistence(X){var Se=this;return(0,p.Z)(function*(){let ye;switch(function Qr(ee,ne){zn(Object.values(Ln).includes(ne),ee,"invalid-persistence-type"),(0,Te.b$)()?zn(ne!==Ln.SESSION,ee,"unsupported-persistence-type"):(0,Te.UG)()?zn(ne===Ln.NONE,ee,"unsupported-persistence-type"):Yt()?zn(ne===Ln.NONE||ne===Ln.LOCAL&&(0,Te.hl)(),ee,"unsupported-persistence-type"):zn(ne===Ln.NONE||on(),ee,"unsupported-persistence-type")}(Se._delegate,X),X){case Ln.SESSION:ye=G.a;break;case Ln.LOCAL:ye=(yield G.aC(G.i)._isAvailable())?G.i:G.b;break;case Ln.NONE:ye=G.N;break;default:return G.av("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return Bn(this._delegate,G._(this._delegate))}signInWithCredential(X){return Bn(this._delegate,G.$(this._delegate,X))}signInWithCustomToken(X){return Bn(this._delegate,G.a2(this._delegate,X))}signInWithEmailAndPassword(X,Se){return Bn(this._delegate,G.a9(this._delegate,X,Se))}signInWithEmailLink(X,Se){return Bn(this._delegate,G.ac(this._delegate,X,Se))}signInWithPhoneNumber(X,Se){return Gr(this._delegate,G.s(this._delegate,X,Se))}signInWithPopup(X){var Se=this;return(0,p.Z)(function*(){return cr(rr(),Se._delegate,"operation-not-supported-in-this-environment"),Bn(Se._delegate,G.c(Se._delegate,X,lr))})()}signInWithRedirect(X){var Se=this;return(0,p.Z)(function*(){return cr(rr(),Se._delegate,"operation-not-supported-in-this-environment"),yield li(Se._delegate),G.f(Se._delegate,X,lr)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return G.a7(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=Ln,ee})();function nt(ee,ne,X){let Se=ee;"function"!=typeof ee&&({next:Se,error:ne,complete:X}=ee);const ye=Se;return{next:le=>ye(le&&Un.getOrCreate(le)),error:ne,complete:X}}function be(ee,ne){const X=function Cn(ee,ne){const X=Xt();if(!X)return[];const Se=G.aD(ir,ee,ne);switch(X.getItem(Se)){case Ln.NONE:return[G.N];case Ln.LOCAL:return[G.i,G.a];case Ln.SESSION:return[G.a];default:return[]}}(ee,ne);if(typeof self<"u"&&!X.includes(G.i)&&X.push(G.i),typeof window<"u")for(const Se of[G.b,G.a])X.includes(Se)||X.push(Se);return X.includes(G.N)||X.push(G.N),X}class Le{constructor(){this.providerId="phone",this._delegate=new G.P(Cr(E.Z.auth()))}static credential(ne,X){return G.P.credential(ne,X)}verifyPhoneNumber(ne,X){return this._delegate.verifyPhoneNumber(ne,X)}unwrap(){return this._delegate}}Le.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,Le.PROVIDER_ID=G.P.PROVIDER_ID;const Ot=G.aA;class vt{constructor(ne,X,Se=E.Z.app()){var ye;Ot(null===(ye=Se.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new G.R(ne,X,Se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(ee){ee.INTERNAL.registerComponent(new ke.wA("auth-compat",ne=>{const X=ne.getProvider("app-compat").getImmediate(),Se=ne.getProvider("auth");return new pr(X,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.Q,FacebookAuthProvider:G.U,GithubAuthProvider:G.W,GoogleAuthProvider:G.V,OAuthProvider:G.X,SAMLAuthProvider:G.Y,PhoneAuthProvider:Le,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:vt,TwitterAuthProvider:G.Z,Auth:pr,AuthCredential:G.J,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.4.1")}(E.Z)},5861:(cn,je,j)=>{"use strict";function p(G,Te,Ce,Be,ke,we,Qe){try{var pe=G[we](Qe),De=pe.value}catch(Ne){return void Ce(Ne)}pe.done?Te(De):Promise.resolve(De).then(Be,ke)}function E(G){return function(){var Te=this,Ce=arguments;return new Promise(function(Be,ke){var we=G.apply(Te,Ce);function Qe(De){p(we,Be,ke,Qe,pe,"next",De)}function pe(De){p(we,Be,ke,Qe,pe,"throw",De)}Qe(void 0)})}}j.d(je,{Z:()=>E})}},cn=>{cn(cn.s=1874)}]);