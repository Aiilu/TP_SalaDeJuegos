"use strict";(self.webpackChunkTP_SalaDeJuegos=self.webpackChunkTP_SalaDeJuegos||[]).push([[165],{6165:(w,c,n)=>{n.r(c),n.d(c,{MPreguntadosModule:()=>y});var u=n(6895),l=n(1194),g=n(5861),h=n(947),d=n(3242),p=n(1197),f=n(3998),m=n.n(f),t=n(4650),P=n(4051),v=n(5144),b=n(1649);function M(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){const i=t.CHM(o).$implicit,O=t.oxw();return t.KtG(O.validarRespuesta(i.nombre))}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.nombre)}}const C=[{path:"",component:(()=>{class e{constructor(o,s,r){this.servHttp=o,this.servUsuario=s,this.servBase=r,this.racha=0,this.pokemones=[new h.b("","")],this.num=0,this.miUsuario=new p.b("","",""),this.miPuntaje=new d.z("","","",0),this.obs=this.servHttp.getPokemones,this.sub=this.servHttp.getPokemones.subscribe(i=>{this.pokemones=i}),this.armarJuego(),this.susUsuario=this.servUsuario.getActivo.subscribe(i=>this.miUsuario=i)}ngOnDestroy(){this.sub.unsubscribe(),this.susUsuario.unsubscribe()}armarJuego(){var o=this;return(0,g.Z)(function*(){yield o.servHttp.traerpokemones().then(s=>{o.num=Math.floor(3*Math.random())})})()}validarRespuesta(o){if(o==this.pokemones[this.num].nombre)m().fire("Correcto!","Haga click para continuar","success"),this.racha++;else{m().fire("Incorrecto. Puntos finales: "+this.racha,"Haga click para continuar","error");let s=(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString();this.miPuntaje.usuario=this.miUsuario.mail,this.miPuntaje.juego="Preguntados",this.miPuntaje.fecha=s,this.miPuntaje.puntaje=this.racha,this.servBase.guardar("HighScore",this.miPuntaje),this.racha=0}this.armarJuego()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(P.O),t.Y36(v.J),t.Y36(b.j))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-preguntados"]],decls:12,vars:7,consts:[[1,"contenedor"],[1,"contenedor__titulo"],[1,"contenedor__info"],[1,"info__racha"],[1,"contenedor__juego"],["alt","Pokem\xf3n",1,"juego__imagen",3,"src"],[1,"juego__botones"],["class","botones__boton",3,"click",4,"ngFor","ngForOf"],[1,"botones__boton",3,"click"]],template:function(o,s){if(1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"\xbfCual es este pokem\xf3n?"),t.qZA(),t.TgZ(3,"div",2)(4,"h4",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4),t._UZ(7,"img",5),t.ALo(8,"async"),t.TgZ(9,"div",6),t.YNc(10,M,2,1,"button",7),t.ALo(11,"async"),t.qZA()()()),2&o){let r,i;t.xp6(5),t.hij("Racha: ",s.racha,""),t.xp6(2),t.Q6J("src",null==(r=t.lcZ(8,3,s.obs))||null==(i=r.at(s.num))?null:i.foto,t.LSH),t.xp6(3),t.Q6J("ngForOf",t.lcZ(11,5,s.obs))}},dependencies:[u.sg,u.Ov],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#305025;display:flex;flex-wrap:wrap;justify-content:center}.contenedor__titulo[_ngcontent-%COMP%]{width:100%;font-size:2.2em;font-weight:bolder;text-align:center;padding:.8em 0;margin:0;color:#aa9020}.contenedor__juego[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.juego__imagen[_ngcontent-%COMP%]{width:20em;height:20em;margin:0 2em 1.7em .5em}.juego__botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:18em;margin-top:4em}.botones__boton[_ngcontent-%COMP%]{margin:.4em 1.4em;height:3em;width:6.2em}.contenedor__info[_ngcontent-%COMP%]{width:100%;color:#ff2020;display:flex;justify-content:center}.info__vidas[_ngcontent-%COMP%]{font-size:1.5em;display:inline-block;font-weight:bolder;margin-right:1em}.info__racha[_ngcontent-%COMP%]{font-size:1.5em;display:inline-block;font-weight:bolder}"]}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(C),l.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,j]}),e})()}}]);