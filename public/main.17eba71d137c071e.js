(self.webpackChunkTP_SalaDeJuegos=self.webpackChunkTP_SalaDeJuegos||[]).push([[179],{2313:(ln,je,j)=>{"use strict";j.d(je,{nm:()=>sn});var p=j(4976),Ce=(j(4650),j(3692),j(259),j(5861)),Be=j(6881),Fe=j(4859),we=j(2090),Qe=j(1877);const pe=new Map,De={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function gt(He){return pe.get(He)||Object.assign({},De)}function kt(){return ke}const Bt="https://content-firebaseappcheck.googleapis.com/v1",rt="exchangeDebugToken",Lt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Pe{constructor(Ue,$e,Ct,xt,In){if(this.operation=Ue,this.retryPolicy=$e,this.getWaitDuration=Ct,this.lowerBound=xt,this.upperBound=In,this.pending=null,this.nextErrorWaitInterval=xt,xt>In)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ue){var $e=this;return(0,Ce.Z)(function*(){$e.stop();try{$e.pending=new we.BH,yield function it(He){return new Promise(Ue=>{setTimeout(Ue,He)})}($e.getNextRun(Ue)),$e.pending.resolve(),yield $e.pending.promise,$e.pending=new we.BH,yield $e.operation(),$e.pending.resolve(),yield $e.pending.promise,$e.process(!0).catch(()=>{})}catch(Ct){$e.retryPolicy(Ct)?$e.process(!1).catch(()=>{}):$e.stop()}})()}getNextRun(Ue){if(Ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const $e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),$e}}}const ht=new we.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wt(He,Ue){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,Ce.Z)(function*({url:He,body:Ue},$e){const Ct={"Content-Type":"application/json"},xt=$e.getImmediate({optional:!0});if(xt){const _i=yield xt.getHeartbeatsHeader();_i&&(Ct["X-Firebase-Client"]=_i)}const In={method:"POST",body:JSON.stringify(Ue),headers:Ct};let Gn,On;try{Gn=yield fetch(He,In)}catch(_i){throw ht.create("fetch-network-error",{originalErrorMessage:_i?.message})}if(200!==Gn.status)throw ht.create("fetch-status-error",{httpStatus:Gn.status});try{On=yield Gn.json()}catch(_i){throw ht.create("fetch-parse-error",{originalErrorMessage:_i?.message})}const ir=On.ttl.match(/^([\d.]+)(s)$/);if(!ir||!ir[2]||isNaN(Number(ir[1])))throw ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${On.ttl}`});const vi=1e3*Number(ir[1]),ci=Date.now();return{token:On.token,expireTimeMillis:ci+vi,issuedAtTimeMillis:ci}})).apply(this,arguments)}const _t="firebase-app-check-database",$t=1,Pt="firebase-app-check-store";let Mt=null;function kn(He,Ue){return yr.apply(this,arguments)}function yr(){return(yr=(0,Ce.Z)(function*(He,Ue){const Ct=(yield function pn(){return Mt||(Mt=new Promise((He,Ue)=>{try{const $e=indexedDB.open(_t,$t);$e.onsuccess=Ct=>{He(Ct.target.result)},$e.onerror=Ct=>{var xt;Ue(ht.create("storage-open",{originalErrorMessage:null===(xt=Ct.target.error)||void 0===xt?void 0:xt.message}))},$e.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore(Pt,{keyPath:"compositeKey"})}}catch($e){Ue(ht.create("storage-open",{originalErrorMessage:$e?.message}))}}),Mt)}()).transaction(Pt,"readwrite"),In=Ct.objectStore(Pt).put({compositeKey:He,value:Ue});return new Promise((Gn,On)=>{In.onsuccess=ir=>{Gn()},Ct.onerror=ir=>{var vi;On(ht.create("storage-set",{originalErrorMessage:null===(vi=ir.target.error)||void 0===vi?void 0:vi.message}))}})})).apply(this,arguments)}const Jt=new Qe.Yd("@firebase/app-check");function pr(He,Ue){return(0,we.hl)()?function Dn(He,Ue){return kn(function an(He){return`${He.options.appId}-${He.name}`}(He),Ue)}(He,Ue).catch($e=>{Jt.warn(`Failed to write token to IndexedDB. Error: ${$e}`)}):Promise.resolve()}function zn(){return or.apply(this,arguments)}function or(){return(or=(0,Ce.Z)(function*(){const He=kt();if(He.enabled&&He.token)return He.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ai={error:"UNKNOWN_ERROR"};function Mn(He){return we.US.encodeString(JSON.stringify(He),!1)}function bn(He){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,Ce.Z)(function*(He,Ue=!1){const $e=He.app;!function bt(He){if(!gt(He).activated)throw ht.create("use-before-activation",{appName:He.name})}($e);const Ct=gt($e);let In,xt=Ct.token;if(xt&&!$n(xt)&&(Ct.token=void 0,xt=void 0),!xt){const ir=yield Ct.cachedTokenPromise;ir&&($n(ir)?xt=ir:yield pr($e,void 0))}if(!Ue&&xt&&$n(xt))return{token:xt.token};let On,Gn=!1;if(function Fn(){return kt().enabled}()){Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=Wt(function ft(He,Ue){const{projectId:$e,appId:Ct,apiKey:xt}=He.options;return{url:`${Bt}/projects/${$e}/apps/${Ct}:${rt}?key=${xt}`,body:{debug_token:Ue}}}($e,yield zn()),He.heartbeatServiceProvider).finally(()=>{Ct.exchangeTokenPromise=void 0}),Gn=!0);const ir=yield Ct.exchangeTokenPromise;return yield pr($e,ir),Ct.token=ir,{token:ir.token}}try{Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=Ct.provider.getToken().finally(()=>{Ct.exchangeTokenPromise=void 0}),Gn=!0),xt=yield gt($e).exchangeTokenPromise}catch(ir){"appCheck/throttled"===ir.code?Jt.warn(ir.message):Jt.error(ir),In=ir}return xt?In?On=$n(xt)?{token:xt.token,internalError:In}:Hr(In):(On={token:xt.token},Ct.token=xt,yield pr($e,xt)):On=Hr(In),Gn&&function Sr(He,Ue){const $e=gt(He).tokenObservers;for(const Ct of $e)try{"EXTERNAL"===Ct.type&&null!=Ue.error?Ct.error(Ue.error):Ct.next(Ue)}catch{}}($e,On),On})).apply(this,arguments)}function Cr(He,Ue){const $e=gt(He),Ct=$e.tokenObservers.filter(xt=>xt.next!==Ue);0===Ct.length&&$e.tokenRefresher&&$e.tokenRefresher.isRunning()&&$e.tokenRefresher.stop(),$e.tokenObservers=Ct}function Yr(He){const{app:Ue}=He,$e=gt(Ue);let Ct=$e.tokenRefresher;Ct||(Ct=function jr(He){const{app:Ue}=He;return new Pe((0,Ce.Z)(function*(){let Ct;if(Ct=gt(Ue).token?yield bn(He,!0):yield bn(He),Ct.error)throw Ct.error;if(Ct.internalError)throw Ct.internalError}),()=>!0,()=>{const $e=gt(Ue);if($e.token){let Ct=$e.token.issuedAtTimeMillis+.5*($e.token.expireTimeMillis-$e.token.issuedAtTimeMillis)+3e5;return Ct=Math.min(Ct,$e.token.expireTimeMillis-3e5),Math.max(0,Ct-Date.now())}return 0},Lt.RETRIAL_MIN_WAIT,Lt.RETRIAL_MAX_WAIT)}(He),$e.tokenRefresher=Ct),!Ct.isRunning()&&$e.isTokenAutoRefreshEnabled&&Ct.start()}function $n(He){return He.expireTimeMillis-Date.now()>0}function Hr(He){return{token:Mn(ai),error:He}}class jn{constructor(Ue,$e){this.app=Ue,this.heartbeatServiceProvider=$e}_delete(){const{tokenObservers:Ue}=gt(this.app);for(const $e of Ue)Cr(this.app,$e.next);return Promise.resolve()}}const ae="app-check-internal";!function Oe(){(0,Be._registerComponent)(new Fe.wA("app-check",He=>function Ln(He,Ue){return new jn(He,Ue)}(He.getProvider("app").getImmediate(),He.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((He,Ue,$e)=>{He.getProvider(ae).initialize()})),(0,Be._registerComponent)(new Fe.wA(ae,He=>function Vn(He){return{getToken:Ue=>bn(He,Ue),addTokenListener:Ue=>function Ir(He,Ue,$e,Ct){const{app:xt}=He,In=gt(xt);if(In.tokenObservers=[...In.tokenObservers,{next:$e,error:Ct,type:Ue}],In.token&&$n(In.token)){const On=In.token;Promise.resolve().then(()=>{$e({token:On.token}),Yr(He)}).catch(()=>{})}In.cachedTokenPromise.then(()=>Yr(He))}(He,"INTERNAL",Ue),removeTokenListener:Ue=>Cr(He.app,Ue)}}(He.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Be.registerVersion)("@firebase/app-check","0.7.0")}();class sn{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(ln,je,j)=>{"use strict";j.d(je,{Ot:()=>Te,ZF:()=>qe,hX:()=>gt,z6:()=>Ce});var p=j(259),E=j(4650),G=j(4976);class Te{constructor(Pe){return Pe}}class Ce{constructor(){return(0,p.C6)()}}const we=new E.OlP("angularfire2._apps"),Qe={provide:Te,useFactory:function Fe(_e){return _e&&1===_e.length?_e[0]:new Te((0,p.Mq)())},deps:[[new E.FiY,we]]},pe={provide:Ce,deps:[[new E.FiY,we]]};function De(_e){return(Pe,it)=>{const At=Pe.runOutsideAngular(()=>_e(it));return new Te(At)}}let ke=(()=>{class _e{constructor(it){(0,p.KN)("angularfire",G.q4.full,"core"),(0,p.KN)("angularfire",G.q4.full,"app"),(0,p.KN)("angular",E.q4F.full,it.toString())}}return _e.\u0275fac=function(it){return new(it||_e)(E.LFG(E.Lbi))},_e.\u0275mod=E.oAB({type:_e}),_e.\u0275inj=E.cJS({providers:[Qe,pe]}),_e})();function gt(_e,...Pe){return{ngModule:ke,providers:[{provide:we,useFactory:De(_e),multi:!0,deps:[E.R0b,E.zs3,G.HU,...Pe]}]}}const qe=(0,G.u3)(p.ZF,!0)},2011:(ln,je,j)=>{"use strict";j.d(je,{Dh:()=>Fe,GT:()=>Ce,cc:()=>gt,on:()=>Qe,pX:()=>Te,xv:()=>we});var p=j(4650),E=j(9260);ln=j.hmd(ln);const G=["ngOnDestroy"],Te=(qe,wt,rt,Lt={})=>new Proxy(qe,{get:(_e,Pe)=>rt.runOutsideAngular(()=>{var it;if(qe[Pe])return!(null===(it=Lt?.spy)||void 0===it)&&it.get&&Lt.spy.get(Pe,qe[Pe]),qe[Pe];if(G.indexOf(Pe)>-1)return()=>{};const At=wt.toPromise().then(ht=>{const ze=ht&&ht[Pe];return"function"==typeof ze?ze.bind(ht):ze&&ze.then?ze.then(bt=>rt.run(()=>bt)):rt.run(()=>ze)});return new Proxy(()=>{},{get:(ht,ze)=>At[ze],apply:(ht,ze,bt)=>At.then(fn=>{var Vt;const Wt=fn&&fn(...bt);return!(null===(Vt=Lt?.spy)||void 0===Vt)&&Vt.apply&&Lt.spy.apply(Pe,bt,Wt),Wt})})})}),Ce=(qe,wt)=>{wt.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Lt=>{Object.defineProperty(qe.prototype,Lt,Object.getOwnPropertyDescriptor(rt.prototype||rt,Lt))})})};class Be{constructor(wt){return wt}}const Fe=new p.OlP("angularfire2.app.options"),we=new p.OlP("angularfire2.app.name");function Qe(qe,wt,rt){const _e="object"==typeof rt&&rt||{};_e.name=_e.name||"string"==typeof rt&&rt||"[DEFAULT]";const it=E.Z.apps.filter(At=>At&&At.name===_e.name)[0]||wt.runOutsideAngular(()=>E.Z.initializeApp(qe,_e));try{JSON.stringify(qe)!==JSON.stringify(it.options)&&pe("error",`${it.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Be(it)}const pe=(qe,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[qe](...wt)};function gt(qe,wt,rt,Lt,_e){const[,Pe,it]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===qe)||[];if(Pe)return function yt(qe,wt){try{return qe.toString()===wt.toString()}catch{return qe===wt}}(_e,it)||(Bt("error",`${wt} was already initialized on the ${rt} Firebase App with different settings.${kt?" You may need to reload as Firebase is not HMR aware.":""}`),Bt("warn",{is:_e,was:it})),Pe;{const At=Lt();return globalThis.\u0275AngularfireInstanceCache.push([qe,At,_e]),At}}const kt=!!ln.hot,Bt=(qe,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[qe](...wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ln,je,j)=>{"use strict";j.d(je,{q4:()=>pa,iC:()=>tr,HU:()=>Re,vb:()=>w,JM:()=>y,u3:()=>nr});var p=j(4650),E=j(259),G=j(5861),Te=j(6881),Ce=j(2090),Be=j(4859),Fe=j(1877);const we=(D,P)=>P.some(z=>D instanceof z);let Qe,pe;const gt=new WeakMap,yt=new WeakMap,kt=new WeakMap,Bt=new WeakMap,qe=new WeakMap;let Lt={get(D,P,z){if(D instanceof IDBTransaction){if("done"===P)return yt.get(D);if("objectStoreNames"===P)return D.objectStoreNames||kt.get(D);if("store"===P)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return At(D[P])},set:(D,P,z)=>(D[P]=z,!0),has:(D,P)=>D instanceof IDBTransaction&&("done"===P||"store"===P)||P in D};function it(D){return"function"==typeof D?function Pe(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...P){return D.apply(ht(this),P),At(gt.get(this))}:function(...P){return At(D.apply(ht(this),P))}:function(P,...z){const fe=D.call(ht(this),P,...z);return kt.set(fe,P.sort?P.sort():[P]),At(fe)}}(D):(D instanceof IDBTransaction&&function rt(D){if(yt.has(D))return;const P=new Promise((z,fe)=>{const Ne=()=>{D.removeEventListener("complete",xe),D.removeEventListener("error",Ye),D.removeEventListener("abort",Ye)},xe=()=>{z(),Ne()},Ye=()=>{fe(D.error||new DOMException("AbortError","AbortError")),Ne()};D.addEventListener("complete",xe),D.addEventListener("error",Ye),D.addEventListener("abort",Ye)});yt.set(D,P)}(D),we(D,function De(){return Qe||(Qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Lt):D)}function At(D){if(D instanceof IDBRequest)return function wt(D){const P=new Promise((z,fe)=>{const Ne=()=>{D.removeEventListener("success",xe),D.removeEventListener("error",Ye)},xe=()=>{z(At(D.result)),Ne()},Ye=()=>{fe(D.error),Ne()};D.addEventListener("success",xe),D.addEventListener("error",Ye)});return P.then(z=>{z instanceof IDBCursor&&gt.set(z,D)}).catch(()=>{}),qe.set(P,D),P}(D);if(Bt.has(D))return Bt.get(D);const P=it(D);return P!==D&&(Bt.set(D,P),qe.set(P,D)),P}const ht=D=>qe.get(D),fn=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],Wt=new Map;function Gt(D,P){if(!(D instanceof IDBDatabase)||P in D||"string"!=typeof P)return;if(Wt.get(P))return Wt.get(P);const z=P.replace(/FromIndex$/,""),fe=P!==z,Ne=Vt.includes(z);if(!(z in(fe?IDBIndex:IDBObjectStore).prototype)||!Ne&&!fn.includes(z))return;const xe=function(){var Ye=(0,G.Z)(function*(Kt,...Zt){const An=this.transaction(Kt,Ne?"readwrite":"readonly");let Jn=An.store;return fe&&(Jn=Jn.index(Zt.shift())),(yield Promise.all([Jn[z](...Zt),Ne&&An.done]))[0]});return function(Zt){return Ye.apply(this,arguments)}}();return Wt.set(P,xe),xe}!function _e(D){Lt=D(Lt)}(D=>({...D,get:(P,z,fe)=>Gt(P,z)||D.get(P,z,fe),has:(P,z)=>!!Gt(P,z)||D.has(P,z)}));const st="@firebase/installations",ot="0.6.4",ft=1e4,_t=`w:${ot}`,$t="FIS_v2",Pt="https://firebaseinstallations.googleapis.com/v1",jt=36e5,Dn=new Ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nn(D){return D instanceof Ce.ZR&&D.code.includes("request-failed")}function Sn({projectId:D}){return`${Pt}/projects/${D}/installations`}function kn(D){return{token:D.token,requestStatus:2,expiresIn:Tr(D.expiresIn),creationTime:Date.now()}}function yr(D,P){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,G.Z)(function*(D,P){const fe=(yield P.json()).error;return Dn.create("request-failed",{requestName:D,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function cr({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Jt(D){return sr.apply(this,arguments)}function sr(){return(sr=(0,G.Z)(function*(D){const P=yield D();return P.status>=500&&P.status<600?D():P})).apply(this,arguments)}function Tr(D){return Number(D.replace("s","000"))}function un(){return(un=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:P},{fid:z}){const fe=Sn(D),Ne=cr(D),xe=P.getImmediate({optional:!0});if(xe){const An=yield xe.getHeartbeatsHeader();An&&Ne.append("x-firebase-client",An)}const Kt={method:"POST",headers:Ne,body:JSON.stringify({fid:z,authVersion:$t,appId:D.appId,sdkVersion:_t})},Zt=yield Jt(()=>fetch(fe,Kt));if(Zt.ok){const An=yield Zt.json();return{fid:An.fid||z,registrationStatus:2,refreshToken:An.refreshToken,authToken:kn(An.authToken)}}throw yield yr("Create Installation",Zt)})).apply(this,arguments)}function Fn(D){return new Promise(P=>{setTimeout(P,D)})}const or=/^[cdef][\w-]{21}$/,qr="";function ai(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const z=function Mn(D){return function zn(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return or.test(z)?z:qr}catch{return qr}}function bn(D){return`${D.appName}!${D.appId}`}const Xt=new Map;function St(D,P){const z=bn(D);Cr(z,P),function Yr(D,P){const z=function Sr(){return!jr&&"BroadcastChannel"in self&&(jr=new BroadcastChannel("[Firebase] FID Change"),jr.onmessage=D=>{Cr(D.data.key,D.data.fid)}),jr}();z&&z.postMessage({key:D,fid:P}),function $n(){0===Xt.size&&jr&&(jr.close(),jr=null)}()}(z,P)}function Cr(D,P){const z=Xt.get(D);if(z)for(const fe of z)fe(P)}let jr=null;const Hr="firebase-installations-database",jn=1,Ln="firebase-installations-store";let Vn=null;function hr(){return Vn||(Vn=function ze(D,P,{blocked:z,upgrade:fe,blocking:Ne,terminated:xe}={}){const Ye=indexedDB.open(D,P),Kt=At(Ye);return fe&&Ye.addEventListener("upgradeneeded",Zt=>{fe(At(Ye.result),Zt.oldVersion,Zt.newVersion,At(Ye.transaction))}),z&&Ye.addEventListener("blocked",()=>z()),Kt.then(Zt=>{xe&&Zt.addEventListener("close",()=>xe()),Ne&&Zt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Kt}(Hr,jn,{upgrade:(D,P)=>{0===P&&D.createObjectStore(Ln)}})),Vn}function gr(D,P){return nt.apply(this,arguments)}function nt(){return(nt=(0,G.Z)(function*(D,P){const z=bn(D),Ne=(yield hr()).transaction(Ln,"readwrite"),xe=Ne.objectStore(Ln),Ye=yield xe.get(z);return yield xe.put(P,z),yield Ne.done,(!Ye||Ye.fid!==P.fid)&&St(D,P.fid),P})).apply(this,arguments)}function be(D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(D){const P=bn(D),fe=(yield hr()).transaction(Ln,"readwrite");yield fe.objectStore(Ln).delete(P),yield fe.done})).apply(this,arguments)}function Ot(D,P){return vt.apply(this,arguments)}function vt(){return(vt=(0,G.Z)(function*(D,P){const z=bn(D),Ne=(yield hr()).transaction(Ln,"readwrite"),xe=Ne.objectStore(Ln),Ye=yield xe.get(z),Kt=P(Ye);return void 0===Kt?yield xe.delete(z):yield xe.put(Kt,z),yield Ne.done,Kt&&(!Ye||Ye.fid!==Kt.fid)&&St(D,Kt.fid),Kt})).apply(this,arguments)}function ge(D){return he.apply(this,arguments)}function he(){return he=(0,G.Z)(function*(D){let P;const z=yield Ot(D.appConfig,fe=>{const Ne=function ee(D){return Ae(D||{fid:ai(),registrationStatus:0})}(fe),xe=function ne(D,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(Dn.create("app-offline"))};const z={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},fe=function J(D,P){return Se.apply(this,arguments)}(D,z);return{installationEntry:z,registrationPromise:fe}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:ye(D)}:{installationEntry:P}}(D,Ne);return P=xe.registrationPromise,xe.installationEntry});return z.fid===qr?{installationEntry:yield P}:{installationEntry:z,registrationPromise:P}}),he.apply(this,arguments)}function Se(){return Se=(0,G.Z)(function*(D,P){try{const z=yield function Hn(D,P){return un.apply(this,arguments)}(D,P);return gr(D.appConfig,z)}catch(z){throw nn(z)&&409===z.customData.serverCode?yield be(D.appConfig):yield gr(D.appConfig,{fid:P.fid,registrationStatus:0}),z}}),Se.apply(this,arguments)}function ye(D){return ve.apply(this,arguments)}function ve(){return(ve=(0,G.Z)(function*(D){let P=yield le(D.appConfig);for(;1===P.registrationStatus;)yield Fn(100),P=yield le(D.appConfig);if(0===P.registrationStatus){const{installationEntry:z,registrationPromise:fe}=yield ge(D);return fe||z}return P})).apply(this,arguments)}function le(D){return Ot(D,P=>{if(!P)throw Dn.create("installation-not-found");return Ae(P)})}function Ae(D){return function Je(D){return 1===D.registrationStatus&&D.registrationTime+ft<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Yt(){return(Yt=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:P},z){const fe=function cn(D,{fid:P}){return`${Sn(D)}/${P}/authTokens:generate`}(D,z),Ne=function an(D,{refreshToken:P}){const z=cr(D);return z.append("Authorization",function pr(D){return`${$t} ${D}`}(P)),z}(D,z),xe=P.getImmediate({optional:!0});if(xe){const An=yield xe.getHeartbeatsHeader();An&&Ne.append("x-firebase-client",An)}const Kt={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:_t,appId:D.appId}})},Zt=yield Jt(()=>fetch(fe,Kt));if(Zt.ok)return kn(yield Zt.json());throw yield yr("Generate Auth Token",Zt)})).apply(this,arguments)}function ar(D){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,G.Z)(function*(D,P=!1){let z;const fe=yield Ot(D.appConfig,xe=>{if(!dt(xe))throw Dn.create("not-registered");const Ye=xe.authToken;if(!P&&function Tt(D){return 2===D.requestStatus&&!function sn(D){const P=Date.now();return P<D.creationTime||D.creationTime+D.expiresIn<P+jt}(D)}(Ye))return xe;if(1===Ye.requestStatus)return z=function ut(D,P){return ce.apply(this,arguments)}(D,P),xe;{if(!navigator.onLine)throw Dn.create("app-offline");const Kt=function Pn(D){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:P})}(xe);return z=function ae(D,P){return Oe.apply(this,arguments)}(D,Kt),Kt}});return z?yield z:fe.authToken}),Vr.apply(this,arguments)}function ce(){return(ce=(0,G.Z)(function*(D,P){let z=yield H(D.appConfig);for(;1===z.authToken.requestStatus;)yield Fn(100),z=yield H(D.appConfig);const fe=z.authToken;return 0===fe.requestStatus?ar(D,P):fe})).apply(this,arguments)}function H(D){return Ot(D,P=>{if(!dt(P))throw Dn.create("not-registered");return function Xn(D){return 1===D.requestStatus&&D.requestTime+ft<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function Oe(){return Oe=(0,G.Z)(function*(D,P){try{const z=yield function It(D,P){return Yt.apply(this,arguments)}(D,P),fe=Object.assign(Object.assign({},P),{authToken:z});return yield gr(D.appConfig,fe),z}catch(z){if(!nn(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const fe=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield gr(D.appConfig,fe)}else yield be(D.appConfig);throw z}}),Oe.apply(this,arguments)}function dt(D){return void 0!==D&&2===D.registrationStatus}function ei(){return(ei=(0,G.Z)(function*(D){const P=D,{installationEntry:z,registrationPromise:fe}=yield ge(P);return fe?fe.catch(console.error):ar(P).catch(console.error),z.fid})).apply(this,arguments)}function Ei(){return Ei=(0,G.Z)(function*(D,P=!1){const z=D;return yield function Zr(D){return Ht.apply(this,arguments)}(z),(yield ar(z,P)).token}),Ei.apply(this,arguments)}function Ht(){return(Ht=(0,G.Z)(function*(D){const{registrationPromise:P}=yield ge(D);P&&(yield P)})).apply(this,arguments)}function Ue(D){return Dn.create("missing-app-config-values",{valueName:D})}const $e="installations",xt=D=>{const P=D.getProvider("app").getImmediate(),z=function He(D){if(!D||!D.options)throw Ue("App Configuration");if(!D.name)throw Ue("App Name");const P=["projectId","apiKey","appId"];for(const z of P)if(!D.options[z])throw Ue(z);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(P);return{app:P,appConfig:z,heartbeatServiceProvider:(0,Te._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},In=D=>{const P=D.getProvider("app").getImmediate(),z=(0,Te._getProvider)(P,$e).getImmediate();return{getId:()=>function br(D){return ei.apply(this,arguments)}(z),getToken:Ne=>function Yi(D){return Ei.apply(this,arguments)}(z,Ne)}};(function Gn(){(0,Te._registerComponent)(new Be.wA($e,xt,"PUBLIC")),(0,Te._registerComponent)(new Be.wA("installations-internal",In,"PRIVATE"))})(),(0,Te.registerVersion)(st,ot),(0,Te.registerVersion)(st,ot,"esm2017");const On="@firebase/remote-config",Oi=new Ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ls{constructor(P,z,fe,Ne){this.client=P,this.storage=z,this.storageCache=fe,this.logger=Ne}isCachedDataFresh(P,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-z,Ne=fe<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Ne}.`),Ne}fetch(P){var z=this;return(0,G.Z)(function*(){const[fe,Ne]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Ne&&z.isCachedDataFresh(P.cacheMaxAgeMillis,fe))return Ne;P.eTag=Ne&&Ne.eTag;const xe=yield z.client.fetch(P),Ye=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&Ye.push(z.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(Ye),xe})()}}function Vi(D=navigator){return D.languages&&D.languages[0]||D.language}class Fs{constructor(P,z,fe,Ne,xe,Ye){this.firebaseInstallations=P,this.sdkVersion=z,this.namespace=fe,this.projectId=Ne,this.apiKey=xe,this.appId=Ye}fetch(P){var z=this;return(0,G.Z)(function*(){const[fe,Ne]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,Kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Zt={sdk_version:z.sdkVersion,app_instance_id:fe,app_instance_id_token:Ne,app_id:z.appId,language_code:Vi()},An={method:"POST",headers:Kt,body:JSON.stringify(Zt)},Jn=fetch(Ye,An),lr=new Promise((Bn,Wn)=>{P.signal.addEventListener(()=>{const Xr=new Error("The operation was aborted.");Xr.name="AbortError",Wn(Xr)})});let ys;try{yield Promise.race([Jn,lr]),ys=yield Jn}catch(Bn){let Wn="fetch-client-network";throw"AbortError"===Bn?.name&&(Wn="fetch-timeout"),Oi.create(Wn,{originalErrorMessage:Bn?.message})}let Li=ys.status;const Na=ys.headers.get("ETag")||void 0;let Hu,Un;if(200===ys.status){let Bn;try{Bn=yield ys.json()}catch(Wn){throw Oi.create("fetch-client-parse",{originalErrorMessage:Wn?.message})}Hu=Bn.entries,Un=Bn.state}if("INSTANCE_STATE_UNSPECIFIED"===Un?Li=500:"NO_CHANGE"===Un?Li=304:("NO_TEMPLATE"===Un||"EMPTY_CONFIG"===Un)&&(Hu={}),304!==Li&&200!==Li)throw Oi.create("fetch-status",{httpStatus:Li});return{status:Li,eTag:Na,config:Hu}})()}}class Ys{constructor(P,z){this.client=P,this.storage=z}fetch(P){var z=this;return(0,G.Z)(function*(){const fe=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(P,fe)})()}attemptFetch(P,{throttleEndTimeMillis:z,backoffCount:fe}){var Ne=this;return(0,G.Z)(function*(){yield function ra(D,P){return new Promise((z,fe)=>{const Ne=Math.max(P-Date.now(),0),xe=setTimeout(z,Ne);D.addEventListener(()=>{clearTimeout(xe),fe(Oi.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,z);try{const xe=yield Ne.client.fetch(P);return yield Ne.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function Wo(D){if(!(D instanceof Ce.ZR&&D.customData))return!1;const P=Number(D.customData.httpStatus);return 429===P||500===P||503===P||504===P}(xe))throw xe;const Ye={throttleEndTimeMillis:Date.now()+(0,Ce.$s)(fe),backoffCount:fe+1};return yield Ne.storage.setThrottleMetadata(Ye),Ne.attemptFetch(P,Ye)}})()}}class Ko{constructor(P,z,fe,Ne,xe){this.app=P,this._client=z,this._storageCache=fe,this._storage=Ne,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mi(D,P){const z=D.target.error||void 0;return Oi.create(P,{originalErrorMessage:z&&z?.message})}const Ui="app_namespace_store";class Xi{constructor(P,z,fe,Ne=function wo(){return new Promise((D,P)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=fe=>{P(Mi(fe,"storage-open"))},z.onsuccess=fe=>{D(fe.target.result)},z.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(Ui,{keyPath:"compositeKey"})}}catch(z){P(Oi.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=P,this.appName=z,this.namespace=fe,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var z=this;return(0,G.Z)(function*(){const fe=yield z.openDbPromise;return new Promise((Ne,xe)=>{const Kt=fe.transaction([Ui],"readonly").objectStore(Ui),Zt=z.createCompositeKey(P);try{const An=Kt.get(Zt);An.onerror=Jn=>{xe(Mi(Jn,"storage-get"))},An.onsuccess=Jn=>{const lr=Jn.target.result;Ne(lr?lr.value:void 0)}}catch(An){xe(Oi.create("storage-get",{originalErrorMessage:An?.message}))}})})()}set(P,z){var fe=this;return(0,G.Z)(function*(){const Ne=yield fe.openDbPromise;return new Promise((xe,Ye)=>{const Zt=Ne.transaction([Ui],"readwrite").objectStore(Ui),An=fe.createCompositeKey(P);try{const Jn=Zt.put({compositeKey:An,value:z});Jn.onerror=lr=>{Ye(Mi(lr,"storage-set"))},Jn.onsuccess=()=>{xe()}}catch(Jn){Ye(Oi.create("storage-set",{originalErrorMessage:Jn?.message}))}})})()}delete(P){var z=this;return(0,G.Z)(function*(){const fe=yield z.openDbPromise;return new Promise((Ne,xe)=>{const Kt=fe.transaction([Ui],"readwrite").objectStore(Ui),Zt=z.createCompositeKey(P);try{const An=Kt.delete(Zt);An.onerror=Jn=>{xe(Mi(Jn,"storage-delete"))},An.onsuccess=()=>{Ne()}}catch(An){xe(Oi.create("storage-delete",{originalErrorMessage:An?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class ws{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,G.Z)(function*(){const z=P.storage.getLastFetchStatus(),fe=P.storage.getLastSuccessfulFetchTimestampMillis(),Ne=P.storage.getActiveConfig(),xe=yield z;xe&&(P.lastFetchStatus=xe);const Ye=yield fe;Ye&&(P.lastSuccessfulFetchTimestampMillis=Ye);const Kt=yield Ne;Kt&&(P.activeConfig=Kt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Vs(){return Js.apply(this,arguments)}function Js(){return(Js=(0,G.Z)(function*(){if(!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}!function xi(){(0,Te._registerComponent)(new Be.wA("remote-config",function D(P,{instanceIdentifier:z}){const fe=P.getProvider("app").getImmediate(),Ne=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Oi.create("registration-window");if(!(0,Ce.hl)())throw Oi.create("indexed-db-unavailable");const{projectId:xe,apiKey:Ye,appId:Kt}=fe.options;if(!xe)throw Oi.create("registration-project-id");if(!Ye)throw Oi.create("registration-api-key");if(!Kt)throw Oi.create("registration-app-id");const Zt=new Xi(Kt,fe.name,z=z||"firebase"),An=new ws(Zt),Jn=new Fe.Yd(On);Jn.logLevel=Fe.in.ERROR;const lr=new Fs(Ne,Te.SDK_VERSION,z,xe,Ye,Kt),ys=new Ys(lr,Zt),Li=new ls(ys,Zt,An,Jn),Na=new Ko(fe,Li,An,Zt,Jn);return function bi(D){const P=(0,Ce.m9)(D);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(On,"0.4.4"),(0,Te.registerVersion)(On,"0.4.4","esm2017")}();const Oo=(D,P)=>P.some(z=>D instanceof z);let Gi,Ts;const Xs=new WeakMap,Bs=new WeakMap,ti=new WeakMap,ds=new WeakMap,ni=new WeakMap;let eo={get(D,P,z){if(D instanceof IDBTransaction){if("done"===P)return Bs.get(D);if("objectStoreNames"===P)return D.objectStoreNames||ti.get(D);if("store"===P)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return mr(D[P])},set:(D,P,z)=>(D[P]=z,!0),has:(D,P)=>D instanceof IDBTransaction&&("done"===P||"store"===P)||P in D};function No(D){return"function"==typeof D?function to(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ss(){return Ts||(Ts=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...P){return D.apply(wi(this),P),mr(Xs.get(this))}:function(...P){return mr(D.apply(wi(this),P))}:function(P,...z){const fe=D.call(wi(this),P,...z);return ti.set(fe,P.sort?P.sort():[P]),mr(fe)}}(D):(D instanceof IDBTransaction&&function es(D){if(Bs.has(D))return;const P=new Promise((z,fe)=>{const Ne=()=>{D.removeEventListener("complete",xe),D.removeEventListener("error",Ye),D.removeEventListener("abort",Ye)},xe=()=>{z(),Ne()},Ye=()=>{fe(D.error||new DOMException("AbortError","AbortError")),Ne()};D.addEventListener("complete",xe),D.addEventListener("error",Ye),D.addEventListener("abort",Ye)});Bs.set(D,P)}(D),Oo(D,function Us(){return Gi||(Gi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,eo):D)}function mr(D){if(D instanceof IDBRequest)return function zr(D){const P=new Promise((z,fe)=>{const Ne=()=>{D.removeEventListener("success",xe),D.removeEventListener("error",Ye)},xe=()=>{z(mr(D.result)),Ne()},Ye=()=>{fe(D.error),Ne()};D.addEventListener("success",xe),D.addEventListener("error",Ye)});return P.then(z=>{z instanceof IDBCursor&&Xs.set(z,D)}).catch(()=>{}),ni.set(P,D),P}(D);if(ds.has(D))return ds.get(D);const P=No(D);return P!==D&&(ds.set(D,P),ni.set(P,D)),P}const wi=D=>ni.get(D);function no(D,P,{blocked:z,upgrade:fe,blocking:Ne,terminated:xe}={}){const Ye=indexedDB.open(D,P),Kt=mr(Ye);return fe&&Ye.addEventListener("upgradeneeded",Zt=>{fe(mr(Ye.result),Zt.oldVersion,Zt.newVersion,mr(Ye.transaction))}),z&&Ye.addEventListener("blocked",()=>z()),Kt.then(Zt=>{xe&&Zt.addEventListener("close",()=>xe()),Ne&&Zt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Kt}function pi(D,{blocked:P}={}){const z=indexedDB.deleteDatabase(D);return P&&z.addEventListener("blocked",()=>P()),mr(z).then(()=>{})}const wa=["get","getKey","getAll","getAllKeys","count"],Ni=["put","add","delete","clear"],ro=new Map;function Wi(D,P){if(!(D instanceof IDBDatabase)||P in D||"string"!=typeof P)return;if(ro.get(P))return ro.get(P);const z=P.replace(/FromIndex$/,""),fe=P!==z,Ne=Ni.includes(z);if(!(z in(fe?IDBIndex:IDBObjectStore).prototype)||!Ne&&!wa.includes(z))return;const xe=function(){var Ye=(0,G.Z)(function*(Kt,...Zt){const An=this.transaction(Kt,Ne?"readwrite":"readonly");let Jn=An.store;return fe&&(Jn=Jn.index(Zt.shift())),(yield Promise.all([Jn[z](...Zt),Ne&&An.done]))[0]});return function(Zt){return Ye.apply(this,arguments)}}();return ro.set(P,xe),xe}!function di(D){eo=D(eo)}(D=>({...D,get:(P,z,fe)=>Wi(P,z)||D.get(P,z,fe),has:(P,z)=>!!Wi(P,z)||D.has(P,z)}));const qn="/firebase-messaging-sw.js",uo="/firebase-cloud-messaging-push-scope",Es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ko="https://fcmregistrations.googleapis.com/v1",ts="google.c.a.c_id",As="google.c.a.c_l",Eo="google.c.a.ts",bo="google.c.a.e";var O=(()=>{return(D=O||(O={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",O;var D})();function F(D){const P=new Uint8Array(D);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function N(D){const z=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(z),Ne=new Uint8Array(fe.length);for(let xe=0;xe<fe.length;++xe)Ne[xe]=fe.charCodeAt(xe);return Ne}const re="fcm_token_details_db",Xe=5,gn="fcm_token_object_Store";function Jr(){return Jr=(0,G.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(re))return null;let P=null;return(yield no(re,Xe,{upgrade:(fe=(0,G.Z)(function*(Ne,xe,Ye,Kt){var Zt;if(xe<2||!Ne.objectStoreNames.contains(gn))return;const An=Kt.objectStore(gn),Jn=yield An.index("fcmSenderId").get(D);if(yield An.clear(),Jn)if(2===xe){const lr=Jn;if(!lr.auth||!lr.p256dh||!lr.endpoint)return;P={token:lr.fcmToken,createTime:null!==(Zt=lr.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:lr.auth,p256dh:lr.p256dh,endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:"string"==typeof lr.vapidKey?lr.vapidKey:F(lr.vapidKey)}}}else if(3===xe){const lr=Jn;P={token:lr.fcmToken,createTime:lr.createTime,subscriptionOptions:{auth:F(lr.auth),p256dh:F(lr.p256dh),endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:F(lr.vapidKey)}}}else if(4===xe){const lr=Jn;P={token:lr.fcmToken,createTime:lr.createTime,subscriptionOptions:{auth:F(lr.auth),p256dh:F(lr.p256dh),endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:F(lr.vapidKey)}}}}),function(xe,Ye,Kt,Zt){return fe.apply(this,arguments)})})).close(),yield pi(re),yield pi("fcm_vapid_details_db"),yield pi("undefined"),function hs(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:P}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var fe}),Jr.apply(this,arguments)}const Ms="firebase-messaging-database",io=1,Pi="firebase-messaging-store";let Ki=null;function Ri(){return Ki||(Ki=no(Ms,io,{upgrade:(D,P)=>{0===P&&D.createObjectStore(Pi)}})),Ki}function Ii(D){return lo.apply(this,arguments)}function lo(){return lo=(0,G.Z)(function*(D){const P=qi(D),fe=yield(yield Ri()).transaction(Pi).objectStore(Pi).get(P);if(fe)return fe;{const Ne=yield function Rr(D){return Jr.apply(this,arguments)}(D.appConfig.senderId);if(Ne)return yield $s(D,Ne),Ne}}),lo.apply(this,arguments)}function $s(D,P){return xs.apply(this,arguments)}function xs(){return(xs=(0,G.Z)(function*(D,P){const z=qi(D),Ne=(yield Ri()).transaction(Pi,"readwrite");return yield Ne.objectStore(Pi).put(P,z),yield Ne.done,P})).apply(this,arguments)}function js(){return(js=(0,G.Z)(function*(D){const P=qi(D),fe=(yield Ri()).transaction(Pi,"readwrite");yield fe.objectStore(Pi).delete(P),yield fe.done})).apply(this,arguments)}function qi({appConfig:D}){return D.appId}const gi=new Ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ps(D,P){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,G.Z)(function*(D,P){const z=yield bs(D),fe=Vo(P),Ne={method:"POST",headers:z,body:JSON.stringify(fe)};let xe;try{xe=yield(yield fetch(ia(D.appConfig),Ne)).json()}catch(Ye){throw gi.create("token-subscribe-failed",{errorInfo:Ye?.toString()})}if(xe.error)throw gi.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw gi.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function co(){return(co=(0,G.Z)(function*(D,P){const z=yield bs(D),fe=Vo(P.subscriptionOptions),Ne={method:"PATCH",headers:z,body:JSON.stringify(fe)};let xe;try{xe=yield(yield fetch(`${ia(D.appConfig)}/${P.token}`,Ne)).json()}catch(Ye){throw gi.create("token-update-failed",{errorInfo:Ye?.toString()})}if(xe.error)throw gi.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw gi.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Gr(D,P){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,G.Z)(function*(D,P){const fe={method:"DELETE",headers:yield bs(D)};try{const xe=yield(yield fetch(`${ia(D.appConfig)}/${P}`,fe)).json();if(xe.error)throw gi.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(Ne){throw gi.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function ia({projectId:D}){return`${ko}/projects/${D}/registrations`}function bs(D){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,G.Z)(function*({appConfig:D,installations:P}){const z=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function Vo({p256dh:D,auth:P,endpoint:z,vapidKey:fe}){const Ne={web:{endpoint:z,auth:P,p256dh:D}};return fe!==Es&&(Ne.web.applicationPubKey=fe),Ne}const ps=6048e5;function Qo(){return Qo=(0,G.Z)(function*(D){const P=yield function fo(D,P){return Ma.apply(this,arguments)}(D.swRegistration,D.vapidKey),z={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:P.endpoint,auth:F(P.getKey("auth")),p256dh:F(P.getKey("p256dh"))},fe=yield Ii(D.firebaseDependencies);if(fe){if(function ms(D,P){return P.vapidKey===D.vapidKey&&P.endpoint===D.endpoint&&P.auth===D.auth&&P.p256dh===D.p256dh}(fe.subscriptionOptions,z))return Date.now()>=fe.createTime+ps?function vr(D,P){return sa.apply(this,arguments)}(D,{token:fe.token,createTime:Date.now(),subscriptionOptions:z}):fe.token;try{yield Gr(D.firebaseDependencies,fe.token)}catch(Ne){console.warn(Ne)}return gs(D.firebaseDependencies,z)}return gs(D.firebaseDependencies,z)}),Qo.apply(this,arguments)}function ii(){return ii=(0,G.Z)(function*(D){const P=yield Ii(D.firebaseDependencies);P&&(yield Gr(D.firebaseDependencies,P.token),yield function Fo(D){return js.apply(this,arguments)}(D.firebaseDependencies));const z=yield D.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),ii.apply(this,arguments)}function sa(){return sa=(0,G.Z)(function*(D,P){try{const z=yield function fs(D,P){return co.apply(this,arguments)}(D.firebaseDependencies,P),fe=Object.assign(Object.assign({},P),{token:z,createTime:Date.now()});return yield $s(D.firebaseDependencies,fe),z}catch(z){throw yield function ri(D){return ii.apply(this,arguments)}(D),z}}),sa.apply(this,arguments)}function gs(D,P){return Co.apply(this,arguments)}function Co(){return(Co=(0,G.Z)(function*(D,P){const fe={token:yield Ps(D,P),createTime:Date.now(),subscriptionOptions:P};return yield $s(D,fe),fe.token})).apply(this,arguments)}function Ma(){return(Ma=(0,G.Z)(function*(D,P){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:N(P)})})).apply(this,arguments)}function Do(D){const P={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ua(D,P){if(!P.notification)return;D.notification={};const z=P.notification.title;z&&(D.notification.title=z);const fe=P.notification.body;fe&&(D.notification.body=fe);const Ne=P.notification.image;Ne&&(D.notification.image=Ne);const xe=P.notification.icon;xe&&(D.notification.icon=xe)}(P,D),function xa(D,P){P.data&&(D.data=P.data)}(P,D),function R(D,P){var z,fe,Ne,xe,Ye;if(!(P.fcmOptions||null!==(z=P.notification)&&void 0!==z&&z.click_action))return;D.fcmOptions={};const Kt=null!==(Ne=null===(fe=P.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ne?Ne:null===(xe=P.notification)||void 0===xe?void 0:xe.click_action;Kt&&(D.fcmOptions.link=Kt);const Zt=null===(Ye=P.fcmOptions)||void 0===Ye?void 0:Ye.analytics_label;Zt&&(D.fcmOptions.analyticsLabel=Zt)}(P,D),P}function L(D,P){const z=[];for(let fe=0;fe<D.length;fe++)z.push(D.charAt(fe)),fe<P.length&&z.push(P.charAt(fe));return z.join("")}function Ie(D){return gi.create("missing-app-config-values",{valueName:D})}L("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),L("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lt{constructor(P,z,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function te(D){if(!D||!D.options)throw Ie("App Configuration Object");if(!D.name)throw Ie("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:z}=D;for(const fe of P)if(!z[fe])throw Ie(fe);return{appName:D.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Ne,installations:z,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function I(D){return M.apply(this,arguments)}function M(){return(M=(0,G.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(qn,{scope:uo}),D.swRegistration.update().catch(()=>{})}catch(P){throw gi.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function me(){return(me=(0,G.Z)(function*(D,P){if(!P&&!D.swRegistration&&(yield I(D)),P||!D.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw gi.create("invalid-sw-registration");D.swRegistration=P}})).apply(this,arguments)}function zt(){return(zt=(0,G.Z)(function*(D,P){P?D.vapidKey=P:D.vapidKey||(D.vapidKey=Es)})).apply(this,arguments)}function _r(){return _r=(0,G.Z)(function*(D,P){if(!navigator)throw gi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gi.create("permission-blocked");return yield function et(D,P){return zt.apply(this,arguments)}(D,P?.vapidKey),yield function Z(D,P){return me.apply(this,arguments)}(D,P?.serviceWorkerRegistration),function ho(D){return Qo.apply(this,arguments)}(D)}),_r.apply(this,arguments)}function Or(){return(Or=(0,G.Z)(function*(D,P,z){const fe=function si(D){switch(D){case O.NOTIFICATION_CLICKED:return"notification_open";case O.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:z[ts],message_name:z[As],message_time:z[Eo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function en(){return en=(0,G.Z)(function*(D,P){const z=P.data;if(!z.isFirebaseMessaging)return;D.onMessageHandler&&z.messageType===O.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Do(z)):D.onMessageHandler.next(Do(z)));const fe=z.data;(function W(D){return"object"==typeof D&&!!D&&ts in D})(fe)&&"1"===fe[bo]&&(yield function Et(D,P,z){return Or.apply(this,arguments)}(D,z.messageType,fe))}),en.apply(this,arguments)}const Cn="@firebase/messaging",Qt=D=>{const P=new lt(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function po(D,P){return en.apply(this,arguments)}(P,z)),P},pt=D=>{const P=D.getProvider("messaging").getImmediate();return{getToken:fe=>function rr(D,P){return _r.apply(this,arguments)}(P,fe)}};function Bi(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,G.Z)(function*(){try{yield(0,Ce.eu)()}catch{return!1}return typeof window<"u"&&(0,Ce.hl)()&&(0,Ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ut(){(0,Te._registerComponent)(new Be.wA("messaging",Qt,"PUBLIC")),(0,Te._registerComponent)(new Be.wA("messaging-internal",pt,"PRIVATE")),(0,Te.registerVersion)(Cn,"0.12.4"),(0,Te.registerVersion)(Cn,"0.12.4","esm2017")}();const Xa="analytics",Du="firebase_id",ur="origin",Ea=6e4,Bu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mi="https://www.googletagmanager.com/gtag/js",vn=new Fe.Yd("@firebase/analytics"),Zn=new Ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cu(D){if(!D.startsWith(mi)){const P=Zn.create("invalid-gtag-resource",{gtagURL:D});return vn.warn(P.message),""}return D}function hi(D){return Promise.all(D.map(P=>P.catch(z=>z)))}function $a(){return($a=(0,G.Z)(function*(D,P,z,fe,Ne,xe){const Ye=fe[Ne];try{if(Ye)yield P[Ye];else{const Zt=(yield hi(z)).find(An=>An.measurementId===Ne);Zt&&(yield P[Zt.appId])}}catch(Kt){vn.error(Kt)}D("config",Ne,xe)})).apply(this,arguments)}function ja(){return(ja=(0,G.Z)(function*(D,P,z,fe,Ne){try{let xe=[];if(Ne&&Ne.send_to){let Ye=Ne.send_to;Array.isArray(Ye)||(Ye=[Ye]);const Kt=yield hi(z);for(const Zt of Ye){const An=Kt.find(lr=>lr.measurementId===Zt),Jn=An&&P[An.appId];if(!Jn){xe=[];break}xe.push(Jn)}}0===xe.length&&(xe=Object.values(P)),yield Promise.all(xe),D("event",fe,Ne||{})}catch(xe){vn.error(xe)}})).apply(this,arguments)}const zs=30,ua=new class Jo{constructor(P={},z=1e3){this.throttleMetadata=P,this.intervalMillis=z}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,z){this.throttleMetadata[P]=z}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function za(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ze(){return(Ze=(0,G.Z)(function*(D){var P;const{appId:z,apiKey:fe}=D,Ne={method:"GET",headers:za(fe)},xe=Bu.replace("{app-id}",z),Ye=yield fetch(xe,Ne);if(200!==Ye.status&&304!==Ye.status){let Kt="";try{const Zt=yield Ye.json();null!==(P=Zt.error)&&void 0!==P&&P.message&&(Kt=Zt.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:Ye.status,responseMessage:Kt})}return Ye.json()})).apply(this,arguments)}function To(){return(To=(0,G.Z)(function*(D,P=ua,z){const{appId:fe,apiKey:Ne,measurementId:xe}=D.options;if(!fe)throw Zn.create("no-app-id");if(!Ne){if(xe)return{measurementId:xe,appId:fe};throw Zn.create("no-api-key")}const Ye=P.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Kt=new ca;return setTimeout((0,G.Z)(function*(){Kt.abort()}),void 0!==z?z:Ea),$u({appId:fe,apiKey:Ne,measurementId:xe},Ye,Kt,P)})).apply(this,arguments)}function $u(D,P,z){return nu.apply(this,arguments)}function nu(){return nu=(0,G.Z)(function*(D,{throttleEndTimeMillis:P,backoffCount:z},fe,Ne=ua){var xe;const{appId:Ye,measurementId:Kt}=D;try{yield function la(D,P){return new Promise((z,fe)=>{const Ne=Math.max(P-Date.now(),0),xe=setTimeout(z,Ne);D.addEventListener(()=>{clearTimeout(xe),fe(Zn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(fe,P)}catch(Zt){if(Kt)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:Ye,measurementId:Kt};throw Zt}try{const Zt=yield function tl(D){return Ze.apply(this,arguments)}(D);return Ne.deleteThrottleMetadata(Ye),Zt}catch(Zt){const An=Zt;if(!function _l(D){if(!(D instanceof Ce.ZR&&D.customData))return!1;const P=Number(D.customData.httpStatus);return 429===P||500===P||503===P||504===P}(An)){if(Ne.deleteThrottleMetadata(Ye),Kt)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${An?.message}]`),{appId:Ye,measurementId:Kt};throw Zt}const Jn=503===Number(null===(xe=An?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,Ce.$s)(z,Ne.intervalMillis,zs):(0,Ce.$s)(z,Ne.intervalMillis),lr={throttleEndTimeMillis:Date.now()+Jn,backoffCount:z+1};return Ne.setThrottleMetadata(Ye,lr),vn.debug(`Calling attemptFetch again in ${Jn} millis`),$u(D,lr,fe,Ne)}}),nu.apply(this,arguments)}class ca{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let da,Ka;function wl(){return(wl=(0,G.Z)(function*(D,P,z,fe,Ne){if(Ne&&Ne.global)D("event",z,fe);else{const xe=yield P;D("event",z,Object.assign(Object.assign({},fe),{send_to:xe}))}})).apply(this,arguments)}function iu(){return(iu=(0,G.Z)(function*(){if(!(0,Ce.hl)())return vn.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ce.eu)()}catch(D){return vn.warn(Zn.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function C(){return C=(0,G.Z)(function*(D,P,z,fe,Ne,xe,Ye){var Kt;const Zt=function Ga(D){return To.apply(this,arguments)}(D);Zt.then(Li=>{z[Li.measurementId]=Li.appId,D.options.measurementId&&Li.measurementId!==D.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Li=>vn.error(Li)),P.push(Zt);const An=function So(){return iu.apply(this,arguments)}().then(Li=>{if(Li)return fe.getId()}),[Jn,lr]=yield Promise.all([Zt,An]);(function Bo(D){const P=window.document.getElementsByTagName("script");for(const z of Object.values(P))if(z.src&&z.src.includes(mi)&&z.src.includes(D))return z;return null})(xe)||function aa(D,P){const z=function dn(D,P){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(D,P)),z}("firebase-js-sdk-policy",{createScriptURL:cu}),fe=document.createElement("script"),Ne=`${mi}?l=${D}&id=${P}`;fe.src=z?z?.createScriptURL(Ne):Ne,fe.async=!0,document.head.appendChild(fe)}(xe,Jn.measurementId),Ka&&(Ne("consent","default",Ka),function ru(D){Ka=D}(void 0)),Ne("js",new Date);const ys=null!==(Kt=Ye?.config)&&void 0!==Kt?Kt:{};return ys[ur]="firebase",ys.update=!0,null!=lr&&(ys[Du]=lr),Ne("config",Jn.measurementId,ys),da&&(Ne("set",da),function Au(D){da=D}(void 0)),Jn.measurementId}),C.apply(this,arguments)}class m{constructor(P){this.app=P}_delete(){return delete x[this.app.options.appId],Promise.resolve()}}let x={},B=[];const X={};let Nt,on,ue="dataLayer",Ke="gtag",mn=!1;function Ca(D,P,z){!function Di(){const D=[];if((0,Ce.ru)()&&D.push("This is a browser extension environment."),(0,Ce.zI)()||D.push("Cookies are not available."),D.length>0){const P=D.map((fe,Ne)=>`(${Ne+1}) ${fe}`).join(" "),z=Zn.create("invalid-analytics-context",{errorInfo:P});vn.warn(z.message)}}();const fe=D.options.appId;if(!fe)throw Zn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Zn.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=x[fe])throw Zn.create("already-exists",{id:fe});if(!mn){!function Tu(D){let P=[];Array.isArray(window[D])?P=window[D]:window[D]=P}(ue);const{wrappedGtag:xe,gtagCore:Ye}=function Ha(D,P,z,fe,Ne){let xe=function(...Ye){window[fe].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(xe=window[Ne]),window[Ne]=function ns(D,P,z,fe){function xe(){return xe=(0,G.Z)(function*(Ye,...Kt){try{if("event"===Ye){const[Zt,An]=Kt;yield function eu(D,P,z,fe,Ne){return ja.apply(this,arguments)}(D,P,z,Zt,An)}else if("config"===Ye){const[Zt,An]=Kt;yield function Pa(D,P,z,fe,Ne,xe){return $a.apply(this,arguments)}(D,P,z,fe,Zt,An)}else if("consent"===Ye){const[Zt]=Kt;D("consent","update",Zt)}else if("get"===Ye){const[Zt,An,Jn]=Kt;D("get",Zt,An,Jn)}else if("set"===Ye){const[Zt]=Kt;D("set",Zt)}else D(Ye,...Kt)}catch(Zt){vn.error(Zt)}}),xe.apply(this,arguments)}return function Ne(Ye){return xe.apply(this,arguments)}}(xe,D,P,z),{gtagCore:xe,wrappedGtag:window[Ne]}}(x,B,X,ue,Ke);on=xe,Nt=Ye,mn=!0}return x[fe]=function _(D,P,z,fe,Ne,xe,Ye){return C.apply(this,arguments)}(D,B,X,P,Nt,ue,z),new m(D)}function $o(){return jo.apply(this,arguments)}function jo(){return(jo=(0,G.Z)(function*(){if((0,Ce.ru)()||!(0,Ce.zI)()||!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}const fu="@firebase/analytics";!function il(){(0,Te._registerComponent)(new Be.wA(Xa,(P,{options:z})=>Ca(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Te._registerComponent)(new Be.wA("analytics-internal",function D(P){try{const z=P.getProvider(Xa).getImmediate();return{logEvent:(fe,Ne,xe)=>function Fi(D,P,z,fe){D=(0,Ce.m9)(D),function nl(D,P,z,fe,Ne){return wl.apply(this,arguments)}(on,x[D.app.options.appId],P,z,fe).catch(Ne=>vn.error(Ne))}(z,fe,Ne,xe)}}catch(z){throw Zn.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Te.registerVersion)(fu,"0.10.0"),(0,Te.registerVersion)(fu,"0.10.0","esm2017")}();var Ic=j(4408),Mu=j(7565);const rs=new class qa extends Mu.v{}(class Rs extends Ic.o{constructor(P,z){super(P,z),this.scheduler=P,this.work=z}schedule(P,z=0){return z>0?super.schedule(P,z):(this.delay=z,this.state=P,this.scheduler.flush(this),this)}execute(P,z){return z>0||this.closed?super.execute(P,z):this._execute(P,z)}requestAsyncId(P,z,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(P,z,fe):(P.flush(this),0)}});var Il=j(4986),su=j(9751),xu=j(8505),sl=j(9468),Ra=j(5363);const pa=new p.GfV("7.5.0"),ju="__angularfire_symbol__analyticsIsSupportedValue",Oa="__angularfire_symbol__analyticsIsSupported",Ao="__angularfire_symbol__remoteConfigIsSupportedValue",pu="__angularfire_symbol__remoteConfigIsSupported",Za="__angularfire_symbol__messagingIsSupportedValue",ol="__angularfire_symbol__messagingIsSupported";function y(D,P,z){if(P){if(1===P.length)return P[0];const xe=P.filter(Ye=>Ye.app===z);if(1===xe.length)return xe[0]}return z.container.getProvider(D).getImmediate({optional:!0})}globalThis[Oa]||(globalThis[Oa]=$o().then(D=>globalThis[ju]=D).catch(()=>globalThis[ju]=!1)),globalThis[ol]||(globalThis[ol]=Bi().then(D=>globalThis[Za]=D).catch(()=>globalThis[Za]=!1)),globalThis[pu]||(globalThis[pu]=Vs().then(D=>globalThis[Ao]=D).catch(()=>globalThis[Ao]=!1));const w=(D,P)=>{const z=P?[P]:(0,E.C6)(),fe=[];return z.forEach(Ne=>{Ne.container.getProvider(D).instances.forEach(Ye=>{fe.includes(Ye)||fe.push(Ye)})}),fe};function V(){}class Q{constructor(P,z=rs){this.zone=P,this.delegate=z}now(){return this.delegate.now()}schedule(P,z,fe){const Ne=this.zone;return this.delegate.schedule(function(Ye){Ne.runGuarded(()=>{P.apply(this,[Ye])})},z,fe)}}class de{constructor(P){this.zone=P,this.task=null}call(P,z){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",V,{},V,V)),z.pipe((0,xu.b)({next:fe,complete:fe,error:fe})).subscribe(P).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Re=(()=>{class D{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new Q(Zone.current)),this.insideAngular=z.run(()=>new Q(Zone.current,Il.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(z){return new(z||D)(p.LFG(p.R0b))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Le(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Dt(D){return Le().ngZone.run(()=>D())}function tr(D){return Le(),function Nr(D){return function(z){return(z=z.lift(new de(D.ngZone))).pipe((0,sl.R)(D.outsideAngular),(0,Ra.Q)(D.insideAngular))}}(Le())(D)}const En=(D,P)=>function(){const fe=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),Dt(()=>D.apply(void 0,fe))},nr=(D,P)=>function(){let z;const fe=arguments;for(let xe=0;xe<arguments.length;xe++)"function"==typeof fe[xe]&&(P&&(z||(z=Dt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",V,{},V,V)))),fe[xe]=En(fe[xe],z));const Ne=function ct(D){return Le().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,fe));if(!P){if(Ne instanceof su.y){const xe=Le();return Ne.pipe((0,sl.R)(xe.outsideAngular),(0,Ra.Q)(xe.insideAngular))}return Dt(()=>Ne)}return Ne instanceof su.y?Ne.pipe(tr):Ne instanceof Promise?Dt(()=>new Promise((xe,Ye)=>Ne.then(Kt=>Dt(()=>xe(Kt)),Kt=>Dt(()=>Ye(Kt))))):"function"==typeof Ne&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),Ne.apply(this,arguments)}:Dt(()=>Ne)}},8502:(ln,je,j)=>{"use strict";j.d(je,{$:()=>qn,A:()=>De,D:()=>yt,I:()=>er,J:()=>xt,L:()=>Ar,N:()=>Ot,P:()=>_,Q:()=>Xi,R:()=>ba,U:()=>Qs,V:()=>Vs,W:()=>Js,X:()=>cs,Y:()=>Us,Z:()=>Ss,_:()=>ni,a:()=>Uo,a0:()=>Es,a1:()=>ts,a2:()=>Io,a3:()=>gn,a4:()=>Jr,a5:()=>Ms,a6:()=>Pi,a7:()=>Ri,a8:()=>lo,a9:()=>xs,aA:()=>ze,aB:()=>Oa,aC:()=>be,aD:()=>vt,aE:()=>xu,aF:()=>Ks,aG:()=>hu,aH:()=>fr,aL:()=>oa,aO:()=>Gi,aa:()=>Fo,ab:()=>qi,ac:()=>Hs,ad:()=>fs,ae:()=>Gr,af:()=>ia,ai:()=>ps,aj:()=>Qo,ak:()=>ri,an:()=>to,ao:()=>Ua,aq:()=>zt,ar:()=>Cn,as:()=>fn,at:()=>Ae,au:()=>ye,av:()=>_e,aw:()=>lr,ax:()=>ol,ay:()=>Je,az:()=>Pe,b:()=>Cu,c:()=>on,d:()=>Ca,e:()=>Wr,f:()=>fu,g:()=>qa,h:()=>Ic,i:()=>tu,j:()=>Il,k:()=>Un,l:()=>Wa,m:()=>Xr,p:()=>we,r:()=>Su,s:()=>Ci,u:()=>So});var p=j(5861),E=j(2090),G=j(6881),Te=j(655),Ce=j(1877),Be=j(4859);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},De={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const yt=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},kt=function gt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Bt=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wt=new Ce.Yd("@firebase/auth");function Lt(b,...d){wt.logLevel<=Ce.in.ERROR&&wt.error(`Auth (${G.SDK_VERSION}): ${b}`,...d)}function _e(b,...d){throw ht(b,...d)}function Pe(b,...d){return ht(b,...d)}function it(b,d,g){const T=Object.assign(Object.assign({},kt()),{[d]:g});return new E.LL("auth","Firebase",T).create(d,{appName:b.name})}function At(b,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&_e(b,"argument-error"),it(b,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(b,...d){if("string"!=typeof b){const g=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=b.name),b._errorFactory.create(g,...T)}return Bt.create(b,...d)}function ze(b,d,...g){if(!b)throw ht(d,...g)}function bt(b){const d="INTERNAL ASSERTION FAILED: "+b;throw Lt(d),new Error(d)}function fn(b,d){b||bt(d)}function Vt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Wt(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ft{constructor(d,g){this.shortDelay=d,this.longDelay=g,fn(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _t(b,d){fn(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class $t{static initialize(d,g,T){this.fetchImpl=d,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jt=new ft(3e4,6e4);function Mt(b,d){return b.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:b.tenantId}):d}function pn(b,d,g,T){return yn.apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(b,d,g,T,Y={}){return Dn(b,Y,(0,p.Z)(function*(){let oe={},We={};T&&("GET"===d?We=T:oe={body:JSON.stringify(T)});const mt=(0,E.xO)(Object.assign({key:b.config.apiKey},We)).slice(1),tn=yield b._getAdditionalHeaders();return tn["Content-Type"]="application/json",b.languageCode&&(tn["X-Firebase-Locale"]=b.languageCode),$t.fetch()(yr(b,b.config.apiHost,g,mt),Object.assign({method:d,headers:tn,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Dn(b,d,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,p.Z)(function*(b,d,g){b._canInitEmulator=!1;const T=Object.assign(Object.assign({},Pt),d);try{const Y=new Dr(b),oe=yield Promise.race([g(),Y.promise]);Y.clearNetworkTimeout();const We=yield oe.json();if("needConfirmation"in We)throw cr(b,"account-exists-with-different-credential",We);if(oe.ok&&!("errorMessage"in We))return We;{const mt=oe.ok?We.errorMessage:We.error.message,[tn,Tn]=mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw cr(b,"credential-already-in-use",We);if("EMAIL_EXISTS"===tn)throw cr(b,"email-already-in-use",We);if("USER_DISABLED"===tn)throw cr(b,"user-disabled",We);const Yn=T[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(Tn)throw it(b,Yn,Tn);_e(b,Yn)}}catch(Y){if(Y instanceof E.ZR)throw Y;_e(b,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Sn(b,d,g,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(b,d,g,T,Y={}){const oe=yield pn(b,d,g,T,Y);return"mfaPendingCredential"in oe&&_e(b,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function yr(b,d,g,T){const Y=`${d}${g}?${T}`;return b.config.emulator?_t(b.config,Y):`${b.config.apiScheme}://${Y}`}class Dr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Pe(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(b,d,g){const T={appName:b.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const Y=Pe(b,d,T);return Y.customData._tokenResponse=g,Y}function Jt(){return(Jt=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function un(b){if(b)try{const d=new Date(Number(b));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function or(){return(or=(0,p.Z)(function*(b,d=!1){const g=(0,E.m9)(b),T=yield g.getIdToken(d),Y=ai(T);ze(Y&&Y.exp&&Y.auth_time&&Y.iat,g.auth,"internal-error");const oe="object"==typeof Y.firebase?Y.firebase:void 0,We=oe?.sign_in_provider;return{claims:Y,token:T,authTime:un(qr(Y.auth_time)),issuedAtTime:un(qr(Y.iat)),expirationTime:un(qr(Y.exp)),signInProvider:We||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function qr(b){return 1e3*Number(b)}function ai(b){const[d,g,T]=b.split(".");if(void 0===d||void 0===g||void 0===T)return Lt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,E.tV)(g);return Y?JSON.parse(Y):(Lt("Failed to decode base64 JWT payload"),null)}catch(Y){return Lt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function bn(b,d){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,p.Z)(function*(b,d,g=!1){if(g)return d;try{return yield d}catch(T){throw T instanceof E.ZR&&function St({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(T)&&b.auth.currentUser===b&&(yield b.auth.signOut()),T}})).apply(this,arguments)}class dr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Y=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),T)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Ir{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=un(this.lastLoginAt),this.creationTime=un(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cr(b){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,p.Z)(function*(b){var d;const g=b.auth,T=yield b.getIdToken(),Y=yield bn(b,function pr(b,d){return Hn.apply(this,arguments)}(g,{idToken:T}));ze(Y?.users.length,g,"internal-error");const oe=Y.users[0];b._notifyReloadListener(oe);const We=null!==(d=oe.providerUserInfo)&&void 0!==d&&d.length?function Hr(b){return b.map(d=>{var{providerId:g}=d,T=(0,Te._T)(d,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(oe.providerUserInfo):[],mt=function $n(b,d){return[...b.filter(T=>!d.some(Y=>Y.providerId===T.providerId)),...d]}(b.providerData,We),Yn=!!b.isAnonymous&&!(b.email&&oe.passwordHash||mt?.length),Mr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:mt,metadata:new Ir(oe.createdAt,oe.lastLoginAt),isAnonymous:Yn};Object.assign(b,Mr)}),Yr.apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(b){const d=(0,E.m9)(b);yield Cr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(b,d){const g=yield Dn(b,{},(0,p.Z)(function*(){const T=(0,E.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:Y,apiKey:oe}=b.config,We=yr(b,Y,"/v1/token",`key=${oe}`),mt=yield b._getAdditionalHeaders();return mt["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(We,{method:"POST",headers:mt,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ze(d.idToken,"internal-error"),ze(typeof d.idToken<"u","internal-error"),ze(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Mn(b){const d=ai(b);return ze(d,"internal-error"),ze(typeof d.exp<"u","internal-error"),ze(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var T=this;return(0,p.Z)(function*(){return ze(!T.accessToken||T.refreshToken,d,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var T=this;return(0,p.Z)(function*(){const{accessToken:Y,refreshToken:oe,expiresIn:We}=yield function jn(b,d){return Ln.apply(this,arguments)}(d,g);T.updateTokensAndExpiration(Y,oe,Number(We))})()}updateTokensAndExpiration(d,g,T){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,g){const{refreshToken:T,accessToken:Y,expirationTime:oe}=g,We=new Vn;return T&&(ze("string"==typeof T,"internal-error",{appName:d}),We.refreshToken=T),Y&&(ze("string"==typeof Y,"internal-error",{appName:d}),We.accessToken=Y),oe&&(ze("number"==typeof oe,"internal-error",{appName:d}),We.expirationTime=oe),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Vn,this.toJSON())}_performRefresh(){return bt("not implemented")}}function hr(b,d){ze("string"==typeof b||typeof b>"u","internal-error",{appName:d})}class gr{constructor(d){var{uid:g,auth:T,stsTokenManager:Y}=d,oe=(0,Te._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Ir(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const T=yield bn(g,g.stsTokenManager.getToken(g.auth,d));return ze(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(d){return function zn(b){return or.apply(this,arguments)}(this,d)}reload(){return function jr(b){return Sr.apply(this,arguments)}(this)}_assign(d){this!==d&&(ze(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new gr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var T=this;return(0,p.Z)(function*(){let Y=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),Y=!0),g&&(yield Cr(T)),yield T.auth._persistUserIfCurrent(T),Y&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield bn(d,function an(b,d){return Jt.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var T,Y,oe,We,mt,tn,Tn,Yn;const Mr=null!==(T=g.displayName)&&void 0!==T?T:void 0,ea=null!==(Y=g.email)&&void 0!==Y?Y:void 0,gu=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,Cc=null!==(We=g.photoURL)&&void 0!==We?We:void 0,Ru=null!==(mt=g.tenantId)&&void 0!==mt?mt:void 0,Cl=null!==(tn=g._redirectEventId)&&void 0!==tn?tn:void 0,ya=null!==(Tn=g.createdAt)&&void 0!==Tn?Tn:void 0,Dc=null!==(Yn=g.lastLoginAt)&&void 0!==Yn?Yn:void 0,{uid:zu,emailVerified:Tc,isAnonymous:Fa,providerData:nc,stsTokenManager:Ou}=g;ze(zu&&Ou,d,"internal-error");const Sc=Vn.fromJSON(this.name,Ou);ze("string"==typeof zu,d,"internal-error"),hr(Mr,d.name),hr(ea,d.name),ze("boolean"==typeof Tc,d,"internal-error"),ze("boolean"==typeof Fa,d,"internal-error"),hr(gu,d.name),hr(Cc,d.name),hr(Ru,d.name),hr(Cl,d.name),hr(ya,d.name),hr(Dc,d.name);const Ac=new gr({uid:zu,auth:d,email:ea,emailVerified:Tc,displayName:Mr,isAnonymous:Fa,photoURL:Cc,phoneNumber:gu,tenantId:Ru,stsTokenManager:Sc,createdAt:ya,lastLoginAt:Dc});return nc&&Array.isArray(nc)&&(Ac.providerData=nc.map(Fr=>Object.assign({},Fr))),Cl&&(Ac._redirectEventId=Cl),Ac}static _fromIdTokenResponse(d,g,T=!1){return(0,p.Z)(function*(){const Y=new Vn;Y.updateFromServerResponse(g);const oe=new gr({uid:g.localId,auth:d,stsTokenManager:Y,isAnonymous:T});return yield Cr(oe),oe})()}}const nt=new Map;function be(b){fn(b instanceof Function,"Expected a class definition");let d=nt.get(b);return d?(fn(d instanceof b,"Instance stored in cache mismatched with class"),d):(d=new b,nt.set(b,d),d)}const Ot=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,T){var Y=this;return(0,p.Z)(function*(){Y.storage[g]=T})()}_get(g){var T=this;return(0,p.Z)(function*(){const Y=T.storage[g];return void 0===Y?null:Y})()}_remove(g){var T=this;return(0,p.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return b.type="NONE",b})();function vt(b,d,g){return`firebase:${b}:${d}:${g}`}class ge{constructor(d,g,T){this.persistence=d,this.auth=g,this.userKey=T;const{config:Y,name:oe}=this.auth;this.fullUserKey=vt(this.userKey,Y.apiKey,oe),this.fullPersistenceKey=vt("persistence",Y.apiKey,oe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?gr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,T="authUser"){return(0,p.Z)(function*(){if(!g.length)return new ge(be(Ot),d,T);const Y=(yield Promise.all(g.map(function(){var Tn=(0,p.Z)(function*(Yn){if(yield Yn._isAvailable())return Yn});return function(Yn){return Tn.apply(this,arguments)}}()))).filter(Tn=>Tn);let oe=Y[0]||be(Ot);const We=vt(T,d.config.apiKey,d.name);let mt=null;for(const Tn of g)try{const Yn=yield Tn._get(We);if(Yn){const Mr=gr._fromJSON(d,Yn);Tn!==oe&&(mt=Mr),oe=Tn;break}}catch{}const tn=Y.filter(Tn=>Tn._shouldAllowMigration);return oe._shouldAllowMigration&&tn.length?(oe=tn[0],mt&&(yield oe._set(We,mt.toJSON())),yield Promise.all(g.map(function(){var Tn=(0,p.Z)(function*(Yn){if(Yn!==oe)try{yield Yn._remove(We)}catch{}});return function(Yn){return Tn.apply(this,arguments)}}())),new ge(oe,d,T)):new ge(oe,d,T)})()}}function he(b){const d=b.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Se(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ee(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ve(d))return"Blackberry";if(le(d))return"Webos";if(ne(d))return"Safari";if((d.includes("chrome/")||J(d))&&!d.includes("edge/"))return"Chrome";if(ye(d))return"Android";{const T=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function ee(b=(0,E.z$)()){return/firefox\//i.test(b)}function ne(b=(0,E.z$)()){const d=b.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function J(b=(0,E.z$)()){return/crios\//i.test(b)}function Se(b=(0,E.z$)()){return/iemobile/i.test(b)}function ye(b=(0,E.z$)()){return/android/i.test(b)}function ve(b=(0,E.z$)()){return/blackberry/i.test(b)}function le(b=(0,E.z$)()){return/webos/i.test(b)}function Ae(b=(0,E.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Je(b=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function cn(b=(0,E.z$)()){return Ae(b)||ye(b)||le(b)||ve(b)||/windows phone/i.test(b)||Se(b)}function Vr(b,d=[]){let g;switch(b){case"Browser":g=he((0,E.z$)());break;case"Worker":g=`${he((0,E.z$)())}-${b}`;break;default:g=b}const T=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${G.SDK_VERSION}/${T}`}function ce(){return(ce=(0,p.Z)(function*(b){return(yield pn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function H(b,d){return ae.apply(this,arguments)}function ae(){return(ae=(0,p.Z)(function*(b,d){return pn(b,"GET","/v2/recaptchaConfig",Mt(b,d))})).apply(this,arguments)}function Oe(b){return void 0!==b&&void 0!==b.getResponse}function dt(b){return void 0!==b&&void 0!==b.enterprise}class Tt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Pn(b){return new Promise((d,g)=>{const T=document.createElement("script");T.setAttribute("src",b),T.onload=d,T.onerror=Y=>{const oe=Pe("internal-error");oe.customData=Y,g(oe)},T.type="text/javascript",T.charset="UTF-8",function sn(){var b,d;return null!==(d=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==d?d:document}().appendChild(T)})}function Xn(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Yi="NO_RECAPTCHA";class Ei{constructor(d){this.type="recaptcha-enterprise",this.auth=fr(d)}verify(d="verify",g=!1){var T=this;return(0,p.Z)(function*(){function oe(){return oe=(0,p.Z)(function*(mt){if(!g){if(null==mt.tenantId&&null!=mt._agentRecaptchaConfig)return mt._agentRecaptchaConfig.siteKey;if(null!=mt.tenantId&&void 0!==mt._tenantRecaptchaConfigs[mt.tenantId])return mt._tenantRecaptchaConfigs[mt.tenantId].siteKey}return new Promise(function(){var tn=(0,p.Z)(function*(Tn,Yn){H(mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mr=>{if(void 0!==Mr.recaptchaKey){const ea=new Tt(Mr);return null==mt.tenantId?mt._agentRecaptchaConfig=ea:mt._tenantRecaptchaConfigs[mt.tenantId]=ea,Tn(ea.siteKey)}Yn(new Error("recaptcha Enterprise site key undefined"))}).catch(Mr=>{Yn(Mr)})});return function(Tn,Yn){return tn.apply(this,arguments)}}())}),oe.apply(this,arguments)}function We(mt,tn,Tn){const Yn=window.grecaptcha;dt(Yn)?Yn.enterprise.ready(()=>{Yn.enterprise.execute(mt,{action:d}).then(Mr=>{tn(Mr)}).catch(()=>{tn(Yi)})}):Tn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mt,tn)=>{(function Y(mt){return oe.apply(this,arguments)})(T.auth).then(Tn=>{if(!g&&dt(window.grecaptcha))We(Tn,mt,tn);else{if(typeof window>"u")return void tn(new Error("RecaptchaVerifier is only supported in browser"));Pn("https://www.google.com/recaptcha/enterprise.js?render="+Tn).then(()=>{We(Tn,mt,tn)}).catch(Yn=>{tn(Yn)})}}).catch(Tn=>{tn(Tn)})})})()}}function Zr(b,d,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(b,d,g,T=!1){const Y=new Ei(b);let oe;try{oe=yield Y.verify(g)}catch{oe=yield Y.verify(g,!0)}const We=Object.assign({},d);return Object.assign(We,T?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}class Rn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const T=oe=>new Promise((We,mt)=>{try{We(d(oe))}catch(tn){mt(tn)}});T.onAbort=g,this.queue.push(T);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const T=[];try{for(const Y of g.queue)yield Y(d),Y.onAbort&&T.push(Y.onAbort)}catch(Y){T.reverse();for(const oe of T)try{oe()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class wr{constructor(d,g,T,Y){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new li(this),this.idTokenSubscription=new li(this),this.beforeStateQueue=new Rn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(d,g){var T=this;return g&&(this._popupRedirectResolver=be(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var Y,oe;if(!T._deleted&&(T.persistenceManager=yield ge.create(T,d),!T._deleted)){if(null!==(Y=T._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(oe=T.currentUser)||void 0===oe?void 0:oe.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var T;const Y=yield g.assertedPersistence.getCurrentUser();let oe=Y,We=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const mt=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,tn=oe?._redirectEventId,Tn=yield g.tryRedirectSignIn(d);(!mt||mt===tn)&&Tn?.user&&(oe=Tn.user,We=!0)}if(!oe)return g.directlySetCurrentUser(null);if(!oe._redirectEventId){if(We)try{yield g.beforeStateQueue.runMiddleware(oe)}catch(mt){oe=Y,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(mt))}return oe?g.reloadAndSetCurrentUserOrClear(oe):g.directlySetCurrentUser(null)}return ze(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===oe._redirectEventId?g.directlySetCurrentUser(oe):g.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield Cr(d)}catch(T){if("auth/network-request-failed"!==T?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ot(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const T=d?(0,E.m9)(d):null;return T&&ze(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(d,g=!1){var T=this;return(0,p.Z)(function*(){if(!T._deleted)return d&&ze(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,p.Z)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(be(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield H(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Tt(g);null==d.tenantId?d._agentRecaptchaConfig=T:d._tenantRecaptchaConfigs[d.tenantId]=T,T.emailPasswordEnabled&&new Ei(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new E.LL("auth","Firebase",d())}onAuthStateChanged(d,g,T){return this.registerStateListener(this.authStateSubscription,d,g,T)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,T){return this.registerStateListener(this.idTokenSubscription,d,g,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var T=this;return(0,p.Z)(function*(){const Y=yield T.getOrInitRedirectPersistenceManager(g);return null===d?Y.removeCurrentUser():Y.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const T=d&&be(d)||g._popupRedirectResolver;ze(T,g,"argument-error"),g.redirectPersistenceManager=yield ge.create(g,[be(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var T,Y;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===d?g._currentUser:(null===(Y=g.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,T,Y){if(this._deleted)return()=>{};const oe="function"==typeof g?g:g.next.bind(g),We=this._isInitialized?Promise.resolve():this._initializationPromise;return ze(We,this,"internal-error"),We.then(()=>oe(this.currentUser)),"function"==typeof g?d.addObserver(g,T,Y):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Vr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const Y=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();Y&&(T["X-Firebase-Client"]=Y);const oe=yield d._getAppCheckToken();return oe&&(T["X-Firebase-AppCheck"]=oe),T})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const T=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return T?.error&&function rt(b,...d){wt.logLevel<=Ce.in.WARN&&wt.warn(`Auth (${G.SDK_VERSION}): ${b}`,...d)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function fr(b){return(0,E.m9)(b)}class li{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,E.ne)(g=>this.observer=g)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function er(b,d,g){const T=fr(b);ze(T._canInitEmulator,T,"emulator-config-failed"),ze(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const Y=!!g?.disableWarnings,oe=He(d),{host:We,port:mt}=function Ue(b){const d=He(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(d.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(T);if(Y){const oe=Y[1];return{host:oe,port:$e(T.substr(oe.length+1))}}{const[oe,We]=T.split(":");return{host:oe,port:$e(We)}}}(d);T.config.emulator={url:`${oe}//${We}${null===mt?"":`:${mt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:We,port:mt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Ct(){function b(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function He(b){const d=b.indexOf(":");return d<0?"":b.substr(0,d+1)}function $e(b){if(!b)return null;const d=Number(b);return isNaN(d)?null:d}class xt{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return bt("not implemented")}_getIdTokenResponse(d){return bt("not implemented")}_linkToIdToken(d,g){return bt("not implemented")}_getReauthenticationResolver(d){return bt("not implemented")}}function In(b,d){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:resetPassword",Mt(b,d))})).apply(this,arguments)}function On(b,d){return ir.apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ci(){return(ci=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:update",Mt(b,d))})).apply(this,arguments)}function _i(b,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signInWithPassword",Mt(b,d))})).apply(this,arguments)}function Br(b,d){return _s.apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:sendOobCode",Mt(b,d))})).apply(this,arguments)}function ks(){return(ks=(0,p.Z)(function*(b,d){return Br(b,d)})).apply(this,arguments)}function Qi(b,d){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,p.Z)(function*(b,d){return Br(b,d)})).apply(this,arguments)}function Ai(b,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(b,d){return Br(b,d)})).apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(b,d){return Br(b,d)})).apply(this,arguments)}function ao(){return(ao=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signInWithEmailLink",Mt(b,d))})).apply(this,arguments)}function os(){return(os=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signInWithEmailLink",Mt(b,d))})).apply(this,arguments)}class Qr extends xt{constructor(d,g,T,Y=null){super("password",T),this._email=d,this._password=g,this._tenantId=Y}static _fromEmailAndPassword(d,g){return new Qr(d,g,"password")}static _fromEmailAndCode(d,g,T=null){return new Qr(d,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var T;switch(g.signInMethod){case"password":const Y={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=d._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const oe=yield Zr(d,Y,"signInWithPassword");return _i(d,oe)}return _i(d,Y).catch(function(){var oe=(0,p.Z)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const mt=yield Zr(d,Y,"signInWithPassword");return _i(d,mt)}return Promise.reject(We)});return function(We){return oe.apply(this,arguments)}}());case"emailLink":return function ss(b,d){return ao.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:_e(d,"internal-error")}})()}_linkToIdToken(d,g){var T=this;return(0,p.Z)(function*(){switch(T.signInMethod){case"password":return On(d,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function xo(b,d){return os.apply(this,arguments)}(d,{idToken:g,email:T._email,oobCode:T._password});default:_e(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function as(b,d){return us.apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signInWithIdp",Mt(b,d))})).apply(this,arguments)}class Ar extends xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new Ar(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):_e("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:Y}=g,oe=(0,Te._T)(g,["providerId","signInMethod"]);if(!T||!Y)return null;const We=new Ar(T,Y);return We.idToken=oe.idToken||void 0,We.accessToken=oe.accessToken||void 0,We.secret=oe.secret,We.nonce=oe.nonce,We.pendingToken=oe.pendingToken||null,We}_getIdTokenResponse(d){return as(d,this.buildRequest())}_linkToIdToken(d,g){const T=this.buildRequest();return T.idToken=g,as(d,T)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,as(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,E.xO)(g)}return d}}function Vi(){return(Vi=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:sendVerificationCode",Mt(b,d))})).apply(this,arguments)}function ra(){return(ra=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signInWithPhoneNumber",Mt(b,d))})).apply(this,arguments)}function Ys(){return(Ys=(0,p.Z)(function*(b,d){const g=yield Sn(b,"POST","/v1/accounts:signInWithPhoneNumber",Mt(b,d));if(g.temporaryProof)throw cr(b,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const _o={USER_NOT_FOUND:"user-not-found"};function Ko(){return(Ko=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signInWithPhoneNumber",Mt(b,Object.assign(Object.assign({},d),{operation:"REAUTH"})),_o)})).apply(this,arguments)}class Mi extends xt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new Mi({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new Mi({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function Fs(b,d){return ra.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Wo(b,d){return Ys.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ro(b,d){return Ko.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:T,verificationCode:Y}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:T,code:Y}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:T,phoneNumber:Y,temporaryProof:oe}=d;return T||g||Y||oe?new Mi({verificationId:g,verificationCode:T,phoneNumber:Y,temporaryProof:oe}):null}}class Ls{constructor(d){var g,T,Y,oe,We,mt;const tn=(0,E.zd)((0,E.pd)(d)),Tn=null!==(g=tn.apiKey)&&void 0!==g?g:null,Yn=null!==(T=tn.oobCode)&&void 0!==T?T:null,Mr=function Ui(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=tn.mode)&&void 0!==Y?Y:null);ze(Tn&&Yn&&Mr,"argument-error"),this.apiKey=Tn,this.operation=Mr,this.code=Yn,this.continueUrl=null!==(oe=tn.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(We=tn.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(mt=tn.tenantId)&&void 0!==mt?mt:null}static parseLink(d){const g=function qo(b){const d=(0,E.zd)((0,E.pd)(b)).link,g=d?(0,E.zd)((0,E.pd)(d)).deep_link_id:null,T=(0,E.zd)((0,E.pd)(b)).deep_link_id;return(T?(0,E.zd)((0,E.pd)(T)).link:null)||T||g||d||b}(d);try{return new Ls(g)}catch{return null}}}let Xi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,T){return Qr._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const Y=Ls.parseLink(T);return ze(Y,"argument-error"),Qr._fromEmailAndCode(g,Y.code,Y.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ws{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class xi extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class cs extends xi{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return ze("providerId"in g&&"signInMethod"in g,"argument-error"),Ar._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ze(d.idToken||d.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return cs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return cs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:Y,pendingToken:oe,nonce:We,providerId:mt}=d;if(!T&&!Y&&!g&&!oe||!mt)return null;try{return new cs(mt)._credential({idToken:g,accessToken:T,nonce:We,pendingToken:oe})}catch{return null}}}let Qs=(()=>{class b extends xi{constructor(){super("facebook.com")}static credential(g){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Vs=(()=>{class b extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:Y}=g;if(!T&&!Y)return null;try{return b.credential(T,Y)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Js=(()=>{class b extends xi{constructor(){super("github.com")}static credential(g){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Gi extends xt{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return as(d,this.buildRequest())}_linkToIdToken(d,g){const T=this.buildRequest();return T.idToken=g,as(d,T)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,as(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:Y,pendingToken:oe}=g;return T&&Y&&oe&&T===Y?new Gi(T,oe):null}static _create(d,g){return new Gi(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Us extends ws{constructor(d){ze(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Us.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Us.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=Gi.fromJSON(d);return ze(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:T}=d;if(!g||!T)return null;try{return Gi._create(T,g)}catch{return null}}}let Ss=(()=>{class b extends xi{constructor(){super("twitter.com")}static credential(g,T){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:Y}=g;if(!T||!Y)return null;try{return b.credential(T,Y)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Xs(b,d){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signUp",Mt(b,d))})).apply(this,arguments)}class ti{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,T,Y=!1){return(0,p.Z)(function*(){const oe=yield gr._fromIdTokenResponse(d,T,Y),We=ds(T);return new ti({user:oe,providerId:We,_tokenResponse:T,operationType:g})})()}static _forOperation(d,g,T){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const Y=ds(T);return new ti({user:d,providerId:Y,_tokenResponse:T,operationType:g})})()}}function ds(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ni(b){return zr.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(function*(b){var d;const g=fr(b);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new ti({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield Xs(g,{returnSecureToken:!0}),Y=yield ti._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class es extends E.ZR{constructor(d,g,T,Y){var oe;super(g.code,g.message),this.operationType=T,this.user=Y,Object.setPrototypeOf(this,es.prototype),this.customData={appName:d.name,tenantId:null!==(oe=d.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,g,T,Y){return new es(d,g,T,Y)}}function eo(b,d,g,T){return("reauthenticate"===d?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?es._fromErrorAndOperation(b,oe,d,T):oe})}function di(b){return new Set(b.map(({providerId:d})=>d).filter(d=>!!d))}function to(b,d){return No.apply(this,arguments)}function No(){return No=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b);yield no(!0,g,d);const{providerUserInfo:T}=yield function sr(b,d){return Tr.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),Y=di(T||[]);return g.providerData=g.providerData.filter(oe=>Y.has(oe.providerId)),Y.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),No.apply(this,arguments)}function mr(b,d){return wi.apply(this,arguments)}function wi(){return(wi=(0,p.Z)(function*(b,d,g=!1){const T=yield bn(b,d._linkToIdToken(b.auth,yield b.getIdToken()),g);return ti._forOperation(b,"link",T)})).apply(this,arguments)}function no(b,d,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,p.Z)(function*(b,d,g){yield Cr(d);const Y=!1===b?"provider-already-linked":"no-such-provider";ze(di(d.providerData).has(g)===b,d.auth,Y)})).apply(this,arguments)}function wa(b,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(b,d,g=!1){const{auth:T}=b,Y="reauthenticate";try{const oe=yield bn(b,eo(T,Y,d,b),g);ze(oe.idToken,T,"internal-error");const We=ai(oe.idToken);ze(We,T,"internal-error");const{sub:mt}=We;return ze(b.uid===mt,T,"user-mismatch"),ti._forOperation(b,Y,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&_e(T,"user-mismatch"),oe}})).apply(this,arguments)}function ro(b,d){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,p.Z)(function*(b,d,g=!1){const T="signIn",Y=yield eo(b,T,d),oe=yield ti._fromIdTokenResponse(b,T,Y);return g||(yield b._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function qn(b,d){return uo.apply(this,arguments)}function uo(){return(uo=(0,p.Z)(function*(b,d){return ro(fr(b),d)})).apply(this,arguments)}function Es(b,d){return ko.apply(this,arguments)}function ko(){return(ko=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b);return yield no(!1,g,d.providerId),mr(g,d)})).apply(this,arguments)}function ts(b,d){return As.apply(this,arguments)}function As(){return(As=(0,p.Z)(function*(b,d){return wa((0,E.m9)(b),d)})).apply(this,arguments)}function bo(){return(bo=(0,p.Z)(function*(b,d){return Sn(b,"POST","/v1/accounts:signInWithCustomToken",Mt(b,d))})).apply(this,arguments)}function Io(b,d){return O.apply(this,arguments)}function O(){return O=(0,p.Z)(function*(b,d){const g=fr(b),T=yield function Eo(b,d){return bo.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),Y=yield ti._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(Y.user),Y}),O.apply(this,arguments)}class F{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?N._fromServerResponse(d,g):"totpInfo"in g?re._fromServerResponse(d,g):_e(d,"internal-error")}}class N extends F{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new N(g)}}class re extends F{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new re(g)}}function Xe(b,d,g){var T;ze((null===(T=g.url)||void 0===T?void 0:T.length)>0,b,"invalid-continue-uri"),ze(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ze(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(ze(g.android.packageName.length>0,b,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function gn(b,d,g){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,p.Z)(function*(b,d,g){var T;const Y=fr(b),oe={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=Y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const We=yield Zr(Y,oe,"getOobCode",!0);g&&Xe(Y,We,g),yield Qi(Y,We)}else g&&Xe(Y,oe,g),yield Qi(Y,oe).catch(function(){var We=(0,p.Z)(function*(mt){if("auth/missing-recaptcha-token"!==mt.code)return Promise.reject(mt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const tn=yield Zr(Y,oe,"getOobCode",!0);g&&Xe(Y,tn,g),yield Qi(Y,tn)}});return function(mt){return We.apply(this,arguments)}}())}),Rr.apply(this,arguments)}function Jr(b,d,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(b,d,g){yield In((0,E.m9)(b),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Ms(b,d){return io.apply(this,arguments)}function io(){return io=(0,p.Z)(function*(b,d){yield function vi(b,d){return ci.apply(this,arguments)}((0,E.m9)(b),{oobCode:d})}),io.apply(this,arguments)}function Pi(b,d){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b),T=yield In(g,{oobCode:d}),Y=T.requestType;switch(ze(Y,g,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ze(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ze(T.mfaInfo,g,"internal-error");default:ze(T.email,g,"internal-error")}let oe=null;return T.mfaInfo&&(oe=F._fromServerResponse(fr(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:oe},operation:Y}})).apply(this,arguments)}function Ri(b,d){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(b,d){const{data:g}=yield Pi((0,E.m9)(b),d);return g.email})).apply(this,arguments)}function lo(b,d,g){return $s.apply(this,arguments)}function $s(){return $s=(0,p.Z)(function*(b,d,g){var T;const Y=fr(b),oe={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let We;if(null!==(T=Y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Tn=yield Zr(Y,oe,"signUpPassword");We=Xs(Y,Tn)}else We=Xs(Y,oe).catch(function(){var Tn=(0,p.Z)(function*(Yn){if("auth/missing-recaptcha-token"===Yn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Mr=yield Zr(Y,oe,"signUpPassword");return Xs(Y,Mr)}return Promise.reject(Yn)});return function(Yn){return Tn.apply(this,arguments)}}());const mt=yield We.catch(Tn=>Promise.reject(Tn)),tn=yield ti._fromIdTokenResponse(Y,"signIn",mt);return yield Y._updateCurrentUser(tn.user),tn}),$s.apply(this,arguments)}function xs(b,d,g){return qn((0,E.m9)(b),Xi.credential(d,g))}function Fo(b,d,g){return js.apply(this,arguments)}function js(){return js=(0,p.Z)(function*(b,d,g){var T;const Y=fr(b),oe={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function We(mt,tn){ze(tn.handleCodeInApp,Y,"argument-error"),tn&&Xe(Y,mt,tn)}if(null!==(T=Y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const mt=yield Zr(Y,oe,"getOobCode",!0);We(mt,g),yield Ai(Y,mt)}else We(oe,g),yield Ai(Y,oe).catch(function(){var mt=(0,p.Z)(function*(tn){if("auth/missing-recaptcha-token"!==tn.code)return Promise.reject(tn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Tn=yield Zr(Y,oe,"getOobCode",!0);We(Tn,g),yield Ai(Y,Tn)}});return function(tn){return mt.apply(this,arguments)}}())}),js.apply(this,arguments)}function qi(b,d){return"EMAIL_SIGNIN"===Ls.parseLink(d)?.operation}function Hs(b,d,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b),Y=Xi.credentialWithLink(d,g||Vt());return ze(Y._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),qn(T,Y)})).apply(this,arguments)}function Zo(){return(Zo=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:createAuthUri",Mt(b,d))})).apply(this,arguments)}function fs(b,d){return co.apply(this,arguments)}function co(){return co=(0,p.Z)(function*(b,d){const T={identifier:d,continueUri:Wt()?Vt():"http://localhost"},{signinMethods:Y}=yield function Ps(b,d){return Zo.apply(this,arguments)}((0,E.m9)(b),T);return Y||[]}),co.apply(this,arguments)}function Gr(b,d){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,p.Z)(function*(b,d){const g=(0,E.m9)(b),Y={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};d&&Xe(g.auth,Y,d);const{email:oe}=yield function zi(b,d){return ks.apply(this,arguments)}(g.auth,Y);oe!==b.email&&(yield b.reload())}),Yo.apply(this,arguments)}function ia(b,d,g){return bs.apply(this,arguments)}function bs(){return bs=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:d};g&&Xe(T.auth,oe,g);const{email:We}=yield function Aa(b,d){return bi.apply(this,arguments)}(T.auth,oe);We!==b.email&&(yield b.reload())}),bs.apply(this,arguments)}function Vo(){return(Vo=(0,p.Z)(function*(b,d){return pn(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ps(b,d){return ho.apply(this,arguments)}function ho(){return ho=(0,p.Z)(function*(b,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const T=(0,E.m9)(b),oe={idToken:yield T.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},We=yield bn(T,function Lo(b,d){return Vo.apply(this,arguments)}(T.auth,oe));T.displayName=We.displayName||null,T.photoURL=We.photoUrl||null;const mt=T.providerData.find(({providerId:tn})=>"password"===tn);mt&&(mt.displayName=T.displayName,mt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(We)}),ho.apply(this,arguments)}function Qo(b,d){return ii((0,E.m9)(b),d,null)}function ri(b,d){return ii((0,E.m9)(b),null,d)}function ii(b,d,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(b,d,g){const{auth:T}=b,oe={idToken:yield b.getIdToken(),returnSecureToken:!0};d&&(oe.email=d),g&&(oe.password=g);const We=yield bn(b,On(T,oe));yield b._updateTokensIfNecessary(We,!0)})).apply(this,arguments)}class gs{constructor(d,g,T={}){this.isNewUser=d,this.providerId=g,this.profile=T}}class Co extends gs{constructor(d,g,T,Y){super(d,g,T),this.username=Y}}class fo extends gs{constructor(d,g){super(d,"facebook.com",g)}}class Ma extends Co{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ms extends gs{constructor(d,g){super(d,"google.com",g)}}class Do extends Co{constructor(d,g,T){super(d,"twitter.com",g,T)}}function Ua(b){const{user:d,_tokenResponse:g}=b;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function sa(b){var d,g;if(!b)return null;const{providerId:T}=b,Y=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},oe=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!T&&b?.idToken){const We=null===(g=null===(d=ai(b.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(We)return new gs(oe,"anonymous"!==We&&"custom"!==We?We:null)}if(!T)return null;switch(T){case"facebook.com":return new fo(oe,Y);case"github.com":return new Ma(oe,Y);case"google.com":return new ms(oe,Y);case"twitter.com":return new Do(oe,Y,b.screenName||null);case"custom":case"anonymous":return new gs(oe,null);default:return new gs(oe,T,Y)}}(g)}class me{constructor(d,g,T){this.type=d,this.credential=g,this.auth=T}static _fromIdtoken(d,g){return new me("enroll",d,g)}static _fromMfaPendingCredential(d){return new me("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,T;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return me._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(T=d.multiFactorSession)&&void 0!==T&&T.idToken)return me._fromIdtoken(d.multiFactorSession.idToken)}return null}}class et{constructor(d,g,T){this.session=d,this.hints=g,this.signInResolver=T}static _fromError(d,g){const T=fr(d),Y=g.customData._serverResponse,oe=(Y.mfaInfo||[]).map(mt=>F._fromServerResponse(T,mt));ze(Y.mfaPendingCredential,T,"internal-error");const We=me._fromMfaPendingCredential(Y.mfaPendingCredential);return new et(We,oe,function(){var mt=(0,p.Z)(function*(tn){const Tn=yield tn._process(T,We);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Yn=Object.assign(Object.assign({},Y),{idToken:Tn.idToken,refreshToken:Tn.refreshToken});switch(g.operationType){case"signIn":const Mr=yield ti._fromIdTokenResponse(T,g.operationType,Yn);return yield T._updateCurrentUser(Mr.user),Mr;case"reauthenticate":return ze(g.user,T,"internal-error"),ti._forOperation(g.user,g.operationType,Yn);default:_e(T,"internal-error")}});return function(tn){return mt.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function zt(b,d){var g;const T=(0,E.m9)(b),Y=d;return ze(d.customData.operationType,T,"argument-error"),ze(null===(g=Y.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),et._fromError(T,Y)}class po{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>F._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new po(d)}getSession(){var d=this;return(0,p.Z)(function*(){return me._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var T=this;return(0,p.Z)(function*(){const Y=d,oe=yield T.getSession(),We=yield bn(T.user,Y._process(T.user.auth,oe,g));return yield T.user._updateTokensIfNecessary(We),T.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const T="string"==typeof d?d:d.uid,Y=yield g.user.getIdToken();try{const oe=yield bn(g.user,function si(b,d){return pn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(b,d))}(g.user.auth,{idToken:Y,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:We})=>We!==T),yield g.user._updateTokensIfNecessary(oe),yield g.user.reload()}catch(oe){throw oe}})()}}const en=new WeakMap;function Cn(b){const d=(0,E.m9)(b);return en.has(d)||en.set(d,po._fromUser(d)),en.get(d)}const Is="__sak";class Qt{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Is,"1"),this.storage.removeItem(Is),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cu=(()=>{class b extends Qt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pt(){const b=(0,E.z$)();return ne(b)||Ae(b)}()&&function ar(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const Y=this.storage.getItem(T),oe=this.localCache[T];Y!==oe&&g(T,oe,Y)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((mt,tn,Tn)=>{this.notifyListeners(mt,Tn)});const Y=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const mt=this.storage.getItem(Y);if(g.newValue!==mt)null!==g.newValue?this.storage.setItem(Y,g.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===g.newValue&&!T)return}const oe=()=>{const mt=this.storage.getItem(Y);!T&&this.localCache[Y]===mt||this.notifyListeners(Y,mt)},We=this.storage.getItem(Y);!function Yt(){return(0,E.w1)()&&10===document.documentMode}()||We===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,T){this.localCache[g]=T;const Y=this.listeners[g];if(Y)for(const oe of Array.from(Y))oe(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var Y=()=>super._set,oe=this;return(0,p.Z)(function*(){yield Y().call(oe,g,T),oe.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,Y=this;return(0,p.Z)(function*(){const oe=yield T().call(Y,g);return Y.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var T=()=>super._remove,Y=this;return(0,p.Z)(function*(){yield T().call(Y,g),delete Y.localCache[g]})()}}return b.type="LOCAL",b})(),Uo=(()=>{class b extends Qt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return b.type="SESSION",b})();let Uu=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(oe=>oe.isListeningto(g));if(T)return T;const Y=new b(g);return this.receivers.push(Y),Y}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,p.Z)(function*(){const Y=g,{eventId:oe,eventType:We,data:mt}=Y.data,tn=T.handlersMap[We];if(!tn?.size)return;Y.ports[0].postMessage({status:"ack",eventId:oe,eventType:We});const Tn=Array.from(tn).map(function(){var Mr=(0,p.Z)(function*(ea){return ea(Y.origin,mt)});return function(ea){return Mr.apply(this,arguments)}}()),Yn=yield function Xl(b){return Promise.all(b.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return d.apply(this,arguments)}}()))}(Tn);Y.ports[0].postMessage({status:"done",eventId:oe,eventType:We,response:Yn})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function oa(b="",d=10){let g="";for(let T=0;T<d;T++)g+=Math.floor(10*Math.random());return b+g}class vl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,T=50){var Y=this;return(0,p.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let We,mt;return new Promise((tn,Tn)=>{const Yn=oa("",20);oe.port1.start();const Mr=setTimeout(()=>{Tn(new Error("unsupported_event"))},T);mt={messageChannel:oe,onMessage(ea){const gu=ea;if(gu.data.eventId===Yn)switch(gu.data.status){case"ack":clearTimeout(Mr),We=setTimeout(()=>{Tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),tn(gu.data.response);break;default:clearTimeout(Mr),clearTimeout(We),Tn(new Error("invalid_response"))}}},Y.handlers.add(mt),oe.port1.addEventListener("message",mt.onMessage),Y.target.postMessage({eventType:d,eventId:Yn,data:g},[oe.port2])}).finally(()=>{mt&&Y.removeMessageHandler(mt)})})()}}function ki(){return window}function Du(){return typeof ki().WorkerGlobalScope<"u"&&"function"==typeof ki().importScripts}function Ea(){return(Ea=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vn="firebaseLocalStorageDb",Zi=1,Zn="firebaseLocalStorage",cu="fbase_key";class hi{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function dn(b,d){return b.transaction([Zn],d?"readwrite":"readonly").objectStore(Zn)}function Tu(){const b=indexedDB.open(vn,Zi);return new Promise((d,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const T=b.result;try{T.createObjectStore(Zn,{keyPath:cu})}catch(Y){g(Y)}}),b.addEventListener("success",(0,p.Z)(function*(){const T=b.result;T.objectStoreNames.contains(Zn)?d(T):(T.close(),yield function aa(){const b=indexedDB.deleteDatabase(vn);return new hi(b).toPromise()}(),d(yield Tu()))}))})}function Pa(b,d,g){return $a.apply(this,arguments)}function $a(){return($a=(0,p.Z)(function*(b,d,g){const T=dn(b,!0).put({[cu]:d,value:g});return new hi(T).toPromise()})).apply(this,arguments)}function ja(){return(ja=(0,p.Z)(function*(b,d){const g=dn(b,!1).get(d),T=yield new hi(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ns(b,d){const g=dn(b,!0).delete(d);return new hi(g).toPromise()}const tu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Tu()),g.db})()}_withRetries(g){var T=this;return(0,p.Z)(function*(){let Y=0;for(;;)try{const oe=yield T._openDb();return yield g(oe)}catch(oe){if(Y++>3)throw oe;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Du()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Uu._getInstance(function mi(){return Du()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,p.Z)(function*(Y,oe){return{keyProcessed:(yield g._poll()).includes(oe.key)}});return function(Y,oe){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,p.Z)(function*(Y,oe){return["keyChanged"]});return function(Y,oe){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var T,Y;if(g.activeServiceWorker=yield function ur(){return Ea.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new vl(g.activeServiceWorker);const oe=yield g.sender._send("ping",{},800);oe&&null!==(T=oe[0])&&void 0!==T&&T.fulfilled&&null!==(Y=oe[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,p.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Bu(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Tu();return yield Pa(g,Is,"1"),yield ns(g,Is),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,p.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var Y=this;return(0,p.Z)(function*(){return Y._withPendingWrite((0,p.Z)(function*(){return yield Y._withRetries(oe=>Pa(oe,g,T)),Y.localCache[g]=T,Y.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,p.Z)(function*(){const Y=yield T._withRetries(oe=>function eu(b,d){return ja.apply(this,arguments)}(oe,g));return T.localCache[g]=Y,Y})()}_remove(g){var T=this;return(0,p.Z)(function*(){return T._withPendingWrite((0,p.Z)(function*(){return yield T._withRetries(Y=>ns(Y,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const T=yield g._withRetries(We=>{const mt=dn(We,!1).getAll();return new hi(mt).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const Y=[],oe=new Set;for(const{fbase_key:We,value:mt}of T)oe.add(We),JSON.stringify(g.localCache[We])!==JSON.stringify(mt)&&(g.notifyListeners(We,mt),Y.push(We));for(const We of Object.keys(g.localCache))g.localCache[We]&&!oe.has(We)&&(g.notifyListeners(We,null),Y.push(We));return Y})()}notifyListeners(g,T){this.localCache[g]=T;const Y=this.listeners[g];if(Y)for(const oe of Array.from(Y))oe(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Ga=1e12;class To{constructor(d){this.auth=d,this.counter=Ga,this._widgets=new Map}render(d,g){const T=this.counter;return this._widgets.set(T,new $u(d,this.auth.name,g||{})),this.counter++,T}reset(d){var g;const T=d||Ga;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(d){var g;return(null===(g=this._widgets.get(d||Ga))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var T;return null===(T=g._widgets.get(d||Ga))||void 0===T||T.execute(),""})()}}class $u{constructor(d,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof d?document.getElementById(d):d;ze(Y,"argument-error",{appName:g}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function nu(b){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<b;T++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const la=Xn("rcb"),_l=new ft(3e4,6e4);class da{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=ki().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return ze(function nl(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&Oe(ki().grecaptcha)?Promise.resolve(ki().grecaptcha):new Promise((T,Y)=>{const oe=ki().setTimeout(()=>{Y(Pe(d,"network-request-failed"))},_l.get());ki()[la]=()=>{ki().clearTimeout(oe),delete ki()[la];const mt=ki().grecaptcha;if(!mt||!Oe(mt))return void Y(Pe(d,"internal-error"));const tn=mt.render;mt.render=(Tn,Yn)=>{const Mr=tn(Tn,Yn);return this.counter++,Mr},this.hostLanguage=g,T(mt)},Pn(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:la,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(oe),Y(Pe(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=ki().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wl{load(d){return(0,p.Z)(function*(){return new To(d)})()}clearedOneInstance(){}}const $i="recaptcha",ji={theme:"light",type:"image"};class ba{constructor(d,g=Object.assign({},ji),T){this.parameters=g,this.type=$i,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(T),this.isInvisible="invisible"===this.parameters.size,ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof d?document.getElementById(d):d;ze(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wl:new da,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(g)||new Promise(oe=>{const We=mt=>{mt&&(d.tokenChangeListeners.delete(We),oe(mt))};d.tokenChangeListeners.add(We),d.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ze(!this.parameters.sitekey,this.auth,"argument-error"),ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof d)d(g);else if("string"==typeof d){const T=ki()[d];"function"==typeof T&&T(g)}}}assertNotDestroyed(){ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){ze(Wt()&&!Du(),d.auth,"internal-error"),yield function Ia(){let b=null;return new Promise(d=>{"complete"!==document.readyState?(b=()=>d(),window.addEventListener("load",b)):d()}).catch(d=>{throw b&&window.removeEventListener("load",b),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function ut(b){return ce.apply(this,arguments)}(d.auth);ze(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gs{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=Mi._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function Ci(b,d,g){return du.apply(this,arguments)}function du(){return(du=(0,p.Z)(function*(b,d,g){const T=fr(b),Y=yield ru(T,d,(0,E.m9)(g));return new Gs(Y,oe=>qn(T,oe))})).apply(this,arguments)}function Wa(b,d,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);yield no(!1,T,"phone");const Y=yield ru(T.auth,d,(0,E.m9)(g));return new Gs(Y,oe=>Es(T,oe))})).apply(this,arguments)}function Su(b,d,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b),Y=yield ru(T.auth,d,(0,E.m9)(g));return new Gs(Y,oe=>ts(T,oe))})).apply(this,arguments)}function ru(b,d,g){return Au.apply(this,arguments)}function Au(){return Au=(0,p.Z)(function*(b,d,g){var T;const Y=yield g.verify();try{let oe;if(ze("string"==typeof Y,b,"argument-error"),ze(g.type===$i,b,"argument-error"),oe="string"==typeof d?{phoneNumber:d}:d,"session"in oe){const We=oe.session;if("phoneNumber"in oe)return ze("enroll"===We.type,b,"internal-error"),(yield function rr(b,d){return pn(b,"POST","/v2/accounts/mfaEnrollment:start",Mt(b,d))}(b,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ze("signin"===We.type,b,"internal-error");const mt=(null===(T=oe.multiFactorHint)||void 0===T?void 0:T.uid)||oe.multiFactorUid;return ze(mt,b,"missing-multi-factor-info"),(yield function Jo(b,d){return pn(b,"POST","/v2/accounts/mfaSignIn:start",Mt(b,d))}(b,{mfaPendingCredential:We.credential,mfaEnrollmentId:mt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function ls(b,d){return Vi.apply(this,arguments)}(b,{phoneNumber:oe.phoneNumber,recaptchaToken:Y});return We}}finally{g._reset()}}),Au.apply(this,arguments)}function So(b,d){return iu.apply(this,arguments)}function iu(){return(iu=(0,p.Z)(function*(b,d){yield mr((0,E.m9)(b),d)})).apply(this,arguments)}let _=(()=>{class b{constructor(g){this.providerId=b.PROVIDER_ID,this.auth=fr(g)}verifyPhoneNumber(g,T){return ru(this.auth,g,(0,E.m9)(T))}static credential(g,T){return Mi._fromVerification(g,T)}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:Y}=g;return T&&Y?Mi._fromTokenResponse(T,Y):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function C(b,d){return d?be(d):(ze(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class m extends xt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return as(d,this._buildIdpRequest())}_linkToIdToken(d,g){return as(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return as(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function x(b){return ro(b.auth,new m(b),b.bypassAuthState)}function B(b){const{auth:d,user:g}=b;return ze(g,d,"internal-error"),wa(g,new m(b),b.bypassAuthState)}function X(b){return ue.apply(this,arguments)}function ue(){return(ue=(0,p.Z)(function*(b){const{auth:d,user:g}=b;return ze(g,d,"internal-error"),mr(g,new m(b),b.bypassAuthState)})).apply(this,arguments)}class Ke{constructor(d,g,T,Y,oe=!1){this.auth=d,this.resolver=T,this.user=Y,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(T,Y){d.pendingPromise={resolve:T,reject:Y};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(oe){d.reject(oe)}});return function(T,Y){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:T,sessionId:Y,postBody:oe,tenantId:We,error:mt,type:tn}=d;if(mt)return void g.reject(mt);const Tn={auth:g.auth,requestUri:T,sessionId:Y,tenantId:We||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(tn)(Tn))}catch(Yn){g.reject(Yn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return x;case"linkViaPopup":case"linkViaRedirect":return X;case"reauthViaPopup":case"reauthViaRedirect":return B;default:_e(this.auth,"internal-error")}}resolve(d){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nt=new ft(2e3,1e4);function on(b,d,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,p.Z)(function*(b,d,g){const T=fr(b);At(b,d,ws);const Y=C(T,g);return new ha(T,"signInViaPopup",d,Y).executeNotNull()})).apply(this,arguments)}function Wr(b,d,g){return Di.apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,ws);const Y=C(T.auth,g);return new ha(T.auth,"reauthViaPopup",d,Y,T).executeNotNull()})).apply(this,arguments)}function Ca(b,d,g){return so.apply(this,arguments)}function so(){return(so=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,ws);const Y=C(T.auth,g);return new ha(T.auth,"linkViaPopup",d,Y,T).executeNotNull()})).apply(this,arguments)}let ha=(()=>{class b extends Ke{constructor(g,T,Y,oe,We){super(g,T,oe,We),this.provider=Y,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const T=yield g.execute();return ze(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,p.Z)(function*(){fn(1===g.filter.length,"Popup operations only handle one event");const T=oa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(Y=>{g.reject(Y)}),g.resolver._isIframeWebStorageSupported(g.auth,Y=>{Y||g.reject(Pe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,Y;this.pollId=null!==(Y=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Nt.get())};g()}}return b.currentPopupAction=null,b})();const $o="pendingRedirect",jo=new Map;class Hi extends Ke{constructor(d,g,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let T=jo.get(g.auth._key());if(!T){try{const oe=(yield function rl(b,d){return fa.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;T=()=>Promise.resolve(oe)}catch(Y){T=()=>Promise.reject(Y)}jo.set(g.auth._key(),T)}return g.bypassAuthState||jo.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,T=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(T,d);if("unknown"!==d.type){if(d.eventId){const Y=yield T.auth._redirectUserForId(d.eventId);if(Y)return T.user=Y,g().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function fa(){return(fa=(0,p.Z)(function*(b,d){const g=bl(d),T=Fi(b);if(!(yield T._isAvailable()))return!1;const Y="true"===(yield T._get(g));return yield T._remove(g),Y})).apply(this,arguments)}function El(b,d){return oi.apply(this,arguments)}function oi(){return(oi=(0,p.Z)(function*(b,d){return Fi(b)._set(bl(d),"true")})).apply(this,arguments)}function hu(){jo.clear()}function Ks(b,d){jo.set(b._key(),d)}function Fi(b){return be(b._redirectPersistence)}function bl(b){return vt($o,b.config.apiKey,b.name)}function fu(b,d,g){return function Ho(b,d,g){return il.apply(this,arguments)}(b,d,g)}function il(){return(il=(0,p.Z)(function*(b,d,g){const T=fr(b);At(b,d,ws),yield T._initializationPromise;const Y=C(T,g);return yield El(Y,T),Y._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function Ic(b,d,g){return function Rs(b,d,g){return Mu.apply(this,arguments)}(b,d,g)}function Mu(){return(Mu=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,ws),yield T.auth._initializationPromise;const Y=C(T.auth,g);yield El(Y,T.auth);const oe=yield Ra(T);return Y._openRedirect(T.auth,d,"reauthViaRedirect",oe)})).apply(this,arguments)}function qa(b,d,g){return function rs(b,d,g){return Da.apply(this,arguments)}(b,d,g)}function Da(){return(Da=(0,p.Z)(function*(b,d,g){const T=(0,E.m9)(b);At(T.auth,d,ws),yield T.auth._initializationPromise;const Y=C(T.auth,g);yield no(!1,T,d.providerId),yield El(Y,T.auth);const oe=yield Ra(T);return Y._openRedirect(T.auth,d,"linkViaRedirect",oe)})).apply(this,arguments)}function Il(b,d){return su.apply(this,arguments)}function su(){return(su=(0,p.Z)(function*(b,d){return yield fr(b)._initializationPromise,xu(b,d,!1)})).apply(this,arguments)}function xu(b,d){return sl.apply(this,arguments)}function sl(){return(sl=(0,p.Z)(function*(b,d,g=!1){const T=fr(b),Y=C(T,d),We=yield new Hi(T,Y,g).execute();return We&&!g&&(delete We.user._redirectEventId,yield T._persistUserIfCurrent(We.user),yield T._setRedirectUser(null,d)),We})).apply(this,arguments)}function Ra(b){return pa.apply(this,arguments)}function pa(){return(pa=(0,p.Z)(function*(b){const d=oa(`${b.uid}:::`);return b._redirectEventId=d,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),d})).apply(this,arguments)}class Oa{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(g=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Za(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pu(b);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var T;if(d.error&&!pu(d)){const Y=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Pe(this.auth,Y))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const T=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ao(d))}saveEventToCache(d){this.cachedEventUids.add(Ao(d)),this.lastProcessedEventTime=Date.now()}}function Ao(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(d=>d).join("-")}function pu({type:b,error:d}){return"unknown"===b&&"auth/no-auth-event"===d?.code}function ol(b){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,p.Z)(function*(b,d={}){return pn(b,"GET","/v1/projects",d)})).apply(this,arguments)}const ec=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,al=/^https?/;function y(){return(y=(0,p.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:d}=yield ol(b);for(const g of d)try{if(w(g))return}catch{}_e(b,"unauthorized-domain")})).apply(this,arguments)}function w(b){const d=Vt(),{protocol:g,hostname:T}=new URL(d);if(b.startsWith("chrome-extension://")){const We=new URL(b);return""===We.hostname&&""===T?"chrome-extension:"===g&&b.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&We.hostname===T}if(!al.test(g))return!1;if(ec.test(b))return T===b;const Y=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(T)}const V=new ft(3e4,6e4);function Q(){const b=ki().___jsl;if(b?.H)for(const d of Object.keys(b.H))if(b.H[d].r=b.H[d].r||[],b.H[d].L=b.H[d].L||[],b.H[d].r=[...b.H[d].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let Re=null;const ct=new ft(5e3,15e3),Dt="__/auth/iframe",_n="emulator/auth/iframe",Nn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nr(b){const d=b.config;ze(d.authDomain,b,"auth-domain-config-required");const g=d.emulator?_t(d,_n):`https://${b.config.authDomain}/${Dt}`,T={apiKey:d.apiKey,appName:b.name,v:G.SDK_VERSION},Y=tr.get(b.config.apiHost);Y&&(T.eid=Y);const oe=b._getFrameworks();return oe.length&&(T.fw=oe.join(",")),`${g}?${(0,E.xO)(T).slice(1)}`}function nr(){return nr=(0,p.Z)(function*(b){const d=yield function Le(b){return Re=Re||function de(b){return new Promise((d,g)=>{var T,Y,oe;function We(){Q(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Q(),g(Pe(b,"network-request-failed"))},timeout:V.get()})}if(null!==(Y=null===(T=ki().gapi)||void 0===T?void 0:T.iframes)&&void 0!==Y&&Y.Iframe)d(gapi.iframes.getContext());else{if(null===(oe=ki().gapi)||void 0===oe||!oe.load){const mt=Xn("iframefcb");return ki()[mt]=()=>{gapi.load?We():g(Pe(b,"network-request-failed"))},Pn(`https://apis.google.com/js/api.js?onload=${mt}`).catch(tn=>g(tn))}We()}}).catch(d=>{throw Re=null,d})}(b),Re}(b),g=ki().gapi;return ze(g,b,"internal-error"),d.open({where:document.body,url:Nr(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nn,dontclear:!0},T=>new Promise(function(){var Y=(0,p.Z)(function*(oe,We){yield T.restyle({setHideOnLeave:!1});const mt=Pe(b,"network-request-failed"),tn=ki().setTimeout(()=>{We(mt)},ct.get());function Tn(){ki().clearTimeout(tn),oe(T)}T.ping(Tn).then(Tn,()=>{We(mt)})});return function(oe,We){return Y.apply(this,arguments)}}()))}),nr.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P=500,z=600,fe="_blank",Ne="http://localhost";class xe{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zt="__/auth/handler",An="emulator/auth/handler",Jn=encodeURIComponent("fac");function lr(b,d,g,T,Y,oe){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(b,d,g,T,Y,oe){ze(b.config.authDomain,b,"auth-domain-config-required"),ze(b.config.apiKey,b,"invalid-api-key");const We={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:T,v:G.SDK_VERSION,eventId:Y};if(d instanceof ws){d.setDefaultLanguage(b.languageCode),We.providerId=d.providerId||"",(0,E.xb)(d.getCustomParameters())||(We.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Yn,Mr]of Object.entries(oe||{}))We[Yn]=Mr}if(d instanceof xi){const Yn=d.getScopes().filter(Mr=>""!==Mr);Yn.length>0&&(We.scopes=Yn.join(","))}b.tenantId&&(We.tid=b.tenantId);const mt=We;for(const Yn of Object.keys(mt))void 0===mt[Yn]&&delete mt[Yn];const tn=yield b._getAppCheckToken(),Tn=tn?`#${Jn}=${encodeURIComponent(tn)}`:"";return`${function Li({config:b}){return b.emulator?_t(b,An):`https://${b.authDomain}/${Zt}`}(b)}?${(0,E.xO)(mt).slice(1)}${Tn}`})).apply(this,arguments)}const Na="webStorageSupport",Un=class Hu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uo,this._completeRedirectFn=xu,this._overrideRedirectResult=Ks}_openPopup(d,g,T,Y){var oe=this;return(0,p.Z)(function*(){var We;fn(null===(We=oe.eventManagers[d._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const mt=yield lr(d,g,T,Vt(),Y);return function Ye(b,d,g,T=P,Y=z){const oe=Math.max((window.screen.availHeight-Y)/2,0).toString(),We=Math.max((window.screen.availWidth-T)/2,0).toString();let mt="";const tn=Object.assign(Object.assign({},D),{width:T.toString(),height:Y.toString(),top:oe,left:We}),Tn=(0,E.z$)().toLowerCase();g&&(mt=J(Tn)?fe:g),ee(Tn)&&(d=d||Ne,tn.scrollbars="yes");const Yn=Object.entries(tn).reduce((ea,[gu,Cc])=>`${ea}${gu}=${Cc},`,"");if(function It(b=(0,E.z$)()){var d;return Ae(b)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Tn)&&"_self"!==mt)return function Kt(b,d){const g=document.createElement("a");g.href=b,g.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(d||"",mt),new xe(null);const Mr=window.open(d||"",mt,Yn);ze(Mr,b,"popup-blocked");try{Mr.focus()}catch{}return new xe(Mr)}(d,mt,oa())})()}_openRedirect(d,g,T,Y){var oe=this;return(0,p.Z)(function*(){return yield oe._originValidation(d),function Xa(b){ki().location.href=b}(yield lr(d,g,T,Vt(),Y)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:Y,promise:oe}=this.eventManagers[g];return Y?Promise.resolve(Y):(fn(oe,"If manager is not set, promise should be"),oe)}const T=this.initAndGetManager(d);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const T=yield function En(b){return nr.apply(this,arguments)}(d),Y=new Oa(d);return T.register("authEvent",oe=>(ze(oe?.authEvent,d,"invalid-auth-event"),{status:Y.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:Y},g.iframes[d._key()]=T,Y})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Na,{type:Na},Y=>{var oe;const We=null===(oe=Y?.[0])||void 0===oe?void 0:oe[Na];void 0!==We&&g(!!We),_e(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function $(b){return y.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return cn()||ne()||Ae()}};class Bn{constructor(d){this.factorId=d}_process(d,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,T);case"signin":return this._finalizeSignIn(d,g.credential);default:return bt("unexpected MultiFactorSessionType")}}}class Wn extends Bn{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Wn(d)}_finalizeEnroll(d,g,T){return function _r(b,d){return pn(b,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(b,d))}(d,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function ua(b,d){return pn(b,"POST","/v2/accounts/mfaSignIn:finalize",Mt(b,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xr=(()=>{class b{constructor(){}static assertion(g){return Wn._fromCredential(g)}}return b.FACTOR_ID="phone",b})();var Ti="@firebase/auth";class Ja{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(T=>{d(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,E.Pz)("authIdTokenMaxAge"),function ka(b){(0,G._registerComponent)(new Be.wA("auth",(d,{options:g})=>{const T=d.getProvider("app").getImmediate(),Y=d.getProvider("heartbeat"),oe=d.getProvider("app-check-internal"),{apiKey:We,authDomain:mt}=T.options;ze(We&&!We.includes(":"),"invalid-api-key",{appName:T.name}),ze(!mt?.includes(":"),"argument-error",{appName:T.name});const tn={apiKey:We,authDomain:mt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vr(b)},Tn=new wr(T,Y,oe,tn);return function Pr(b,d){const g=d?.persistence||[],T=(Array.isArray(g)?g:[g]).map(be);d?.errorMap&&b._updateErrorMap(d.errorMap),b._initializeWithPersistence(T,d?.popupRedirectResolver)}(Tn,g),Tn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,T)=>{d.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Be.wA("auth-internal",d=>{const g=fr(d.getProvider("auth").getImmediate());return new Ja(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Ti,"0.23.1",function Cs(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,G.registerVersion)(Ti,"0.23.1","esm2017")}("Browser")},2810:(ln,je,j)=>{"use strict";j.d(je,{u7:()=>yf,Jj:()=>gl,IX:()=>Pv,my:()=>yo,xU:()=>Ec,Lz:()=>ml,WA:()=>Ut,F8:()=>Jd,$q:()=>Zl,W:()=>Yl,EK:()=>mi,PU:()=>fy,l7:()=>Ra,Ky:()=>dn,Xb:()=>hi,Cf:()=>ui,K9:()=>Is,Me:()=>Ic,yq:()=>si,Wi:()=>Om,ET:()=>ly,Ab:()=>s_,vr:()=>gy,Fc:()=>Nv,hJ:()=>Qu,B$:()=>xv,at:()=>Jp,oe:()=>Zv,AK:()=>py,TF:()=>sf,JU:()=>km,ST:()=>Ov,fH:()=>Lm,Ix:()=>Bm,Wu:()=>mf,Lx:()=>gf,qY:()=>qs,GL:()=>ah,QT:()=>Gv,kl:()=>oh,Xk:()=>Wv,PL:()=>Kv,UQ:()=>qv,zN:()=>oy,ad:()=>Rv,nP:()=>my,b9:()=>Er,vh:()=>$v,Pb:()=>$m,L$:()=>jm,cf:()=>Yv,sc:()=>Qv,Xo:()=>ty,IO:()=>Bv,iE:()=>au,Eo:()=>Ju,i3:()=>r_,Bt:()=>i_,pl:()=>ay,Ub:()=>_r,qK:()=>sy,TQ:()=>dd,e0:()=>jv,r7:()=>uy,Mx:()=>Um,ar:()=>cd});var we,p=j(5861),E=j(6881),G=j(4859),Te=j(1877),Ce=j(2090),Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe={},Qe=Qe||{},pe=Be||self;function De(){}function ke(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function gt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kt="closure_uid_"+(1e9*Math.random()>>>0),Bt=0;function qe(r,e,t){return r.call.apply(r.bind,arguments)}function wt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function rt(r,e,t){return(rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:wt).apply(null,arguments)}function Lt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function _e(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),S=2;S<arguments.length;S++)f[S-2]=arguments[S];return e.prototype[a].apply(s,f)}}function Pe(){this.s=this.s,this.o=this.o}Pe.prototype.s=!1,Pe.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function yt(r){Object.prototype.hasOwnProperty.call(r,kt)&&r[kt]||(r[kt]=++Bt)}(this)},Pe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const At=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function ht(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function ze(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ke(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function bt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var fn=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{pe.addEventListener("test",De,e),pe.removeEventListener("test",De,e)}catch{}return r}();function Vt(r){return/^[\s\xa0]*$/.test(r)}var Wt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Gt(r,e){return r<e?-1:r>e?1:0}function st(){var r=pe.navigator;return r&&(r=r.userAgent)?r:""}function ot(r){return-1!=st().indexOf(r)}function ft(r){return ft[" "](r),r}function _t(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}ft[" "]=De;var nn,r,$t=ot("Opera"),Pt=ot("Trident")||ot("MSIE"),jt=ot("Edge"),Mt=jt||Pt,pn=ot("Gecko")&&!(-1!=st().toLowerCase().indexOf("webkit")&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),yn=-1!=st().toLowerCase().indexOf("webkit")&&!ot("Edge");function Dn(){var r=pe.document;return r?r.documentMode:void 0}e:{var Sn="",kn=(r=st(),pn?/rv:([^\);]+)(\)|;)/.exec(r):jt?/Edge\/([\d\.]+)/.exec(r):Pt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):yn?/WebKit\/(\S+)/.exec(r):$t?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(kn&&(Sn=kn?kn[1]:""),Pt){var yr=Dn();if(null!=yr&&yr>parseFloat(Sn)){nn=String(yr);break e}}nn=Sn}var Dr={},sr=pe.document&&Pt&&(Dn()||parseInt(nn,10))||void 0;function Tr(r,e){if(bt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(pn){e:{try{ft(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:pr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Tr.$.h.call(this)}}_e(Tr,bt);var pr={2:"touch",3:"pen",4:"mouse"};Tr.prototype.h=function(){Tr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),un=0;function Fn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++un,this.fa=this.ia=!1}function zn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function or(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function qr(r){const e={};for(const t in r)e[t]=r[t];return e}const ai="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<ai.length;c++)t=ai[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function bn(r){this.src=r,this.g={},this.h=0}function Xt(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=At(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(zn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function St(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}bn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=St(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Fn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var dr="closure_lm_"+(1e6*Math.random()|0),Ir={};function Cr(r,e,t,s,a){if(s&&s.once)return Sr(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Cr(r,e[c],t,s,a);return null}return t=gr(t),r&&r[Hn]?r.O(e,t,gt(s)?!!s.capture:!!s,a):Yr(r,e,t,!1,s,a)}function Yr(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=gt(a)?!!a.capture:!!a,S=Vn(r);if(S||(r[dr]=S=new bn(r)),(t=S.add(e,t,s,f,c)).proxy)return t;if(s=function jr(){const e=Ln;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)fn||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(jn(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Sr(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Sr(r,e[c],t,s,a);return null}return t=gr(t),r&&r[Hn]?r.P(e,t,gt(s)?!!s.capture:!!s,a):Yr(r,e,t,!0,s,a)}function $n(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)$n(r,e[c],t,s,a);else s=gt(s)?!!s.capture:!!s,t=gr(t),r&&r[Hn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=St(c=r.g[e],t,s,a))&&(zn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Vn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=St(e,t,s,a)),(t=-1<r?e[r]:null)&&Hr(t))}function Hr(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hn])Xt(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(jn(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Vn(e))?(Xt(t,r),0==t.h&&(t.src=null,e[dr]=null)):zn(r)}}}function jn(r){return r in Ir?Ir[r]:Ir[r]="on"+r}function Ln(r,e){if(r.fa)r=!0;else{e=new Tr(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Hr(r),r=t.call(s,e)}return r}function Vn(r){return(r=r[dr])instanceof bn?r:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function gr(r){return"function"==typeof r?r:(r[hr]||(r[hr]=function(e){return r.handleEvent(e)}),r[hr])}function nt(){Pe.call(this),this.i=new bn(this),this.S=this,this.J=null}function be(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new bt(e,r);else if(e instanceof bt)e.target=e.target||r;else{var a=e;Mn(e=new bt(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Ve(f,s,!0,e)&&a}if(a=Ve(f=e.g=r,s,!0,e)&&a,a=Ve(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Ve(f=e.g=t[c],s,!1,e)&&a}function Ve(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var S=f.listener,U=f.la||f.src;f.ia&&Xt(r.i,f),a=!1!==S.call(U,s)&&a}}return a&&!s.defaultPrevented}_e(nt,Pe),nt.prototype[Hn]=!0,nt.prototype.removeEventListener=function(r,e,t,s){$n(this,r,e,t,s)},nt.prototype.N=function(){if(nt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)zn(t[s]);delete r.g[e],r.h--}}this.J=null},nt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},nt.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Ot=pe.JSON.stringify;function vt(){var r=le;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Se,he=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ee,r=>r.reset());class ee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ne(r){pe.setTimeout(()=>{throw r},0)}function J(r,e){Se||function ye(){var r=pe.Promise.resolve(void 0);Se=function(){r.then(Ae)}}(),ve||(Se(),ve=!0),le.add(r,e)}var ve=!1,le=new class ge{constructor(){this.h=this.g=null}add(e,t){const s=he.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ae(){for(var r;r=vt();){try{r.h.call(r.g)}catch(t){ne(t)}var e=he;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ve=!1}function Je(r,e){nt.call(this),this.h=r||1,this.g=e||pe,this.j=rt(this.qb,this),this.l=Date.now()}function It(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Yt(r,e,t){if("function"==typeof r)t&&(r=rt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=rt(r.handleEvent,r)}return 2147483647<Number(e)?-1:pe.setTimeout(r,e||0)}function cn(r){r.g=Yt(()=>{r.g=null,r.i&&(r.i=!1,cn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}_e(Je,nt),(we=Je.prototype).ga=!1,we.T=null,we.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),be(this,"tick"),this.ga&&(It(this),this.start()))}},we.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.N=function(){Je.$.N.call(this),It(this),delete this.g};class ar extends Pe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(r){Pe.call(this),this.h=r,this.g={}}_e(Vr,Pe);var ut=[];function ce(r,e,t,s){Array.isArray(t)||(t&&(ut[0]=t.toString()),t=ut);for(var a=0;a<t.length;a++){var c=Cr(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function H(r){or(r.g,function(e,t){this.g.hasOwnProperty(t)&&Hr(e)},r),r.g={}}function ae(){this.g=!0}function Tt(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Pn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Ot(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Vr.prototype.N=function(){Vr.$.N.call(this),H(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ae.prototype.Ea=function(){this.g=!1},ae.prototype.info=function(){};var Xn={},br=null;function ei(){return br=br||new nt}function Yi(r){bt.call(this,Xn.Ta,r)}function Ei(r){const e=ei();be(e,new Yi(e))}function Zr(r,e){bt.call(this,Xn.STAT_EVENT,r),this.stat=e}function Ht(r){const e=ei();be(e,new Zr(e,r))}function Rn(r,e){bt.call(this,Xn.Ua,r),this.size=e}function wr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){r()},e)}Xn.Ta="serverreachability",_e(Yi,bt),Xn.STAT_EVENT="statevent",_e(Zr,bt),Xn.Ua="timingevent",_e(Rn,bt);var fr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},li={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kr(){}function er(){}kr.prototype.h=null;var Ct,He={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ue(){bt.call(this,"d")}function $e(){bt.call(this,"c")}function xt(){}function In(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Vr(this),this.P=On,this.V=new Je(r=Mt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}_e(Ue,bt),_e($e,bt),_e(xt,kr),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},Ct=new xt;var On=45e3,ir={},vi={};function ci(r,e,t){r.L=1,r.v=ls(Qr(e)),r.s=t,r.S=!0,_i(r,null)}function _i(r,e){r.G=Date.now(),zi(r),r.A=Qr(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),wo(t.i,"t",s),r.C=0,t=r.l.I,r.h=new Gn,r.g=xs(r.l,t?e:null,!r.s),0<r.O&&(r.M=new ar(rt(r.Pa,r,r.g),r.O)),ce(r.U,r.g,"readystatechange",r.nb),e=r.I?qr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ei(),function Oe(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",S=c.split("&"),U=0;U<S.length;U++){var q=S[U].split("=");if(1<q.length){var se=q[0];q=q[1];var Me=se.split("_");f=2<=Me.length&&"type"==Me[1]?f+(se+"=")+q+"&":f+(se+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Oi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Br(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=_s(r,t),a==vi){4==e&&(r.o=4,Ht(14),s=!1),Tt(r.j,r.m,null,"[Incomplete Response]");break}if(a==ir){r.o=4,Ht(15),Tt(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Tt(r.j,r.m,a,null),fi(r,a)}Oi(r)&&a!=vi&&a!=ir&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Ht(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ms(e),e.L=!0,Ht(11))):(Tt(r.j,r.m,t,"[Invalid Chunked Response]"),Ai(r),Ji(r))}function _s(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?vi:(t=Number(e.substring(t,s)),isNaN(t)?ir:(s+=1)+t>e.length?vi:(e=e.substr(s,t),r.C=s+t,e))}function zi(r){r.Y=Date.now()+r.P,ks(r,r.P)}function ks(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=wr(rt(r.lb,r),e)}function Qi(r){r.B&&(pe.clearTimeout(r.B),r.B=null)}function Ji(r){0==r.l.H||r.J||Ki(r.l,r)}function Ai(r){Qi(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,It(r.V),H(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function fi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Oo(t.h,r)))if(!r.K&&Oo(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Pi(t),O(t)}hs(t),Ht(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=wr(rt(t.ib,t),6e3));if(1>=Js(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Ii(t,11)}else if((r.K||t.g==r)&&Pi(t),!Vt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let q=a[e];if(t.V=q[0],q=q[1],2==t.H)if("c"==q[0]){t.J=q[1],t.oa=q[2];const se=q[3];null!=se&&(t.qa=se,t.j.info("VER="+t.qa));const Me=q[4];null!=Me&&(t.Ga=Me,t.j.info("SVER="+t.Ga));const tt=q[5];null!=tt&&"number"==typeof tt&&0<tt&&(t.K=s=1.5*tt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Rt=r.g;if(Rt){const rn=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rn){var c=s.h;c.g||-1==rn.indexOf("spdy")&&-1==rn.indexOf("quic")&&-1==rn.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Gi(c,c.h),c.h=null))}if(s.F){const wn=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;wn&&(s.Da=wn,Ar(s.G,s.F,wn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=$s(s,s.I?s.oa:null,s.Y),f.K){Ts(s.h,f);var S=f,U=s.K;U&&S.setTimeout(U),S.B&&(Qi(S),zi(S)),s.g=f}else Jr(s);0<t.i.length&&N(t)}else"stop"!=q[0]&&"close"!=q[0]||Ii(t,7);else 3==t.H&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?Ii(t,7):Io(t):"noop"!=q[0]&&t.l&&t.l.Aa(q),t.A=0)}Ei()}catch{}}function ss(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ke(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function bi(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ke(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Aa(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ke(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(we=In.prototype).setTimeout=function(r){this.P=r},we.nb=function(r){r=r.target;const e=this.M;e&&3==Es(r)?e.l():this.Pa(r)},we.Pa=function(r){try{if(r==this.g)e:{const se=Es(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||Mt||this.g&&(this.h.h||this.g.ja()||ko(this.g)))){this.J||4!=se||7==e||Ei(),Qi(this);var t=this.g.da();this.aa=t;t:if(Oi(this)){var s=ko(this.g);r="";var a=s.length,c=4==Es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),Ji(this);var f="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function dt(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,se,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vt(S)){var q=S;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,Ht(12),Ai(this),Ji(this);break e}Tt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fi(this,t)}this.S?(Br(this,se,f),Mt&&this.i&&3==se&&(ce(this.U,this.V,"tick",this.mb),this.V.start())):(Tt(this.j,this.m,f,null),fi(this,f)),4==se&&Ai(this),this.i&&!this.J&&(4==se?Ki(this.l,this):(this.i=!1,zi(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),Ai(this),Ji(this)}}}catch{}},we.mb=function(){if(this.g){var r=Es(this.g),e=this.g.ja();this.C<e.length&&(Qi(this),Br(this,r,e),this.i&&4!=r&&zi(this))}},we.cancel=function(){this.J=!0,Ai(this)},we.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function sn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ei(),Ht(17)),Ai(this),this.o=2,Ji(this)):ks(this,this.Y-r)};var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof os){this.h=void 0!==e?e:r.h,as(this,r.j),this.s=r.s,this.g=r.g,us(this,r.m),this.l=r.l,e=r.i;var t=new Mi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Po(this,t),this.o=r.o}else r&&(t=String(r).match(ao))?(this.h=!!e,as(this,t[1]||"",!0),this.s=Vi(t[2]||""),this.g=Vi(t[3]||"",!0),us(this,t[4]),this.l=Vi(t[5]||"",!0),Po(this,t[6]||"",!0),this.o=Vi(t[7]||"")):(this.h=!!e,this.i=new Mi(null,this.h))}function Qr(r){return new os(r)}function as(r,e,t){r.j=t?Vi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function us(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Po(r,e,t){e instanceof Mi?(r.i=e,function ws(r,e){e&&!r.j&&(Ui(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(qo(this,s),wo(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Fs(e,Ro)),r.i=new Mi(e,r.h))}function Ar(r,e,t){r.i.set(e,t)}function ls(r){return Ar(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Vi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Fs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ra),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ra(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}os.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Fs(e,Wo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Fs(e,Wo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Fs(t,"/"==t.charAt(0)?_o:Ys,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Fs(t,Ko)),r.join("")};var Wo=/[#\/\?@]/g,Ys=/[#\?:]/g,_o=/[#\?]/g,Ro=/[#\?@]/g,Ko=/#/g;function Mi(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ui(r){r.g||(r.g=new Map,r.h=0,r.i&&function xo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qo(r,e){Ui(r),e=Xi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Ls(r,e){return Ui(r),e=Xi(r,e),r.g.has(e)}function wo(r,e,t){qo(r,e),0<t.length&&(r.i=null,r.g.set(Xi(r,e),ht(t)),r.h+=t.length)}function Xi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function cs(r){this.l=r||Qs,r=pe.PerformanceNavigationTiming?0<(r=pe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=Mi.prototype).add=function(r,e){Ui(this),this.i=null,r=Xi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},we.forEach=function(r,e){Ui(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},we.sa=function(){Ui(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},we.Z=function(r){Ui(this);let e=[];if("string"==typeof r)Ls(this,r)&&(e=e.concat(this.g.get(Xi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},we.set=function(r,e){return Ui(this),this.i=null,Ls(this,r=Xi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},we.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Qs=10;function Vs(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Js(r){return r.h?1:r.g?r.g.size:0}function Oo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Gi(r,e){r.g?r.g.add(e):r.h=e}function Ts(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Us(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return ht(r.i)}function Ss(){}function Xs(){this.g=new Ss}function Bs(r,e,t){const s=t||"";try{ss(r,function(a,c){let f=a;gt(a)&&(f=Ot(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ds(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function ni(r){this.l=r.fc||null,this.j=r.ob||!1}function zr(r,e){nt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cs.prototype.cancel=function(){if(this.i=Us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Ss.prototype.stringify=function(r){return pe.JSON.stringify(r,void 0)},Ss.prototype.parse=function(r){return pe.JSON.parse(r,void 0)},_e(ni,kr),ni.prototype.g=function(){return new zr(this.l,this.j)},ni.prototype.i=function(r){return function(){return r}}({}),_e(zr,nt);var es=0;function eo(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function di(r){r.readyState=4,r.l=null,r.j=null,r.A=null,to(r)}function to(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(we=zr.prototype).open=function(r,e){if(this.readyState!=es)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,to(this)},we.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,di(this)),this.readyState=es},we.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eo(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},we.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?di(this):to(this),3==this.readyState&&eo(this)}},we.Za=function(r){this.g&&(this.response=this.responseText=r,di(this))},we.Ya=function(r){this.g&&(this.response=r,di(this))},we.ka=function(){this.g&&di(this)},we.setRequestHeader=function(r,e){this.v.append(r,e)},we.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var No=pe.JSON.parse;function mr(r){nt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wi,this.L=this.M=!1}_e(mr,nt);var wi="",no=/^https?$/i,pi=["POST","PUT"];function Ni(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ro(r),qn(r)}function ro(r){r.F||(r.F=!0,be(r,"complete"),be(r,"error"))}function Wi(r){if(r.h&&typeof Qe<"u"&&(!r.C[1]||4!=Es(r)||2!=r.da()))if(r.v&&4==Es(r))Yt(r.La,0,r);else if(be(r,"readystatechange"),4==Es(r)){r.h=!1;try{const S=r.da();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===S){var a=String(r.I).match(ao)[1]||null;if(!a&&pe.self&&pe.self.location){var c=pe.self.location.protocol;a=c.substr(0,c.length-1)}s=!no.test(a?a.toLowerCase():"")}t=s}if(t)be(r,"complete"),be(r,"success");else{r.m=6;try{var f=2<Es(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",ro(r)}}finally{qn(r)}}}function qn(r,e){if(r.g){uo(r);const t=r.g,s=r.C[0]?De:null;r.g=null,r.C=null,e||be(r,"ready");try{t.onreadystatechange=s}catch{}}}function uo(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(pe.clearTimeout(r.A),r.A=null)}function Es(r){return r.g?r.g.readyState:0}function ko(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case wi:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(r){let e="";return or(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function As(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=ts(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ar(r,e,t))}function Eo(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function bo(r){this.Ga=0,this.i=[],this.j=new ae,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Eo("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Eo("baseRetryDelayMs",5e3,r),this.hb=Eo("retryDelaySeedMs",1e4,r),this.eb=Eo("forwardChannelMaxRetries",2,r),this.xa=Eo("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new cs(r&&r.concurrentRequestLimit),this.Ja=new Xs,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Io(r){if(F(r),3==r.H){var e=r.W++,t=Qr(r.G);Ar(t,"SID",r.J),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),gn(r,t),(e=new In(r,r.j,e,void 0)).L=2,e.v=ls(Qr(t)),t=!1,pe.navigator&&pe.navigator.sendBeacon&&(t=pe.navigator.sendBeacon(e.v.toString(),"")),!t&&pe.Image&&((new Image).src=e.v,t=!0),t||(e.g=xs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zi(e)}lo(r)}function O(r){r.g&&(Ms(r),r.g.cancel(),r.g=null)}function F(r){O(r),r.u&&(pe.clearTimeout(r.u),r.u=null),Pi(r),r.h.cancel(),r.m&&("number"==typeof r.m&&pe.clearTimeout(r.m),r.m=null)}function N(r){Vs(r.h)||r.m||(r.m=!0,J(r.Na,r),r.C=0)}function Xe(r,e){var t;t=e?e.m:r.W++;const s=Qr(r.G);Ar(s,"SID",r.J),Ar(s,"RID",t),Ar(s,"AID",r.V),gn(r,s),r.o&&r.s&&As(s,r.o,r.s),t=new In(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Rr(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Gi(r.h,t),ci(t,s,e)}function gn(r,e){r.ma&&or(r.ma,function(t,s){Ar(e,s,t)}),r.l&&ss({},function(t,s){Ar(e,s,t)})}function Rr(r,e,t){t=Math.min(r.i.length,t);var s=r.l?rt(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let S=!0;for(let U=0;U<t;U++){let q=a[U].h;const se=a[U].g;if(q-=c,0>q)c=Math.max(0,a[U].h-100),S=!1;else try{Bs(se,f,"req"+q+"_")}catch{s&&s(se)}}if(S){s=f.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function Jr(r){r.g||r.u||(r.ba=1,J(r.Ma,r),r.A=0)}function hs(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=wr(rt(r.Ma,r),Ri(r,r.A)),r.A++,0))}function Ms(r){null!=r.B&&(pe.clearTimeout(r.B),r.B=null)}function io(r){r.g=new In(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Qr(r.wa);Ar(e,"RID","rpc"),Ar(e,"SID",r.J),Ar(e,"CI",r.M?"0":"1"),Ar(e,"AID",r.V),Ar(e,"TYPE","xmlhttp"),gn(r,e),r.o&&r.s&&As(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=ls(Qr(e)),t.s=null,t.S=!0,_i(t,r)}function Pi(r){null!=r.v&&(pe.clearTimeout(r.v),r.v=null)}function Ki(r,e){var t=null;if(r.g==e){Pi(r),Ms(r),r.g=null;var s=2}else{if(!Oo(r.h,e))return;t=e.F,Ts(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;be(s=ei(),new Rn(s,t)),N(r)}else Jr(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function re(r,e){return!(Js(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=wr(rt(r.Na,r,e),Ri(r,r.C)),r.C++,0)))}(r,e)||2==s&&hs(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Ii(r,5);break;case 4:Ii(r,10);break;case 3:Ii(r,6);break;default:Ii(r,2)}}function Ri(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Ii(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=rt(r.pb,r);t||(t=new os("//www.google.com/images/cleardot.gif"),pe.location&&"http"==pe.location.protocol||as(t,"https"),ls(t)),function ti(r,e){const t=new ae;if(pe.Image){const s=new Image;s.onload=Lt(ds,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Lt(ds,t,s,"TestLoadImage: error",!1,e),s.onabort=Lt(ds,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Lt(ds,t,s,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Ht(2);r.H=0,r.l&&r.l.za(e),lo(r),F(r)}function lo(r){if(r.H=0,r.pa=[],r.l){const e=Us(r.h);(0!=e.length||0!=r.i.length)&&(ze(r.pa,e),ze(r.pa,r.i),r.h.i.length=0,ht(r.i),r.i.length=0),r.l.ya()}}function $s(r,e,t){var s=t instanceof os?Qr(t):new os(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),us(s,s.m);else{var a=pe.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new os(null,void 0);s&&as(c,s),e&&(c.g=e),a&&us(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Ar(s,t,e),Ar(s,"VER",r.qa),gn(r,s),s}function xs(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mr(t&&r.Ha&&!r.va?new ni({ob:!0}):r.va)).Oa(r.I),e}function Fo(){}function js(){if(Pt&&!(10<=Number(sr)))throw Error("Environmental error: no available transport.")}function qi(r,e){nt.call(this),this.g=new bo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Vt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ps(this)}function Hs(r){Ue.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function gi(){$e.call(this),this.status=1}function Ps(r){this.g=r}function fs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function co(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Gr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(we=mr.prototype).Oa=function(r){this.M=r},we.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ct.g(),this.C=function Pr(r){return r.h||(r.h=r.i())}(this.u?this.u:Ct),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Ni(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=pe.FormData&&r instanceof pe.FormData,!(0<=At(pi,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uo(this),0<this.B&&((this.L=function wa(r){return Pt&&function cr(){return _t(Dr,9,function(){let r=0;const e=Wt(String(nn)).split("."),t=Wt("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==r&&f<s;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=Gt(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Gt(0==a[2].length,0==c[2].length)||Gt(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=Yt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Ni(this,c)}},we.ua=function(){typeof Qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,be(this,"timeout"),this.abort(8))},we.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,be(this,"complete"),be(this,"abort"),qn(this))},we.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qn(this,!0)),mr.$.N.call(this)},we.La=function(){this.s||(this.G||this.v||this.l?Wi(this):this.kb())},we.kb=function(){Wi(this)},we.da=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},we.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},we.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),No(e)}},we.Ia=function(){return this.m},we.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=bo.prototype).qa=8,we.H=1,we.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new In(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=qr(c),Mn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Rr(this,a,e),Ar(t=Qr(this.G),"RID",r),Ar(t,"CVER",22),this.F&&Ar(t,"X-HTTP-Session-Id",this.F),gn(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(ts(c)))+"&"+e:this.o&&As(t,this.o,c)),Gi(this.h,a),this.bb&&Ar(t,"TYPE","init"),this.P?(Ar(t,"$req",e),Ar(t,"SID","null"),a.ba=!0,ci(a,t,null)):ci(a,t,e),this.H=2}}else 3==this.H&&(r?Xe(this,r):0==this.i.length||Vs(this.h)||Xe(this))},we.Ma=function(){if(this.u=null,io(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=wr(rt(this.jb,this),r)}},we.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ht(10),O(this),io(this))},we.ib=function(){null!=this.v&&(this.v=null,O(this),hs(this),Ht(19))},we.pb=function(r){r?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))},(we=Fo.prototype).Ba=function(){},we.Aa=function(){},we.za=function(){},we.ya=function(){},we.Va=function(){},js.prototype.g=function(r,e){return new qi(r,e)},_e(qi,nt),qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;Ht(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=$s(r,null,r.Y),N(r)},qi.prototype.close=function(){Io(this.g)},qi.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Ot(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&N(e)},qi.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,qi.$.N.call(this)},_e(Hs,Ue),_e(gi,$e),_e(Ps,Fo),Ps.prototype.Ba=function(){be(this.g,"a")},Ps.prototype.Aa=function(r){be(this.g,new Hs(r))},Ps.prototype.za=function(r){be(this.g,new gi)},Ps.prototype.ya=function(){be(this.g,"b")},_e(fs,function Zo(){this.blockSize=-1}),fs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)co(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){co(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){co(this,s),a=0;break}}this.h=a,this.i+=e},fs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Yo={};function ia(r){return-128<=r&&128>r?_t(Yo,r,function(e){return new Gr([0|e],0>e?-1:0)}):new Gr([0|r],0>r?-1:0)}function bs(r){if(isNaN(r)||!isFinite(r))return ps;if(0>r)return vr(bs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Vo;return new Gr(e,0)}var Vo=4294967296,ps=ia(0),ho=ia(1),Qo=ia(16777216);function ri(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ii(r){return-1==r.h}function vr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Gr(t,~r.h).add(ho)}function sa(r,e){return r.add(vr(e))}function gs(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Co(r,e){this.g=r,this.h=e}function fo(r,e){if(ri(e))throw Error("division by zero");if(ri(r))return new Co(ps,ps);if(ii(r))return e=fo(vr(r),e),new Co(vr(e.g),vr(e.h));if(ii(e))return e=fo(r,vr(e)),new Co(vr(e.g),e.h);if(30<r.g.length){if(ii(r)||ii(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ho,s=e;0>=s.X(r);)t=Ma(t),s=Ma(s);var a=ms(t,1),c=ms(s,1);for(s=ms(s,2),t=ms(t,2);!ri(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=ms(s,1),t=ms(t,1)}return e=sa(r,a.R(e)),new Co(a,e)}for(a=ps;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=bs(t)).R(e);ii(f)||0<f.X(r);)f=(c=bs(t-=s)).R(e);ri(c)&&(c=ho),a=a.add(c),r=sa(r,f)}return new Co(a,r)}function Ma(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Gr(t,r.h)}function ms(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Gr(a,r.h)}(we=Gr.prototype).ea=function(){if(ii(this))return-vr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Vo+s)*e,e*=Vo}return r},we.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(ri(this))return"0";if(ii(this))return"-"+vr(this).toString(r);for(var e=bs(Math.pow(r,6)),t=this,s="";;){var a=fo(t,e).g,c=((0<(t=sa(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(ri(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},we.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},we.X=function(r){return ii(r=sa(this,r))?-1:ri(r)?0:1},we.abs=function(){return ii(this)?vr(this):this},we.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Gr(t,-2147483648&t[t.length-1]?-1:0)},we.R=function(r){if(ri(this)||ri(r))return ps;if(ii(this))return ii(r)?vr(this).R(vr(r)):vr(vr(this).R(r));if(ii(r))return vr(this.R(vr(r)));if(0>this.X(Qo)&&0>r.X(Qo))return bs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),S=r.D(a)>>>16,U=65535&r.D(a);t[2*s+2*a]+=f*U,gs(t,2*s+2*a),t[2*s+2*a+1]+=c*U,gs(t,2*s+2*a+1),t[2*s+2*a+1]+=f*S,gs(t,2*s+2*a+1),t[2*s+2*a+2]+=c*S,gs(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Gr(t,0)},we.gb=function(r){return fo(this,r).h},we.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Gr(t,this.h&r.h)},we.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Gr(t,this.h|r.h)},we.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Gr(t,this.h^r.h)},js.prototype.createWebChannel=js.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,li.COMPLETE="complete",er.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",nt.prototype.listen=nt.prototype.O,mr.prototype.listenOnce=mr.prototype.P,mr.prototype.getLastError=mr.prototype.Sa,mr.prototype.getLastErrorCode=mr.prototype.Ia,mr.prototype.getStatus=mr.prototype.da,mr.prototype.getResponseJson=mr.prototype.Wa,mr.prototype.getResponseText=mr.prototype.ja,mr.prototype.send=mr.prototype.ha,mr.prototype.setWithCredentials=mr.prototype.Oa,fs.prototype.digest=fs.prototype.l,fs.prototype.reset=fs.prototype.reset,fs.prototype.update=fs.prototype.j,Gr.prototype.add=Gr.prototype.add,Gr.prototype.multiply=Gr.prototype.R,Gr.prototype.modulo=Gr.prototype.gb,Gr.prototype.compare=Gr.prototype.X,Gr.prototype.toNumber=Gr.prototype.ea,Gr.prototype.toString=Gr.prototype.toString,Gr.prototype.getBits=Gr.prototype.D,Gr.fromNumber=bs,Gr.fromString=function Lo(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return vr(Lo(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=bs(Math.pow(e,8)),s=ps,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=bs(Math.pow(e,c)),s=s.R(c).add(bs(f))):s=(s=s.R(t)).add(bs(f))}return s};var Do=Fe.createWebChannelTransport=function(){return new js},Ua=Fe.getStatEventTarget=function(){return ei()},xa=Fe.ErrorCode=fr,R=Fe.EventType=li,W=Fe.Event=Xn,L=Fe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},te=Fe.FetchXmlHttpFactory=ni,Ie=Fe.WebChannel=er,lt=Fe.XhrIo=mr,I=Fe.Md5=fs,M=Fe.Integer=Gr;const Z="@firebase/firestore";class me{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}me.UNAUTHENTICATED=new me(null),me.GOOGLE_CREDENTIALS=new me("google-credentials-uid"),me.FIRST_PARTY=new me("first-party-uid"),me.MOCK_USER=new me("mock-user");let et="9.21.0";const zt=new Te.Yd("@firebase/firestore");function rr(){return zt.logLevel}function _r(r){zt.setLogLevel(r)}function Et(r,...e){if(zt.logLevel<=Te.in.DEBUG){const t=e.map(po);zt.debug(`Firestore (${et}): ${r}`,...t)}}function Or(r,...e){if(zt.logLevel<=Te.in.ERROR){const t=e.map(po);zt.error(`Firestore (${et}): ${r}`,...t)}}function si(r,...e){if(zt.logLevel<=Te.in.WARN){const t=e.map(po);zt.warn(`Firestore (${et}): ${r}`,...t)}}function po(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function en(r="Unexpected state"){const e=`FIRESTORE (${et}) INTERNAL ASSERTION FAILED: `+r;throw Or(e),new Error(e)}function Cn(r,e){r||en()}function Is(r,e){r||en()}function Qt(r,e){return r}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends Ce.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ba{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(me.UNAUTHENTICATED))}shutdown(){}}class Vu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uo{constructor(e){this.t=e,this.currentUser=me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=q=>this.i!==a?(a=this.i,t(q)):Promise.resolve();let f=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Bi,e.enqueueRetryable(()=>c(this.currentUser))};const S=()=>{const q=f;e.enqueueRetryable((0,p.Z)(function*(){yield q.promise,yield c(s.currentUser)}))},U=q=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(q=>U(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?U(q):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Bi)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Cn("string"==typeof s.accessToken),new Ba(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cn(null===e||"string"==typeof e),new me(e)}}class Xl{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=me.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Uu{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Xl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(me.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Et("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Cn("string"==typeof t.token),this.T=t.token,new oa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xa(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Du{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Xa(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function ur(r,e){return r<e?-1:r>e?1:0}function Ea(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Bu(r){return r+"\0"}class mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new mi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ur(this.nanoseconds,e.nanoseconds):ur(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vn(e)}static min(){return new vn(new mi(0,0))}static max(){return new vn(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zi{constructor(e,t,s){void 0===t?t=0:t>e.length&&en(),void 0===s?s=e.length-t:s>e.length-t&&en(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zn extends Zi{construct(e,t,s){return new Zn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ut(pt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Zn(t)}static emptyPath(){return new Zn([])}}const cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Zi{construct(e,t,s){return new hi(e,t,s)}static isValidIdentifier(e){return cu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Ut(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new Ut(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[a+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Ut(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,a+=2}else"`"===S?(f=!f,a++):"."!==S||f?(s+=S,a++):(c(),a++)}if(c(),f)throw new Ut(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class dn{constructor(e){this.path=e}static fromPath(e){return new dn(Zn.fromString(e))}static fromName(e){return new dn(Zn.fromString(e).popFirst(5))}static empty(){return new dn(Zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dn(new Zn(e.slice()))}}class aa{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Tu(r){return r.fields.find(e=>2===e.kind)}function Pa(r){return r.fields.filter(e=>2!==e.kind)}aa.UNKNOWN_ID=-1;class eu{constructor(e,t){this.fieldPath=e,this.kind=t}}class ns{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ns(0,zs.min())}}function Ha(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=vn.fromTimestamp(1e9===s?new mi(t+1,0):new mi(t,s));return new zs(a,dn.empty(),e)}function Bo(r){return new zs(r.readTime,r.key,-1)}class zs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new zs(vn.min(),dn.empty(),-1)}static max(){return new zs(vn.max(),dn.empty(),-1)}}function tu(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=dn.comparator(r.documentKey,e.documentKey),0!==t?t:ur(r.largestBatchId,e.largestBatchId))}const Jo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ua{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function za(r){return tl.apply(this,arguments)}function tl(){return tl=(0,p.Z)(function*(r){if(r.code!==pt.FAILED_PRECONDITION||r.message!==Jo)throw r;Et("LocalStore","Unexpectedly lost primary lease")}),tl.apply(this,arguments)}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ze((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ze?t:Ze.resolve(t)}catch(t){return Ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.reject(t)}static resolve(e){return new Ze((t,s)=>{t(e)})}static reject(e){return new Ze((t,s)=>{s(e)})}static waitFor(e){return new Ze((t,s)=>{let a=0,c=0,f=!1;e.forEach(S=>{++a,S.next(()=>{++c,f&&c===a&&t()},U=>s(U))}),f=!0,c===a&&t()})}static or(e){let t=Ze.resolve(!1);for(const s of e)t=t.next(a=>a?Ze.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ze((s,a)=>{const c=e.length,f=new Array(c);let S=0;for(let U=0;U<c;U++){const q=U;t(e[q]).next(se=>{f[q]=se,++S,S===c&&s(f)},se=>a(se))}})}static doWhile(e,t){return new Ze((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Ga{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Bi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new nu(e,t.error)):this.R.resolve()},this.transaction.onerror=s=>{const a=nl(s.target.error);this.R.reject(new nu(e,a))}}static open(e,t,s,a){try{return new Ga(t,e.transaction(a,s))}catch(c){throw new nu(t,c)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _l(t)}}class To{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===To.S((0,Ce.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Et("SimpleDb","Removing database:",e),ca(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ce.hl)())return!1;if(To.C())return!0;const e=(0,Ce.z$)(),t=To.S(e),s=0<t&&t<10,a=To.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var t=this;return(0,p.Z)(function*(){return t.db||(Et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{a(new nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const S=f.target.error;a("VersionError"===S.name?new Ut(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Ut(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new nu(e,S))},c.onupgradeneeded=f=>{Et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.$(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,p.Z)(function*(){const f="readonly"===t;let S=0;for(;;){++S;try{c.db=yield c.O(e);const U=Ga.open(c.db,e,f?"readonly":"readwrite",s),q=a(U).next(se=>(U.P(),se)).catch(se=>(U.abort(se),Ze.reject(se))).toPromise();return q.catch(()=>{}),yield U.v,q}catch(U){const q=U,se="FirebaseError"!==q.name&&S<3;if(Et("SimpleDb","Transaction failed with error:",q.message,"Retrying:",se),c.close(),!se)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $u{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ca(this.L.delete())}}class nu extends Ut{constructor(e,t){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function la(r){return"IndexedDbTransactionError"===r.name}class _l{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Et("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Et("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ca(s)}add(e){return Et("SimpleDb","ADD",this.store.name,e,e),ca(this.store.add(e))}get(e){return ca(this.store.get(e)).next(t=>(void 0===t&&(t=null),Et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Et("SimpleDb","DELETE",this.store.name,e),ca(this.store.delete(e))}count(){return Et("SimpleDb","COUNT",this.store.name),ca(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(f,S)=>{c.push(S)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Ze((c,f)=>{a.onerror=S=>{f(S.target.error)},a.onsuccess=S=>{c(S.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Ze((a,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{a(f.target.result)}})}J(e,t){Et("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,f,S)=>S.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Ze((s,a)=>{t.onerror=c=>{const f=nl(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(S=>{S?f.continue():s()}):s()}})}W(e,t){const s=[];return new Ze((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const S=f.target.result;if(!S)return void a();const U=new $u(S),q=t(S.primaryKey,S.value,U);if(q instanceof Ze){const se=q.catch(Me=>(U.done(),Ze.reject(Me)));s.push(se)}U.isDone?a():null===U.K?S.continue():S.continue(U.K)}}).next(()=>Ze.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ca(r){return new Ze((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=nl(s.target.error);t(a)}})}let da=!1;function nl(r){const e=To.S((0,Ce.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return da||(da=!0,setTimeout(()=>{throw s},0)),s}}return r}class wl{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{Et("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){la(s)?Et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield za(s)}yield t.et(6e4)}))}}class $i{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Ze.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return Et("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(S=>{a-=S,s.add(f)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,c)).next(S=>(Et("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>f.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const f=Bo(c);tu(f,s)>0&&(s=f)}),new zs(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ji=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ba(r){return null==r}function Ia(r){return 0===r&&1/r==-1/0}function Gs(r){return"number"==typeof r&&Number.isInteger(r)&&!Ia(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ci(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Wa(e)),e=du(r.get(t),e);return Wa(e)}function du(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Wa(r){return r+"\x01\x01"}function Ws(r){const e=r.length;if(Cn(e>=2),2===e)return Cn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Zn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const f=r.indexOf("\x01",c);switch((f<0||f>t)&&en(),r.charAt(f+1)){case"\x01":const S=r.substring(c,f);let U;0===a.length?U=S:(a+=S,U=a,a=""),s.push(U);break;case"\x10":a+=r.substring(c,f),a+="\0";break;case"\x11":a+=r.substring(c,f+1);break;default:en()}c=f+2}return new Zn(s)}const Su=["userId","batchId"];function Ka(r,e){return[r,Ci(e)]}function ru(r,e,t){return[r,Ci(e),t]}const Au={},So=["prefixPath","collectionGroup","readTime","documentId"],iu=["prefixPath","collectionGroup","documentId"],_=["collectionGroup","readTime","prefixPath","documentId"],C=["canonicalId","targetId"],m=["targetId","path"],x=["path","targetId"],B=["collectionId","parent"],X=["indexId","uid"],ue=["uid","sequenceNumber"],Ke=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nt=["indexId","uid","orderedDocumentKey"],on=["userId","collectionPath","documentId"],mn=["userId","collectionPath","largestBatchId"],Wr=["userId","collectionGroup","largestBatchId"],Di=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ca=[...Di,"documentOverlays"],so=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ha=so,$o=[...ha,"indexConfiguration","indexState","indexEntries"];class jo extends ua{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Hi(r,e){const t=Qt(r);return To.M(t.at,e)}function rl(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function fa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function El(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oi{constructor(e,t){this.comparator=e,this.root=t||Ks.EMPTY}insert(e,t){return new oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ks.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ks.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ks{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ks.RED,this.left=a??Ks.EMPTY,this.right=c??Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ks(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ks.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}Ks.EMPTY=null,Ks.RED=!0,Ks.BLACK=!1,Ks.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ks(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bl(this.data.getIterator())}getIteratorFrom(e){return new bl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class bl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fu(r){return r.hasNext()?r.getNext():void 0}class Ho{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new Ho([])}unionWith(e){let t=new Fi(hi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ho(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class il extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ic(){return typeof atob<"u"}class Rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new il("Invalid base64 string: "+a):a}}(e);return new Rs(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ur(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rs.EMPTY_BYTE_STRING=new Rs("");const Mu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(r){if(Cn(!!r),"string"==typeof r){let e=0;const t=Mu.exec(r);if(Cn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rs(r.seconds),nanos:rs(r.nanos)}}function rs(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Da(r){return"string"==typeof r?Rs.fromBase64String(r):Rs.fromUint8Array(r)}function Il(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function su(r){const e=r.mapValue.fields.__previous_value__;return Il(e)?su(e):e}function xu(r){const e=qa(r.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}class sl{constructor(e,t,s,a,c,f,S,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=S,this.useFetchStreams=U}}class Ra{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ju={nullValue:"NULL_VALUE"};function Oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Il(r)?4:Le(r)?9007199254740991:10:en()}function Ao(r,e){if(r===e)return!0;const t=Oa(r);if(t!==Oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=qa(s.timestampValue),f=qa(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Da(r.bytesValue).isEqual(Da(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return rs(s.geoPointValue.latitude)===rs(a.geoPointValue.latitude)&&rs(s.geoPointValue.longitude)===rs(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return rs(s.integerValue)===rs(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=rs(s.doubleValue),f=rs(a.doubleValue);return c===f?Ia(c)===Ia(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return Ea(r.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(rl(c)!==rl(f))return!1;for(const S in c)if(c.hasOwnProperty(S)&&(void 0===f[S]||!Ao(c[S],f[S])))return!1;return!0}(r,e);default:return en()}var a}function pu(r,e){return void 0!==(r.values||[]).find(t=>Ao(t,e))}function Za(r,e){if(r===e)return 0;const t=Oa(r),s=Oa(e);if(t!==s)return ur(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ur(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=rs(a.integerValue||a.doubleValue),S=rs(c.integerValue||c.doubleValue);return f<S?-1:f>S?1:f===S?0:isNaN(f)?isNaN(S)?0:-1:1}(r,e);case 3:return ol(r.timestampValue,e.timestampValue);case 4:return ol(xu(r),xu(e));case 5:return ur(r.stringValue,e.stringValue);case 6:return function(a,c){const f=Da(a),S=Da(c);return f.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),S=c.split("/");for(let U=0;U<f.length&&U<S.length;U++){const q=ur(f[U],S[U]);if(0!==q)return q}return ur(f.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=ur(rs(a.latitude),rs(c.latitude));return 0!==f?f:ur(rs(a.longitude),rs(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],S=c.values||[];for(let U=0;U<f.length&&U<S.length;++U){const q=Za(f[U],S[U]);if(q)return q}return ur(f.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===pa.mapValue&&c===pa.mapValue)return 0;if(a===pa.mapValue)return 1;if(c===pa.mapValue)return-1;const f=a.fields||{},S=Object.keys(f),U=c.fields||{},q=Object.keys(U);S.sort(),q.sort();for(let se=0;se<S.length&&se<q.length;++se){const Me=ur(S[se],q[se]);if(0!==Me)return Me;const tt=Za(f[S[se]],U[q[se]]);if(0!==tt)return tt}return ur(S.length,q.length)}(r.mapValue,e.mapValue);default:throw en()}}function ol(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ur(r,e);const t=qa(r),s=qa(e),a=ur(t.seconds,s.seconds);return 0!==a?a:ur(t.nanos,s.nanos)}function Ya(r){return ec(r)}function ec(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=qa(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Da(r.bytesValue).toBase64():"referenceValue"in r?dn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=ec(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const S of a)f?f=!1:c+=",",c+=`${S}:${ec(s.fields[S])}`;return c+"}"}(r.mapValue):en();var e}function $(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function y(r){return!!r&&"integerValue"in r}function w(r){return!!r&&"arrayValue"in r}function V(r){return!!r&&"nullValue"in r}function Q(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function de(r){return!!r&&"mapValue"in r}function Re(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return fa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Re(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Re(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Le(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ct(r){return"nullValue"in r?ju:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?$(Ra.empty(),dn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:en()}function Dt(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?$(Ra.empty(),dn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?pa:en()}function _n(r,e){const t=Za(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Nn(r,e){const t=Za(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!de(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Re(t)}setAll(e){let t=hi.emptyPath(),s={},a=[];e.forEach((f,S)=>{if(!t.isImmediateParentOf(S)){const U=this.getFieldsMap(t);this.applyChanges(U,s,a),s={},a=[],t=S.popLast()}f?s[S.lastSegment()]=Re(f):a.push(S.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());de(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];de(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){fa(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new tr(Re(this.value))}}function Nr(r){const e=[];return fa(r.fields,(t,s)=>{const a=new hi([t]);if(de(s)){const c=Nr(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Ho(e)}class En{constructor(e,t,s,a,c,f,S){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=S}static newInvalidDocument(e){return new En(e,0,vn.min(),vn.min(),vn.min(),tr.empty(),0)}static newFoundDocument(e,t,s,a){return new En(e,1,t,vn.min(),s,a,0)}static newNoDocument(e,t){return new En(e,2,t,vn.min(),vn.min(),tr.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,vn.min(),vn.min(),tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nr{constructor(e,t){this.position=e,this.inclusive=t}}function D(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?dn.comparator(dn.fromName(f.referenceValue),t.key):Za(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function P(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ao(r.position[t],e.position[t]))return!1;return!0}class z{constructor(e,t="asc"){this.field=e,this.dir=t}}function fe(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Ne{}class xe extends Ne{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Hu(e,t,s):"array-contains"===t?new Xr(e,s):"in"===t?new vs(e,s):"not-in"===t?new Ta(e,s):"array-contains-any"===t?new Xo(e,s):new xe(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Un(e,s):new Bn(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Za(t,this.value)):null!==t&&Oa(this.value)===Oa(t)&&this.matchesComparison(Za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ye extends Ne{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ye(e,t)}matches(e){return Kt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kt(r){return"and"===r.op}function Zt(r){return"or"===r.op}function An(r){return Jn(r)&&Kt(r)}function Jn(r){for(const e of r.filters)if(e instanceof Ye)return!1;return!0}function lr(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(An(r))return r.filters.map(e=>lr(e)).join(",");{const e=r.filters.map(t=>lr(t)).join(",");return`${r.op}(${e})`}}function ys(r,e){return r instanceof xe?(t=r,(s=e)instanceof xe&&t.op===s.op&&t.field.isEqual(s.field)&&Ao(t.value,s.value)):r instanceof Ye?function(t,s){return s instanceof Ye&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&ys(c,s.filters[f]),!0)}(r,e):void en();var t,s}function Li(r,e){const t=r.filters.concat(e);return Ye.create(t,r.op)}function Na(r){return r instanceof xe?`${(e=r).field.canonicalString()} ${e.op} ${Ya(e.value)}`:r instanceof Ye?function(e){return e.op.toString()+" {"+e.getFilters().map(Na).join(" ,")+"}"}(r):"Filter";var e}class Hu extends xe{constructor(e,t,s){super(e,t,s),this.key=dn.fromName(s.referenceValue)}matches(e){const t=dn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Un extends xe{constructor(e,t){super(e,"in",t),this.keys=Wn(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bn extends xe{constructor(e,t){super(e,"not-in",t),this.keys=Wn(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wn(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>dn.fromName(s.referenceValue))}class Xr extends xe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return w(t)&&pu(t.arrayValue,this.value)}}class vs extends xe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pu(this.value.arrayValue,t)}}class Ta extends xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pu(this.value.arrayValue,t)}}class Xo extends xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!w(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}class ga{constructor(e,t=null,s=[],a=[],c=null,f=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=S,this.ft=null}}function Ti(r,e=null,t=[],s=[],a=null,c=null,f=null){return new ga(r,e,t,s,a,c,f)}function Qa(r){const e=Qt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>lr(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),ba(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ya(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ya(s)).join(",")),e.ft=t}return e.ft}function Ja(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fe(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ys(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!P(r.startAt,e.startAt)&&P(r.endAt,e.endAt)}function Cs(r){return dn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function ka(r,e){return r.filters.filter(t=>t instanceof xe&&t.field.isEqual(e))}function ma(r,e,t){let s=ju,a=!0;for(const c of ka(r,e)){let f=ju,S=!0;switch(c.op){case"<":case"<=":f=ct(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,S=!1;break;case"!=":case"not-in":f=ju}_n({value:s,inclusive:a},{value:f,inclusive:S})<0&&(s=f,a=S)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];_n({value:s,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}function Pu(r,e,t){let s=pa,a=!0;for(const c of ka(r,e)){let f=pa,S=!0;switch(c.op){case">=":case">":f=Dt(c.value),S=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,S=!1;break;case"!=":case"not-in":f=pa}Nn({value:s,inclusive:a},{value:f,inclusive:S})>0&&(s=f,a=S)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];Nn({value:s,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}class Sa{constructor(e,t=null,s=[],a=[],c=null,f="F",S=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=S,this.endAt=U,this.dt=null,this._t=null}}function ch(r,e,t,s,a,c,f,S){return new Sa(r,e,t,s,a,c,f,S)}function tc(r){return new Sa(r)}function b(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function d(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function g(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function T(r){return null!==r.collectionGroup}function Y(r){const e=Qt(r);if(null===e.dt){e.dt=[];const t=g(e),s=d(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new z(t)),e.dt.push(new z(hi.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new z(hi.keyField(),c))}}}return e.dt}function oe(r){const e=Qt(r);if(!e._t)if("F"===e.limitType)e._t=Ti(e.path,e.collectionGroup,Y(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Y(e))t.push(new z(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new nr(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new nr(e.startAt.position,e.startAt.inclusive):null;e._t=Ti(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function We(r,e){e.getFirstInequalityField(),g(r);const t=r.filters.concat([e]);return new Sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function mt(r,e,t){return new Sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function tn(r,e){return Ja(oe(r),oe(e))&&r.limitType===e.limitType}function Tn(r){return`${Qa(oe(r))}|lt:${r.limitType}`}function Yn(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Na(s)).join(", ")}]`),ba(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ya(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ya(s)).join(",")),`Target(${t})`}(oe(r))}; limitType=${r.limitType})`}function Mr(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):dn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Y(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const S=D(a,c,f);return a.inclusive?S<=0:S<0}(t.startAt,Y(t),s)||t.endAt&&!function(a,c,f){const S=D(a,c,f);return a.inclusive?S>=0:S>0}(t.endAt,Y(t),s)));var t,s}function ea(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gu(r){return(e,t)=>{let s=!1;for(const a of Y(r)){const c=Cc(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Cc(r,e,t){const s=r.field.isKeyField()?dn.comparator(e.key,t.key):function(a,c,f){const S=c.data.field(a),U=f.data.field(a);return null!==S&&null!==U?Za(S,U):en()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return en()}}class Ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return El(this.inner)}size(){return this.innerSize}}const Cl=new oi(dn.comparator);function ya(){return Cl}const Dc=new oi(dn.comparator);function zu(...r){let e=Dc;for(const t of r)e=e.insert(t.key,t);return e}function Tc(r){let e=Dc;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Fa(){return Ou()}function nc(){return Ou()}function Ou(){return new Ru(r=>r.toString(),(r,e)=>r.isEqual(e))}const Sc=new oi(dn.comparator),Ac=new Fi(dn.comparator);function Fr(...r){let e=Ac;for(const t of r)e=e.add(t);return e}const Cf=new Fi(ur);function fd(){return Cf}function Mc(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ia(e)?"-0":e}}function hg(r){return{integerValue:""+r}}function Df(r,e){return Gs(e)?hg(e):Mc(r,e)}class dh{constructor(){this._=void 0}}function My(r,e,t){return r instanceof rc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Il(a)&&(a=su(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Gu?hh(r,e):r instanceof mu?fg(r,e):function(s,a){const c=Tf(s,a),f=Py(c)+Py(s.wt);return y(c)&&y(s.wt)?hg(f):Mc(s.serializer,f)}(r,e)}function xy(r,e,t){return r instanceof Gu?hh(r,e):r instanceof mu?fg(r,e):t}function Tf(r,e){return r instanceof xc?y(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class rc extends dh{}class Gu extends dh{constructor(e){super(),this.elements=e}}function hh(r,e){const t=pg(e);for(const s of r.elements)t.some(a=>Ao(a,s))||t.push(s);return{arrayValue:{values:t}}}class mu extends dh{constructor(e){super(),this.elements=e}}function fg(r,e){let t=pg(e);for(const s of r.elements)t=t.filter(a=>!Ao(a,s));return{arrayValue:{values:t}}}class xc extends dh{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Py(r){return rs(r.integerValue||r.doubleValue)}function pg(r){return w(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ic{constructor(e,t){this.field=e,this.transform=t}}class gg{constructor(e,t){this.version=e,this.transformResults=t}}class is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class pd{}function Sf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new kc(r.key,is.none()):new Oc(r.key,r.data,is.none());{const t=r.data,s=tr.empty();let a=new Fi(hi.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new ul(r.key,s,new Ho(a.toArray()),is.none())}}function mg(r,e,t){r instanceof Oc?function(s,a,c){const f=s.value.clone(),S=ll(s.fieldTransforms,a,c.transformResults);f.setAll(S),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ul?function(s,a,c){if(!Pc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=ll(s.fieldTransforms,a,c.transformResults),S=a.data;S.setAll(vg(s)),S.setAll(f),a.convertToFoundDocument(c.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rc(r,e,t,s){return r instanceof Oc?function(a,c,f,S){if(!Pc(a.precondition,c))return f;const U=a.value.clone(),q=Nc(a.fieldTransforms,S,c);return U.setAll(q),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null}(r,e,t,s):r instanceof ul?function(a,c,f,S){if(!Pc(a.precondition,c))return f;const U=Nc(a.fieldTransforms,S,c),q=c.data;return q.setAll(vg(a)),q.setAll(U),c.convertToFoundDocument(c.version,q).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(se=>se.field))}(r,e,t,s):(f=t,Pc(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function Oy(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Tf(s.transform,a||null);null!=c&&(null===t&&(t=tr.empty()),t.set(s.field,c))}return t||null}function yg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Ea(t,s,(a,c)=>function Ry(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Gu&&s instanceof Gu||t instanceof mu&&s instanceof mu?Ea(t.elements,s.elements,Ao):t instanceof xc&&s instanceof xc?Ao(t.wt,s.wt):t instanceof rc&&s instanceof rc);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Oc extends pd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ul extends pd{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function ll(r,e,t){const s=new Map;Cn(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,S=e.data.field(c.field);s.set(c.field,xy(f,S,t[a]))}return s}function Nc(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,My(c,f,e))}return s}class kc extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _g extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wg{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&mg(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Rc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Rc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=nc();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let S=this.applyToLocalView(f,c.mutatedFields);S=t.has(a.key)?null:S;const U=Sf(f,S);null!==U&&s.set(a.key,U),f.isValidDocument()||f.convertToNoDocument(vn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fr())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(t,s)=>yg(t,s))&&Ea(this.baseMutations,e.baseMutations,(t,s)=>yg(t,s))}}class Eg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Cn(e.mutations.length===s.length);let a=Sc;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Eg(e,t,s,a)}}class bg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ig{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mo,yi;function Cg(r){switch(r){default:return en();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Dg(r){if(void 0===r)return Or("GRPC error has no .code"),pt.UNKNOWN;switch(r){case Mo.OK:return pt.OK;case Mo.CANCELLED:return pt.CANCELLED;case Mo.UNKNOWN:return pt.UNKNOWN;case Mo.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Mo.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Mo.INTERNAL:return pt.INTERNAL;case Mo.UNAVAILABLE:return pt.UNAVAILABLE;case Mo.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Mo.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Mo.NOT_FOUND:return pt.NOT_FOUND;case Mo.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Mo.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Mo.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Mo.ABORTED:return pt.ABORTED;case Mo.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Mo.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Mo.DATA_LOSS:return pt.DATA_LOSS;default:return en()}}(yi=Mo||(Mo={}))[yi.OK=0]="OK",yi[yi.CANCELLED=1]="CANCELLED",yi[yi.UNKNOWN=2]="UNKNOWN",yi[yi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yi[yi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yi[yi.NOT_FOUND=5]="NOT_FOUND",yi[yi.ALREADY_EXISTS=6]="ALREADY_EXISTS",yi[yi.PERMISSION_DENIED=7]="PERMISSION_DENIED",yi[yi.UNAUTHENTICATED=16]="UNAUTHENTICATED",yi[yi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yi[yi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yi[yi.ABORTED=10]="ABORTED",yi[yi.OUT_OF_RANGE=11]="OUT_OF_RANGE",yi[yi.UNIMPLEMENTED=12]="UNIMPLEMENTED",yi[yi.INTERNAL=13]="INTERNAL",yi[yi.UNAVAILABLE=14]="UNAVAILABLE",yi[yi.DATA_LOSS=15]="DATA_LOSS";class gd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yu}static getOrCreateInstance(){return null===yu&&(yu=new gd),yu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let yu=null;function Fc(){return new TextEncoder}const Tg=new M([4294967295,4294967295],0);function Af(r){const e=Fc().encode(r),t=new I;return t.update(e),new Uint8Array(t.digest())}function Mf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new M([t,s],0),new M([a,c],0)]}class Sg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new fh(`Invalid padding: ${t}`);if(s<0)throw new fh(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new fh(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new fh(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=M.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(M.fromNumber(s)));return 1===a.compare(Tg)&&(a=new M([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=Af(e),[s,a]=Mf(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);if(!this.Et(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Sg(c,a,t);return s.forEach(S=>f.insert(S)),f}insert(e){if(0===this.yt)return;const t=Af(e),[s,a]=Mf(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,sc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ph(vn.min(),a,new oi(ur),ya(),Fr())}}class sc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new sc(s,t,Fr(),Fr(),Fr())}}class Lc{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class Ny{constructor(e,t){this.targetId=e,this.bt=t}}class ky{constructor(e,t,s=Rs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class xf{constructor(){this.Vt=0,this.St=Mg(),this.Dt=Rs.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Fr(),t=Fr(),s=Fr();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:en()}}),new sc(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Mg()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Fy{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=ya(),this.jt=Ag(),this.zt=new oi(ur)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:en()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const f=c.target;if(Cs(f))if(0===a){const S=new dn(f.path);this.Jt(s,S,En.newNoDocument(S,vn.min()))}else Cn(1===a);else{const S=this.se(s);if(S!==a){const U=this.ie(e,S);0!==U&&(this.te(s),this.zt=this.zt.insert(s,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=gd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(q,se,Me){var tt,Rt,rn,wn,Kn,Ur;const Si={localCacheCount:se,existenceFilterCount:Me.count},Kr=Me.unchangedNames;return Kr&&(Si.bloomFilter={applied:0===q,hashCount:null!==(tt=Kr?.hashCount)&&void 0!==tt?tt:0,bitmapLength:null!==(wn=null===(rn=null===(Rt=Kr?.bits)||void 0===Rt?void 0:Rt.bitmap)||void 0===rn?void 0:rn.length)&&void 0!==wn?wn:0,padding:null!==(Ur=null===(Kn=Kr?.bits)||void 0===Kn?void 0:Kn.padding)&&void 0!==Ur?Ur:0}),Si}(U,S,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:S=0}=s;let U,q;try{U=Da(c).toUint8Array()}catch(se){if(se instanceof il)return si("Decoding the base64 bloom filter in existence filter failed ("+se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw se}try{q=new Sg(U,f,S)}catch(se){return si(se instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",se),1}return 0===q.yt?1:a!==t-this.re(e.targetId,q)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Kt.oe(),S=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.At(S)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,f)=>{const S=this.ne(f);if(S){if(c.current&&Cs(S.target)){const U=new dn(S.target.path);null!==this.Qt.get(U)||this.ce(f,U)||this.Jt(f,U,En.newNoDocument(U,e))}c.kt&&(t.set(f,c.Ot()),c.$t())}});let s=Fr();this.jt.forEach((c,f)=>{let S=!0;f.forEachWhile(U=>{const q=this.ne(U);return!q||"TargetPurposeLimboResolution"===q.purpose||(S=!1,!1)}),S&&(s=s.add(c))}),this.Qt.forEach((c,f)=>f.setReadTime(e));const a=new ph(e,t,this.zt,this.Qt,s);return this.Qt=ya(),this.jt=Ag(),this.zt=new oi(ur),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new xf,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Fi(ur),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Et("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new xf),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Ag(){return new oi(dn.comparator)}function Mg(){return new oi(dn.comparator)}const Ly={asc:"ASCENDING",desc:"DESCENDING"},xg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gh={and:"AND",or:"OR"};class Vy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function md(r,e){return r.useProto3Json||ba(e)?e:{value:e}}function Vc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function go(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Uy(r,e){return Vc(r,e.toTimestamp())}function mo(r){return Cn(!!r),vn.fromTimestamp(function(e){const t=qa(e);return new mi(t.seconds,t.nanos)}(r))}function yd(r,e){return(t=r,new Zn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Pf(r){const e=Zn.fromString(r);return Cn(vh(e)),e}function vd(r,e){return yd(r.databaseId,e.path)}function Wu(r,e){const t=Pf(e);if(t.get(1)!==r.databaseId.projectId)throw new Ut(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ut(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new dn(By(t))}function Rf(r,e){return yd(r.databaseId,e)}function Pg(r){const e=Pf(r);return 4===e.length?Zn.emptyPath():By(e)}function Uc(r){return new Zn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function By(r){return Cn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function $y(r,e,t){return{name:vd(r,e),fields:t.value.mapValue.fields}}function Bc(r,e,t){const s=Wu(r,e.name),a=mo(e.updateTime),c=e.createTime?mo(e.createTime):vn.min(),f=new tr({mapValue:{fields:e.fields}}),S=En.newFoundDocument(s,a,c,f);return t&&S.setHasCommittedMutations(),t?S.setHasCommittedMutations():S}function $c(r,e){let t;if(e instanceof Oc)t={update:$y(r,e.key,e.value)};else if(e instanceof kc)t={delete:vd(r,e.key)};else if(e instanceof ul)t={update:$y(r,e.key,e.data),updateMask:Gy(e.fieldMask)};else{if(!(e instanceof _g))return en();t={verify:vd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof rc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof xc)return{fieldPath:c.field.canonicalString(),increment:f.wt};throw en()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Uy(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:en()),t;var a}function mh(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?is.updateTime(mo(a.updateTime)):void 0!==a.exists?is.exists(a.exists):is.none():is.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let S=null;"setToServerValue"in f?(Cn("REQUEST_TIME"===f.setToServerValue),S=new rc):"appendMissingElements"in f?S=new Gu(f.appendMissingElements.values||[]):"removeAllFromArray"in f?S=new mu(f.removeAllFromArray.values||[]):"increment"in f?S=new xc(c,f.increment):en();const U=hi.fromServerFormat(f.fieldPath);return new ic(U,S)}(r,a)):[];var a;if(e.update){const a=Wu(r,e.update.name),c=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Ho((e.updateMask.fieldPaths||[]).map(q=>hi.fromServerFormat(q)));return new ul(a,c,f,t,s)}return new Oc(a,c,t,s)}if(e.delete){const a=Wu(r,e.delete);return new kc(a,t)}if(e.verify){const a=Wu(r,e.verify);return new _g(a,t)}return en()}function Og(r,e){return{documents:[Rf(r,e.path)]}}function yh(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Rf(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rf(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(U){if(0!==U.length)return Dl(Ye.create(U,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(U){if(0!==U.length)return U.map(q=>{return{field:cl((se=q).field),direction:Ff(se.dir)};var se})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=md(r,e.limit);var S,U;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function Nf(r){let e=Pg(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Cn(1===s);const se=t.from[0];se.allDescendants?a=se.collectionId:e=e.child(se.collectionId)}let c=[];t.where&&(c=function(se){const Me=Hy(se);return Me instanceof Ye&&An(Me)?Me.getFilters():[Me]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(se=>{return new z(oc((Me=se).field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Me.direction));var Me}));let S=null;t.limit&&(S=function(se){let Me;return Me="object"==typeof se?se.value:se,ba(Me)?null:Me}(t.limit));let U=null;var se;t.startAt&&(U=new nr((se=t.startAt).values||[],!!se.before));let q=null;return t.endAt&&(q=function(se){return new nr(se.values||[],!se.before)}(t.endAt)),ch(e,a,f,c,S,"F",U,q)}function Hy(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=oc(e.unaryFilter.field);return xe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=oc(e.unaryFilter.field);return xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oc(e.unaryFilter.field);return xe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=oc(e.unaryFilter.field);return xe.create(c,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(r):void 0!==r.fieldFilter?xe.create(oc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ye.create(e.compositeFilter.filters.map(t=>Hy(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return en()}}(e.compositeFilter.op))}(r):en();var e}function Ff(r){return Ly[r]}function zy(r){return xg[r]}function Lf(r){return gh[r]}function cl(r){return{fieldPath:r.canonicalString()}}function oc(r){return hi.fromServerFormat(r.fieldPath)}function Dl(r){return r instanceof xe?function(e){if("=="===e.op){if(Q(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NAN"}};if(V(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Q(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NAN"}};if(V(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(e.field),op:zy(e.op),value:e.value}}}(r):r instanceof Ye?function(e){const t=e.getFilters().map(s=>Dl(s));return 1===t.length?t[0]:{compositeFilter:{op:Lf(e.op),filters:t}}}(r):en()}function Gy(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vh(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class vu{constructor(e,t,s,a,c=vn.min(),f=vn.min(),S=Rs.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=S,this.expectedCount=U}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ng{constructor(e){this.le=e}}function _d(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ku(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:vd(a=r.le,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Vc(a,c.version.toTimestamp()),createTime:Vc(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Tl(e.version)};else{if(!e.isUnknownDocument())return en();s.unknownDocument={path:t.path.toArray(),version:Tl(e.version)}}var a,c;return s}function Ku(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Tl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dl(r){const e=new mi(r.seconds,r.nanoseconds);return vn.fromTimestamp(e)}function ac(r,e){const t=(e.baseMutations||[]).map(c=>mh(r.le,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>mh(r.le,c)),a=mi.fromMillis(e.localWriteTimeMs);return new wg(e.batchId,a,t,s)}function wd(r){const e=dl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?dl(r.lastLimboFreeSnapshotVersion):vn.min();let s;var a;return void 0!==r.query.documents?(Cn(1===(a=r.query).documents.length),s=oe(tc(Pg(a.documents[0])))):s=oe(Nf(r.query)),new vu(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Rs.fromBase64String(r.resumeToken))}function Uf(r,e){const t=Tl(e.snapshotVersion),s=Tl(e.lastLimboFreeSnapshotVersion);let a;a=Cs(e.target)?Og(r.le,e.target):yh(r.le,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qa(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Sl(r){const e=Nf({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?mt(e,e.limit,"L"):e}function Bf(r,e){return new bg(e.largestBatchId,mh(r.le,e.overlayMutation))}function kg(r,e){const t=e.path.lastSegment();return[r,Ci(e.path.popLast()),t]}function Fg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Tl(s.readTime),documentKey:Ci(s.documentKey.path),largestBatchId:s.largestBatchId}}class $f{getBundleMetadata(e,t){return Lg(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:dl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Lg(e).put({bundleId:(s=t).id,createTime:Tl(mo(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return jf(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Sl(a.bundledQuery),readTime:dl(a.readTime)};var a})}saveNamedQuery(e,t){return jf(e).put({name:(s=t).name,readTime:Tl(mo(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Lg(r){return Hi(r,"bundles")}function jf(r){return Hi(r,"namedQueries")}class _h{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new _h(e,t.uid||"")}getOverlay(e,t){return jc(e).get(kg(this.userId,t)).next(s=>s?Bf(this.serializer,s):null)}getOverlays(e,t){const s=Fa();return Ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,f)=>{const S=new bg(t,f);a.push(this.de(e,S))}),Ze.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(f=>a.add(Ci(f.getCollectionPath())));const c=[];return a.forEach(f=>{const S=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(jc(e).J("collectionPathOverlayIndex",S))}),Ze.waitFor(c)}getOverlaysForCollection(e,t,s){const a=Fa(),c=Ci(t),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return jc(e).j("collectionPathOverlayIndex",f).next(S=>{for(const U of S){const q=Bf(this.serializer,U);a.set(q.getKey(),q)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=Fa();let f;const S=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jc(e).X({index:"collectionGroupOverlayIndex",range:S},(U,q,se)=>{const Me=Bf(this.serializer,q);c.size()<a||Me.largestBatchId===f?(c.set(Me.getKey(),Me),f=Me.largestBatchId):se.done()}).next(()=>c)}de(e,t){return jc(e).put(function(s,a,c){const[f,S,U]=kg(a,c.mutation.key);return{userId:a,collectionPath:S,documentId:U,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:$c(s.le,c.mutation)}}(this.serializer,this.userId,t))}}function jc(r){return Hi(r,"documentOverlays")}class Hc{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(rs(e.integerValue));else if("doubleValue"in e){const s=rs(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),Ia(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Da(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Le(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):en()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),dn.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Wy(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function zc(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Wy(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}Hc.be=new Hc;class Ky{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Se(s.value),s=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.xe(s.value),s=t.next();this.Ne()}ke(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Se(s);else if(s<2048)this.Se(960|s>>>6),this.Se(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Se(480|s>>>12),this.Se(128|63&s>>>6),this.Se(128|63&s);else{const a=t.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}this.De()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.xe(s);else if(s<2048)this.xe(960|s>>>6),this.xe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.xe(480|s>>>12),this.xe(128|63&s>>>6),this.xe(128|63&s);else{const a=t.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}this.Ne()}Oe(e){const t=this.$e(e),s=zc(t);this.Fe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Be(e){const t=this.$e(e),s=zc(t);this.Fe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Gc{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class Ed{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class bd{constructor(){this.Qe=new Ky,this.je=new Gc(this.Qe),this.ze=new Ed(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Al{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Al(this.indexId,this.documentKey,this.arrayValue,s)}}function Ml(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Vg(r.arrayValue,e.arrayValue),0!==t?t:(t=Vg(r.directionalValue,e.directionalValue),0!==t?t:dn.comparator(r.documentKey,e.documentKey)))}function Vg(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class qy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const s=t;s.isInequality()?this.Xe=s:this.Ye.push(s)}}Ze(e){Cn(e.collectionGroup===this.collectionId);const t=Tu(e);if(void 0!==t&&!this.tn(t))return!1;const s=Pa(e);let a=0,c=0;for(;a<s.length&&this.tn(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Xe){const f=s[a];if(!this.en(this.Xe,f)||!this.nn(this.Je[c++],f))return!1;++a}for(;a<s.length;++a)if(c>=this.Je.length||!this.nn(this.Je[c++],s[a]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Hf(r){var e,t;if(Cn(r instanceof xe||r instanceof Ye),r instanceof xe){if(r instanceof vs){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>xe.create(r.field,"==",c)))||[];return Ye.create(a,"or")}return r}const s=r.filters.map(a=>Hf(a));return Ye.create(s,r.op)}function Ug(r){if(0===r.getFilters().length)return[];const e=Dd(Hf(r));return Cn(Bg(e)),Id(e)||Cd(e)?[e]:e.getFilters()}function Id(r){return r instanceof xe}function Cd(r){return r instanceof Ye&&An(r)}function Bg(r){return Id(r)||Cd(r)||function(e){if(e instanceof Ye&&Zt(e)){for(const t of e.getFilters())if(!Id(t)&&!Cd(t))return!1;return!0}return!1}(r)}function Dd(r){if(Cn(r instanceof xe||r instanceof Ye),r instanceof xe)return r;if(1===r.filters.length)return Dd(r.filters[0]);const e=r.filters.map(s=>Dd(s));let t=Ye.create(e,r.op);return t=wh(t),Bg(t)?t:(Cn(t instanceof Ye),Cn(Kt(t)),Cn(t.filters.length>1),t.filters.reduce((s,a)=>uc(s,a)))}function uc(r,e){let t;return Cn(r instanceof xe||r instanceof Ye),Cn(e instanceof xe||e instanceof Ye),t=r instanceof xe?e instanceof xe?Ye.create([r,e],"and"):$g(r,e):e instanceof xe?$g(e,r):function(s,a){if(Cn(s.filters.length>0&&a.filters.length>0),Kt(s)&&Kt(a))return Li(s,a.getFilters());const c=Zt(s)?s:a,f=Zt(s)?a:s,S=c.filters.map(U=>uc(U,f));return Ye.create(S,"or")}(r,e),wh(t)}function $g(r,e){if(Kt(e))return Li(e,r.getFilters());{const t=e.filters.map(s=>uc(r,s));return Ye.create(t,"or")}}function wh(r){if(Cn(r instanceof xe||r instanceof Ye),r instanceof xe)return r;const e=r.getFilters();if(1===e.length)return wh(e[0]);if(Jn(r))return r;const t=e.map(a=>wh(a)),s=[];return t.forEach(a=>{a instanceof xe?s.push(a):a instanceof Ye&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Ye.create(s,r.op)}class Zy{constructor(){this.sn=new zf}addToCollectionParentIndex(e,t){return this.sn.add(t),Ze.resolve()}getCollectionParents(e,t){return Ze.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Ze.resolve()}deleteFieldIndex(e,t){return Ze.resolve()}getDocumentsMatchingTarget(e,t){return Ze.resolve(null)}getIndexType(e,t){return Ze.resolve(0)}getFieldIndexes(e,t){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,t){return Ze.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return Ze.resolve(zs.min())}updateCollectionGroup(e,t,s){return Ze.resolve()}updateIndexEntries(e,t){return Ze.resolve()}}class zf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Fi(Zn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Fi(Zn.comparator)).toArray()}}const Eh=new Uint8Array(0);class Yy{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new zf,this.on=new Ru(s=>Qa(s),(s,a)=>Ja(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const c={collectionId:s,parent:Ci(a)};return jg(e).put(c)}return Ze.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Bu(t),""],!1,!0);return jg(e).j(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;s.push(Ws(f.parent))}return s})}addFieldIndex(e,t){const s=_u(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var f;delete a.indexId;const c=s.add(a);if(t.indexState){const f=Td(e);return c.next(S=>{f.put(Fg(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=_u(e),a=Td(e),c=qu(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=qu(e);let a=!0;const c=new Map;return Ze.forEach(this.un(t),f=>this.cn(e,f).next(S=>{a&&(a=!!S),c.set(f,S)})).next(()=>{if(a){let f=Fr();const S=[];return Ze.forEach(c,(U,q)=>{var se;Et("IndexedDbIndexManager",`Using index ${se=U,`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map(Kr=>`${Kr.fieldPath}:${Kr.kind}`).join(",")}`} to execute ${Qa(t)}`);const Me=function(Kr,Va){const vo=Tu(Va);if(void 0===vo)return null;for(const Ns of ka(Kr,vo.fieldPath))switch(Ns.op){case"array-contains-any":return Ns.value.arrayValue.values||[];case"array-contains":return[Ns.value]}return null}(q,U),tt=function(Kr,Va){const vo=new Map;for(const Ns of Pa(Va))for(const uu of ka(Kr,Ns.fieldPath))switch(uu.op){case"==":case"in":vo.set(Ns.fieldPath.canonicalString(),uu.value);break;case"not-in":case"!=":return vo.set(Ns.fieldPath.canonicalString(),uu.value),Array.from(vo.values())}return null}(q,U),Rt=function(Kr,Va){const vo=[];let Ns=!0;for(const uu of Pa(Va)){const Xu=0===uu.kind?ma(Kr,uu.fieldPath,Kr.startAt):Pu(Kr,uu.fieldPath,Kr.startAt);vo.push(Xu.value),Ns&&(Ns=Xu.inclusive)}return new nr(vo,Ns)}(q,U),rn=function(Kr,Va){const vo=[];let Ns=!0;for(const uu of Pa(Va)){const Xu=0===uu.kind?Pu(Kr,uu.fieldPath,Kr.endAt):ma(Kr,uu.fieldPath,Kr.endAt);vo.push(Xu.value),Ns&&(Ns=Xu.inclusive)}return new nr(vo,Ns)}(q,U),wn=this.an(U,q,Rt),Kn=this.an(U,q,rn),Ur=this.hn(U,q,tt),Si=this.ln(U.indexId,Me,wn,Rt.inclusive,Kn,rn.inclusive,Ur);return Ze.forEach(Si,Kr=>s.H(Kr,t.limit).next(Va=>{Va.forEach(vo=>{const Ns=dn.fromSegments(vo.documentKey);f.has(Ns)||(f=f.add(Ns),S.push(Ns))})}))}).next(()=>S)}return Ze.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Ug(Ye.create(e.filters,"and")).map(s=>Ti(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,s,a,c,f,S){const U=(null!=t?t.length:1)*Math.max(s.length,c.length),q=U/(null!=t?t.length:1),se=[];for(let Me=0;Me<U;++Me){const tt=t?this.fn(t[Me/q]):Eh,Rt=this.dn(e,tt,s[Me%q],a),rn=this._n(e,tt,c[Me%q],f),wn=S.map(Kn=>this.dn(e,tt,Kn,!0));se.push(...this.createRange(Rt,rn,wn))}return se}dn(e,t,s,a){const c=new Al(e,dn.empty(),t,s);return a?c:c.He()}_n(e,t,s,a){const c=new Al(e,dn.empty(),t,s);return a?c.He():c}cn(e,t){const s=new qy(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const S of c)s.Ze(S)&&(!f||S.fields.length>f.fields.length)&&(f=S);return f})}getIndexType(e,t){let s=2;const a=this.un(t);return Ze.forEach(a,c=>this.cn(e,c).next(f=>{f?0!==s&&f.fields.length<function(S){let U=new Fi(hi.comparator),q=!1;for(const se of S.filters)for(const Me of se.getFlattenedFilters())Me.field.isKeyField()||("array-contains"===Me.op||"array-contains-any"===Me.op?q=!0:U=U.add(Me.field));for(const se of S.orderBy)se.field.isKeyField()||(U=U.add(se.field));return U.size+(q?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}wn(e,t){const s=new bd;for(const a of Pa(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=s.We(a.kind);Hc.be._e(c,f)}return s.Ge()}fn(e){const t=new bd;return Hc.be._e(e,t.We(0)),t.Ge()}mn(e,t){const s=new bd;return Hc.be._e($(this.databaseId,t),s.We(function(a){const c=Pa(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Ge()}hn(e,t,s){if(null===s)return[];let a=[];a.push(new bd);let c=0;for(const f of Pa(e)){const S=s[c++];for(const U of a)if(this.gn(t,f.fieldPath)&&w(S))a=this.yn(a,f,S);else{const q=U.We(f.kind);Hc.be._e(S,q)}}return this.pn(a)}an(e,t,s){return this.hn(e,t,s.position)}pn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Ge();return t}yn(e,t,s){const a=[...e],c=[];for(const f of s.arrayValue.values||[])for(const S of a){const U=new bd;U.seed(S.Ge()),Hc.be._e(f,U.We(t.kind)),c.push(U)}return c}gn(e,t){return!!e.filters.find(s=>s instanceof xe&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=_u(e),a=Td(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const f=[];return Ze.forEach(c,S=>a.get([S.indexId,this.uid]).next(U=>{f.push(function(q,se){const Me=se?new ns(se.sequenceNumber,new zs(dl(se.readTime),new dn(Ws(se.documentKey)),se.largestBatchId)):ns.empty(),tt=q.fields.map(([Rt,rn])=>new eu(hi.fromServerFormat(Rt),rn));return new aa(q.indexId,q.collectionGroup,tt,Me)}(S,U))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:ur(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=_u(e),c=Td(e);return this.In(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Ze.forEach(S,U=>c.put(Fg(U.indexId,this.user,f,s)))))}updateIndexEntries(e,t){const s=new Map;return Ze.forEach(t,(a,c)=>{const f=s.get(a.collectionGroup);return(f?Ze.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(S=>(s.set(a.collectionGroup,S),Ze.forEach(S,U=>this.Tn(e,a,U).next(q=>{const se=this.En(c,U);return q.isEqual(se)?Ze.resolve():this.An(e,c,U,q,se)}))))})}Rn(e,t,s,a){return qu(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(s,t.key),documentKey:t.key.path.toArray()})}vn(e,t,s,a){return qu(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(s,t.key),t.key.path.toArray()])}Tn(e,t,s){const a=qu(e);let c=new Fi(Ml);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,t)])},(f,S)=>{c=c.add(new Al(s.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>c)}En(e,t){let s=new Fi(Ml);const a=this.wn(t,e);if(null==a)return s;const c=Tu(t);if(null!=c){const f=e.data.field(c.fieldPath);if(w(f))for(const S of f.arrayValue.values||[])s=s.add(new Al(t.indexId,e.key,this.fn(S),a))}else s=s.add(new Al(t.indexId,e.key,Eh,a));return s}An(e,t,s,a,c){Et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(S,U,q,se,Me){const tt=S.getIterator(),Rt=U.getIterator();let rn=fu(tt),wn=fu(Rt);for(;rn||wn;){let Kn=!1,Ur=!1;if(rn&&wn){const Si=q(rn,wn);Si<0?Ur=!0:Si>0&&(Kn=!0)}else null!=rn?Ur=!0:Kn=!0;Kn?(se(wn),wn=fu(Rt)):Ur?(Me(rn),rn=fu(tt)):(rn=fu(tt),wn=fu(Rt))}}(a,c,Ml,S=>{f.push(this.Rn(e,t,s,S))},S=>{f.push(this.vn(e,t,s,S))}),Ze.waitFor(f)}In(e){let t=1;return Td(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((f,S)=>Ml(f,S)).filter((f,S,U)=>!S||0!==Ml(f,U[S-1]));const a=[];a.push(e);for(const f of s){const S=Ml(f,e),U=Ml(f,t);if(0===S)a[0]=e.He();else if(S>0&&U<0)a.push(f),a.push(f.He());else if(U>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.Pn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Eh,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Eh,[]]))}return c}Pn(e,t){return Ml(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hg)}getMinOffset(e,t){return Ze.mapArray(this.un(t),s=>this.cn(e,s).next(a=>a||en())).next(Hg)}}function jg(r){return Hi(r,"collectionParents")}function qu(r){return Hi(r,"indexEntries")}function _u(r){return Hi(r,"indexConfiguration")}function Td(r){return Hi(r,"indexState")}function Hg(r){Cn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;tu(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new zs(e.readTime,e.documentKey,t)}const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class La{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new La(e,La.DEFAULT_COLLECTION_PERCENTILE,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gf(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let S=0;const U=s.X({range:f},(se,Me,tt)=>(S++,tt.delete()));c.push(U.next(()=>{Cn(1===S)}));const q=[];for(const se of t.mutations){const Me=ru(e,se.key.path,t.batchId);c.push(a.delete(Me)),q.push(se.key)}return Ze.waitFor(c).next(()=>q)}function Wf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw en();e=r.noDocument}return JSON.stringify(e).length}La.DEFAULT_COLLECTION_PERCENTILE=10,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,La.DEFAULT=new La(41943040,La.DEFAULT_COLLECTION_PERCENTILE,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),La.DISABLED=new La(-1,0,0);class Sd{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.bn={}}static fe(e,t,s,a){Cn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Sd(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).X({index:"userMutationsIndex",range:s},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=lc(e),f=xl(e);return f.add({}).next(S=>{Cn("number"==typeof S);const U=new wg(S,t,s,a),q=function(tt,Rt,rn){const wn=rn.baseMutations.map(Ur=>$c(tt.le,Ur)),Kn=rn.mutations.map(Ur=>$c(tt.le,Ur));return{userId:Rt,batchId:rn.batchId,localWriteTimeMs:rn.localWriteTime.toMillis(),baseMutations:wn,mutations:Kn}}(this.serializer,this.userId,U),se=[];let Me=new Fi((tt,Rt)=>ur(tt.canonicalString(),Rt.canonicalString()));for(const tt of a){const Rt=ru(this.userId,tt.key.path,S);Me=Me.add(tt.key.path.popLast()),se.push(f.put(q)),se.push(c.put(Rt,Au))}return Me.forEach(tt=>{se.push(this.indexManager.addToCollectionParentIndex(e,tt))}),e.addOnCommittedListener(()=>{this.bn[S]=U.keys()}),Ze.waitFor(se).next(()=>U)})}lookupMutationBatch(e,t){return xl(e).get(t).next(s=>s?(Cn(s.userId===this.userId),ac(this.serializer,s)):null)}Vn(e,t){return this.bn[t]?Ze.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.bn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return xl(e).X({index:"userMutationsIndex",range:a},(f,S,U)=>{S.userId===this.userId&&(Cn(S.batchId>=s),c=ac(this.serializer,S)),U.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return xl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).j("userMutationsIndex",t).next(s=>s.map(a=>ac(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ka(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return lc(e).X({range:a},(f,S,U)=>{const[q,se,Me]=f,tt=Ws(se);if(q===this.userId&&t.path.isEqual(tt))return xl(e).get(Me).next(Rt=>{if(!Rt)throw en();Cn(Rt.userId===this.userId),c.push(ac(this.serializer,Rt))});U.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fi(ur);const a=[];return t.forEach(c=>{const f=Ka(this.userId,c.path),S=IDBKeyRange.lowerBound(f),U=lc(e).X({range:S},(q,se,Me)=>{const[tt,Rt,rn]=q,wn=Ws(Rt);tt===this.userId&&c.path.isEqual(wn)?s=s.add(rn):Me.done()});a.push(U)}),Ze.waitFor(a).next(()=>this.Sn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=Ka(this.userId,s),f=IDBKeyRange.lowerBound(c);let S=new Fi(ur);return lc(e).X({range:f},(U,q,se)=>{const[Me,tt,Rt]=U,rn=Ws(tt);Me===this.userId&&s.isPrefixOf(rn)?rn.length===a&&(S=S.add(Rt)):se.done()}).next(()=>this.Sn(e,S))}Sn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(xl(e).get(c).next(f=>{if(null===f)throw en();Cn(f.userId===this.userId),s.push(ac(this.serializer,f))}))}),Ze.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Gf(e.at,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Ze.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ze.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return lc(e).X({range:s},(c,f,S)=>{if(c[0]===this.userId){const U=Ws(c[1]);a.push(U)}else S.done()}).next(()=>{Cn(0===a.length)})})}containsKey(e,t){return Kf(e,this.userId,t)}Cn(e){return zg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kf(r,e,t){const s=Ka(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return lc(r).X({range:c,Y:!0},(S,U,q)=>{const[se,Me,tt]=S;se===e&&Me===a&&(f=!0),q.done()}).next(()=>f)}function xl(r){return Hi(r,"mutations")}function lc(r){return Hi(r,"documentMutations")}function zg(r){return Hi(r,"mutationQueues")}class cc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new cc(0)}static kn(){return new cc(-1)}}class Nu{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const s=new cc(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>vn.fromTimestamp(new mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Mn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(s=>(s.targetCount+=1,this.Fn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wc(e).delete(t.targetId)).next(()=>this.Mn(e)).next(s=>(Cn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Wc(e).X((f,S)=>{const U=wd(S);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(a++,c.push(this.removeTargetData(e,U)))}).next(()=>Ze.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Wc(e).X((s,a)=>{const c=wd(a);t(c)})}Mn(e){return qf(e).get("targetGlobalKey").next(t=>(Cn(null!==t),t))}On(e,t){return qf(e).put("targetGlobalKey",t)}$n(e,t){return Wc(e).put(Uf(this.serializer,t))}Fn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Qa(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Wc(e).X({range:a,index:"queryTargetsIndex"},(f,S,U)=>{const q=wd(S);Ja(t,q.target)&&(c=q,U.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=Pl(e);return t.forEach(f=>{const S=Ci(f.path);a.push(c.put({targetId:s,path:S})),a.push(this.referenceDelegate.addReference(e,s,f))}),Ze.waitFor(a)}removeMatchingKeys(e,t,s){const a=Pl(e);return Ze.forEach(t,c=>{const f=Ci(c.path);return Ze.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=Pl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Pl(e);let c=Fr();return a.X({range:s,Y:!0},(f,S,U)=>{const q=Ws(f[1]),se=new dn(q);c=c.add(se)}).next(()=>c)}containsKey(e,t){const s=Ci(t.path),a=IDBKeyRange.bound([s],[Bu(s)],!1,!0);let c=0;return Pl(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,S],U,q)=>{0!==f&&(c++,q.done())}).next(()=>c>0)}he(e,t){return Wc(e).get(t).next(s=>s?wd(s):null)}}function Wc(r){return Hi(r,"targets")}function qf(r){return Hi(r,"targetGlobal")}function Pl(r){return Hi(r,"targetDocuments")}function Gg([r,e],[t,s]){const a=ur(r,t);return 0===a?ur(e,s):a}class Jy{constructor(e){this.Bn=e,this.buffer=new Fi(Gg),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Gg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){la(s)?Et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield za(s)}yield t.Gn(3e5)}))}}class Kg{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ze.resolve(ji.ct);const s=new Jy(t);return this.Qn.forEachTarget(e,a=>s.Un(a.sequenceNumber)).next(()=>this.Qn.zn(e,a=>s.Un(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Qn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(Qy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let s,a,c,f,S,U,q;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Me=>(Me>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Me}`),a=this.params.maximumSequenceNumbersToCollect):a=Me,f=Date.now(),this.nthSequenceNumber(e,a))).next(Me=>(s=Me,S=Date.now(),this.removeTargets(e,s,t))).next(Me=>(c=Me,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(Me=>(q=Date.now(),rr()<=Te.in.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-se}ms\n\tDetermined least recently used ${a} in `+(S-f)+`ms\n\tRemoved ${c} targets in `+(U-S)+`ms\n\tRemoved ${Me} documents in `+(q-U)+`ms\nTotal Duration: ${q-se}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Me})))}}class Xy{constructor(e,t){this.db=e,this.garbageCollector=function qg(r,e){return new Kg(r,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Hn(e){let t=0;return this.zn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(s,a)=>t(a))}addReference(e,t,s){return bh(e,s)}removeReference(e,t,s){return bh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return bh(e,t)}Yn(e,t){return function(s,a){let c=!1;return zg(s).Z(f=>Kf(s,f,a).next(S=>(S&&(c=!0),Ze.resolve(!S)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Jn(e,(f,S)=>{if(S<=t){const U=this.Yn(e,f).next(q=>{if(!q)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,vn.min()),Pl(e).delete([0,Ci(f.path)])))});a.push(U)}}).next(()=>Ze.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return bh(e,t)}Jn(e,t){const s=Pl(e);let a,c=ji.ct;return s.X({index:"documentTargetsIndex"},([f,S],{path:U,sequenceNumber:q})=>{0===f?(c!==ji.ct&&t(new dn(Ws(a)),c),c=q,a=U):c=ji.ct}).next(()=>{c!==ji.ct&&t(new dn(Ws(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bh(r,e){return Pl(r).put((s=r.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:s}));var s}class Lr{constructor(){this.changes=new Ru(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ze.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return dc(e).put(s)}removeEntry(e,t,s){return dc(e).delete(function(a,c){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Ku(c),f[f.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Xn(e,s)))}getEntry(e,t){let s=En.newInvalidDocument(t);return dc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(t))},(a,c)=>{s=this.Zn(t,c)}).next(()=>s)}ts(e,t){let s={size:0,document:En.newInvalidDocument(t)};return dc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(t))},(a,c)=>{s={document:this.Zn(t,c),size:Wf(c)}}).next(()=>s)}getEntries(e,t){let s=ya();return this.es(e,t,(a,c)=>{const f=this.Zn(a,c);s=s.insert(a,f)}).next(()=>s)}ns(e,t){let s=ya(),a=new oi(dn.comparator);return this.es(e,t,(c,f)=>{const S=this.Zn(c,f);s=s.insert(c,S),a=a.insert(c,Wf(f))}).next(()=>({documents:s,ss:a}))}es(e,t,s){if(t.isEmpty())return Ze.resolve();let a=new Fi(Yf);t.forEach(U=>a=a.add(U));const c=IDBKeyRange.bound(Kc(a.first()),Kc(a.last())),f=a.getIterator();let S=f.getNext();return dc(e).X({index:"documentKeyIndex",range:c},(U,q,se)=>{const Me=dn.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;S&&Yf(S,Me)<0;)s(S,null),S=f.getNext();S&&S.isEqual(Me)&&(s(S,q),S=f.hasNext()?f.getNext():null),S?se.G(Kc(S)):se.done()}).next(()=>{for(;S;)s(S,null),S=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),Ku(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],S=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dc(e).j(IDBKeyRange.bound(f,S,!0)).next(U=>{let q=ya();for(const se of U){const Me=this.Zn(dn.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);Me.isFoundDocument()&&(Mr(t,Me)||a.has(Me.key))&&(q=q.insert(Me.key,Me))}return q})}getAllFromCollectionGroup(e,t,s,a){let c=ya();const f=Jg(t,s),S=Jg(t,zs.max());return dc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,S,!0)},(U,q,se)=>{const Me=this.Zn(dn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);c=c.insert(Me.key,Me),c.size===a&&se.done()}).next(()=>c)}newChangeBuffer(e){return new Yg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Qg(e).get("remoteDocumentGlobalKey").next(t=>(Cn(!!t),t))}Xn(e,t){return Qg(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const s=function Vf(r,e){let t;if(e.document)t=Bc(r.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=dn.fromSegments(e.noDocument.path),a=dl(e.noDocument.readTime);t=En.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const s=dn.fromSegments(e.unknownDocument.path),a=dl(e.unknownDocument.version);t=En.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new mi(s[0],s[1]);return vn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(vn.min()))return s}return En.newInvalidDocument(e)}}function Zf(r){return new Zg(r)}class Yg extends Lr{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Ru(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Fi((c,f)=>ur(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const S=this.os.get(c);if(t.push(this.rs.removeEntry(e,c,S.readTime)),f.isValidDocument()){const U=_d(this.rs.serializer,f);a=a.add(c.path.popLast());const q=Wf(U);s+=q-S.size,t.push(this.rs.addEntry(e,c,U))}else if(s-=S.size,this.trackRemovals){const U=_d(this.rs.serializer,f.convertToNoDocument(vn.min()));t.push(this.rs.addEntry(e,c,U))}}),a.forEach(c=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.rs.updateMetadata(e,s)),Ze.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(s=>(this.os.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:s,ss:a})=>(a.forEach((c,f)=>{this.os.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function Qg(r){return Hi(r,"remoteDocumentGlobal")}function dc(r){return Hi(r,"remoteDocumentsV14")}function Kc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jg(r,e){const t=e.documentKey.path.toArray();return[r,Ku(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Yf(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=ur(t[c],s[c]),a)return a;return a=ur(t.length,s.length),a||(a=ur(t[t.length-2],s[s.length-2]),a||ur(t[t.length-1],s[s.length-1]))}class ev{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xg{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Rc(s.mutation,a,Ho.empty(),mi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Fr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Fr()){const a=Fa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=zu();return c.forEach((S,U)=>{f=f.insert(S,U.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Fa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Fr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,S)=>{t.set(f,S)})})}computeViews(e,t,s,a){let c=ya();const f=Ou(),S=Ou();return t.forEach((U,q)=>{const se=s.get(q.key);a.has(q.key)&&(void 0===se||se.mutation instanceof ul)?c=c.insert(q.key,q):void 0!==se?(f.set(q.key,se.mutation.getFieldMask()),Rc(se.mutation,q,se.mutation.getFieldMask(),mi.now())):f.set(q.key,Ho.empty())}),this.recalculateAndSaveOverlays(e,c).next(U=>(U.forEach((q,se)=>f.set(q,se)),t.forEach((q,se)=>{var Me;return S.set(q,new ev(se,null!==(Me=f.get(q))&&void 0!==Me?Me:null))}),S))}recalculateAndSaveOverlays(e,t){const s=Ou();let a=new oi((f,S)=>f-S),c=Fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const S of f)S.keys().forEach(U=>{const q=t.get(U);if(null===q)return;let se=s.get(U)||Ho.empty();se=S.applyToLocalView(q,se),s.set(U,se);const Me=(a.get(S.batchId)||Fr()).add(U);a=a.insert(S.batchId,Me)})}).next(()=>{const f=[],S=a.getReverseIterator();for(;S.hasNext();){const U=S.getNext(),q=U.key,se=U.value,Me=nc();se.forEach(tt=>{if(!c.has(tt)){const Rt=Sf(t.get(tt),s.get(tt));null!==Rt&&Me.set(tt,Rt),c=c.add(tt)}}),f.push(this.documentOverlayCache.saveOverlays(e,q,Me))}return Ze.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return dn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):T(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ze.resolve(Fa());let S=-1,U=c;return f.next(q=>Ze.forEach(q,(se,Me)=>(S<Me.largestBatchId&&(S=Me.largestBatchId),c.get(se)?Ze.resolve():this.remoteDocumentCache.getEntry(e,se).next(tt=>{U=U.insert(se,tt)}))).next(()=>this.populateOverlays(e,q,c)).next(()=>this.computeViews(e,U,q,Fr())).next(se=>({batchId:S,changes:Tc(se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dn(t)).next(s=>{let a=zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(e,a).next(f=>Ze.forEach(f,S=>{const U=(q=t,se=S.child(a),new Sa(se,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,se;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(q=>{q.forEach((se,Me)=>{c=c.insert(se,Me)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((S,U)=>{const q=U.getKey();null===c.get(q)&&(c=c.insert(q,En.newInvalidDocument(q)))});let f=zu();return c.forEach((S,U)=>{const q=a.get(S);void 0!==q&&Rc(q.mutation,U,Ho.empty(),mi.now()),Mr(t,U)&&(f=f.insert(S,U))}),f})}}class U_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Ze.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:mo(s.createTime)}),Ze.resolve()}getNamedQuery(e,t){return Ze.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Sl(s.bundledQuery),readTime:mo(s.readTime)}),Ze.resolve();var s}}class em{constructor(){this.overlays=new oi(dn.comparator),this.hs=new Map}getOverlay(e,t){return Ze.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Fa();return Ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),Ze.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),Ze.resolve()}getOverlaysForCollection(e,t,s){const a=Fa(),c=t.length+1,f=new dn(t.child("")),S=this.overlays.getIteratorFrom(f);for(;S.hasNext();){const U=S.getNext().value,q=U.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===c&&U.largestBatchId>s&&a.set(U.getKey(),U)}return Ze.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new oi((q,se)=>q-se);const f=this.overlays.getIterator();for(;f.hasNext();){const q=f.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>s){let se=c.get(q.largestBatchId);null===se&&(se=Fa(),c=c.insert(q.largestBatchId,se)),se.set(q.getKey(),q)}}const S=Fa(),U=c.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((q,se)=>S.set(q,se)),!(S.size()>=a)););return Ze.resolve(S)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bg(t,s));let c=this.hs.get(t);void 0===c&&(c=Fr(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class Ih{constructor(){this.ls=new Fi(Os.fs),this.ds=new Fi(Os._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Os(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Os(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new dn(new Zn([])),s=new Os(t,e),a=new Os(t,e+1),c=[];return this.ds.forEachInRange([s,a],f=>{this.gs(f),c.push(f.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new dn(new Zn([])),s=new Os(t,e),a=new Os(t,e+1);let c=Fr();return this.ds.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Os(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Os{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return dn.comparator(e.key,t.key)||ur(e.Es,t.Es)}static _s(e,t){return ur(e.Es,t.Es)||dn.comparator(e.key,t.key)}}class tv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Fi(Os.fs)}checkEmpty(e){return Ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const f=new wg(c,t,s,a);this.mutationQueue.push(f);for(const S of a)this.Rs=this.Rs.add(new Os(S.key,c)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Ze.resolve(f)}lookupMutationBatch(e,t){return Ze.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return Ze.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Os(t,0),a=new Os(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const S=this.vs(f.Es);c.push(S)}),Ze.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fi(ur);return t.forEach(a=>{const c=new Os(a,0),f=new Os(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],S=>{s=s.add(S.Es)})}),Ze.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;dn.isDocumentKey(c)||(c=c.child(""));const f=new Os(new dn(c),0);let S=new Fi(ur);return this.Rs.forEachWhile(U=>{const q=U.key.path;return!!s.isPrefixOf(q)&&(q.length===a&&(S=S.add(U.Es)),!0)},f),Ze.resolve(this.bs(S))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Cn(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ze.forEach(t.mutations,a=>{const c=new Os(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Os(t,0),a=this.Rs.firstAfterOrEqual(s);return Ze.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ze.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qf{constructor(e){this.Ss=e,this.docs=new oi(dn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ze.resolve(s?s.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let s=ya();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():En.newInvalidDocument(a))}),Ze.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=ya();const f=t.path,S=new dn(f.child("")),U=this.docs.getIteratorFrom(S);for(;U.hasNext();){const{key:q,value:{document:se}}=U.getNext();if(!f.isPrefixOf(q.path))break;q.path.length>f.length+1||tu(Bo(se),s)<=0||(a.has(se.key)||Mr(t,se))&&(c=c.insert(se.key,se.mutableCopy()))}return Ze.resolve(c)}getAllFromCollectionGroup(e,t,s,a){en()}Ds(e,t){return Ze.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Jf(this)}getSize(e){return Ze.resolve(this.size)}}class Jf extends Lr{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),Ze.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class nv{constructor(e){this.persistence=e,this.Cs=new Ru(t=>Qa(t),Ja),this.lastRemoteSnapshotVersion=vn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Ih,this.targetCount=0,this.ks=cc.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Ze.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Ze.resolve()}updateTargetData(e,t){return this.$n(t),Ze.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((f,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.Cs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),Ze.waitFor(c).next(()=>a)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Ze.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Ze.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Ze.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Ze.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Ze.resolve(s)}containsKey(e,t){return Ze.resolve(this.Ns.containsKey(t))}}class tm{constructor(e,t){this.Ms={},this.overlays={},this.Os=new ji(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new nv(this),this.indexManager=new Zy,this.remoteDocumentCache=new Qf(s=>this.referenceDelegate.Bs(s)),this.serializer=new Ng(t),this.Ls=new U_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new em,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new tv(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Et("MemoryPersistence","Starting transaction:",e);const a=new B_(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return Ze.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class B_ extends ua{constructor(e){super(),this.currentSequenceNumber=e}}class Xf{constructor(e){this.persistence=e,this.Gs=new Ih,this.Qs=null}static js(e){return new Xf(e)}get zs(){if(this.Qs)return this.Qs;throw en()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Ze.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Ze.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Ze.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.zs,s=>{const a=dn.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,vn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Ze.or([()=>Ze.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class nm{constructor(e){this.serializer=e}$(e,t,s,a){const c=new Ga("createOrUpgrade",t);var S;s<1&&a>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Su,{unique:!0}),S.createObjectStore("documentMutations"),rv(e),function(S){S.createObjectStore("remoteDocuments")}(e));let f=Ze.resolve();return s<3&&a>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),rv(e)),f=f.next(()=>function(S){const U=S.store("targetGlobal"),q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vn.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",q)}(c))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(S,U){return U.store("mutations").j().next(q=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Su,{unique:!0});const se=U.store("mutations"),Me=q.map(tt=>se.put(tt));return Ze.waitFor(Me)})}(e,c))),f=f.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Js(c))),s<6&&a>=6&&(f=f.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(c)))),s<7&&a>=7&&(f=f.next(()=>this.Xs(c))),s<8&&a>=8&&(f=f.next(()=>this.Zs(e,c))),s<9&&a>=9&&(f=f.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(f=f.next(()=>this.ti(c))),s<11&&a>=11&&(f=f.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(f=f.next(()=>{!function(S){const U=S.createObjectStore("documentOverlays",{keyPath:on});U.createIndex("collectionPathOverlayIndex",mn,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",Wr,{unique:!1})}(e)})),s<13&&a>=13&&(f=f.next(()=>function(S){const U=S.createObjectStore("remoteDocumentsV14",{keyPath:So});U.createIndex("documentKeyIndex",iu),U.createIndex("collectionGroupIndex",_)}(e)).next(()=>this.ei(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(f=f.next(()=>this.ni(e,c))),s<15&&a>=15&&(f=f.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:X}).createIndex("sequenceNumberIndex",ue,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Ke}).createIndex("documentKeyIndex",Nt,{unique:!1})}(e))),f}Ys(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Wf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Js(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Ze.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",f).next(S=>Ze.forEach(S,U=>{Cn(U.userId===c.userId);const q=ac(this.serializer,U);return Gf(e,c.userId,q).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((f,S)=>{const U=new Zn(f),q=[0,Ci(U)];c.push(t.get(q).next(se=>se?Ze.resolve():t.put({targetId:0,path:Ci(U),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Ze.waitFor(c))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:B});const s=t.store("collectionParents"),a=new zf,c=f=>{if(a.add(f)){const S=f.lastSegment(),U=f.popLast();return s.put({collectionId:S,parent:Ci(U)})}};return t.store("remoteDocuments").X({Y:!0},(f,S)=>{const U=new Zn(f);return c(U.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,S,U],q)=>{const se=Ws(S);return c(se.popLast())}))}ti(e){const t=e.store("targets");return t.X((s,a)=>{const c=wd(a),f=Uf(this.serializer,c);return t.put(f)})}ei(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,f)=>{const S=t.store("remoteDocumentsV14"),U=(q=f,q.document?new dn(Zn.fromString(q.document.name).popFirst(5)):q.noDocument?dn.fromSegments(q.noDocument.path):q.unknownDocument?dn.fromSegments(q.unknownDocument.path):en()).path.toArray();var q;const se={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(S.put(se))}).next(()=>Ze.waitFor(a))}ni(e,t){const s=t.store("mutations"),a=Zf(this.serializer),c=new tm(Xf.js,this.serializer.le);return s.j().next(f=>{const S=new Map;return f.forEach(U=>{var q;let se=null!==(q=S.get(U.userId))&&void 0!==q?q:Fr();ac(this.serializer,U).keys().forEach(Me=>se=se.add(Me)),S.set(U.userId,se)}),Ze.forEach(S,(U,q)=>{const se=new me(q),Me=_h.fe(this.serializer,se),tt=c.getIndexManager(se),Rt=Sd.fe(se,this.serializer,tt,c.referenceDelegate);return new Xg(a,Rt,Me,tt).recalculateAndSaveOverlaysForDocumentKeys(new jo(t,ji.ct),U).next()})})}}function rv(r){r.createObjectStore("targetDocuments",{keyPath:m}).createIndex("documentTargetsIndex",x,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",C,{unique:!0}),r.createObjectStore("targetGlobal")}const ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rl{constructor(e,t,s,a,c,f,S,U,q,se,Me=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.si=c,this.window=f,this.document=S,this.ii=q,this.ri=se,this.oi=Me,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=tt=>Promise.resolve(),!Rl.D())throw new Ut(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xy(this,a),this.fi=t+"main",this.serializer=new Ng(U),this.di=new To(this.fi,this.oi,new nm(this.serializer)),this.Fs=new Nu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zf(this.serializer),this.Ls=new $f,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===se&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(pt.FAILED_PRECONDITION,ep);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ji(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var s=(0,p.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,p.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Md(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(la(e))return Et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Ad(e).get("owner").next(t=>Ze.resolve(this.Ri(t)))}vi(e){return Md(e).delete(this.clientId)}Pi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hi(s,"clientMetadata");return a.j().next(c=>{const f=e.Vi(c,18e5),S=c.filter(U=>-1===f.indexOf(U));return Ze.forEach(S,U=>a.delete(U.clientId)).next(()=>S)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Si(s.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Ze.resolve(!0):Ad(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ut(pt.FAILED_PRECONDITION,ep);return!1}}return!(!this.networkEnabled||!this.inForeground)||Md(e).j().next(s=>void 0===this.Vi(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new jo(t,ji.ct);return e.Ei(s).next(()=>e.vi(s))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(s=>this.bi(s.updateTimeMs,t)&&!this.Di(s.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>Md(e).j().next(t=>this.Vi(t,18e5).map(s=>s.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return Sd.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yy(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return _h.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,s){Et("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(f=this.oi)?$o:14===f?ha:13===f?so:12===f?Ca:11===f?Di:void en();var f;let S;return this.di.runTransaction(e,a,c,U=>(S=new jo(U,this.Os?this.Os.next():ji.ct),"readwrite-primary"===t?this.Ii(S).next(q=>!!q||this.Ti(S)).next(q=>{if(!q)throw Or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Ut(pt.FAILED_PRECONDITION,Jo);return s(S)}).next(q=>this.Ai(S).next(()=>q)):this.Oi(S).next(()=>s(S)))).then(U=>(S.raiseOnCommittedEvent(),U))}Oi(e){return Ad(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ut(pt.FAILED_PRECONDITION,ep)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ad(e).put("owner",t)}static D(){return To.D()}Ei(e){const t=Ad(e);return t.get("owner").next(s=>this.Ri(s)?(Et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ze.resolve())}bi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Or(`Detected an update time that is in the future: ${e} > ${s}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Ce.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Et("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Or("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Or("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ad(r){return Hi(r,"owner")}function Md(r){return Hi(r,"clientMetadata")}function qc(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class tp{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=Fr(),a=Fr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new tp(e,t.fromCache,s,a)}}class np{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(b(t))return Ze.resolve(null);let s=oe(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=mt(t,null,"F"),s=oe(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Fr(...c);return this.qi.getDocuments(e,f).next(S=>this.indexManager.getMinOffset(e,s).next(U=>{const q=this.Qi(t,S);return this.ji(t,q,f,U.readTime)?this.Ui(e,mt(t,null,"F")):this.zi(e,q,t,U)}))})))}Ki(e,t,s,a){return b(t)||a.isEqual(vn.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const f=this.Qi(t,c);return this.ji(t,f,s,a)?this.Gi(e,t):(rr()<=Te.in.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Yn(t)),this.zi(e,f,t,Ha(a,-1)))})}Qi(e,t){let s=new Fi(gu(e));return t.forEach((a,c)=>{Mr(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return rr()<=Te.in.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",Yn(t)),this.qi.getDocumentsMatchingQuery(e,t,zs.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class iv{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new oi(ur),this.Ji=new Ru(c=>Qa(c),Ja),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xg(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function rm(r,e,t,s){return new iv(r,e,t,s)}function im(r,e){return rp.apply(this,arguments)}function rp(){return rp=(0,p.Z)(function*(r,e){const t=Qt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],S=[];let U=Fr();for(const q of a){f.push(q.batchId);for(const se of q.mutations)U=U.add(se.key)}for(const q of c){S.push(q.batchId);for(const se of q.mutations)U=U.add(se.key)}return t.localDocuments.getDocuments(s,U).next(q=>({tr:q,removedBatchIds:f,addedBatchIds:S}))})})}),rp.apply(this,arguments)}function ip(r){const e=Qt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function sp(r,e,t){let s=Fr(),a=Fr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=ya();return t.forEach((S,U)=>{const q=c.get(S);U.isFoundDocument()!==q.isFoundDocument()&&(a=a.add(S)),U.isNoDocument()&&U.version.isEqual(vn.min())?(e.removeEntry(S,U.readTime),f=f.insert(S,U)):!q.isValidDocument()||U.version.compareTo(q.version)>0||0===U.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(U),f=f.insert(S,U)):Et("LocalStore","Ignoring outdated watch update for ",S,". Current version:",q.version," Watch version:",U.version)}),{er:f,nr:a}})}function sm(r,e){const t=Qt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ol(r,e){const t=Qt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,Ze.resolve(a)):t.Fs.allocateTargetId(s).next(f=>(a=new vu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}function xd(r,e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,p.Z)(function*(r,e,t){const s=Qt(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!la(f))throw f;Et("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),Pd.apply(this,arguments)}function Dh(r,e,t){const s=Qt(r);let a=vn.min(),c=Fr();return s.persistence.runTransaction("Execute query","readonly",f=>function(S,U,q){const se=Qt(S),Me=se.Ji.get(q);return void 0!==Me?Ze.resolve(se.Hi.get(Me)):se.Fs.getTargetData(U,q)}(s,f,oe(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(f,S.targetId).next(U=>{c=U})}).next(()=>s.Wi.getDocumentsMatchingQuery(f,e,t?a:vn.min(),t?c:Fr())).next(S=>(op(s,ea(e),S),{documents:S,sr:c})))}function av(r,e){const t=Qt(r),s=Qt(t.Fs),a=t.Hi.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.he(c,e).next(f=>f?f.target:null))}function hc(r,e){const t=Qt(r),s=t.Yi.get(e)||vn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Xi.getAllFromCollectionGroup(a,e,Ha(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(op(t,e,a),a))}function op(r,e,t){let s=r.Yi.get(e)||vn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}function Th(){return Th=(0,p.Z)(function*(r,e,t,s){const a=Qt(r);let c=Fr(),f=ya();for(const q of t){const se=e.ir(q.metadata.name);q.document&&(c=c.add(se));const Me=e.rr(q);Me.setReadTime(e.ur(q.metadata.readTime)),f=f.insert(se,Me)}const S=a.Xi.newChangeBuffer({trackRemovals:!0}),U=yield Ol(a,(q=s,oe(tc(Zn.fromString(`__bundle__/docs/${q}`)))));var q;return a.persistence.runTransaction("Apply bundle documents","readwrite",q=>sp(q,S,f).next(se=>(S.apply(q),se)).next(se=>a.Fs.removeMatchingKeysForTargetId(q,U.targetId).next(()=>a.Fs.addMatchingKeys(q,c,U.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(q,se.er,se.nr)).next(()=>se.er)))}),Th.apply(this,arguments)}function lv(r,e){return ap.apply(this,arguments)}function ap(){return ap=(0,p.Z)(function*(r,e,t=Fr()){const s=yield Ol(r,oe(Sl(e.bundledQuery))),a=Qt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=mo(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.Ls.saveNamedQuery(c,e);const S=s.withResumeToken(Rs.EMPTY_BYTE_STRING,f);return a.Hi=a.Hi.insert(S.targetId,S),a.Fs.updateTargetData(c,S).next(()=>a.Fs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Fs.addMatchingKeys(c,t,s.targetId)).next(()=>a.Ls.saveNamedQuery(c,e))})}),ap.apply(this,arguments)}function Rd(r,e){return`firestore_clients_${r}_${e}`}function fc(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Od(r,e){return`firestore_targets_${r}_${e}`}class Nl{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static cr(e,t,s){const a=JSON.parse(s);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new Ut(a.error.code,a.error.message))),f?new Nl(e,t,a.state,c):(Or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pc{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static cr(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Ut(s.error.code,s.error.message))),c?new pc(e,s.state,a):(Or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=fd();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=Gs(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return a?new gc(e,c):(Or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sh{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sh(t.clientId,t.onlineState):(Or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nd{constructor(){this.activeTargetIds=fd()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kd{constructor(e,t,s,a,c){this.window=e,this.si=t,this.persistenceKey=s,this.dr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new oi(ur),this.started=!1,this.gr=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.yr=Rd(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new Nd),this.Ir=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.Mi();for(const a of t){if(a===e.dr)continue;const c=e.getItem(Rd(e.persistenceKey,a));if(c){const f=gc.cr(a,c);f&&(e.mr=e.mr.insert(f.clientId,f))}}e.vr();const s=e.storage.getItem(e.Ar);if(s){const a=e.Pr(s);a&&e.br(a)}for(const a of e.gr)e.wr(a);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,s){this.Sr(e,t,s),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Od(this.persistenceKey,e));if(s){const a=pc.cr(e,s);a&&(t=a.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Od(this.persistenceKey,e))}updateQueryState(e,t,s){this.Nr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Dr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Et("SharedClientState","READ",e,t),t}setItem(e,t){Et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Et("SharedClientState","EVENT",s.key,s.newValue),s.key===this.yr)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ir.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.$r(a,null)}{const a=t.Fr(s.key,s.newValue);if(a)return t.$r(a.clientId,a)}}else if(t.Tr.test(s.key)){if(null!==s.newValue){const a=t.Br(s.key,s.newValue);if(a)return t.Lr(a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.qr(s.key,s.newValue);if(a)return t.Ur(a)}}else if(s.key===t.Ar){if(null!==s.newValue){const a=t.Pr(s.newValue);if(a)return t.br(a)}}else if(s.key===t.pr){const a=function(c){let f=ji.ct;if(null!=c)try{const S=JSON.parse(c);Cn("number"==typeof S),f=S}catch(S){Or("SharedClientState","Failed to read sequence number from WebStorage",S)}return f}(s.newValue);a!==ji.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Kr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Gr(c)))}}else t.gr.push(s)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,s){const a=new Nl(this.currentUser,e,t,s),c=fc(this.persistenceKey,this.currentUser,e);this.setItem(c,a.ar())}Dr(e){const t=fc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,s){const a=Od(this.persistenceKey,e),c=new pc(e,t,s);this.setItem(a,c.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const s=this.Or(e);return gc.cr(s,t)}Br(e,t){const s=this.Tr.exec(e),a=Number(s[1]);return Nl.cr(new me(void 0!==s[2]?s[2]:null),a,t)}qr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return pc.cr(a,t)}Pr(e){return Sh.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const s=t?this.mr.insert(e,t):this.mr.remove(e),a=this.Vr(this.mr),c=this.Vr(s),f=[],S=[];return c.forEach(U=>{a.has(U)||f.push(U)}),a.forEach(U=>{c.has(U)||S.push(U)}),this.syncEngine.zr(f,S).then(()=>{this.mr=s})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=fd();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Ah{constructor(){this.Wr=new Nd,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Nd,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class om{Jr(e){}shutdown(){}}class Mh{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xh=null;function up(){return null===xh?xh=268435456+Math.round(2147483648*Math.random()):xh++,"0x"+xh.toString(16)}const am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cv{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const va="WebChannelConnection";class um extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const f=up(),S=this.Io(e,t);Et("RestConnection",`Sending RPC '${e}' ${f}:`,S,s);const U={};return this.To(U,a,c),this.Eo(e,S,U,s).then(q=>(Et("RestConnection",`Received RPC '${e}' ${f}: `,q),q),q=>{throw si("RestConnection",`RPC '${e}' ${f} failed with error: `,q,"url: ",S,"request:",s),q})}Ao(e,t,s,a,c,f){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+et,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${am[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=up();return new Promise((f,S)=>{const U=new lt;U.setWithCredentials(!0),U.listenOnce(R.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case xa.NO_ERROR:const se=U.getResponseJson();Et(va,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(se)),f(se);break;case xa.TIMEOUT:Et(va,`RPC '${e}' ${c} timed out`),S(new Ut(pt.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:const Me=U.getStatus();if(Et(va,`RPC '${e}' ${c} failed with status:`,Me,"response text:",U.getResponseText()),Me>0){let tt=U.getResponseJson();Array.isArray(tt)&&(tt=tt[0]);const Rt=tt?.error;if(Rt&&Rt.status&&Rt.message){const rn=function(wn){const Kn=wn.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Kn)>=0?Kn:pt.UNKNOWN}(Rt.status);S(new Ut(rn,Rt.message))}else S(new Ut(pt.UNKNOWN,"Server responded with status "+U.getStatus()))}else S(new Ut(pt.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Et(va,`RPC '${e}' ${c} completed.`)}});const q=JSON.stringify(a);Et(va,`RPC '${e}' ${c} sending request:`,a),U.send(t,"POST",q,s,15)})}Ro(e,t,s){const a=up(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Do(),S=Ua(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new te({})),this.To(U.initMessageHeaders,t,s),U.encodeInitMessageHeaders=!0;const q=c.join("");Et(va,`Creating RPC '${e}' stream ${a}: ${q}`,U);const se=f.createWebChannel(q,U);let Me=!1,tt=!1;const Rt=new cv({io:wn=>{tt?Et(va,`Not sending because RPC '${e}' stream ${a} is closed:`,wn):(Me||(Et(va,`Opening RPC '${e}' stream ${a} transport.`),se.open(),Me=!0),Et(va,`RPC '${e}' stream ${a} sending:`,wn),se.send(wn))},ro:()=>se.close()}),rn=(wn,Kn,Ur)=>{wn.listen(Kn,Si=>{try{Ur(Si)}catch(Kr){setTimeout(()=>{throw Kr},0)}})};return rn(se,Ie.EventType.OPEN,()=>{tt||Et(va,`RPC '${e}' stream ${a} transport opened.`)}),rn(se,Ie.EventType.CLOSE,()=>{tt||(tt=!0,Et(va,`RPC '${e}' stream ${a} transport closed`),Rt.fo())}),rn(se,Ie.EventType.ERROR,wn=>{tt||(tt=!0,si(va,`RPC '${e}' stream ${a} transport errored:`,wn),Rt.fo(new Ut(pt.UNAVAILABLE,"The operation could not be completed")))}),rn(se,Ie.EventType.MESSAGE,wn=>{var Kn;if(!tt){const Ur=wn.data[0];Cn(!!Ur);const Kr=Ur.error||(null===(Kn=Ur[0])||void 0===Kn?void 0:Kn.error);if(Kr){Et(va,`RPC '${e}' stream ${a} received error:`,Kr);const Va=Kr.status;let vo=function(uu){const Xu=Mo[uu];if(void 0!==Xu)return Dg(Xu)}(Va),Ns=Kr.message;void 0===vo&&(vo=pt.INTERNAL,Ns="Unknown error status: "+Va+" with message "+Kr.message),tt=!0,Rt.fo(new Ut(vo,Ns)),se.close()}else Et(va,`RPC '${e}' stream ${a} received:`,Ur),Rt._o(Ur)}}),rn(S,W.STAT_EVENT,wn=>{wn.stat===L.PROXY?Et(va,`RPC '${e}' stream ${a} detected buffering proxy`):wn.stat===L.NOPROXY&&Et(va,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Rt.lo()},0),Rt}}function lm(){return typeof window<"u"?window:null}function Ph(){return typeof document<"u"?document:null}function _a(r){return new Vy(r,!0)}class lp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Et("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class cm{constructor(e,t,s,a,c,f,S,U){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=S,this.listener=U,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new lp(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,p.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,p.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,p.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===pt.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===pt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new Ut(pt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,p.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $_ extends cm{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Rg(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:en(),a=e.targetChange.targetIds||[],c=function(U,q){return U.useProto3Json?(Cn(void 0===q||"string"==typeof q),Rs.fromBase64String(q||"")):(Cn(void 0===q||q instanceof Uint8Array),Rs.fromUint8Array(q||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,S=f&&function(U){const q=void 0===U.code?pt.UNKNOWN:Dg(U.code);return new Ut(q,U.message||"")}(f);t=new ky(s,a,c,S||null)}else if("documentChange"in e){const s=e.documentChange,a=Wu(r,s.document.name),c=mo(s.document.updateTime),f=s.document.createTime?mo(s.document.createTime):vn.min(),S=new tr({mapValue:{fields:s.document.fields}}),U=En.newFoundDocument(a,c,f,S);t=new Lc(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,a=Wu(r,s.document),c=s.readTime?mo(s.readTime):vn.min(),f=En.newNoDocument(a,c);t=new Lc([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Wu(r,s.document);t=new Lc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return en();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Ig(a,c);t=new Ny(s.targetId,f)}}var U;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return vn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?vn.min():c.readTime?mo(c.readTime):vn.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=Uc(this.serializer),t.addTarget=function(a,c){let f;const S=c.target;if(f=Cs(S)?{documents:Og(a,S)}:{query:yh(a,S)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=go(a,c.resumeToken);const U=md(a,c.expectedCount);null!==U&&(f.expectedCount=U)}else if(c.snapshotVersion.compareTo(vn.min())>0){f.readTime=Vc(a,c.snapshotVersion.toTimestamp());const U=md(a,c.expectedCount);null!==U&&(f.expectedCount=U)}return f}(this.serializer,e);const s=function kf(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=Uc(this.serializer),t.removeTarget=e,this.zo(t)}}class cp extends cm{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function jy(r,e){return r&&r.length>0?(Cn(void 0!==e),r.map(t=>function(s,a){let c=mo(s.updateTime?s.updateTime:a);return c.isEqual(vn.min())&&(c=mo(a)),new gg(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=mo(e.commitTime);return this.listener.uu(s,t)}return Cn(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Uc(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$c(this.serializer,s))};this.zo(t)}}class dm extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new Ut(pt.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ut(pt.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ao(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ut(pt.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class hv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Or(t),this.wu=!1):Et("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hm{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(S=>{s.enqueueAndForget((0,p.Z)(function*(){var U;Fl(f)&&(Et("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,p.Z)(function*(q){const se=Qt(q);se.Au.add(4),yield kl(se),se.Pu.set("Unknown"),se.Au.delete(4),yield Fd(se)}),function(q){return U.apply(this,arguments)})(f))}))}),this.Pu=new hv(s,a)}}function Fd(r){return hp.apply(this,arguments)}function hp(){return hp=(0,p.Z)(function*(r){if(Fl(r))for(const e of r.Ru)yield e(!0)}),hp.apply(this,arguments)}function kl(r){return fp.apply(this,arguments)}function fp(){return fp=(0,p.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),fp.apply(this,arguments)}function Rh(r,e){const t=Qt(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Vd(t)?wu(t):Zu(t).Uo()&&pp(t,e))}function Ld(r,e){const t=Qt(r),s=Zu(t);t.Eu.delete(e),s.Uo()&&fm(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():Fl(t)&&t.Pu.set("Unknown"))}function pp(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zu(r).nu(e)}function fm(r,e){r.bu.Lt(e),Zu(r).su(e)}function wu(r){r.bu=new Fy({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),Zu(r).start(),r.Pu.mu()}function Vd(r){return Fl(r)&&!Zu(r).qo()&&r.Eu.size>0}function Fl(r){return 0===Qt(r).Au.size}function pm(r){r.bu=void 0}function gm(r){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(r){r.Eu.forEach((e,t)=>{pp(r,e)})}),gp.apply(this,arguments)}function fv(r,e){return mp.apply(this,arguments)}function mp(){return mp=(0,p.Z)(function*(r,e){pm(r),Vd(r)?(r.Pu.pu(e),wu(r)):r.Pu.set("Unknown")}),mp.apply(this,arguments)}function yp(r,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,p.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof ky&&2===e.state&&e.cause)try{yield(s=(0,p.Z)(function*(a,c){const f=c.cause;for(const S of c.targetIds)a.Eu.has(S)&&(yield a.remoteSyncer.rejectListen(S,f),a.Eu.delete(S),a.bu.removeTarget(S))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Oh(r,s)}else if(e instanceof Lc?r.bu.Wt(e):e instanceof Ny?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(vn.min()))try{const s=yield ip(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.bu.ue(c);return f.targetChanges.forEach((S,U)=>{if(S.resumeToken.approximateByteSize()>0){const q=a.Eu.get(U);q&&a.Eu.set(U,q.withResumeToken(S.resumeToken,c))}}),f.targetMismatches.forEach((S,U)=>{const q=a.Eu.get(S);if(!q)return;a.Eu.set(S,q.withResumeToken(Rs.EMPTY_BYTE_STRING,q.snapshotVersion)),fm(a,S);const se=new vu(q.target,S,U,q.sequenceNumber);pp(a,se)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Et("RemoteStore","Failed to raise snapshot:",s),yield Oh(r,s)}var s}),vp.apply(this,arguments)}function Oh(r,e,t){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,p.Z)(function*(r,e,t){if(!la(e))throw e;r.Au.add(1),yield kl(r),r.Pu.set("Offline"),t||(t=()=>ip(r.localStore)),r.asyncQueue.enqueueRetryable((0,p.Z)(function*(){Et("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield Fd(r)}))}),Zc.apply(this,arguments)}function Ud(r,e){return e().catch(t=>Oh(r,t,e))}function hl(r){return mm.apply(this,arguments)}function mm(){return mm=(0,p.Z)(function*(r){const e=Qt(r),t=Ll(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;_p(e);)try{const a=yield sm(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,j_(e,a)}catch(a){yield Oh(e,a)}wp(e)&&Ep(e)}),mm.apply(this,arguments)}function _p(r){return Fl(r)&&r.Tu.length<10}function j_(r,e){r.Tu.push(e);const t=Ll(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function wp(r){return Fl(r)&&!Ll(r).qo()&&r.Tu.length>0}function Ep(r){Ll(r).start()}function ym(r){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,p.Z)(function*(r){Ll(r).au()}),Nh.apply(this,arguments)}function bp(r){return ku.apply(this,arguments)}function ku(){return ku=(0,p.Z)(function*(r){const e=Ll(r);for(const t of r.Tu)e.ou(t.mutations)}),ku.apply(this,arguments)}function kh(r,e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,p.Z)(function*(r,e,t){const s=r.Tu.shift(),a=Eg.from(s,e,t);yield Ud(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield hl(r)}),Yc.apply(this,arguments)}function Bd(r,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,p.Z)(function*(r,e){var t;e&&Ll(r).ru&&(yield(t=(0,p.Z)(function*(s,a){if(Cg(c=a.code)&&c!==pt.ABORTED){const f=s.Tu.shift();Ll(s).Go(),yield Ud(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield hl(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),wp(r)&&Ep(r)}),Ip.apply(this,arguments)}function Cp(r,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,p.Z)(function*(r,e){const t=Qt(r);t.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const s=Fl(t);t.Au.add(3),yield kl(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Fd(t)}),Fh.apply(this,arguments)}function Dp(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,p.Z)(function*(r,e){const t=Qt(r);e?(t.Au.delete(2),yield Fd(t)):e||(t.Au.add(2),yield kl(t),t.Pu.set("Unknown"))}),Tp.apply(this,arguments)}function Zu(r){return r.Vu||(r.Vu=function(e,t,s){const a=Qt(e);return a.lu(),new $_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:gm.bind(null,r),co:fv.bind(null,r),eu:yp.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Vu.Go(),Vd(r)?wu(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),pm(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function Ll(r){return r.Su||(r.Su=function(e,t,s){const a=Qt(e);return a.lu(),new cp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:ym.bind(null,r),co:Bd.bind(null,r),cu:bp.bind(null,r),uu:kh.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Su.Go(),yield hl(r)):(yield r.Su.stop(),r.Tu.length>0&&(Et("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class vm{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,S=new vm(e,t,f,a,c);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qc(r,e){if(Or("AsyncQueue",`${e}: ${r}`),la(r))return new Ut(pt.UNAVAILABLE,`${e}: ${r}`);throw r}class Jc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||dn.comparator(t.key,s.key):(t,s)=>dn.comparator(t.key,s.key),this.keyedMap=zu(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new Jc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Jc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class _m{constructor(){this.Du=new oi(dn.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):en():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class Xc{constructor(e,t,s,a,c,f,S,U,q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=S,this.excludesMetadataChanges=U,this.hasCachedResults=q}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(S=>{f.push({type:0,doc:S})}),new Xc(e,t,Jc.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class pv{constructor(){this.xu=void 0,this.listeners=[]}}class gv{constructor(){this.queries=new Ru(e=>Tn(e),tn),this.onlineState="Unknown",this.Nu=new Set}}function Sp(r,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,p.Z)(function*(r,e){const t=Qt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new pv),a)try{c.xu=yield t.onListen(s)}catch(f){const S=Qc(f,`Initialization of query '${Yn(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&xp(t)}),Lh.apply(this,arguments)}function $d(r,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,p.Z)(function*(r,e){const t=Qt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Ap.apply(this,arguments)}function Mp(r,e){const t=Qt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const S of f.listeners)S.Mu(a)&&(s=!0);f.xu=a}}s&&xp(t)}function mv(r,e,t){const s=Qt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function xp(r){r.Nu.forEach(e=>{e.next()})}class Pp{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class yv{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class wm{constructor(e){this.serializer=e}ir(e){return Wu(this.serializer,e)}rr(e){return e.metadata.exists?Bc(this.serializer,e.document,!1):En.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return mo(e)}}class vv{constructor(e,t,s){this.Qu=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Em(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const s=Zn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,s=new wm(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.ir(a.metadata.name);for(const f of a.metadata.queries){const S=(t.get(f)||Fr()).add(c);t.set(f,S)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function uv(r,e,t,s){return Th.apply(this,arguments)}(e.localStore,new wm(e.serializer),e.documents,e.Qu.id),s=e.zu(e.documents);for(const a of e.queries)yield lv(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function Em(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Rp{constructor(e){this.key=e}}class Op{constructor(e){this.key=e}}class bm{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Fr(),this.mutatedKeys=Fr(),this.Zu=gu(e),this.tc=new Jc(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new _m,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,S=!1;const U="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,q="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((se,Me)=>{const tt=a.get(se),Rt=Mr(this.query,Me)?Me:null,rn=!!tt&&this.mutatedKeys.has(tt.key),wn=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let Kn=!1;tt&&Rt?tt.data.isEqual(Rt.data)?rn!==wn&&(s.track({type:3,doc:Rt}),Kn=!0):this.ic(tt,Rt)||(s.track({type:2,doc:Rt}),Kn=!0,(U&&this.Zu(Rt,U)>0||q&&this.Zu(Rt,q)<0)&&(S=!0)):!tt&&Rt?(s.track({type:0,doc:Rt}),Kn=!0):tt&&!Rt&&(s.track({type:1,doc:tt}),Kn=!0,(U||q)&&(S=!0)),Kn&&(Rt?(f=f.add(Rt),c=wn?c.add(se):c.delete(se)):(f=f.delete(se),c=c.delete(se)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const se="F"===this.query.limitType?f.last():f.first();f=f.delete(se.key),c=c.delete(se.key),s.track({type:1,doc:se})}return{tc:f,sc:s,ji:S,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((q,se)=>function(Me,tt){const Rt=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return Rt(Me)-Rt(tt)}(q.type,se.type)||this.Zu(q.doc,se.doc)),this.rc(s);const f=t?this.oc():[],S=0===this.Xu.size&&this.current?1:0,U=S!==this.Yu;return this.Yu=S,0!==c.length||U?{snapshot:new Xc(this.query,e.tc,a,c,e.mutatedKeys,0===S,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:f}:{uc:f}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new _m,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Fr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new Op(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new Rp(s))}),t}ac(e){this.Ju=e.sr,this.Xu=Fr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Xc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class H_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Im{constructor(e){this.key=e,this.lc=!1}}class z_{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fc={},this.dc=new Ru(S=>Tn(S),tn),this._c=new Map,this.wc=new Set,this.mc=new oi(dn.comparator),this.gc=new Map,this.yc=new Ih,this.Ic={},this.Tc=new Map,this.Ec=cc.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Vh(r,e){return Np.apply(this,arguments)}function Np(){return Np=(0,p.Z)(function*(r,e){const t=Wh(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const f=yield Ol(t.localStore,oe(e)),S=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield kp(t,e,s,"current"===S,f.resumeToken),t.isPrimaryClient&&Rh(t.remoteStore,f)}return a}),Np.apply(this,arguments)}function kp(r,e,t,s,a){return jd.apply(this,arguments)}function jd(){return jd=(0,p.Z)(function*(r,e,t,s,a){r.Rc=(Me,tt,Rt)=>{return(rn=(0,p.Z)(function*(wn,Kn,Ur,Si){let Kr=Kn.view.nc(Ur);Kr.ji&&(Kr=yield Dh(wn.localStore,Kn.query,!1).then(({documents:Ns})=>Kn.view.nc(Ns,Kr)));const Va=Si&&Si.targetChanges.get(Kn.targetId),vo=Kn.view.applyChanges(Kr,wn.isPrimaryClient,Va);return Uh(wn,Kn.targetId,vo.uc),vo.snapshot}),function(wn,Kn,Ur,Si){return rn.apply(this,arguments)})(r,Me,tt,Rt);var rn};const c=yield Dh(r.localStore,e,!0),f=new bm(e,c.sr),S=f.nc(c.documents),U=sc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),q=f.applyChanges(S,r.isPrimaryClient,U);Uh(r,t,q.uc);const se=new H_(e,t,f);return r.dc.set(e,se),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),q.snapshot}),jd.apply(this,arguments)}function _v(r,e){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,p.Z)(function*(r,e){const t=Qt(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!tn(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield xd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ld(t.remoteStore,s.targetId),mc(t,s.targetId)}).catch(za))):(mc(t,s.targetId),yield xd(t.localStore,s.targetId,!0))}),Eu.apply(this,arguments)}function ta(){return ta=(0,p.Z)(function*(r,e,t){const s=Kh(r);try{const a=yield function(c,f){const S=Qt(c),U=mi.now(),q=f.reduce((tt,Rt)=>tt.add(Rt.key),Fr());let se,Me;return S.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let Rt=ya(),rn=Fr();return S.Xi.getEntries(tt,q).next(wn=>{Rt=wn,Rt.forEach((Kn,Ur)=>{Ur.isValidDocument()||(rn=rn.add(Kn))})}).next(()=>S.localDocuments.getOverlayedDocuments(tt,Rt)).next(wn=>{se=wn;const Kn=[];for(const Ur of f){const Si=Oy(Ur,se.get(Ur.key).overlayedDocument);null!=Si&&Kn.push(new ul(Ur.key,Si,Nr(Si.value.mapValue),is.exists(!0)))}return S.mutationQueue.addMutationBatch(tt,U,Kn,f)}).next(wn=>{Me=wn;const Kn=wn.applyToLocalDocumentSet(se,rn);return S.documentOverlayCache.saveOverlays(tt,wn.batchId,Kn)})}).then(()=>({batchId:Me.batchId,changes:Tc(se)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,S){let U=c.Ic[c.currentUser.toKey()];U||(U=new oi(ur)),U=U.insert(f,S),c.Ic[c.currentUser.toKey()]=U}(s,a.batchId,t),yield Yu(s,a.changes),yield hl(s.remoteStore)}catch(a){const c=Qc(a,"Failed to persist write");t.reject(c)}}),ta.apply(this,arguments)}function Vl(r,e){return ed.apply(this,arguments)}function ed(){return ed=(0,p.Z)(function*(r,e){const t=Qt(r);try{const s=yield function ov(r,e){const t=Qt(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const S=[];e.targetChanges.forEach((se,Me)=>{const tt=a.get(Me);if(!tt)return;S.push(t.Fs.removeMatchingKeys(c,se.removedDocuments,Me).next(()=>t.Fs.addMatchingKeys(c,se.addedDocuments,Me)));let Rt=tt.withSequenceNumber(c.currentSequenceNumber);var rn,wn,Kn;null!==e.targetMismatches.get(Me)?Rt=Rt.withResumeToken(Rs.EMPTY_BYTE_STRING,vn.min()).withLastLimboFreeSnapshotVersion(vn.min()):se.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(se.resumeToken,s)),a=a.insert(Me,Rt),wn=Rt,Kn=se,(0===(rn=tt).resumeToken.approximateByteSize()||wn.snapshotVersion.toMicroseconds()-rn.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&S.push(t.Fs.updateTargetData(c,Rt))});let U=ya(),q=Fr();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(c,se))}),S.push(sp(c,f,e.documentUpdates).next(se=>{U=se.er,q=se.nr})),!s.isEqual(vn.min())){const se=t.Fs.getLastRemoteSnapshotVersion(c).next(Me=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));S.push(se)}return Ze.waitFor(S).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,U,q)).next(()=>U)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.gc.get(c);f&&(Cn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.lc=!0:a.modifiedDocuments.size>0?Cn(f.lc):a.removedDocuments.size>0&&(Cn(f.lc),f.lc=!1))}),yield Yu(t,s,e)}catch(s){yield za(s)}}),ed.apply(this,arguments)}function ou(r,e,t){const s=Qt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,f)=>{const S=f.view.ku(e);S.snapshot&&a.push(S.snapshot)}),function(c,f){const S=Qt(c);S.onlineState=f;let U=!1;S.queries.forEach((q,se)=>{for(const Me of se.listeners)Me.ku(f)&&(U=!0)}),U&&xp(S)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Fp(r,e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,p.Z)(function*(r,e,t){const s=Qt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let f=new oi(dn.comparator);f=f.insert(c,En.newNoDocument(c,vn.min()));const S=Fr().add(c),U=new ph(vn.min(),new Map,new oi(ur),f,S);yield Vl(s,U),s.mc=s.mc.remove(c),s.gc.delete(e),Bh(s)}else yield xd(s.localStore,e,!1).then(()=>mc(s,e,t)).catch(za)}),Ul.apply(this,arguments)}function td(r,e){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,p.Z)(function*(r,e){const t=Qt(r),s=e.batch.batchId;try{const a=yield function sv(r,e){const t=Qt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(f,S,U,q){const se=U.batch,Me=se.keys();let tt=Ze.resolve();return Me.forEach(Rt=>{tt=tt.next(()=>q.getEntry(S,Rt)).next(rn=>{const wn=U.docVersions.get(Rt);Cn(null!==wn),rn.version.compareTo(wn)<0&&(se.applyToRemoteDocument(rn,U),rn.isValidDocument()&&(rn.setReadTime(U.commitVersion),q.addEntry(rn)))})}),tt.next(()=>f.mutationQueue.removeMutationBatch(S,se))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let S=Fr();for(let U=0;U<f.mutationResults.length;++U)f.mutationResults[U].transformResults.length>0&&(S=S.add(f.batch.mutations[U].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);zl(t,s,null),Hl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Yu(t,a)}catch(a){yield za(a)}}),Bl.apply(this,arguments)}function nd(r,e,t){return $l.apply(this,arguments)}function $l(){return $l=(0,p.Z)(function*(r,e,t){const s=Qt(r);try{const a=yield function(c,f){const S=Qt(c);return S.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let q;return S.mutationQueue.lookupMutationBatch(U,f).next(se=>(Cn(null!==se),q=se.keys(),S.mutationQueue.removeMutationBatch(U,se))).next(()=>S.mutationQueue.performConsistencyCheck(U)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(U,q,f)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,q)).next(()=>S.localDocuments.getDocuments(U,q))})}(s.localStore,e);zl(s,e,t),Hl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(s,a)}catch(a){yield za(a)}}),$l.apply(this,arguments)}function jl(){return jl=(0,p.Z)(function*(r,e){const t=Qt(r);Fl(t.remoteStore)||Et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const f=Qt(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>f.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Tc.get(s)||[];a.push(e),t.Tc.set(s,a)}catch(s){const a=Qc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),jl.apply(this,arguments)}function Hl(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function zl(r,e,t){const s=Qt(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function mc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||Lp(r,s)})}function Lp(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(Ld(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),Bh(r))}function Uh(r,e,t){for(const s of t)s instanceof Rp?(r.yc.addReference(s.key,e),Cm(r,s)):s instanceof Op?(Et("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||Lp(r,s.key)):en()}function Cm(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Et("SyncEngine","New document in limbo: "+t),r.wc.add(s),Bh(r))}function Bh(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new dn(Zn.fromString(e)),s=r.Ec.next();r.gc.set(s,new Im(t)),r.mc=r.mc.insert(t,s),Rh(r.remoteStore,new vu(oe(tc(t.path)),s,"TargetPurposeLimboResolution",ji.ct))}}function Yu(r,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,p.Z)(function*(r,e,t){const s=Qt(r),a=[],c=[],f=[];var S;s.dc.isEmpty()||(s.dc.forEach((S,U)=>{f.push(s.Rc(U,e,t).then(q=>{if((q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,q?.fromCache?"not-current":"current"),q){a.push(q);const se=tp.Bi(U.targetId,q);c.push(se)}}))}),yield Promise.all(f),s.fc.eu(a),yield(S=(0,p.Z)(function*(U,q){const se=Qt(U);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Me=>Ze.forEach(q,tt=>Ze.forEach(tt.$i,Rt=>se.persistence.referenceDelegate.addReference(Me,tt.targetId,Rt)).next(()=>Ze.forEach(tt.Fi,Rt=>se.persistence.referenceDelegate.removeReference(Me,tt.targetId,Rt)))))}catch(Me){if(!la(Me))throw Me;Et("LocalStore","Failed to update sequence numbers: "+Me)}for(const Me of q){const tt=Me.targetId;if(!Me.fromCache){const Rt=se.Hi.get(tt),wn=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);se.Hi=se.Hi.insert(tt,wn)}}}),function(U,q){return S.apply(this,arguments)})(s.localStore,c))}),$h.apply(this,arguments)}function Dm(r,e){return jh.apply(this,arguments)}function jh(){return jh=(0,p.Z)(function*(r,e){const t=Qt(r);if(!t.currentUser.isEqual(e)){Et("SyncEngine","User change. New user:",e.toKey());const s=yield im(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(f=>{f.forEach(S=>{S.reject(new Ut(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Yu(t,s.tr)}var a}),jh.apply(this,arguments)}function wv(r,e){const t=Qt(r),s=t.gc.get(e);if(s&&s.lc)return Fr().add(s.key);{let a=Fr();const c=t._c.get(e);if(!c)return a;for(const f of c){const S=t.dc.get(f);a=a.unionWith(S.view.ec)}return a}}function Ev(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,p.Z)(function*(r,e){const t=Qt(r),s=yield Dh(t.localStore,e.query,!0),a=e.view.ac(s);return t.isPrimaryClient&&Uh(t,e.targetId,a.uc),a}),Hh.apply(this,arguments)}function bv(r,e){return zh.apply(this,arguments)}function zh(){return zh=(0,p.Z)(function*(r,e){const t=Qt(r);return hc(t.localStore,e).then(s=>Yu(t,s))}),zh.apply(this,arguments)}function Vp(r,e,t,s){return zd.apply(this,arguments)}function zd(){return zd=(0,p.Z)(function*(r,e,t,s){const a=Qt(r),c=yield function(f,S){const U=Qt(f),q=Qt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",se=>q.Vn(se,S).next(Me=>Me?U.localDocuments.getDocuments(se,Me):Ze.resolve(null)))}(a.localStore,e);var S;null!==c?("pending"===t?yield hl(a.remoteStore):"acknowledged"===t||"rejected"===t?(zl(a,e,s||null),Hl(a,e),S=e,Qt(Qt(a.localStore).mutationQueue).Dn(S)):en(),yield Yu(a,c)):Et("SyncEngine","Cannot apply mutation batch with id: "+e)}),zd.apply(this,arguments)}function id(){return id=(0,p.Z)(function*(r,e){const t=Qt(r);if(Wh(t),Kh(t),!0===e&&!0!==t.Ac){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Gd(t,s.toArray());t.Ac=!0,yield Dp(t.remoteStore,!0);for(const c of a)Rh(t.remoteStore,c)}else if(!1===e&&!1!==t.Ac){const s=[];let a=Promise.resolve();t._c.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(mc(t,f),xd(t.localStore,f,!0))),Ld(t.remoteStore,f)}),yield a,yield Gd(t,s),function(c){const f=Qt(c);f.gc.forEach((S,U)=>{Ld(f.remoteStore,U)}),f.yc.Is(),f.gc=new Map,f.mc=new oi(dn.comparator)}(t),t.Ac=!1,yield Dp(t.remoteStore,!1)}}),id.apply(this,arguments)}function Gd(r,e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,p.Z)(function*(r,e,t){const s=Qt(r),a=[],c=[];for(const f of e){let S;const U=s._c.get(f);if(U&&0!==U.length){S=yield Ol(s.localStore,oe(U[0]));for(const q of U){const se=s.dc.get(q),Me=yield Ev(s,se);Me.snapshot&&c.push(Me.snapshot)}}else{const q=yield av(s.localStore,f);S=yield Ol(s.localStore,q),yield kp(s,Tm(q),f,!1,S.resumeToken)}a.push(S)}return s.fc.eu(c),a}),Wd.apply(this,arguments)}function Tm(r){return ch(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Up(r){const e=Qt(r);return Qt(Qt(e.localStore).persistence).Mi()}function Bp(r,e,t,s){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,p.Z)(function*(r,e,t,s){const a=Qt(r);if(a.Ac)return void Et("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield hc(a.localStore,ea(c[0])),S=ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Rs.EMPTY_BYTE_STRING);yield Yu(a,f,S);break}case"rejected":yield xd(a.localStore,e,!0),mc(a,e,s);break;default:en()}}),Gh.apply(this,arguments)}function Sm(r,e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,p.Z)(function*(r,e,t){const s=Wh(r);if(s.Ac){for(const a of e){if(s._c.has(a)){Et("SyncEngine","Adding an already active target "+a);continue}const c=yield av(s.localStore,a),f=yield Ol(s.localStore,c);yield kp(s,Tm(c),f.targetId,!1,f.resumeToken),Rh(s.remoteStore,f)}for(const a of t)s._c.has(a)&&(yield xd(s.localStore,a,!1).then(()=>{Ld(s.remoteStore,a),mc(s,a)}).catch(za))}}),Kd.apply(this,arguments)}function Wh(r){const e=Qt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fp.bind(null,e),e.fc.eu=Mp.bind(null,e.eventManager),e.fc.vc=mv.bind(null,e.eventManager),e}function Kh(r){const e=Qt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=td.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nd.bind(null,e),e}class sd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=_a(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rm(this.persistence,new np,e.initialUser,this.serializer)}createPersistence(e){return new tm(Xf.js,this.serializer)}createSharedClientState(e){return new Ah}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qh extends sd{constructor(e,t,s){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e),yield s.bc.initialize(s,e),yield Kh(s.bc.syncEngine),yield hl(s.bc.remoteStore),yield s.persistence.pi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return rm(this.persistence,new np,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Wg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new $i(t,this.persistence);return new wl(e.asyncQueue,s)}createPersistence(e){const t=qc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?La.withCacheSize(this.cacheSizeBytes):La.DEFAULT;return new Rl(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,lm(),Ph(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ah}}class jp extends qh{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e);const a=s.bc.syncEngine;s.sharedClientState instanceof kd&&(s.sharedClientState.syncEngine={Qr:Vp.bind(null,a),jr:Bp.bind(null,a),zr:Sm.bind(null,a),Mi:Up.bind(null,a),Gr:bv.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.pi(function(){var c=(0,p.Z)(function*(f){yield function Iv(r,e){return id.apply(this,arguments)}(s.bc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=lm();if(!kd.D(t))throw new Ut(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=qc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class yc{initialize(e,t){var s=this;return(0,p.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>ou(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Dm.bind(null,s.syncEngine),yield Dp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gv}createDatastore(e){const t=_a(e.databaseInfo.databaseId),s=new um(e.databaseInfo);return new dm(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=S=>ou(this.syncEngine,S,0),f=Mh.D()?new Mh:new om,new hm(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,S,U,q){const se=new z_(s,a,c,f,S,U);return q&&(se.Ac=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const s=Qt(t);Et("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield kl(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hp(r,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Zh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dv{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Bi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(s=>{s&&s.Gu()?this.metadata.resolve(s.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Ku)}`))},s=>this.metadata.reject(s))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const s=e.Cc.decode(t),a=Number(s);isNaN(a)&&e.kc(`length string (${s}) is not valid number`);const c=yield e.Mc(a);return new yv(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,p.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Mc(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const s=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,p.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Tv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ut(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,p.Z)(function*(c,f){const S=Qt(c),U=Uc(S.serializer)+"/documents",q={documents:f.map(Rt=>vd(S.serializer,Rt))},se=yield S.Ao("BatchGetDocuments",U,q,f.length),Me=new Map;se.forEach(Rt=>{const rn=function Of(r,e){return"found"in e?function(t,s){Cn(!!s.found);const a=Wu(t,s.found.name),c=mo(s.found.updateTime),f=s.found.createTime?mo(s.found.createTime):vn.min(),S=new tr({mapValue:{fields:s.found.fields}});return En.newFoundDocument(a,c,f,S)}(r,e):"missing"in e?function(t,s){Cn(!!s.missing),Cn(!!s.readTime);const a=Wu(t,s.missing),c=mo(s.readTime);return En.newNoDocument(a,c)}(r,e):en()}(S.serializer,Rt);Me.set(rn.key.toString(),rn)});const tt=[];return f.forEach(Rt=>{const rn=Me.get(Rt.toString());Cn(!!rn),tt.push(rn)}),tt}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=dn.fromPath(a);e.mutations.push(new _g(c,e.precondition(c)))}),yield(s=(0,p.Z)(function*(a,c){const f=Qt(a),S=Uc(f.serializer)+"/documents",U={writes:c.map(q=>$c(f.serializer,q))};yield f.po("Commit",S,U)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw en();t=vn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Ut(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vn.min())?is.exists(!1):is.updateTime(t):is.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vn.min()))throw new Ut(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return is.updateTime(t)}return is.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Am{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Fc=s.maxAttempts,this.Lo=new lp(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,p.Z)(function*(){const t=new Tv(e.datastore),s=e.Lc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.qc(c)}))}).catch(a=>{e.qc(a)})}))}Lc(e){try{const t=this.updateFunction(e);return!ba(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cg(t)}return!1}}class zp{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=me.UNAUTHENTICATED,this.clientId=Du.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,p.Z)(function*(S){Et("FirestoreClient","Received user=",S.uid),yield c.authCredentialListener(S),c.user=S});return function(S){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Et("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Qc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function qd(r,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,p.Z)(function*(c){s.isEqual(c)||(yield im(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Yh.apply(this,arguments)}function Qh(r,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Xh(r);Et("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Cp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>Cp(e.remoteStore,c)),r._onlineComponents=e}),Jh.apply(this,arguments)}function Gp(r){return"FirebaseError"===r.name?r.code===pt.FAILED_PRECONDITION||r.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Xh(r){return ef.apply(this,arguments)}function ef(){return ef=(0,p.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Et("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Gp(t))throw t;si("Error using user provided cache. Falling back to memory cache: "+t),yield qd(r,new sd)}}else Et("FirestoreClient","Using default OfflineComponentProvider"),yield qd(r,new sd);return r._offlineComponents}),ef.apply(this,arguments)}function Zd(r){return od.apply(this,arguments)}function od(){return od=(0,p.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Et("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qh(r,r._uninitializedComponentsProvider._online)):(Et("FirestoreClient","Using default OnlineComponentProvider"),yield Qh(r,new yc))),r._onlineComponents}),od.apply(this,arguments)}function fl(r){return Xh(r).then(e=>e.persistence)}function tf(r){return Xh(r).then(e=>e.localStore)}function Mm(r){return Zd(r).then(e=>e.remoteStore)}function Yd(r){return Zd(r).then(e=>e.syncEngine)}function Wl(r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,p.Z)(function*(r){const e=yield Zd(r),t=e.eventManager;return t.onListen=Vh.bind(null,e.syncEngine),t.onUnlisten=_v.bind(null,e.syncEngine),t}),Wp.apply(this,arguments)}function xm(r,e,t={}){const s=new Bi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,S,U){const q=new Zh({next:Me=>{c.enqueueAndForget(()=>$d(a,se));const tt=Me.docs.has(f);!tt&&Me.fromCache?U.reject(new Ut(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&Me.fromCache&&S&&"server"===S.source?U.reject(new Ut(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Me)},error:Me=>U.reject(Me)}),se=new Pp(tc(f.path),q,{includeMetadataChanges:!0,Uu:!0});return Sp(a,se)}(yield Wl(r),r.asyncQueue,e,t,s)})),s.promise}function qp(r,e,t={}){const s=new Bi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,S,U){const q=new Zh({next:Me=>{c.enqueueAndForget(()=>$d(a,se)),Me.fromCache&&"server"===S.source?U.reject(new Ut(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Me)},error:Me=>U.reject(Me)}),se=new Pp(f,q,{includeMetadataChanges:!0,Uu:!0});return Sp(a,se)}(yield Wl(r),r.asyncQueue,e,t,s)})),s.promise}const Rm=new Map;function nf(r,e,t){if(!t)throw new Ut(pt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Om(r,e,t,s){if(!0===e&&!0===s)throw new Ut(pt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Zp(r){if(!dn.isDocumentKey(r))throw new Ut(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yp(r){if(dn.isDocumentKey(r))throw new Ut(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pl(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":en()}function ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ut(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pl(r);throw new Ut(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Nm(r,e){if(e<=0)throw new Ut(pt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Qp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Om("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Cu;switch(t.type){case"firstParty":return new Uu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ut(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rm.get(e);t&&(Et("ComponentProvider","Removing Datastore"),Rm.delete(e),t.terminate())}(this),Promise.resolve()}}function Jp(r,e,t,s={}){var a;const c=(r=ui(r,Qd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&si("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,S;if("string"==typeof s.mockUserToken)f=s.mockUserToken,S=me.MOCK_USER;else{f=(0,Ce.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Ut(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new me(U)}r._authCredentials=new Vu(new Ba(f,S))}}class yo{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yo(this.firestore,e,this._key)}}class na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class bu extends na{constructor(e,t,s){super(e,t,tc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yo(this.firestore,null,new dn(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function Qu(r,e,...t){if(r=(0,Ce.m9)(r),nf("collection","path",e),r instanceof Qd){const s=Zn.fromString(e,...t);return Yp(s),new bu(r,null,s)}{if(!(r instanceof yo||r instanceof bu))throw new Ut(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zn.fromString(e,...t));return Yp(s),new bu(r.firestore,null,s)}}function xv(r,e){if(r=ui(r,Qd),nf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ut(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new na(r,null,(t=e,new Sa(Zn.emptyPath(),t)));var t}function km(r,e,...t){if(r=(0,Ce.m9)(r),1===arguments.length&&(e=Du.A()),nf("doc","path",e),r instanceof Qd){const s=Zn.fromString(e,...t);return Zp(s),new yo(r,null,new dn(s))}{if(!(r instanceof yo||r instanceof bu))throw new Ut(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zn.fromString(e,...t));return Zp(s),new yo(r.firestore,r instanceof bu?r.converter:null,new dn(s))}}function Ju(r,e){return r=(0,Ce.m9)(r),e=(0,Ce.m9)(e),(r instanceof yo||r instanceof bu)&&(e instanceof yo||e instanceof bu)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function au(r,e){return r=(0,Ce.m9)(r),e=(0,Ce.m9)(e),r instanceof na&&e instanceof na&&r.firestore===e.firestore&&tn(r._query,e._query)&&r.converter===e.converter}class Fu{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new lp(this,"async_queue_retry"),this.Yc=()=>{const t=Ph();t&&Et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Bi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,p.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!la(t))throw t;Et("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=vm.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&en()}verifyOperationInProgress(){}na(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function rf(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Fm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Pv=-1;class Ds extends Qd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Fu,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ad(this),this._firestoreClient.terminate()}}function Rv(r,e){const t="object"==typeof r?r:(0,E.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,E._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,Ce.P0)("firestore");c&&Jp(a,...c)}return a}function qs(r){return r._firestoreClient||ad(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ad(r){var e,t,s;const a=r._freezeSettings(),c=(S=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new sl(r._databaseId,S,r._persistenceKey,(q=a).host,q.ssl,q.experimentalForceLongPolling,q.experimentalAutoDetectLongPolling,q.useFetchStreams));var S,q;r._firestoreClient=new zp(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Ov(r,e){af(r=ui(r,Ds));const t=qs(r);if(t._uninitializedComponentsProvider)throw new Ut(pt.FAILED_PRECONDITION,"SDK cache is already specified.");si("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new yc;return Vm(t,a,new qh(a,s.cacheSizeBytes,e?.forceOwnership))}function Lm(r){af(r=ui(r,Ds));const e=qs(r);if(e._uninitializedComponentsProvider)throw new Ut(pt.FAILED_PRECONDITION,"SDK cache is already specified.");si("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new yc;return Vm(e,s,new jp(s,t.cacheSizeBytes))}function Vm(r,e,t){const s=new Bi;return r.asyncQueue.enqueue((0,p.Z)(function*(){try{yield qd(r,t),yield Qh(r,e),s.resolve()}catch(a){const c=a;if(!Gp(c))throw c;si("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Nv(r){if(r._initialized&&!r._terminated)throw new Ut(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Bi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(s){if(!To.D())return Promise.resolve();const a=s+"main";yield To.delete(a)}),function(s){return t.apply(this,arguments)})(qc(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Um(r){return function(e){const t=new Bi;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function rd(r,e){return jl.apply(this,arguments)}(yield Yd(e),t)})),t.promise}(qs(r=ui(r,Ds)))}function Bm(r){return function Kp(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield fl(r),t=yield Mm(r);return e.setNetworkEnabled(!0),function(s){const a=Qt(s);return a.Au.delete(0),Fd(a)}(t)}))}(qs(r=ui(r,Ds)))}function sf(r){return function G_(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield fl(r),t=yield Mm(r);return e.setNetworkEnabled(!1),(s=(0,p.Z)(function*(a){const c=Qt(a);c.Au.add(0),yield kl(c),c.Pu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(qs(r=ui(r,Ds)))}function $m(r,e){const t=qs(r=ui(r,Ds)),s=new Fm;return function zo(r,e,t,s){const a=function(c,f){let S;return S="string"==typeof c?Fc().encode(c):c,U=function(U,q){if(U instanceof Uint8Array)return Hp(U,q);if(U instanceof ArrayBuffer)return Hp(new Uint8Array(U),q);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new Dv(U,f);var U}(t,_a(e));r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function $p(r,e,t){const s=Qt(r);var a;(a=(0,p.Z)(function*(c,f,S){try{const U=yield f.getMetadata();if(yield function(tt,Rt){const rn=Qt(tt),wn=mo(Rt.createTime);return rn.persistence.runTransaction("hasNewerBundle","readonly",Kn=>rn.Ls.getBundleMetadata(Kn,Rt.id)).then(Kn=>!!Kn&&Kn.createTime.compareTo(wn)>=0)}(c.localStore,U))return yield f.close(),S._completeWith({taskState:"Success",documentsLoaded:(tt=U).totalDocuments,bytesLoaded:tt.totalBytes,totalDocuments:tt.totalDocuments,totalBytes:tt.totalBytes}),Promise.resolve(new Set);S._updateProgress(Em(U));const q=new vv(U,c.localStore,f.serializer);let se=yield f.Pc();for(;se;){const tt=yield q.ju(se);tt&&S._updateProgress(tt),se=yield f.Pc()}const Me=yield q.complete();return yield Yu(c,Me.Hu,void 0),yield function(tt,Rt){const rn=Qt(tt);return rn.persistence.runTransaction("Save bundle","readwrite",wn=>rn.Ls.saveBundleMetadata(wn,Rt))}(c.localStore,U),S._completeWith(Me.progress),Promise.resolve(Me.Wu)}catch(U){return si("SyncEngine",`Loading bundle failed with ${U}`),S._failWith(U),Promise.resolve(new Set)}var tt}),function(c,f,S){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Yd(r),a,s)}))}(t,r._databaseId,e,s),s}function jm(r,e){return function Pm(r,e){return r.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,s){const a=Qt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ls.getNamedQuery(c,s))}(yield tf(r),e)}))}(qs(r=ui(r,Ds)),e).then(t=>t?new na(r,null,t.query):null)}function af(r){if(r._initialized||r._terminated)throw new Ut(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(Rs.fromBase64String(e))}catch(t){throw new Ut(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(Rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ut(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ql{constructor(e){this._methodName=e}}class Jd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ur(this._lat,e._lat)||ur(this._long,e._long)}}const zm=/^__.*__$/;class Gm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oc(e,this.data,t,this.fieldTransforms)}}class Wm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ul(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Km(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class uf{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return th(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Km(this.ua)&&zm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_a(e)}ga(e,t,s,a=!1){return new uf({ua:e,methodName:t,ma:s,path:hi.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vc(r){const e=r._freezeSettings(),t=_a(r._databaseId);return new Fv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lf(r,e,t,s,a,c={}){const f=r.ga(c.merge||c.mergeFields?2:0,e,t,a);cf("Data must be an object, but it was:",f,s);const S=Ym(s,f);let U,q;if(c.merge)U=new Ho(f.fieldMask),q=f.fieldTransforms;else if(c.mergeFields){const se=[];for(const Me of c.mergeFields){const tt=ud(e,Me,t);if(!f.contains(tt))throw new Ut(pt.INVALID_ARGUMENT,`Field '${tt}' is specified in your field mask but missing from your input data.`);ng(se,tt)||se.push(tt)}U=new Ho(se),q=f.fieldTransforms.filter(Me=>U.covers(Me.field))}else U=null,q=f.fieldTransforms;return new Gm(new tr(S),U,q)}class Xd extends ql{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function qm(r,e,t){return new uf({ua:3,ma:e.settings.ma,methodName:r._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xp extends ql{_toFieldTransform(e){return new ic(e.path,new rc)}isEqual(e){return e instanceof Xp}}class Lv extends ql{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=qm(this,e,!0),s=this.ya.map(c=>_c(c,t)),a=new Gu(s);return new ic(e.path,a)}isEqual(e){return this===e}}class Vv extends ql{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=qm(this,e,!0),s=this.ya.map(c=>_c(c,t)),a=new mu(s);return new ic(e.path,a)}isEqual(e){return this===e}}class Uv extends ql{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new xc(e.serializer,Df(e.serializer,this.pa));return new ic(e.path,t)}isEqual(e){return this===e}}function eg(r,e,t,s){const a=r.ga(1,e,t);cf("Data must be an object, but it was:",a,s);const c=[],f=tr.empty();fa(s,(U,q)=>{const se=eh(e,U,t);q=(0,Ce.m9)(q);const Me=a.fa(se);if(q instanceof Xd)c.push(se);else{const tt=_c(q,Me);null!=tt&&(c.push(se),f.set(se,tt))}});const S=new Ho(c);return new Wm(f,S,a.fieldTransforms)}function tg(r,e,t,s,a,c){const f=r.ga(1,e,t),S=[ud(e,s,t)],U=[a];if(c.length%2!=0)throw new Ut(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let tt=0;tt<c.length;tt+=2)S.push(ud(e,c[tt])),U.push(c[tt+1]);const q=[],se=tr.empty();for(let tt=S.length-1;tt>=0;--tt)if(!ng(q,S[tt])){const Rt=S[tt];let rn=U[tt];rn=(0,Ce.m9)(rn);const wn=f.fa(Rt);if(rn instanceof Xd)q.push(Rt);else{const Kn=_c(rn,wn);null!=Kn&&(q.push(Rt),se.set(Rt,Kn))}}const Me=new Ho(q);return new Wm(se,Me,f.fieldTransforms)}function Zm(r,e,t,s=!1){return _c(t,r.ga(s?4:3,e))}function _c(r,e){if(Qm(r=(0,Ce.m9)(r)))return cf("Unsupported field value:",e,r),Ym(r,e);if(r instanceof ql)return function(t,s){if(!Km(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let S=_c(f,s.da(c));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,Ce.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Df(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=mi.fromDate(t);return{timestampValue:Vc(s.serializer,a)}}if(t instanceof mi){const a=new mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vc(s.serializer,a)}}if(t instanceof Jd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gl)return{bytesValue:go(s.serializer,t._byteString)};if(t instanceof yo){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yd(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${pl(t)}`)}(r,e)}function Ym(r,e){const t={};return El(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(r,(s,a)=>{const c=_c(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Qm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof mi||r instanceof Jd||r instanceof gl||r instanceof yo||r instanceof ql)}function cf(r,e,t){if(!Qm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=pl(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ud(r,e,t){if((e=(0,Ce.m9)(e))instanceof ml)return e._internalPath;if("string"==typeof e)return eh(r,e);throw th("Field path arguments must be of type string or ",r,!1,void 0,t)}const Jm=new RegExp("[~\\*/\\[\\]]");function eh(r,e,t){if(e.search(Jm)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ml(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function th(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let U="";return(c||f)&&(U+=" (found",c&&(U+=` in field ${s}`),f&&(U+=` in document ${a}`),U+=")"),new Ut(pt.INVALID_ARGUMENT,S+r+U)}function ng(r,e){return r.some(t=>t.isEqual(e))}class ld{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xm extends ld{data(){return super.data()}}function nh(r,e){return"string"==typeof e?eh(r,e):e instanceof ml?e._internalPath:e._delegate._internalPath}function rg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ut(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class Lu extends df{}function Bv(r,e,...t){let s=[];e instanceof df&&s.push(e),s=s.concat(t),function(a){const c=a.filter(S=>S instanceof ih).length,f=a.filter(S=>S instanceof rh).length;if(c>1||c>0&&f>0)throw new Ut(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class rh extends Lu{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new rh(e,t,s)}_apply(e){const t=this._parse(e);return og(e._query,t),new na(e.firestore,e.converter,We(e._query,t))}_parse(e){const t=vc(e.firestore);return function(a,c,f,S,U,q,se){let Me;if(U.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new Ut(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){sg(se,q);const tt=[];for(const Rt of se)tt.push(Hv(S,a,Rt));Me={arrayValue:{values:tt}}}else Me=Hv(S,a,se)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||sg(se,q),Me=Zm(f,"where",se,"in"===q||"not-in"===q);return xe.create(U,q,Me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function cd(r,e,t){const s=e,a=nh("where",r);return rh._create(a,s,t)}class ih extends df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ih(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ye.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const S of f)og(c,S),c=We(c,S)}(e._query,t),new na(e.firestore,e.converter,We(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hf extends Lu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hf(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Ut(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ut(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new z(a,c);return function(S,U){if(null===d(S)){const q=g(S);null!==q&&ny(0,q,U.field)}}(s,f),f}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Sa(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function ty(r,e="asc"){const t=e,s=nh("orderBy",r);return hf._create(s,t)}class ig extends Lu{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new ig(e,t,s)}_apply(e){return new na(e.firestore,e.converter,mt(e._query,this._limit,this._limitType))}}function Er(r){return Nm("limit",r),ig._create("limit",r,"F")}function $v(r){return Nm("limitToLast",r),ig._create("limitToLast",r,"L")}class ff extends Lu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ff(e,t,s)}_apply(e){const t=Zs(e,this.type,this._docOrFields,this._inclusive);return new na(e.firestore,e.converter,(a=t,new Sa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function jv(...r){return ff._create("startAt",r,!0)}function dd(...r){return ff._create("startAfter",r,!1)}class pf extends Lu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new pf(e,t,s)}_apply(e){const t=Zs(e,this.type,this._docOrFields,this._inclusive);return new na(e.firestore,e.converter,(a=t,new Sa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function gf(...r){return pf._create("endBefore",r,!1)}function mf(...r){return pf._create("endAt",r,!0)}function Zs(r,e,t,s){if(t[0]=(0,Ce.m9)(t[0]),t[0]instanceof ld)return function(a,c,f,S,U){if(!S)throw new Ut(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const q=[];for(const se of Y(a))if(se.field.isKeyField())q.push($(c,S.key));else{const Me=S.data.field(se.field);if(Il(Me))throw new Ut(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Me){const tt=se.field.canonicalString();throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tt}' (used as the orderBy) does not exist.`)}q.push(Me)}return new nr(q,U)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=vc(r.firestore);return function(c,f,S,U,q,se){const Me=c.explicitOrderBy;if(q.length>Me.length)throw new Ut(pt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tt=[];for(let Rt=0;Rt<q.length;Rt++){const rn=q[Rt];if(Me[Rt].field.isKeyField()){if("string"!=typeof rn)throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof rn}`);if(!T(c)&&-1!==rn.indexOf("/"))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${rn}' contains a slash.`);const wn=c.path.child(Zn.fromString(rn));if(!dn.isDocumentKey(wn))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${wn}' is not because it contains an odd number of segments.`);const Kn=new dn(wn);tt.push($(f,Kn))}else{const wn=Zm(S,U,rn);tt.push(wn)}}return new nr(tt,se)}(r._query,r.firestore._databaseId,a,e,t,s)}}function Hv(r,e,t){if("string"==typeof(t=(0,Ce.m9)(t))){if(""===t)throw new Ut(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T(e)&&-1!==t.indexOf("/"))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Zn.fromString(t));if(!dn.isDocumentKey(s))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $(r,new dn(s))}if(t instanceof yo)return $(r,t._key);throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pl(t)}.`)}function sg(r,e){if(!Array.isArray(r)||0===r.length)throw new Ut(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function og(r,e){if(e.isInequality()){const s=g(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=d(r);null!==c&&ny(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ut(pt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ny(r,e,t){if(!t.isEqual(e))throw new Ut(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class yf{convertValue(e,t="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return fa(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Jd(rs(e.latitude),rs(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=su(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=qa(e);return new mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Zn.fromString(e);Cn(vh(s));const a=new Ra(s.get(1),s.get(3)),c=new dn(s.popFirst(5));return a.isEqual(t)||Or(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function sh(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class ry extends yf{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yo(this.firestore,null,t)}}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ec extends ld{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(nh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Zl extends Ec{data(e={}){return super.data(e)}}class Yl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Zl(this._firestore,this._userDataWriter,s.key,s,new wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Zl(s._firestore,s._userDataWriter,f.doc.key,f.doc,new wc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const S=new Zl(s._firestore,s._userDataWriter,f.doc.key,f.doc,new wc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,q=-1;return 0!==f.type&&(U=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),q=c.indexOf(f.doc.key)),{type:iy(f.type),doc:S,oldIndex:U,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iy(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function sy(r,e){return r instanceof Ec&&e instanceof Ec?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Yl&&e instanceof Yl&&r._firestore===e._firestore&&au(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Gv(r){r=ui(r,yo);const e=ui(r.firestore,Ds);return xm(qs(e),r._key).then(t=>cy(e,r,t))}class Iu extends yf{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yo(this.firestore,null,t)}}function oh(r){r=ui(r,yo);const e=ui(r.firestore,Ds),t=qs(e),s=new Iu(e);return function W_(r,e){const t=new Bi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const S=yield function(U,q){const se=Qt(U);return se.persistence.runTransaction("read document","readonly",Me=>se.localDocuments.getDocument(Me,q))}(a,c);S.isFoundDocument()?f.resolve(S):S.isNoDocument()?f.resolve(null):f.reject(new Ut(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const U=Qc(S,`Failed to get document '${c} from cache`);f.reject(U)}}),function(a,c,f){return s.apply(this,arguments)})(yield tf(r),e,t);var s})),t.promise}(t,r._key).then(a=>new Ec(e,s,r._key,a,new wc(null!==a&&a.hasLocalMutations,!0),r.converter))}function Wv(r){r=ui(r,yo);const e=ui(r.firestore,Ds);return xm(qs(e),r._key,{source:"server"}).then(t=>cy(e,r,t))}function Kv(r){r=ui(r,na);const e=ui(r.firestore,Ds),t=qs(e),s=new Iu(e);return rg(r._query),qp(t,r._query).then(a=>new Yl(e,s,r,a))}function qv(r){r=ui(r,na);const e=ui(r.firestore,Ds),t=qs(e),s=new Iu(e);return function Sv(r,e){const t=new Bi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const S=yield Dh(a,c,!0),U=new bm(c,S.sr),q=U.nc(S.documents),se=U.applyChanges(q,!1);f.resolve(se.snapshot)}catch(S){const U=Qc(S,`Failed to execute query '${c} against cache`);f.reject(U)}}),function(a,c,f){return s.apply(this,arguments)})(yield tf(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Yl(e,s,r,a))}function oy(r){r=ui(r,na);const e=ui(r.firestore,Ds),t=qs(e),s=new Iu(e);return qp(t,r._query,{source:"server"}).then(a=>new Yl(e,s,r,a))}function ay(r,e,t){r=ui(r,yo);const s=ui(r.firestore,Ds),a=sh(r.converter,e,t);return ah(s,[lf(vc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,is.none())])}function uy(r,e,t,...s){r=ui(r,yo);const a=ui(r.firestore,Ds),c=vc(a);let f;return f="string"==typeof(e=(0,Ce.m9)(e))||e instanceof ml?tg(c,"updateDoc",r._key,e,t,s):eg(c,"updateDoc",r._key,e),ah(a,[f.toMutation(r._key,is.exists(!0))])}function Zv(r){return ah(ui(r.firestore,Ds),[new kc(r._key,is.none())])}function ly(r,e){const t=ui(r.firestore,Ds),s=km(r),a=sh(r.converter,e);return ah(t,[lf(vc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,is.exists(!1))]).then(()=>s)}function Yv(r,...e){var t,s,a;r=(0,Ce.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||rf(e[f])||(c=e[f],f++);const S={includeMetadataChanges:c.includeMetadataChanges};if(rf(e[f])){const Me=e[f];e[f]=null===(t=Me.next)||void 0===t?void 0:t.bind(Me),e[f+1]=null===(s=Me.error)||void 0===s?void 0:s.bind(Me),e[f+2]=null===(a=Me.complete)||void 0===a?void 0:a.bind(Me)}let U,q,se;if(r instanceof yo)q=ui(r.firestore,Ds),se=tc(r._key.path),U={next:Me=>{e[f]&&e[f](cy(q,r,Me))},error:e[f+1],complete:e[f+2]};else{const Me=ui(r,na);q=ui(Me.firestore,Ds),se=Me._query;const tt=new Iu(q);U={next:Rt=>{e[f]&&e[f](new Yl(q,tt,Me,Rt))},error:e[f+1],complete:e[f+2]},rg(r._query)}return function(Me,tt,Rt,rn){const wn=new Zh(rn),Kn=new Pp(tt,wn,Rt);return Me.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Sp(yield Wl(Me),Kn)})),()=>{wn.Sc(),Me.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return $d(yield Wl(Me),Kn)}))}}(qs(q),se,S,U)}function Qv(r,e){return function Av(r,e){const t=new Zh(e);return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Wl(r),a=t,Qt(s).Nu.add(a),void a.next();var s,a})),()=>{t.Sc(),r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Wl(r),a=t,void Qt(s).Nu.delete(a);var s,a}))}}(qs(r=ui(r,Ds)),rf(e)?e:{next:e})}function ah(r,e){return function(t,s){const a=new Bi;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Hd(r,e,t){return ta.apply(this,arguments)}(yield Yd(t),s,a)})),a.promise}(qs(r),e)}function cy(r,e,t){const s=t.docs.get(e._key),a=new Iu(r);return new Ec(r,a,e._key,s,new wc(t.hasPendingWrites,t.fromCache),e.converter)}const hy={maxAttempts:5};class fy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vc(e)}set(e,t,s){this._verifyNotCommitted();const a=Ql(e,this._firestore),c=sh(a.converter,t,s),f=lf(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,is.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Ql(e,this._firestore);let f;return f="string"==typeof(t=(0,Ce.m9)(t))||t instanceof ml?tg(this._dataReader,"WriteBatch.update",c._key,t,s,a):eg(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,is.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ql(e,this._firestore);return this._mutations=this._mutations.concat(new kc(t._key,is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ql(r,e){if((r=(0,Ce.m9)(r)).firestore!==e)throw new Ut(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class uh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vc(e)}get(e){const t=Ql(e,this._firestore),s=new ry(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return en();const c=a[0];if(c.isFoundDocument())return new ld(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new ld(this._firestore,s,t._key,null,t.converter);throw en()})}set(e,t,s){const a=Ql(e,this._firestore),c=sh(a.converter,t,s),f=lf(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const c=Ql(e,this._firestore);let f;return f="string"==typeof(t=(0,Ce.m9)(t))||t instanceof ml?tg(this._dataReader,"Transaction.update",c._key,t,s,a):eg(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=Ql(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ql(e,this._firestore),s=new Iu(this._firestore);return super.get(e).then(a=>new Ec(this._firestore,s,t._key,a._document,new wc(!1,!1),t.converter))}}function r_(r,e,t){r=ui(r,Ds);const s=Object.assign(Object.assign({},hy),t);return function(a){if(a.maxAttempts<1)throw new Ut(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,f){const S=new Bi;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const U=yield function Gl(r){return Zd(r).then(e=>e.datastore)}(a);new Am(a.asyncQueue,U,f,c,S).run()})),S.promise}(qs(r),a=>e(new uh(r,a)),s)}function py(){return new Xd("deleteField")}function i_(){return new Xp("serverTimestamp")}function gy(...r){return new Lv("arrayUnion",r)}function s_(...r){return new Vv("arrayRemove",r)}function my(r){return new Uv("increment",r)}!function(r,e=!0){et=E.SDK_VERSION,(0,E._registerComponent)(new G.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Ds(new Uo(t.getProvider("auth-internal")),new vl(t.getProvider("app-check-internal")),function(S,U){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Ut(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(S.options.projectId,U)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,E.registerVersion)(Z,"3.11.0",r),(0,E.registerVersion)(Z,"3.11.0","esm2017")}()},2090:(ln,je,j)=>{"use strict";j.d(je,{$s:()=>be,BH:()=>it,G6:()=>_t,L:()=>Qe,LL:()=>yn,P0:()=>Lt,Pz:()=>Pe,Sg:()=>At,UG:()=>bt,US:()=>Be,ZB:()=>ke,ZR:()=>pn,aH:()=>_e,b$:()=>Wt,eu:()=>Pt,hl:()=>$t,jU:()=>fn,m9:()=>vt,ne:()=>bn,pd:()=>ai,r3:()=>sr,ru:()=>Vt,tV:()=>pe,uI:()=>ze,vZ:()=>un,w1:()=>st,xO:()=>or,xb:()=>pr,z$:()=>ht,zI:()=>jt,zd:()=>qr});const Te=function(ge){const he=[];let ee=0;for(let ne=0;ne<ge.length;ne++){let J=ge.charCodeAt(ne);J<128?he[ee++]=J:J<2048?(he[ee++]=J>>6|192,he[ee++]=63&J|128):55296==(64512&J)&&ne+1<ge.length&&56320==(64512&ge.charCodeAt(ne+1))?(J=65536+((1023&J)<<10)+(1023&ge.charCodeAt(++ne)),he[ee++]=J>>18|240,he[ee++]=J>>12&63|128,he[ee++]=J>>6&63|128,he[ee++]=63&J|128):(he[ee++]=J>>12|224,he[ee++]=J>>6&63|128,he[ee++]=63&J|128)}return he},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,he){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let J=0;J<ge.length;J+=3){const Se=ge[J],ye=J+1<ge.length,ve=ye?ge[J+1]:0,le=J+2<ge.length,Ae=le?ge[J+2]:0;let Yt=(15&ve)<<2|Ae>>6,cn=63&Ae;le||(cn=64,ye||(Yt=64)),ne.push(ee[Se>>2],ee[(3&Se)<<4|ve>>4],ee[Yt],ee[cn])}return ne.join("")},encodeString(ge,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(ge):this.encodeByteArray(Te(ge),he)},decodeString(ge,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(ge):function(ge){const he=[];let ee=0,ne=0;for(;ee<ge.length;){const J=ge[ee++];if(J<128)he[ne++]=String.fromCharCode(J);else if(J>191&&J<224){const Se=ge[ee++];he[ne++]=String.fromCharCode((31&J)<<6|63&Se)}else if(J>239&&J<365){const le=((7&J)<<18|(63&ge[ee++])<<12|(63&ge[ee++])<<6|63&ge[ee++])-65536;he[ne++]=String.fromCharCode(55296+(le>>10)),he[ne++]=String.fromCharCode(56320+(1023&le))}else{const Se=ge[ee++],ye=ge[ee++];he[ne++]=String.fromCharCode((15&J)<<12|(63&Se)<<6|63&ye)}}return he.join("")}(this.decodeStringToByteArray(ge,he))},decodeStringToByteArray(ge,he){this.init_();const ee=he?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let J=0;J<ge.length;){const Se=ee[ge.charAt(J++)],ve=J<ge.length?ee[ge.charAt(J)]:0;++J;const Ae=J<ge.length?ee[ge.charAt(J)]:64;++J;const It=J<ge.length?ee[ge.charAt(J)]:64;if(++J,null==Se||null==ve||null==Ae||null==It)throw new Fe;ne.push(Se<<2|ve>>4),64!==Ae&&(ne.push(ve<<4&240|Ae>>2),64!==It&&ne.push(Ae<<6&192|It))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qe=function(ge){return function(ge){const he=Te(ge);return Be.encodeByteArray(he,!0)}(ge).replace(/\./g,"")},pe=function(ge){try{return Be.decodeString(ge,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function ke(ge,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return he}for(const ee in he)!he.hasOwnProperty(ee)||!gt(ee)||(ge[ee]=ke(ge[ee],he[ee]));return ge}function gt(ge){return"__proto__"!==ge}const wt=()=>{try{return function yt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=ge&&pe(ge[1]);return he&&JSON.parse(he)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},Lt=ge=>{const he=(ge=>{var he,ee;return null===(ee=null===(he=wt())||void 0===he?void 0:he.emulatorHosts)||void 0===ee?void 0:ee[ge]})(ge);if(!he)return;const ee=he.lastIndexOf(":");if(ee<=0||ee+1===he.length)throw new Error(`Invalid host ${he} with no separate hostname and port!`);const ne=parseInt(he.substring(ee+1),10);return"["===he[0]?[he.substring(1,ee-1),ne]:[he.substring(0,ee),ne]},_e=()=>{var ge;return null===(ge=wt())||void 0===ge?void 0:ge.config},Pe=ge=>{var he;return null===(he=wt())||void 0===he?void 0:he[`_${ge}`]};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,ee)=>{this.resolve=he,this.reject=ee})}wrapCallback(he){return(ee,ne)=>{ee?this.reject(ee):this.resolve(ne),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(ee):he(ee,ne))}}}function At(ge,he){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=he||"demo-project",J=ge.iat||0,Se=ge.sub||ge.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:J,exp:J+3600,auth_time:J,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(ye)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function bt(){var ge;const he=null===(ge=wt())||void 0===ge?void 0:ge.forceEnvironment;if("node"===he)return!0;if("browser"===he)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fn(){return"object"==typeof self&&self.self===self}function Vt(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function Wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){const ge=ht();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function _t(){return!bt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $t(){try{return"object"==typeof indexedDB}catch{return!1}}function Pt(){return new Promise((ge,he)=>{try{let ee=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ne);J.onsuccess=()=>{J.result.close(),ee||self.indexedDB.deleteDatabase(ne),ge(!0)},J.onupgradeneeded=()=>{ee=!1},J.onerror=()=>{var Se;he((null===(Se=J.error)||void 0===Se?void 0:Se.message)||"")}}catch(ee){he(ee)}})}function jt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor(he,ee,ne){super(ee),this.code=he,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(he,ee,ne){this.service=he,this.serviceName=ee,this.errors=ne}create(he,...ee){const ne=ee[0]||{},J=`${this.service}/${he}`,Se=this.errors[he],ye=Se?function Dn(ge,he){return ge.replace(nn,(ee,ne)=>{const J=he[ne];return null!=J?String(J):`<${ne}?>`})}(Se,ne):"Error";return new pn(J,`${this.serviceName}: ${ye} (${J}).`,ne)}}const nn=/\{\$([^}]+)}/g;function sr(ge,he){return Object.prototype.hasOwnProperty.call(ge,he)}function pr(ge){for(const he in ge)if(Object.prototype.hasOwnProperty.call(ge,he))return!1;return!0}function un(ge,he){if(ge===he)return!0;const ee=Object.keys(ge),ne=Object.keys(he);for(const J of ee){if(!ne.includes(J))return!1;const Se=ge[J],ye=he[J];if(Fn(Se)&&Fn(ye)){if(!un(Se,ye))return!1}else if(Se!==ye)return!1}for(const J of ne)if(!ee.includes(J))return!1;return!0}function Fn(ge){return null!==ge&&"object"==typeof ge}function or(ge){const he=[];for(const[ee,ne]of Object.entries(ge))Array.isArray(ne)?ne.forEach(J=>{he.push(encodeURIComponent(ee)+"="+encodeURIComponent(J))}):he.push(encodeURIComponent(ee)+"="+encodeURIComponent(ne));return he.length?"&"+he.join("&"):""}function qr(ge){const he={};return ge.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[J,Se]=ne.split("=");he[decodeURIComponent(J)]=decodeURIComponent(Se)}}),he}function ai(ge){const he=ge.indexOf("?");if(!he)return"";const ee=ge.indexOf("#",he);return ge.substring(he,ee>0?ee:void 0)}function bn(ge,he){const ee=new Xt(ge,he);return ee.subscribe.bind(ee)}class Xt{constructor(he,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{he(this)}).catch(ne=>{this.error(ne)})}next(he){this.forEachObserver(ee=>{ee.next(he)})}error(he){this.forEachObserver(ee=>{ee.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,ee,ne){let J;if(void 0===he&&void 0===ee&&void 0===ne)throw new Error("Missing Observer.");J=function dr(ge,he){if("object"!=typeof ge||null===ge)return!1;for(const ee of he)if(ee in ge&&"function"==typeof ge[ee])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:ee,complete:ne},void 0===J.next&&(J.next=Ir),void 0===J.error&&(J.error=Ir),void 0===J.complete&&(J.complete=Ir);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Se}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,he)}sendOne(he,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{ee(this.observers[he])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}const Vn=1e3,hr=2,gr=144e5,nt=.5;function be(ge,he=Vn,ee=hr){const ne=he*Math.pow(ee,ge),J=Math.round(nt*ne*(Math.random()-.5)*2);return Math.min(gr,ne+J)}function vt(ge){return ge&&ge._delegate?ge._delegate:ge}},1197:(ln,je,j)=>{"use strict";j.d(je,{b:()=>p});class p{constructor(G,Te){this.mail=G,this.clave=Te}limpiar(){this.clave="",this.mail=""}}},1649:(ln,je,j)=>{"use strict";j.d(je,{j:()=>ut});var p=j(4004),E=j(4650),G=j(4986),Te=j(9751),Ce=j(8996),Be=j(9646),Fe=j(4976),we=j(8675),Qe=j(4482),pe=j(5403);function De(){return(0,Qe.e)((ce,H)=>{let ae,Oe=!1;ce.subscribe((0,pe.x)(H,dt=>{const Tt=ae;ae=dt,Oe&&H.next([Tt,dt]),Oe=!0}))})}var ke=j(5026),gt=j(4671);function kt(ce,H){return ce===H}var Bt=j(9300),qe=j(2011),wt=j(6895),Lt=(j(9568),j(3942)),_e=j(2810),Pe=j(2090),it=j(4859);function ze(ce,H){if(void 0===H)return{merge:!1};if(void 0!==H.mergeFields&&void 0!==H.merge)throw new _e.WA("invalid-argument",`Invalid options passed to function ${ce}(): You cannot specify both "merge" and "mergeFields".`);return H}function bt(){if(typeof Uint8Array>"u")throw new _e.WA("unimplemented","Uint8Arrays are not available in this environment.")}function fn(){if(!(0,_e.Me)())throw new _e.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Vt{constructor(H){this._delegate=H}static fromBase64String(H){return fn(),new Vt(_e.Jj.fromBase64String(H))}static fromUint8Array(H){return bt(),new Vt(_e.Jj.fromUint8Array(H))}toBase64(){return fn(),this._delegate.toBase64()}toUint8Array(){return bt(),this._delegate.toUint8Array()}isEqual(H){return this._delegate.isEqual(H._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wt(ce){return function Gt(ce,H){if("object"!=typeof ce||null===ce)return!1;const ae=ce;for(const Oe of H)if(Oe in ae&&"function"==typeof ae[Oe])return!0;return!1}(ce,["next","error","complete"])}class st{enableIndexedDbPersistence(H,ae){return(0,_e.ST)(H._delegate,{forceOwnership:ae})}enableMultiTabIndexedDbPersistence(H){return(0,_e.fH)(H._delegate)}clearIndexedDbPersistence(H){return(0,_e.Fc)(H._delegate)}}class ot{constructor(H,ae,Oe){this._delegate=ae,this._persistenceProvider=Oe,this.INTERNAL={delete:()=>this.terminate()},H instanceof _e.l7||(this._appCompat=H)}get _databaseId(){return this._delegate._databaseId}settings(H){const ae=this._delegate._getSettings();!H.merge&&ae.host!==H.host&&(0,_e.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),H.merge&&delete(H=Object.assign(Object.assign({},ae),H)).merge,this._delegate._setSettings(H)}useEmulator(H,ae,Oe={}){(0,_e.at)(this._delegate,H,ae,Oe)}enableNetwork(){return(0,_e.Ix)(this._delegate)}disableNetwork(){return(0,_e.TF)(this._delegate)}enablePersistence(H){let ae=!1,Oe=!1;return H&&(ae=!!H.synchronizeTabs,Oe=!!H.experimentalForceOwningTab,(0,_e.Wi)("synchronizeTabs",ae,"experimentalForceOwningTab",Oe)),ae?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Oe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,_e.Mx)(this._delegate)}onSnapshotsInSync(H){return(0,_e.sc)(this._delegate,H)}get app(){if(!this._appCompat)throw new _e.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(H){try{return new cr(this,(0,_e.hJ)(this._delegate,H))}catch(ae){throw pn(ae,"collection()","Firestore.collection()")}}doc(H){try{return new Mt(this,(0,_e.JU)(this._delegate,H))}catch(ae){throw pn(ae,"doc()","Firestore.doc()")}}collectionGroup(H){try{return new kn(this,(0,_e.B$)(this._delegate,H))}catch(ae){throw pn(ae,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(H){return(0,_e.i3)(this._delegate,ae=>H(new $t(this,ae)))}batch(){return(0,_e.qY)(this._delegate),new Pt(new _e.PU(this._delegate,H=>(0,_e.GL)(this._delegate,H)))}loadBundle(H){return(0,_e.Pb)(this._delegate,H)}namedQuery(H){return(0,_e.L$)(this._delegate,H).then(ae=>ae?new kn(this,ae):null)}}class ft extends _e.u7{constructor(H){super(),this.firestore=H}convertBytes(H){return new Vt(new _e.Jj(H))}convertReference(H){const ae=this.convertDocumentKey(H,this.firestore._databaseId);return Mt.forKey(ae,this.firestore,null)}}class $t{constructor(H,ae){this._firestore=H,this._delegate=ae,this._userDataWriter=new ft(H)}get(H){const ae=an(H);return this._delegate.get(ae).then(Oe=>new nn(this._firestore,new _e.xU(this._firestore._delegate,this._userDataWriter,Oe._key,Oe._document,Oe.metadata,ae.converter)))}set(H,ae,Oe){const dt=an(H);return Oe?(ze("Transaction.set",Oe),this._delegate.set(dt,ae,Oe)):this._delegate.set(dt,ae),this}update(H,ae,Oe,...dt){const Tt=an(H);return 2===arguments.length?this._delegate.update(Tt,ae):this._delegate.update(Tt,ae,Oe,...dt),this}delete(H){const ae=an(H);return this._delegate.delete(ae),this}}class Pt{constructor(H){this._delegate=H}set(H,ae,Oe){const dt=an(H);return Oe?(ze("WriteBatch.set",Oe),this._delegate.set(dt,ae,Oe)):this._delegate.set(dt,ae),this}update(H,ae,Oe,...dt){const Tt=an(H);return 2===arguments.length?this._delegate.update(Tt,ae):this._delegate.update(Tt,ae,Oe,...dt),this}delete(H){const ae=an(H);return this._delegate.delete(ae),this}commit(){return this._delegate.commit()}}class jt{constructor(H,ae,Oe){this._firestore=H,this._userDataWriter=ae,this._delegate=Oe}fromFirestore(H,ae){const Oe=new _e.$q(this._firestore._delegate,this._userDataWriter,H._key,H._document,H.metadata,null);return this._delegate.fromFirestore(new Sn(this._firestore,Oe),ae??{})}toFirestore(H,ae){return ae?this._delegate.toFirestore(H,ae):this._delegate.toFirestore(H)}static getInstance(H,ae){const Oe=jt.INSTANCES;let dt=Oe.get(H);dt||(dt=new WeakMap,Oe.set(H,dt));let Tt=dt.get(ae);return Tt||(Tt=new jt(H,new ft(H),ae),dt.set(ae,Tt)),Tt}}jt.INSTANCES=new WeakMap;class Mt{constructor(H,ae){this.firestore=H,this._delegate=ae,this._userDataWriter=new ft(H)}static forPath(H,ae,Oe){if(H.length%2!=0)throw new _e.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${H.canonicalString()} has ${H.length}`);return new Mt(ae,new _e.my(ae._delegate,Oe,new _e.Ky(H)))}static forKey(H,ae,Oe){return new Mt(ae,new _e.my(ae._delegate,Oe,H))}get id(){return this._delegate.id}get parent(){return new cr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(H){try{return new cr(this.firestore,(0,_e.hJ)(this._delegate,H))}catch(ae){throw pn(ae,"collection()","DocumentReference.collection()")}}isEqual(H){return(H=(0,Pe.m9)(H))instanceof _e.my&&(0,_e.Eo)(this._delegate,H)}set(H,ae){ae=ze("DocumentReference.set",ae);try{return ae?(0,_e.pl)(this._delegate,H,ae):(0,_e.pl)(this._delegate,H)}catch(Oe){throw pn(Oe,"setDoc()","DocumentReference.set()")}}update(H,ae,...Oe){try{return 1===arguments.length?(0,_e.r7)(this._delegate,H):(0,_e.r7)(this._delegate,H,ae,...Oe)}catch(dt){throw pn(dt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,_e.oe)(this._delegate)}onSnapshot(...H){const ae=yn(H),Oe=Dn(H,dt=>new nn(this.firestore,new _e.xU(this.firestore._delegate,this._userDataWriter,dt._key,dt._document,dt.metadata,this._delegate.converter)));return(0,_e.cf)(this._delegate,ae,Oe)}get(H){let ae;return ae="cache"===H?.source?(0,_e.kl)(this._delegate):"server"===H?.source?(0,_e.Xk)(this._delegate):(0,_e.QT)(this._delegate),ae.then(Oe=>new nn(this.firestore,new _e.xU(this.firestore._delegate,this._userDataWriter,Oe._key,Oe._document,Oe.metadata,this._delegate.converter)))}withConverter(H){return new Mt(this.firestore,this._delegate.withConverter(H?jt.getInstance(this.firestore,H):null))}}function pn(ce,H,ae){return ce.message=ce.message.replace(H,ae),ce}function yn(ce){for(const H of ce)if("object"==typeof H&&!Wt(H))return H;return{}}function Dn(ce,H){var ae,Oe;let dt;return dt=Wt(ce[0])?ce[0]:Wt(ce[1])?ce[1]:"function"==typeof ce[0]?{next:ce[0],error:ce[1],complete:ce[2]}:{next:ce[1],error:ce[2],complete:ce[3]},{next:Tt=>{dt.next&&dt.next(H(Tt))},error:null===(ae=dt.error)||void 0===ae?void 0:ae.bind(dt),complete:null===(Oe=dt.complete)||void 0===Oe?void 0:Oe.bind(dt)}}class nn{constructor(H,ae){this._firestore=H,this._delegate=ae}get ref(){return new Mt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(H){return this._delegate.data(H)}get(H,ae){return this._delegate.get(H,ae)}isEqual(H){return(0,_e.qK)(this._delegate,H._delegate)}}class Sn extends nn{data(H){const ae=this._delegate.data(H);return(0,_e.K9)(void 0!==ae,"Document in a QueryDocumentSnapshot should exist"),ae}}class kn{constructor(H,ae){this.firestore=H,this._delegate=ae,this._userDataWriter=new ft(H)}where(H,ae,Oe){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.ar)(H,ae,Oe)))}catch(dt){throw pn(dt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(H,ae){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Xo)(H,ae)))}catch(Oe){throw pn(Oe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(H){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.b9)(H)))}catch(ae){throw pn(ae,"limit()","Query.limit()")}}limitToLast(H){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.vh)(H)))}catch(ae){throw pn(ae,"limitToLast()","Query.limitToLast()")}}startAt(...H){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.e0)(...H)))}catch(ae){throw pn(ae,"startAt()","Query.startAt()")}}startAfter(...H){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.TQ)(...H)))}catch(ae){throw pn(ae,"startAfter()","Query.startAfter()")}}endBefore(...H){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Lx)(...H)))}catch(ae){throw pn(ae,"endBefore()","Query.endBefore()")}}endAt(...H){try{return new kn(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Wu)(...H)))}catch(ae){throw pn(ae,"endAt()","Query.endAt()")}}isEqual(H){return(0,_e.iE)(this._delegate,H._delegate)}get(H){let ae;return ae="cache"===H?.source?(0,_e.UQ)(this._delegate):"server"===H?.source?(0,_e.zN)(this._delegate):(0,_e.PL)(this._delegate),ae.then(Oe=>new Dr(this.firestore,new _e.W(this.firestore._delegate,this._userDataWriter,this._delegate,Oe._snapshot)))}onSnapshot(...H){const ae=yn(H),Oe=Dn(H,dt=>new Dr(this.firestore,new _e.W(this.firestore._delegate,this._userDataWriter,this._delegate,dt._snapshot)));return(0,_e.cf)(this._delegate,ae,Oe)}withConverter(H){return new kn(this.firestore,this._delegate.withConverter(H?jt.getInstance(this.firestore,H):null))}}class yr{constructor(H,ae){this._firestore=H,this._delegate=ae}get type(){return this._delegate.type}get doc(){return new Sn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dr{constructor(H,ae){this._firestore=H,this._delegate=ae}get query(){return new kn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(H=>new Sn(this._firestore,H))}docChanges(H){return this._delegate.docChanges(H).map(ae=>new yr(this._firestore,ae))}forEach(H,ae){this._delegate.forEach(Oe=>{H.call(ae,new Sn(this._firestore,Oe))})}isEqual(H){return(0,_e.qK)(this._delegate,H._delegate)}}class cr extends kn{constructor(H,ae){super(H,ae),this.firestore=H,this._delegate=ae}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const H=this._delegate.parent;return H?new Mt(this.firestore,H):null}doc(H){try{return new Mt(this.firestore,void 0===H?(0,_e.JU)(this._delegate):(0,_e.JU)(this._delegate,H))}catch(ae){throw pn(ae,"doc()","CollectionReference.doc()")}}add(H){return(0,_e.ET)(this._delegate,H).then(ae=>new Mt(this.firestore,ae))}isEqual(H){return(0,_e.Eo)(this._delegate,H._delegate)}withConverter(H){return new cr(this.firestore,this._delegate.withConverter(H?jt.getInstance(this.firestore,H):null))}}function an(ce){return(0,_e.Cf)(ce,_e.my)}class Jt{constructor(...H){this._delegate=new _e.Lz(...H)}static documentId(){return new Jt(_e.Xb.keyField().canonicalString())}isEqual(H){return(H=(0,Pe.m9)(H))instanceof _e.Lz&&this._delegate._internalPath.isEqual(H._internalPath)}}class sr{constructor(H){this._delegate=H}static serverTimestamp(){const H=(0,_e.Bt)();return H._methodName="FieldValue.serverTimestamp",new sr(H)}static delete(){const H=(0,_e.AK)();return H._methodName="FieldValue.delete",new sr(H)}static arrayUnion(...H){const ae=(0,_e.vr)(...H);return ae._methodName="FieldValue.arrayUnion",new sr(ae)}static arrayRemove(...H){const ae=(0,_e.Ab)(...H);return ae._methodName="FieldValue.arrayRemove",new sr(ae)}static increment(H){const ae=(0,_e.nP)(H);return ae._methodName="FieldValue.increment",new sr(ae)}isEqual(H){return this._delegate.isEqual(H._delegate)}}const Tr={Firestore:ot,GeoPoint:_e.F8,Timestamp:_e.EK,Blob:Vt,Transaction:$t,WriteBatch:Pt,DocumentReference:Mt,DocumentSnapshot:nn,Query:kn,QueryDocumentSnapshot:Sn,QuerySnapshot:Dr,CollectionReference:cr,FieldPath:Jt,FieldValue:sr,setLogLevel:function _t(ce){(0,_e.Ub)(ce)},CACHE_SIZE_UNLIMITED:_e.IX};!function Hn(ce){(function pr(ce,H){ce.INTERNAL.registerComponent(new it.wA("firestore-compat",ae=>{const Oe=ae.getProvider("app-compat").getImmediate(),dt=ae.getProvider("firestore").getImmediate();return H(Oe,dt)},"PUBLIC").setServiceProps(Object.assign({},Tr)))})(ce,(H,ae)=>new ot(H,ae,new st)),ce.registerVersion("@firebase/firestore-compat","0.3.8")}(Lt.Z);var un=j(7579),Fn=j(6451),zn=j(5363),or=j(3900),qr=j(6063);class ai extends un.x{constructor(H=1/0,ae=1/0,Oe=qr.l){super(),this._bufferSize=H,this._windowTime=ae,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ae===1/0,this._bufferSize=Math.max(1,H),this._windowTime=Math.max(1,ae)}next(H){const{isStopped:ae,_buffer:Oe,_infiniteTimeWindow:dt,_timestampProvider:Tt,_windowTime:sn}=this;ae||(Oe.push(H),!dt&&Oe.push(Tt.now()+sn)),this._trimBuffer(),super.next(H)}_subscribe(H){this._throwIfClosed(),this._trimBuffer();const ae=this._innerSubscribe(H),{_infiniteTimeWindow:Oe,_buffer:dt}=this,Tt=dt.slice();for(let sn=0;sn<Tt.length&&!H.closed;sn+=Oe?1:2)H.next(Tt[sn]);return this._checkFinalizedStatuses(H),ae}_trimBuffer(){const{_bufferSize:H,_timestampProvider:ae,_buffer:Oe,_infiniteTimeWindow:dt}=this,Tt=(dt?1:2)*H;if(H<1/0&&Tt<Oe.length&&Oe.splice(0,Oe.length-Tt),!dt){const sn=ae.now();let Pn=0;for(let Xn=1;Xn<Oe.length&&Oe[Xn]<=sn;Xn+=2)Pn=Xn;Pn&&Oe.splice(0,Pn+1)}}}var Mn=j(3099);function bn(ce,H,ae){let Oe,dt=!1;return ce&&"object"==typeof ce?({bufferSize:Oe=1/0,windowTime:H=1/0,refCount:dt=!1,scheduler:ae}=ce):Oe=ce??1/0,(0,Mn.B)({connector:()=>new ai(Oe,H,ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:dt})}var Xt=j(590),St=j(576);function dr(ce,H){return(0,St.m)(H)?(0,or.w)(()=>ce,H):(0,or.w)(()=>ce)}var Ir=j(9468),Cr=j(2313);j(9260);const Sr=new E.OlP("angularfire2.auth.use-emulator"),$n=new E.OlP("angularfire2.auth.settings"),Hr=new E.OlP("angularfire2.auth.tenant-id"),jn=new E.OlP("angularfire2.auth.langugage-code"),Ln=new E.OlP("angularfire2.auth.use-device-language"),Vn=new E.OlP("angularfire.auth.persistence"),hr=(ce,H,ae,Oe,dt,Tt,sn,Pn)=>(0,qe.cc)(`${ce.name}.auth`,"AngularFireAuth",ce.name,()=>{const Xn=H.runOutsideAngular(()=>ce.auth());if(ae&&Xn.useEmulator(...ae),Oe&&(Xn.tenantId=Oe),Xn.languageCode=dt,Tt&&Xn.useDeviceLanguage(),sn)for(const[br,ei]of Object.entries(sn))Xn.settings[br]=ei;return Pn&&Xn.setPersistence(Pn),Xn},[ae,Oe,dt,Tt,sn,Pn]);let gr=(()=>{class ce{constructor(ae,Oe,dt,Tt,sn,Pn,Xn,br,ei,Yi,Ei,Zr){const Ht=new un.x,Rn=(0,Be.of)(void 0).pipe((0,zn.Q)(sn.outsideAngular),(0,or.w)(()=>Tt.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,p.U)(()=>(0,qe.on)(ae,Tt,Oe)),(0,p.U)(wr=>hr(wr,Tt,Pn,br,ei,Yi,Xn,Ei)),bn({bufferSize:1,refCount:!1}));if((0,wt.PM)(dt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{Rn.pipe((0,Xt.P)()).subscribe();const fr=Rn.pipe((0,or.w)(Pr=>Pr.getRedirectResult().then(er=>er,()=>null)),Fe.iC,bn({bufferSize:1,refCount:!1})),li=Rn.pipe((0,or.w)(Pr=>new Te.y(er=>({unsubscribe:Tt.runOutsideAngular(()=>Pr.onAuthStateChanged(He=>er.next(He),He=>er.error(He),()=>er.complete()))})))),kr=Rn.pipe((0,or.w)(Pr=>new Te.y(er=>({unsubscribe:Tt.runOutsideAngular(()=>Pr.onIdTokenChanged(He=>er.next(He),He=>er.error(He),()=>er.complete()))}))));this.authState=fr.pipe(dr(li),(0,Ir.R)(sn.outsideAngular),(0,zn.Q)(sn.insideAngular)),this.user=fr.pipe(dr(kr),(0,Ir.R)(sn.outsideAngular),(0,zn.Q)(sn.insideAngular)),this.idToken=this.user.pipe((0,or.w)(Pr=>Pr?(0,Ce.D)(Pr.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe((0,or.w)(Pr=>Pr?(0,Ce.D)(Pr.getIdTokenResult()):(0,Be.of)(null))),this.credential=(0,Fn.T)(fr,Ht,this.authState.pipe((0,Bt.h)(Pr=>!Pr))).pipe((0,p.U)(Pr=>Pr?.user?Pr:null),(0,Ir.R)(sn.outsideAngular),(0,zn.Q)(sn.insideAngular))}return(0,qe.pX)(this,Rn,Tt,{spy:{apply:(wr,fr,li)=>{(wr.startsWith("signIn")||wr.startsWith("createUser"))&&li.then(kr=>Ht.next(kr))}}})}}return ce.\u0275fac=function(ae){return new(ae||ce)(E.LFG(qe.Dh),E.LFG(qe.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Fe.HU),E.LFG(Sr,8),E.LFG($n,8),E.LFG(Hr,8),E.LFG(jn,8),E.LFG(Ln,8),E.LFG(Vn,8),E.LFG(Cr.nm,8))},ce.\u0275prov=E.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})();function Ve(ce,H){return function be(ce,H=G.z){return new Te.y(ae=>{let Oe;return null!=H?H.schedule(()=>{Oe=ce.onSnapshot({includeMetadataChanges:!0},ae)}):Oe=ce.onSnapshot({includeMetadataChanges:!0},ae),()=>{Oe?.()}})}(ce,H)}function vt(ce,H){return Ve(ce,H).pipe((0,p.U)(ae=>({payload:ae,type:"query"})))}function ge(ce,H){return vt(ce,H).pipe((0,we.O)(void 0),De(),(0,p.U)(([ae,Oe])=>{const dt=Oe.payload.docChanges(),Tt=dt.map(sn=>({type:sn.type,payload:sn}));return ae&&JSON.stringify(ae.payload.metadata)!==JSON.stringify(Oe.payload.metadata)&&Oe.payload.docs.forEach((sn,Pn)=>{const Xn=dt.find(ei=>ei.doc.ref.isEqual(sn.ref)),br=ae?.payload.docs.find(ei=>ei.ref.isEqual(sn.ref));Xn&&JSON.stringify(Xn.doc.metadata)===JSON.stringify(sn.metadata)||!Xn&&br&&JSON.stringify(br.metadata)===JSON.stringify(sn.metadata)||Tt.push({type:"modified",payload:{oldIndex:Pn,newIndex:Pn,type:"modified",doc:sn}})}),Tt}))}function he(ce,H,ae){return ge(ce,ae).pipe((0,ke.R)((Oe,dt)=>function ee(ce,H,ae){return H.forEach(Oe=>{ae.indexOf(Oe.type)>-1&&(ce=function J(ce,H){switch(H.type){case"added":if(!ce[H.newIndex]||!ce[H.newIndex].doc.ref.isEqual(H.doc.ref))return ne(ce,H.newIndex,0,H);break;case"modified":if(null==ce[H.oldIndex]||ce[H.oldIndex].doc.ref.isEqual(H.doc.ref)){if(H.oldIndex!==H.newIndex){const ae=ce.slice();return ae.splice(H.oldIndex,1),ae.splice(H.newIndex,0,H),ae}return ne(ce,H.newIndex,1,H)}break;case"removed":if(ce[H.oldIndex]&&ce[H.oldIndex].doc.ref.isEqual(H.doc.ref))return ne(ce,H.oldIndex,1)}return ce}(ce,Oe))}),ce}(Oe,dt.map(Tt=>Tt.payload),H),[]),function yt(ce,H=gt.y){return ce=ce??kt,(0,Qe.e)((ae,Oe)=>{let dt,Tt=!0;ae.subscribe((0,pe.x)(Oe,sn=>{const Pn=H(sn);(Tt||!ce(dt,Pn))&&(Tt=!1,dt=Pn,Oe.next(sn))}))})}(),(0,p.U)(Oe=>Oe.map(dt=>({type:dt.type,payload:dt}))))}function ne(ce,H,ae,...Oe){const dt=ce.slice();return dt.splice(H,ae,...Oe),dt}function Se(ce){return(!ce||0===ce.length)&&(ce=["added","removed","modified"]),ce}class ye{constructor(H,ae,Oe){this.ref=H,this.query=ae,this.afs=Oe}stateChanges(H){let ae=ge(this.query,this.afs.schedulers.outsideAngular);return H&&H.length>0&&(ae=ae.pipe((0,p.U)(Oe=>Oe.filter(dt=>H.indexOf(dt.type)>-1)))),ae.pipe((0,we.O)(void 0),De(),(0,Bt.h)(([Oe,dt])=>dt.length>0||!Oe),(0,p.U)(([Oe,dt])=>dt),Fe.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ke.R)((ae,Oe)=>[...ae,...Oe],[]))}snapshotChanges(H){const ae=Se(H);return he(this.query,ae,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges(H={}){return vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(ae=>ae.payload.docs.map(Oe=>H.idField?Object.assign(Object.assign({},Oe.data()),{[H.idField]:Oe.id}):Oe.data())),Fe.iC)}get(H){return(0,Ce.D)(this.query.get(H)).pipe(Fe.iC)}add(H){return this.ref.add(H)}doc(H){return new ve(this.ref.doc(H),this.afs)}}class ve{constructor(H,ae){this.ref=H,this.afs=ae}set(H,ae){return this.ref.set(H,ae)}update(H){return this.ref.update(H)}delete(){return this.ref.delete()}collection(H,ae){const Oe=this.ref.collection(H),{ref:dt,query:Tt}=cn(Oe,ae);return new ye(dt,Tt,this.afs)}snapshotChanges(){return function Ot(ce,H){return Ve(ce,H).pipe((0,we.O)(void 0),De(),(0,p.U)(([ae,Oe])=>Oe.exists?ae?.exists?{payload:Oe,type:"modified"}:{payload:Oe,type:"added"}:{payload:Oe,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges(H={}){return this.snapshotChanges().pipe((0,p.U)(({payload:ae})=>H.idField?Object.assign(Object.assign({},ae.data()),{[H.idField]:ae.id}):ae.data()))}get(H){return(0,Ce.D)(this.ref.get(H)).pipe(Fe.iC)}}class le{constructor(H,ae){this.query=H,this.afs=ae}stateChanges(H){return H&&0!==H.length?ge(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(ae=>ae.filter(Oe=>H.indexOf(Oe.type)>-1)),(0,Bt.h)(ae=>ae.length>0),Fe.iC):ge(this.query,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ke.R)((ae,Oe)=>[...ae,...Oe],[]))}snapshotChanges(H){const ae=Se(H);return he(this.query,ae,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges(H={}){return vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(Oe=>Oe.payload.docs.map(dt=>H.idField?Object.assign({[H.idField]:dt.id},dt.data()):dt.data())),Fe.iC)}get(H){return(0,Ce.D)(this.query.get(H)).pipe(Fe.iC)}}const Ae=new E.OlP("angularfire2.enableFirestorePersistence"),Je=new E.OlP("angularfire2.firestore.persistenceSettings"),It=new E.OlP("angularfire2.firestore.settings"),Yt=new E.OlP("angularfire2.firestore.use-emulator");function cn(ce,H=(ae=>ae)){return{query:H(ce),ref:ce}}let ar=(()=>{class ce{constructor(ae,Oe,dt,Tt,sn,Pn,Xn,br,ei,Yi,Ei,Zr,Ht,Rn,wr,fr,li){this.schedulers=Xn;const kr=(0,qe.on)(ae,Pn,Oe),Pr=ei;Yi&&hr(kr,Pn,Ei,Ht,Rn,wr,Zr,fr),[this.firestore,this.persistenceEnabled$]=(0,qe.cc)(`${kr.name}.firestore`,"AngularFirestore",kr.name,()=>{const er=Pn.runOutsideAngular(()=>kr.firestore());if(Tt&&er.settings(Tt),Pr&&er.useEmulator(...Pr),dt&&!(0,wt.PM)(sn)){const He=()=>{try{return(0,Ce.D)(er.enablePersistence(br||void 0).then(()=>!0,()=>!1))}catch(Ue){return typeof console<"u"&&console.warn(Ue),(0,Be.of)(!1)}};return[er,Pn.runOutsideAngular(He)]}return[er,(0,Be.of)(!1)]},[Tt,Pr,dt])}collection(ae,Oe){let dt;dt="string"==typeof ae?this.firestore.collection(ae):ae;const{ref:Tt,query:sn}=cn(dt,Oe),Pn=this.schedulers.ngZone.run(()=>Tt);return new ye(Pn,sn,this)}collectionGroup(ae,Oe){const dt=Oe||(sn=>sn),Tt=this.firestore.collectionGroup(ae);return new le(dt(Tt),this)}doc(ae){let Oe;Oe="string"==typeof ae?this.firestore.doc(ae):ae;const dt=this.schedulers.ngZone.run(()=>Oe);return new ve(dt,this)}createId(){return this.firestore.collection("_").doc().id}}return ce.\u0275fac=function(ae){return new(ae||ce)(E.LFG(qe.Dh),E.LFG(qe.xv,8),E.LFG(Ae,8),E.LFG(It,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Fe.HU),E.LFG(Je,8),E.LFG(Yt,8),E.LFG(gr,8),E.LFG(Sr,8),E.LFG($n,8),E.LFG(Hr,8),E.LFG(jn,8),E.LFG(Ln,8),E.LFG(Vn,8),E.LFG(Cr.nm,8))},ce.\u0275prov=E.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})(),ut=(()=>{class ce{constructor(ae){this.firestore=ae,this.array=[],this.chats=[]}traer(ae){return this.firestore.collection(ae).valueChanges().subscribe(dt=>{this.array=dt})}guardar(ae,Oe){const dt=this.firestore.collection(ae),Tt={};for(const sn in Oe)Tt[sn]=Oe[sn];dt.add(Tt)}chat(){return this.firestore.collection("Chat",Oe=>Oe.orderBy("hora","desc").limit(50)).valueChanges().pipe((0,p.U)(Oe=>{this.chats=[];for(let dt of Oe)this.chats.unshift(dt)}))}}return ce.\u0275fac=function(ae){return new(ae||ce)(E.LFG(ar))},ce.\u0275prov=E.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},5144:(ln,je,j)=>{"use strict";j.d(je,{J:()=>Te});var p=j(1197),E=j(1135),G=j(4650);let Te=(()=>{class Ce{constructor(){this.activo=new E.X(new p.b("",""))}get getActivo(){return this.activo.asObservable()}set setActivo(Fe){this.activo?.next(Fe)}validarUsuario(Fe,we,Qe){let pe=!1;for(let De=0;De<Fe.length;De++){const ke=Fe[De];if(ke.mail==we.mail){"T"==Qe?ke.clave==we.clave&&(pe=!0):pe=!0;break}}return pe}activoOnChanges(){}}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)},Ce.\u0275prov=G.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},4765:(ln,je,j)=>{"use strict";var p=j(1481),E=j(4650),G=j(7340);function Ce($){return new E.vHH(3e3,!1)}function Dn(){return typeof window<"u"&&typeof window.document<"u"}function nn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Sn($){switch($.length){case 0:return new G.ZN;case 1:return $[0];default:return new G.ZE($)}}function kn($,y,w,V,Q=new Map,de=new Map){const Re=[],Le=[];let ct=-1,Dt=null;if(V.forEach(_n=>{const Nn=_n.get("offset"),tr=Nn==ct,Nr=tr&&Dt||new Map;_n.forEach((En,nr)=>{let D=nr,P=En;if("offset"!==nr)switch(D=y.normalizePropertyName(D,Re),P){case G.k1:P=Q.get(nr);break;case G.l3:P=de.get(nr);break;default:P=y.normalizeStyleValue(nr,D,P,Re)}Nr.set(D,P)}),tr||Le.push(Nr),Dt=Nr,ct=Nn}),Re.length)throw function Vt($){return new E.vHH(3502,!1)}();return Le}function yr($,y,w,V){switch(y){case"start":$.onStart(()=>V(w&&Dr(w,"start",$)));break;case"done":$.onDone(()=>V(w&&Dr(w,"done",$)));break;case"destroy":$.onDestroy(()=>V(w&&Dr(w,"destroy",$)))}}function Dr($,y,w){const de=cr($.element,$.triggerName,$.fromState,$.toState,y||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),Re=$._data;return null!=Re&&(de._data=Re),de}function cr($,y,w,V,Q="",de=0,Re){return{element:$,triggerName:y,fromState:w,toState:V,phaseName:Q,totalTime:de,disabled:!!Re}}function an($,y,w){let V=$.get(y);return V||$.set(y,V=w),V}function Jt($){const y=$.indexOf(":");return[$.substring(1,y),$.slice(y+1)]}let sr=($,y)=>!1,Tr=($,y,w)=>[],pr=null;function Hn($){const y=$.parentNode||$.host;return y===pr?null:y}(nn()||typeof Element<"u")&&(Dn()?(pr=(()=>document.documentElement)(),sr=($,y)=>{for(;y;){if(y===$)return!0;y=Hn(y)}return!1}):sr=($,y)=>$.contains(y),Tr=($,y,w)=>{if(w)return Array.from($.querySelectorAll(y));const V=$.querySelector(y);return V?[V]:[]});let zn=null,or=!1;const bn=sr,Xt=Tr;let dr=(()=>{class ${validateStyleProperty(w){return function qr($){zn||(zn=function Mn(){return typeof document<"u"?document.body:null}()||{},or=!!zn.style&&"WebkitAppearance"in zn.style);let y=!0;return zn.style&&!function Fn($){return"ebkit"==$.substring(1,6)}($)&&(y=$ in zn.style,!y&&or&&(y="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in zn.style)),y}(w)}matchesElement(w,V){return!1}containsElement(w,V){return bn(w,V)}getParentElement(w){return Hn(w)}query(w,V,Q){return Xt(w,V,Q)}computeStyle(w,V,Q){return Q||""}animate(w,V,Q,de,Re,Le=[],ct){return new G.ZN(Q,de)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})(),Ir=(()=>{class ${}return $.NOOP=new dr,$})();const Cr=1e3,Sr="ng-enter",$n="ng-leave",Hr="ng-trigger",jn=".ng-trigger",Ln="ng-animating",Vn=".ng-animating";function hr($){if("number"==typeof $)return $;const y=$.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:gr(parseFloat(y[1]),y[2])}function gr($,y){return"s"===y?$*Cr:$}function nt($,y,w){return $.hasOwnProperty("duration")?$:function be($,y,w){let Q,de=0,Re="";if("string"==typeof $){const Le=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Le)return y.push(Ce()),{duration:0,delay:0,easing:""};Q=gr(parseFloat(Le[1]),Le[2]);const ct=Le[3];null!=ct&&(de=gr(parseFloat(ct),Le[4]));const Dt=Le[5];Dt&&(Re=Dt)}else Q=$;if(!w){let Le=!1,ct=y.length;Q<0&&(y.push(function Be(){return new E.vHH(3100,!1)}()),Le=!0),de<0&&(y.push(function Fe(){return new E.vHH(3101,!1)}()),Le=!0),Le&&y.splice(ct,0,Ce())}return{duration:Q,delay:de,easing:Re}}($,y,w)}function Ve($,y={}){return Object.keys($).forEach(w=>{y[w]=$[w]}),y}function Ot($){const y=new Map;return Object.keys($).forEach(w=>{y.set(w,$[w])}),y}function he($,y=new Map,w){if(w)for(let[V,Q]of w)y.set(V,Q);for(let[V,Q]of $)y.set(V,Q);return y}function ee($,y,w){return w?y+":"+w+";":""}function ne($){let y="";for(let w=0;w<$.style.length;w++){const V=$.style.item(w);y+=ee(0,V,$.style.getPropertyValue(V))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(y+=ee(0,ar(w),$.style[w]));$.setAttribute("style",y)}function J($,y,w){$.style&&(y.forEach((V,Q)=>{const de=cn(Q);w&&!w.has(Q)&&w.set(Q,$.style[de]),$.style[de]=V}),nn()&&ne($))}function Se($,y){$.style&&(y.forEach((w,V)=>{const Q=cn(V);$.style[Q]=""}),nn()&&ne($))}function ye($){return Array.isArray($)?1==$.length?$[0]:(0,G.vP)($):$}const le=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ae($){let y=[];if("string"==typeof $){let w;for(;w=le.exec($);)y.push(w[1]);le.lastIndex=0}return y}function Je($,y,w){const V=$.toString(),Q=V.replace(le,(de,Re)=>{let Le=y[Re];return null==Le&&(w.push(function Qe($){return new E.vHH(3003,!1)}()),Le=""),Le.toString()});return Q==V?$:Q}function It($){const y=[];let w=$.next();for(;!w.done;)y.push(w.value),w=$.next();return y}const Yt=/-+([a-z0-9])/g;function cn($){return $.replace(Yt,(...y)=>y[1].toUpperCase())}function ar($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ce($,y,w){switch(y.type){case 7:return $.visitTrigger(y,w);case 0:return $.visitState(y,w);case 1:return $.visitTransition(y,w);case 2:return $.visitSequence(y,w);case 3:return $.visitGroup(y,w);case 4:return $.visitAnimate(y,w);case 5:return $.visitKeyframes(y,w);case 6:return $.visitStyle(y,w);case 8:return $.visitReference(y,w);case 9:return $.visitAnimateChild(y,w);case 10:return $.visitAnimateRef(y,w);case 11:return $.visitQuery(y,w);case 12:return $.visitStagger(y,w);default:throw function pe($){return new E.vHH(3004,!1)}()}}function H($,y){return window.getComputedStyle($)[y]}const br="*";function ei($,y){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(V=>function Yi($,y,w){if(":"==$[0]){const ct=function Ei($,y){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,V)=>parseFloat(V)>parseFloat(w);case":decrement":return(w,V)=>parseFloat(V)<parseFloat(w);default:return y.push(function ht($){return new E.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof ct)return void y.push(ct);$=ct}const V=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==V||V.length<4)return w.push(function At($){return new E.vHH(3015,!1)}()),y;const Q=V[1],de=V[2],Re=V[3];y.push(Rn(Q,Re));"<"==de[0]&&!(Q==br&&Re==br)&&y.push(Rn(Re,Q))}(V,w,y)):w.push($),w}const Zr=new Set(["true","1"]),Ht=new Set(["false","0"]);function Rn($,y){const w=Zr.has($)||Ht.has($),V=Zr.has(y)||Ht.has(y);return(Q,de)=>{let Re=$==br||$==Q,Le=y==br||y==de;return!Re&&w&&"boolean"==typeof Q&&(Re=Q?Zr.has($):Ht.has($)),!Le&&V&&"boolean"==typeof de&&(Le=de?Zr.has(y):Ht.has(y)),Re&&Le}}const fr=new RegExp("s*:selfs*,?","g");function li($,y,w,V){return new Pr($).build(y,w,V)}class Pr{constructor(y){this._driver=y}build(y,w,V){const Q=new Ue(w);return this._resetContextStyleTimingState(Q),ce(this,ye(y),Q)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,w){let V=w.queryCount=0,Q=w.depCount=0;const de=[],Re=[];return"@"==y.name.charAt(0)&&w.errors.push(function ke(){return new E.vHH(3006,!1)}()),y.definitions.forEach(Le=>{if(this._resetContextStyleTimingState(w),0==Le.type){const ct=Le,Dt=ct.name;Dt.toString().split(/\s*,\s*/).forEach(_n=>{ct.name=_n,de.push(this.visitState(ct,w))}),ct.name=Dt}else if(1==Le.type){const ct=this.visitTransition(Le,w);V+=ct.queryCount,Q+=ct.depCount,Re.push(ct)}else w.errors.push(function gt(){return new E.vHH(3007,!1)}())}),{type:7,name:y.name,states:de,transitions:Re,queryCount:V,depCount:Q,options:null}}visitState(y,w){const V=this.visitStyle(y.styles,w),Q=y.options&&y.options.params||null;if(V.containsDynamicStyles){const de=new Set,Re=Q||{};V.styles.forEach(Le=>{Le instanceof Map&&Le.forEach(ct=>{Ae(ct).forEach(Dt=>{Re.hasOwnProperty(Dt)||de.add(Dt)})})}),de.size&&(It(de.values()),w.errors.push(function yt($,y){return new E.vHH(3008,!1)}()))}return{type:0,name:y.name,style:V,options:Q?{params:Q}:null}}visitTransition(y,w){w.queryCount=0,w.depCount=0;const V=ce(this,ye(y.animation),w);return{type:1,matchers:ei(y.expr,w.errors),animation:V,queryCount:w.queryCount,depCount:w.depCount,options:xt(y.options)}}visitSequence(y,w){return{type:2,steps:y.steps.map(V=>ce(this,V,w)),options:xt(y.options)}}visitGroup(y,w){const V=w.currentTime;let Q=0;const de=y.steps.map(Re=>{w.currentTime=V;const Le=ce(this,Re,w);return Q=Math.max(Q,w.currentTime),Le});return w.currentTime=Q,{type:3,steps:de,options:xt(y.options)}}visitAnimate(y,w){const V=function Ct($,y){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return In(nt($,y).duration,0,"");const w=$;if(w.split(/\s+/).some(de=>"{"==de.charAt(0)&&"{"==de.charAt(1))){const de=In(0,0,"");return de.dynamic=!0,de.strValue=w,de}const Q=nt(w,y);return In(Q.duration,Q.delay,Q.easing)}(y.timings,w.errors);w.currentAnimateTimings=V;let Q,de=y.styles?y.styles:(0,G.oB)({});if(5==de.type)Q=this.visitKeyframes(de,w);else{let Re=y.styles,Le=!1;if(!Re){Le=!0;const Dt={};V.easing&&(Dt.easing=V.easing),Re=(0,G.oB)(Dt)}w.currentTime+=V.duration+V.delay;const ct=this.visitStyle(Re,w);ct.isEmptyStep=Le,Q=ct}return w.currentAnimateTimings=null,{type:4,timings:V,style:Q,options:null}}visitStyle(y,w){const V=this._makeStyleAst(y,w);return this._validateStyleAst(V,w),V}_makeStyleAst(y,w){const V=[],Q=Array.isArray(y.styles)?y.styles:[y.styles];for(let Le of Q)"string"==typeof Le?Le===G.l3?V.push(Le):w.errors.push(new E.vHH(3002,!1)):V.push(Ot(Le));let de=!1,Re=null;return V.forEach(Le=>{if(Le instanceof Map&&(Le.has("easing")&&(Re=Le.get("easing"),Le.delete("easing")),!de))for(let ct of Le.values())if(ct.toString().indexOf("{{")>=0){de=!0;break}}),{type:6,styles:V,easing:Re,offset:y.offset,containsDynamicStyles:de,options:null}}_validateStyleAst(y,w){const V=w.currentAnimateTimings;let Q=w.currentTime,de=w.currentTime;V&&de>0&&(de-=V.duration+V.delay),y.styles.forEach(Re=>{"string"!=typeof Re&&Re.forEach((Le,ct)=>{const Dt=w.collectedStyles.get(w.currentQuerySelector),_n=Dt.get(ct);let Nn=!0;_n&&(de!=Q&&de>=_n.startTime&&Q<=_n.endTime&&(w.errors.push(function qe($,y,w,V,Q){return new E.vHH(3010,!1)}()),Nn=!1),de=_n.startTime),Nn&&Dt.set(ct,{startTime:de,endTime:Q}),w.options&&function ve($,y,w){const V=y.params||{},Q=Ae($);Q.length&&Q.forEach(de=>{V.hasOwnProperty(de)||w.push(function we($){return new E.vHH(3001,!1)}())})}(Le,w.options,w.errors)})})}visitKeyframes(y,w){const V={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function wt(){return new E.vHH(3011,!1)}()),V;let de=0;const Re=[];let Le=!1,ct=!1,Dt=0;const _n=y.steps.map(P=>{const z=this._makeStyleAst(P,w);let fe=null!=z.offset?z.offset:function $e($){if("string"==typeof $)return null;let y=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const V=w;y=parseFloat(V.get("offset")),V.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;y=parseFloat(w.get("offset")),w.delete("offset")}return y}(z.styles),Ne=0;return null!=fe&&(de++,Ne=z.offset=fe),ct=ct||Ne<0||Ne>1,Le=Le||Ne<Dt,Dt=Ne,Re.push(Ne),z});ct&&w.errors.push(function rt(){return new E.vHH(3012,!1)}()),Le&&w.errors.push(function Lt(){return new E.vHH(3200,!1)}());const Nn=y.steps.length;let tr=0;de>0&&de<Nn?w.errors.push(function _e(){return new E.vHH(3202,!1)}()):0==de&&(tr=1/(Nn-1));const Nr=Nn-1,En=w.currentTime,nr=w.currentAnimateTimings,D=nr.duration;return _n.forEach((P,z)=>{const fe=tr>0?z==Nr?1:tr*z:Re[z],Ne=fe*D;w.currentTime=En+nr.delay+Ne,nr.duration=Ne,this._validateStyleAst(P,w),P.offset=fe,V.styles.push(P)}),V}visitReference(y,w){return{type:8,animation:ce(this,ye(y.animation),w),options:xt(y.options)}}visitAnimateChild(y,w){return w.depCount++,{type:9,options:xt(y.options)}}visitAnimateRef(y,w){return{type:10,animation:this.visitReference(y.animation,w),options:xt(y.options)}}visitQuery(y,w){const V=w.currentQuerySelector,Q=y.options||{};w.queryCount++,w.currentQuery=y;const[de,Re]=function er($){const y=!!$.split(/\s*,\s*/).find(w=>":self"==w);return y&&($=$.replace(fr,"")),$=$.replace(/@\*/g,jn).replace(/@\w+/g,w=>jn+"-"+w.slice(1)).replace(/:animating/g,Vn),[$,y]}(y.selector);w.currentQuerySelector=V.length?V+" "+de:de,an(w.collectedStyles,w.currentQuerySelector,new Map);const Le=ce(this,ye(y.animation),w);return w.currentQuery=null,w.currentQuerySelector=V,{type:11,selector:de,limit:Q.limit||0,optional:!!Q.optional,includeSelf:Re,animation:Le,originalSelector:y.selector,options:xt(y.options)}}visitStagger(y,w){w.currentQuery||w.errors.push(function Pe(){return new E.vHH(3013,!1)}());const V="full"===y.timings?{duration:0,delay:0,easing:"full"}:nt(y.timings,w.errors,!0);return{type:12,animation:ce(this,ye(y.animation),w),timings:V,options:null}}}class Ue{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xt($){return $?($=Ve($)).params&&($.params=function He($){return $?Ve($):null}($.params)):$={},$}function In($,y,w){return{duration:$,delay:y,easing:w}}function Gn($,y,w,V,Q,de,Re=null,Le=!1){return{type:1,element:$,keyframes:y,preStyleProps:w,postStyleProps:V,duration:Q,delay:de,totalTime:Q+de,easing:Re,subTimeline:Le}}class On{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,w){let V=this._map.get(y);V||this._map.set(y,V=[]),V.push(...w)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const ci=new RegExp(":enter","g"),Oi=new RegExp(":leave","g");function Br($,y,w,V,Q,de=new Map,Re=new Map,Le,ct,Dt=[]){return(new _s).buildKeyframes($,y,w,V,Q,de,Re,Le,ct,Dt)}class _s{buildKeyframes(y,w,V,Q,de,Re,Le,ct,Dt,_n=[]){Dt=Dt||new On;const Nn=new ks(y,w,Dt,Q,de,_n,[]);Nn.options=ct;const tr=ct.delay?hr(ct.delay):0;Nn.currentTimeline.delayNextStep(tr),Nn.currentTimeline.setStyles([Re],null,Nn.errors,ct),ce(this,V,Nn);const Nr=Nn.timelines.filter(En=>En.containsAnimation());if(Nr.length&&Le.size){let En;for(let nr=Nr.length-1;nr>=0;nr--){const D=Nr[nr];if(D.element===w){En=D;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([Le],null,Nn.errors,ct)}return Nr.length?Nr.map(En=>En.buildKeyframes()):[Gn(w,[],[],[],0,tr,"",!1)]}visitTrigger(y,w){}visitState(y,w){}visitTransition(y,w){}visitAnimateChild(y,w){const V=w.subInstructions.get(w.element);if(V){const Q=w.createSubContext(y.options),de=w.currentTimeline.currentTime,Re=this._visitSubInstructions(V,Q,Q.options);de!=Re&&w.transformIntoNewTimeline(Re)}w.previousNode=y}visitAnimateRef(y,w){const V=w.createSubContext(y.options);V.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],w,V),this.visitReference(y.animation,V),w.transformIntoNewTimeline(V.currentTimeline.currentTime),w.previousNode=y}_applyAnimationRefDelays(y,w,V){for(const Q of y){const de=Q?.delay;if(de){const Re="number"==typeof de?de:hr(Je(de,Q?.params??{},w.errors));V.delayNextStep(Re)}}}_visitSubInstructions(y,w,V){let de=w.currentTimeline.currentTime;const Re=null!=V.duration?hr(V.duration):null,Le=null!=V.delay?hr(V.delay):null;return 0!==Re&&y.forEach(ct=>{const Dt=w.appendInstructionToTimeline(ct,Re,Le);de=Math.max(de,Dt.duration+Dt.delay)}),de}visitReference(y,w){w.updateOptions(y.options,!0),ce(this,y.animation,w),w.previousNode=y}visitSequence(y,w){const V=w.subContextCount;let Q=w;const de=y.options;if(de&&(de.params||de.delay)&&(Q=w.createSubContext(de),Q.transformIntoNewTimeline(),null!=de.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=zi);const Re=hr(de.delay);Q.delayNextStep(Re)}y.steps.length&&(y.steps.forEach(Re=>ce(this,Re,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>V&&Q.transformIntoNewTimeline()),w.previousNode=y}visitGroup(y,w){const V=[];let Q=w.currentTimeline.currentTime;const de=y.options&&y.options.delay?hr(y.options.delay):0;y.steps.forEach(Re=>{const Le=w.createSubContext(y.options);de&&Le.delayNextStep(de),ce(this,Re,Le),Q=Math.max(Q,Le.currentTimeline.currentTime),V.push(Le.currentTimeline)}),V.forEach(Re=>w.currentTimeline.mergeTimelineCollectedStyles(Re)),w.transformIntoNewTimeline(Q),w.previousNode=y}_visitTiming(y,w){if(y.dynamic){const V=y.strValue;return nt(w.params?Je(V,w.params,w.errors):V,w.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,w){const V=w.currentAnimateTimings=this._visitTiming(y.timings,w),Q=w.currentTimeline;V.delay&&(w.incrementTime(V.delay),Q.snapshotCurrentStyles());const de=y.style;5==de.type?this.visitKeyframes(de,w):(w.incrementTime(V.duration),this.visitStyle(de,w),Q.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=y}visitStyle(y,w){const V=w.currentTimeline,Q=w.currentAnimateTimings;!Q&&V.hasCurrentStyleProperties()&&V.forwardFrame();const de=Q&&Q.easing||y.easing;y.isEmptyStep?V.applyEmptyStep(de):V.setStyles(y.styles,de,w.errors,w.options),w.previousNode=y}visitKeyframes(y,w){const V=w.currentAnimateTimings,Q=w.currentTimeline.duration,de=V.duration,Le=w.createSubContext().currentTimeline;Le.easing=V.easing,y.styles.forEach(ct=>{Le.forwardTime((ct.offset||0)*de),Le.setStyles(ct.styles,ct.easing,w.errors,w.options),Le.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Le),w.transformIntoNewTimeline(Q+de),w.previousNode=y}visitQuery(y,w){const V=w.currentTimeline.currentTime,Q=y.options||{},de=Q.delay?hr(Q.delay):0;de&&(6===w.previousNode.type||0==V&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=zi);let Re=V;const Le=w.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!Q.optional,w.errors);w.currentQueryTotal=Le.length;let ct=null;Le.forEach((Dt,_n)=>{w.currentQueryIndex=_n;const Nn=w.createSubContext(y.options,Dt);de&&Nn.delayNextStep(de),Dt===w.element&&(ct=Nn.currentTimeline),ce(this,y.animation,Nn),Nn.currentTimeline.applyStylesToKeyframe(),Re=Math.max(Re,Nn.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Re),ct&&(w.currentTimeline.mergeTimelineCollectedStyles(ct),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=y}visitStagger(y,w){const V=w.parentContext,Q=w.currentTimeline,de=y.timings,Re=Math.abs(de.duration),Le=Re*(w.currentQueryTotal-1);let ct=Re*w.currentQueryIndex;switch(de.duration<0?"reverse":de.easing){case"reverse":ct=Le-ct;break;case"full":ct=V.currentStaggerTime}const _n=w.currentTimeline;ct&&_n.delayNextStep(ct);const Nn=_n.currentTime;ce(this,y.animation,w),w.previousNode=y,V.currentStaggerTime=Q.currentTime-Nn+(Q.startTime-V.currentTimeline.startTime)}}const zi={};class ks{constructor(y,w,V,Q,de,Re,Le,ct){this._driver=y,this.element=w,this.subInstructions=V,this._enterClassName=Q,this._leaveClassName=de,this.errors=Re,this.timelines=Le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ct||new Qi(this._driver,w,0),Le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,w){if(!y)return;const V=y;let Q=this.options;null!=V.duration&&(Q.duration=hr(V.duration)),null!=V.delay&&(Q.delay=hr(V.delay));const de=V.params;if(de){let Re=Q.params;Re||(Re=this.options.params={}),Object.keys(de).forEach(Le=>{(!w||!Re.hasOwnProperty(Le))&&(Re[Le]=Je(de[Le],Re,this.errors))})}}_copyOptions(){const y={};if(this.options){const w=this.options.params;if(w){const V=y.params={};Object.keys(w).forEach(Q=>{V[Q]=w[Q]})}}return y}createSubContext(y=null,w,V){const Q=w||this.element,de=new ks(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,V||0));return de.previousNode=this.previousNode,de.currentAnimateTimings=this.currentAnimateTimings,de.options=this._copyOptions(),de.updateOptions(y),de.currentQueryIndex=this.currentQueryIndex,de.currentQueryTotal=this.currentQueryTotal,de.parentContext=this,this.subContextCount++,de}transformIntoNewTimeline(y){return this.previousNode=zi,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,w,V){const Q={duration:w??y.duration,delay:this.currentTimeline.currentTime+(V??0)+y.delay,easing:""},de=new Ji(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,Q,y.stretchStartingKeyframe);return this.timelines.push(de),Q}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,w,V,Q,de,Re){let Le=[];if(Q&&Le.push(this.element),y.length>0){y=(y=y.replace(ci,"."+this._enterClassName)).replace(Oi,"."+this._leaveClassName);let Dt=this._driver.query(this.element,y,1!=V);0!==V&&(Dt=V<0?Dt.slice(Dt.length+V,Dt.length):Dt.slice(0,V)),Le.push(...Dt)}return!de&&0==Le.length&&Re.push(function it($){return new E.vHH(3014,!1)}()),Le}}class Qi{constructor(y,w,V,Q){this._driver=y,this.element=w,this.startTime=V,this._elementTimelineStylesLookup=Q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+y),w&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,w){return this.applyStylesToKeyframe(),new Qi(this._driver,y,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,w){this._localTimelineStyles.set(y,w),this._globalTimelineStyles.set(y,w),this._styleSummary.set(y,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[w,V]of this._globalTimelineStyles)this._backFill.set(w,V||G.l3),this._currentKeyframe.set(w,G.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,w,V,Q){w&&this._previousKeyframe.set("easing",w);const de=Q&&Q.params||{},Re=function fi($,y){const w=new Map;let V;return $.forEach(Q=>{if("*"===Q){V=V||y.keys();for(let de of V)w.set(de,G.l3)}else he(Q,w)}),w}(y,this._globalTimelineStyles);for(let[Le,ct]of Re){const Dt=Je(ct,de,V);this._pendingStyles.set(Le,Dt),this._localTimelineStyles.has(Le)||this._backFill.set(Le,this._globalTimelineStyles.get(Le)??G.l3),this._updateStyle(Le,Dt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,w)=>{this._currentKeyframe.set(w,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,y)}))}snapshotCurrentStyles(){for(let[y,w]of this._localTimelineStyles)this._pendingStyles.set(y,w),this._updateStyle(y,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let w in this._currentKeyframe)y.push(w);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((w,V)=>{const Q=this._styleSummary.get(V);(!Q||w.time>Q.time)&&this._updateStyle(V,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,w=new Set,V=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((Le,ct)=>{const Dt=he(Le,new Map,this._backFill);Dt.forEach((_n,Nn)=>{_n===G.k1?y.add(Nn):_n===G.l3&&w.add(Nn)}),V||Dt.set("offset",ct/this.duration),Q.push(Dt)});const de=y.size?It(y.values()):[],Re=w.size?It(w.values()):[];if(V){const Le=Q[0],ct=new Map(Le);Le.set("offset",0),ct.set("offset",1),Q=[Le,ct]}return Gn(this.element,Q,de,Re,this.duration,this.startTime,this.easing,!1)}}class Ji extends Qi{constructor(y,w,V,Q,de,Re,Le=!1){super(y,w,Re.delay),this.keyframes=V,this.preStyleProps=Q,this.postStyleProps=de,this._stretchStartingKeyframe=Le,this.timings={duration:Re.duration,delay:Re.delay,easing:Re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:w,duration:V,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&w){const de=[],Re=V+w,Le=w/Re,ct=he(y[0]);ct.set("offset",0),de.push(ct);const Dt=he(y[0]);Dt.set("offset",Ai(Le)),de.push(Dt);const _n=y.length-1;for(let Nn=1;Nn<=_n;Nn++){let tr=he(y[Nn]);const Nr=tr.get("offset");tr.set("offset",Ai((w+Nr*V)/Re)),de.push(tr)}V=Re,w=0,Q="",y=de}return Gn(this.element,y,this.preStyleProps,this.postStyleProps,V,w,Q,!0)}}function Ai($,y=3){const w=Math.pow(10,y-1);return Math.round($*w)/w}class bi{}const ao=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xo extends bi{normalizePropertyName(y,w){return cn(y)}normalizeStyleValue(y,w,V,Q){let de="";const Re=V.toString().trim();if(ao.has(w)&&0!==V&&"0"!==V)if("number"==typeof V)de="px";else{const Le=V.match(/^[+-]?[\d\.]+([a-z]*)$/);Le&&0==Le[1].length&&Q.push(function De($,y){return new E.vHH(3005,!1)}())}return Re+de}}function os($,y,w,V,Q,de,Re,Le,ct,Dt,_n,Nn,tr){return{type:0,element:$,triggerName:y,isRemovalTransition:Q,fromState:w,fromStyles:de,toState:V,toStyles:Re,timelines:Le,queriedElements:ct,preStyleProps:Dt,postStyleProps:_n,totalTime:Nn,errors:tr}}const Qr={};class as{constructor(y,w,V){this._triggerName=y,this.ast=w,this._stateStyles=V}match(y,w,V,Q){return function Po($,y,w,V,Q){return $.some(de=>de(y,w,V,Q))}(this.ast.matchers,y,w,V,Q)}buildStyles(y,w,V){let Q=this._stateStyles.get("*");return void 0!==y&&(Q=this._stateStyles.get(y?.toString())||Q),Q?Q.buildStyles(w,V):new Map}build(y,w,V,Q,de,Re,Le,ct,Dt,_n){const Nn=[],tr=this.ast.options&&this.ast.options.params||Qr,En=this.buildStyles(V,Le&&Le.params||Qr,Nn),nr=ct&&ct.params||Qr,D=this.buildStyles(Q,nr,Nn),P=new Set,z=new Map,fe=new Map,Ne="void"===Q,xe={params:Ar(nr,tr),delay:this.ast.options?.delay},Ye=_n?[]:Br(y,w,this.ast.animation,de,Re,En,D,xe,Dt,Nn);let Kt=0;if(Ye.forEach(An=>{Kt=Math.max(An.duration+An.delay,Kt)}),Nn.length)return os(w,this._triggerName,V,Q,Ne,En,D,[],[],z,fe,Kt,Nn);Ye.forEach(An=>{const Jn=An.element,lr=an(z,Jn,new Set);An.preStyleProps.forEach(Li=>lr.add(Li));const ys=an(fe,Jn,new Set);An.postStyleProps.forEach(Li=>ys.add(Li)),Jn!==w&&P.add(Jn)});const Zt=It(P.values());return os(w,this._triggerName,V,Q,Ne,En,D,Ye,Zt,z,fe,Kt)}}function Ar($,y){const w=Ve(y);for(const V in $)$.hasOwnProperty(V)&&null!=$[V]&&(w[V]=$[V]);return w}class ls{constructor(y,w,V){this.styles=y,this.defaultParams=w,this.normalizer=V}buildStyles(y,w){const V=new Map,Q=Ve(this.defaultParams);return Object.keys(y).forEach(de=>{const Re=y[de];null!==Re&&(Q[de]=Re)}),this.styles.styles.forEach(de=>{"string"!=typeof de&&de.forEach((Re,Le)=>{Re&&(Re=Je(Re,Q,w));const ct=this.normalizer.normalizePropertyName(Le,w);Re=this.normalizer.normalizeStyleValue(Le,ct,Re,w),V.set(Le,Re)})}),V}}class Fs{constructor(y,w,V){this.name=y,this.ast=w,this._normalizer=V,this.transitionFactories=[],this.states=new Map,w.states.forEach(Q=>{this.states.set(Q.name,new ls(Q.style,Q.options&&Q.options.params||{},V))}),Wo(this.states,"true","1"),Wo(this.states,"false","0"),w.transitions.forEach(Q=>{this.transitionFactories.push(new as(y,Q,this.states))}),this.fallbackTransition=function ra($,y,w){return new as($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Re,Le)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,w,V,Q){return this.transitionFactories.find(Re=>Re.match(y,w,V,Q))||null}matchStyles(y,w,V){return this.fallbackTransition.buildStyles(y,w,V)}}function Wo($,y,w){$.has(y)?$.has(w)||$.set(w,$.get(y)):$.has(w)&&$.set(y,$.get(w))}const Ys=new On;class _o{constructor(y,w,V){this.bodyNode=y,this._driver=w,this._normalizer=V,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,w){const V=[],Q=[],de=li(this._driver,w,V,Q);if(V.length)throw function Wt($){return new E.vHH(3503,!1)}();this._animations.set(y,de)}_buildPlayer(y,w,V){const Q=y.element,de=kn(0,this._normalizer,0,y.keyframes,w,V);return this._driver.animate(Q,de,y.duration,y.delay,y.easing,[],!0)}create(y,w,V={}){const Q=[],de=this._animations.get(y);let Re;const Le=new Map;if(de?(Re=Br(this._driver,w,de,Sr,$n,new Map,new Map,V,Ys,Q),Re.forEach(_n=>{const Nn=an(Le,_n.element,new Map);_n.postStyleProps.forEach(tr=>Nn.set(tr,null))})):(Q.push(function Gt(){return new E.vHH(3300,!1)}()),Re=[]),Q.length)throw function st($){return new E.vHH(3504,!1)}();Le.forEach((_n,Nn)=>{_n.forEach((tr,Nr)=>{_n.set(Nr,this._driver.computeStyle(Nn,Nr,G.l3))})});const Dt=Sn(Re.map(_n=>{const Nn=Le.get(_n.element);return this._buildPlayer(_n,new Map,Nn)}));return this._playersById.set(y,Dt),Dt.onDestroy(()=>this.destroy(y)),this.players.push(Dt),Dt}destroy(y){const w=this._getPlayer(y);w.destroy(),this._playersById.delete(y);const V=this.players.indexOf(w);V>=0&&this.players.splice(V,1)}_getPlayer(y){const w=this._playersById.get(y);if(!w)throw function ot($){return new E.vHH(3301,!1)}();return w}listen(y,w,V,Q){const de=cr(w,"","","");return yr(this._getPlayer(y),V,de,Q),()=>{}}command(y,w,V,Q){if("register"==V)return void this.register(y,Q[0]);if("create"==V)return void this.create(y,w,Q[0]||{});const de=this._getPlayer(y);switch(V){case"play":de.play();break;case"pause":de.pause();break;case"reset":de.reset();break;case"restart":de.restart();break;case"finish":de.finish();break;case"init":de.init();break;case"setPosition":de.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(y)}}}const Ro="ng-animate-queued",Mi="ng-animate-disabled",wo=[],Xi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ws={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xi="__ng_removed";class cs{get params(){return this.options.params}constructor(y,w=""){this.namespaceId=w;const V=y&&y.hasOwnProperty("value");if(this.value=function Us($){return $??null}(V?y.value:y),V){const de=Ve(y);delete de.value,this.options=de}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const w=y.params;if(w){const V=this.options.params;Object.keys(w).forEach(Q=>{null==V[Q]&&(V[Q]=w[Q])})}}}const Qs="void",Vs=new cs(Qs);class Js{constructor(y,w,V){this.id=y,this.hostElement=w,this._engine=V,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,ni(w,this._hostClassName)}listen(y,w,V,Q){if(!this._triggers.has(w))throw function ft($,y){return new E.vHH(3302,!1)}();if(null==V||0==V.length)throw function _t($){return new E.vHH(3303,!1)}();if(!function Xs($){return"start"==$||"done"==$}(V))throw function $t($,y){return new E.vHH(3400,!1)}();const de=an(this._elementListeners,y,[]),Re={name:w,phase:V,callback:Q};de.push(Re);const Le=an(this._engine.statesByElement,y,new Map);return Le.has(w)||(ni(y,Hr),ni(y,Hr+"-"+w),Le.set(w,Vs)),()=>{this._engine.afterFlush(()=>{const ct=de.indexOf(Re);ct>=0&&de.splice(ct,1),this._triggers.has(w)||Le.delete(w)})}}register(y,w){return!this._triggers.has(y)&&(this._triggers.set(y,w),!0)}_getTrigger(y){const w=this._triggers.get(y);if(!w)throw function Pt($){return new E.vHH(3401,!1)}();return w}trigger(y,w,V,Q=!0){const de=this._getTrigger(w),Re=new Gi(this.id,w,y);let Le=this._engine.statesByElement.get(y);Le||(ni(y,Hr),ni(y,Hr+"-"+w),this._engine.statesByElement.set(y,Le=new Map));let ct=Le.get(w);const Dt=new cs(V,this.id);if(!(V&&V.hasOwnProperty("value"))&&ct&&Dt.absorbOptions(ct.options),Le.set(w,Dt),ct||(ct=Vs),Dt.value!==Qs&&ct.value===Dt.value){if(!function to($,y){const w=Object.keys($),V=Object.keys(y);if(w.length!=V.length)return!1;for(let Q=0;Q<w.length;Q++){const de=w[Q];if(!y.hasOwnProperty(de)||$[de]!==y[de])return!1}return!0}(ct.params,Dt.params)){const nr=[],D=de.matchStyles(ct.value,ct.params,nr),P=de.matchStyles(Dt.value,Dt.params,nr);nr.length?this._engine.reportError(nr):this._engine.afterFlush(()=>{Se(y,D),J(y,P)})}return}const tr=an(this._engine.playersByElement,y,[]);tr.forEach(nr=>{nr.namespaceId==this.id&&nr.triggerName==w&&nr.queued&&nr.destroy()});let Nr=de.matchTransition(ct.value,Dt.value,y,Dt.params),En=!1;if(!Nr){if(!Q)return;Nr=de.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:w,transition:Nr,fromState:ct,toState:Dt,player:Re,isFallbackTransition:En}),En||(ni(y,Ro),Re.onStart(()=>{zr(y,Ro)})),Re.onDone(()=>{let nr=this.players.indexOf(Re);nr>=0&&this.players.splice(nr,1);const D=this._engine.playersByElement.get(y);if(D){let P=D.indexOf(Re);P>=0&&D.splice(P,1)}}),this.players.push(Re),tr.push(Re),Re}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(w=>w.delete(y)),this._elementListeners.forEach((w,V)=>{this._elementListeners.set(V,w.filter(Q=>Q.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const w=this._engine.playersByElement.get(y);w&&(w.forEach(V=>V.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,w){const V=this._engine.driver.query(y,jn,!0);V.forEach(Q=>{if(Q[xi])return;const de=this._engine.fetchNamespacesByElement(Q);de.size?de.forEach(Re=>Re.triggerLeaveAnimation(Q,w,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>V.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(y,w,V,Q){const de=this._engine.statesByElement.get(y),Re=new Map;if(de){const Le=[];if(de.forEach((ct,Dt)=>{if(Re.set(Dt,ct.value),this._triggers.has(Dt)){const _n=this.trigger(y,Dt,Qs,Q);_n&&Le.push(_n)}}),Le.length)return this._engine.markElementAsRemoved(this.id,y,!0,w,Re),V&&Sn(Le).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const w=this._elementListeners.get(y),V=this._engine.statesByElement.get(y);if(w&&V){const Q=new Set;w.forEach(de=>{const Re=de.name;if(Q.has(Re))return;Q.add(Re);const ct=this._triggers.get(Re).fallbackTransition,Dt=V.get(Re)||Vs,_n=new cs(Qs),Nn=new Gi(this.id,Re,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Re,transition:ct,fromState:Dt,toState:_n,player:Nn,isFallbackTransition:!0})})}}removeNode(y,w){const V=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,w),this.triggerLeaveAnimation(y,w,!0))return;let Q=!1;if(V.totalAnimations){const de=V.players.length?V.playersByQueriedElement.get(y):[];if(de&&de.length)Q=!0;else{let Re=y;for(;Re=Re.parentNode;)if(V.statesByElement.get(Re)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(y),Q)V.markElementAsRemoved(this.id,y,!1,w);else{const de=y[xi];(!de||de===Xi)&&(V.afterFlush(()=>this.clearElementCache(y)),V.destroyInnerAnimations(y),V._onRemovalComplete(y,w))}}insertNode(y,w){ni(y,this._hostClassName)}drainQueuedTransitions(y){const w=[];return this._queue.forEach(V=>{const Q=V.player;if(Q.destroyed)return;const de=V.element,Re=this._elementListeners.get(de);Re&&Re.forEach(Le=>{if(Le.name==V.triggerName){const ct=cr(de,V.triggerName,V.fromState.value,V.toState.value);ct._data=y,yr(V.player,Le.phase,ct,Le.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):w.push(V)}),this._queue=[],w.sort((V,Q)=>{const de=V.transition.ast.depCount,Re=Q.transition.ast.depCount;return 0==de||0==Re?de-Re:this._engine.driver.containsElement(V.element,Q.element)?1:-1})}destroy(y){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let w=!1;return this._elementListeners.has(y)&&(w=!0),w=!!this._queue.find(V=>V.element===y)||w,w}}class Oo{_onRemovalComplete(y,w){this.onRemovalComplete(y,w)}constructor(y,w,V){this.bodyNode=y,this.driver=w,this._normalizer=V,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,de)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(w=>{w.players.forEach(V=>{V.queued&&y.push(V)})}),y}createNamespace(y,w){const V=new Js(y,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(V,w):(this.newHostElements.set(w,V),this.collectEnterElement(w)),this._namespaceLookup[y]=V}_balanceNamespaceList(y,w){const V=this._namespaceList,Q=this.namespacesByHostElement;if(V.length-1>=0){let Re=!1,Le=this.driver.getParentElement(w);for(;Le;){const ct=Q.get(Le);if(ct){const Dt=V.indexOf(ct);V.splice(Dt+1,0,y),Re=!0;break}Le=this.driver.getParentElement(Le)}Re||V.unshift(y)}else V.push(y);return Q.set(w,y),y}register(y,w){let V=this._namespaceLookup[y];return V||(V=this.createNamespace(y,w)),V}registerTrigger(y,w,V){let Q=this._namespaceLookup[y];Q&&Q.register(w,V)&&this.totalAnimations++}destroy(y,w){if(!y)return;const V=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(V.hostElement),delete this._namespaceLookup[y];const Q=this._namespaceList.indexOf(V);Q>=0&&this._namespaceList.splice(Q,1)}),this.afterFlushAnimationsDone(()=>V.destroy(w))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const w=new Set,V=this.statesByElement.get(y);if(V)for(let Q of V.values())if(Q.namespaceId){const de=this._fetchNamespace(Q.namespaceId);de&&w.add(de)}return w}trigger(y,w,V,Q){if(Ss(w)){const de=this._fetchNamespace(y);if(de)return de.trigger(w,V,Q),!0}return!1}insertNode(y,w,V,Q){if(!Ss(w))return;const de=w[xi];if(de&&de.setForRemoval){de.setForRemoval=!1,de.setForMove=!0;const Re=this.collectedLeaveElements.indexOf(w);Re>=0&&this.collectedLeaveElements.splice(Re,1)}if(y){const Re=this._fetchNamespace(y);Re&&Re.insertNode(w,V)}Q&&this.collectEnterElement(w)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,w){w?this.disabledNodes.has(y)||(this.disabledNodes.add(y),ni(y,Mi)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),zr(y,Mi))}removeNode(y,w,V,Q){if(Ss(w)){const de=y?this._fetchNamespace(y):null;if(de?de.removeNode(w,Q):this.markElementAsRemoved(y,w,!1,Q),V){const Re=this.namespacesByHostElement.get(w);Re&&Re.id!==y&&Re.removeNode(w,Q)}}else this._onRemovalComplete(w,Q)}markElementAsRemoved(y,w,V,Q,de){this.collectedLeaveElements.push(w),w[xi]={namespaceId:y,setForRemoval:Q,hasAnimation:V,removedBeforeQueried:!1,previousTriggersValues:de}}listen(y,w,V,Q,de){return Ss(w)?this._fetchNamespace(y).listen(w,V,Q,de):()=>{}}_buildInstruction(y,w,V,Q,de){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,V,Q,y.fromState.options,y.toState.options,w,de)}destroyInnerAnimations(y){let w=this.driver.query(y,jn,!0);w.forEach(V=>this.destroyActiveAnimationsForElement(V)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(y,Vn,!0),w.forEach(V=>this.finishActiveQueriedAnimationOnElement(V)))}destroyActiveAnimationsForElement(y){const w=this.playersByElement.get(y);w&&w.forEach(V=>{V.queued?V.markedForDestroy=!0:V.destroy()})}finishActiveQueriedAnimationOnElement(y){const w=this.playersByQueriedElement.get(y);w&&w.forEach(V=>V.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Sn(this.players).onDone(()=>y());y()})}processLeaveNode(y){const w=y[xi];if(w&&w.setForRemoval){if(y[xi]=Xi,w.namespaceId){this.destroyInnerAnimations(y);const V=this._fetchNamespace(w.namespaceId);V&&V.clearElementCache(y)}this._onRemovalComplete(y,w.setForRemoval)}y.classList?.contains(Mi)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(V=>{this.markElementAsDisabled(V,!1)})}flush(y=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((V,Q)=>this._balanceNamespaceList(V,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let V=0;V<this.collectedEnterElements.length;V++)ni(this.collectedEnterElements[V],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const V=[];try{w=this._flushAnimations(V,y)}finally{for(let Q=0;Q<V.length;Q++)V[Q]()}}else for(let V=0;V<this.collectedLeaveElements.length;V++)this.processLeaveNode(this.collectedLeaveElements[V]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(V=>V()),this._flushFns=[],this._whenQuietFns.length){const V=this._whenQuietFns;this._whenQuietFns=[],w.length?Sn(w).onDone(()=>{V.forEach(Q=>Q())}):V.forEach(Q=>Q())}}reportError(y){throw function jt($){return new E.vHH(3402,!1)}()}_flushAnimations(y,w){const V=new On,Q=[],de=new Map,Re=[],Le=new Map,ct=new Map,Dt=new Map,_n=new Set;this.disabledNodes.forEach(Un=>{_n.add(Un);const Bn=this.driver.query(Un,".ng-animate-queued",!0);for(let Wn=0;Wn<Bn.length;Wn++)_n.add(Bn[Wn])});const Nn=this.bodyNode,tr=Array.from(this.statesByElement.keys()),Nr=ds(tr,this.collectedEnterElements),En=new Map;let nr=0;Nr.forEach((Un,Bn)=>{const Wn=Sr+nr++;En.set(Bn,Wn),Un.forEach(Xr=>ni(Xr,Wn))});const D=[],P=new Set,z=new Set;for(let Un=0;Un<this.collectedLeaveElements.length;Un++){const Bn=this.collectedLeaveElements[Un],Wn=Bn[xi];Wn&&Wn.setForRemoval&&(D.push(Bn),P.add(Bn),Wn.hasAnimation?this.driver.query(Bn,".ng-star-inserted",!0).forEach(Xr=>P.add(Xr)):z.add(Bn))}const fe=new Map,Ne=ds(tr,Array.from(P));Ne.forEach((Un,Bn)=>{const Wn=$n+nr++;fe.set(Bn,Wn),Un.forEach(Xr=>ni(Xr,Wn))}),y.push(()=>{Nr.forEach((Un,Bn)=>{const Wn=En.get(Bn);Un.forEach(Xr=>zr(Xr,Wn))}),Ne.forEach((Un,Bn)=>{const Wn=fe.get(Bn);Un.forEach(Xr=>zr(Xr,Wn))}),D.forEach(Un=>{this.processLeaveNode(Un)})});const xe=[],Ye=[];for(let Un=this._namespaceList.length-1;Un>=0;Un--)this._namespaceList[Un].drainQueuedTransitions(w).forEach(Wn=>{const Xr=Wn.player,vs=Wn.element;if(xe.push(Xr),this.collectedEnterElements.length){const Cs=vs[xi];if(Cs&&Cs.setForMove){if(Cs.previousTriggersValues&&Cs.previousTriggersValues.has(Wn.triggerName)){const ka=Cs.previousTriggersValues.get(Wn.triggerName),ma=this.statesByElement.get(Wn.element);if(ma&&ma.has(Wn.triggerName)){const Pu=ma.get(Wn.triggerName);Pu.value=ka,ma.set(Wn.triggerName,Pu)}}return void Xr.destroy()}}const Ta=!Nn||!this.driver.containsElement(Nn,vs),Xo=fe.get(vs),ga=En.get(vs),Ti=this._buildInstruction(Wn,V,ga,Xo,Ta);if(Ti.errors&&Ti.errors.length)return void Ye.push(Ti);if(Ta)return Xr.onStart(()=>Se(vs,Ti.fromStyles)),Xr.onDestroy(()=>J(vs,Ti.toStyles)),void Q.push(Xr);if(Wn.isFallbackTransition)return Xr.onStart(()=>Se(vs,Ti.fromStyles)),Xr.onDestroy(()=>J(vs,Ti.toStyles)),void Q.push(Xr);const Qa=[];Ti.timelines.forEach(Cs=>{Cs.stretchStartingKeyframe=!0,this.disabledNodes.has(Cs.element)||Qa.push(Cs)}),Ti.timelines=Qa,V.append(vs,Ti.timelines),Re.push({instruction:Ti,player:Xr,element:vs}),Ti.queriedElements.forEach(Cs=>an(Le,Cs,[]).push(Xr)),Ti.preStyleProps.forEach((Cs,ka)=>{if(Cs.size){let ma=ct.get(ka);ma||ct.set(ka,ma=new Set),Cs.forEach((Pu,Sa)=>ma.add(Sa))}}),Ti.postStyleProps.forEach((Cs,ka)=>{let ma=Dt.get(ka);ma||Dt.set(ka,ma=new Set),Cs.forEach((Pu,Sa)=>ma.add(Sa))})});if(Ye.length){const Un=[];Ye.forEach(Bn=>{Un.push(function pn($,y){return new E.vHH(3505,!1)}())}),xe.forEach(Bn=>Bn.destroy()),this.reportError(Un)}const Kt=new Map,Zt=new Map;Re.forEach(Un=>{const Bn=Un.element;V.has(Bn)&&(Zt.set(Bn,Bn),this._beforeAnimationBuild(Un.player.namespaceId,Un.instruction,Kt))}),Q.forEach(Un=>{const Bn=Un.element;this._getPreviousPlayers(Bn,!1,Un.namespaceId,Un.triggerName,null).forEach(Xr=>{an(Kt,Bn,[]).push(Xr),Xr.destroy()})});const An=D.filter(Un=>No(Un,ct,Dt)),Jn=new Map;ti(Jn,this.driver,z,Dt,G.l3).forEach(Un=>{No(Un,ct,Dt)&&An.push(Un)});const ys=new Map;Nr.forEach((Un,Bn)=>{ti(ys,this.driver,new Set(Un),ct,G.k1)}),An.forEach(Un=>{const Bn=Jn.get(Un),Wn=ys.get(Un);Jn.set(Un,new Map([...Array.from(Bn?.entries()??[]),...Array.from(Wn?.entries()??[])]))});const Li=[],Na=[],Hu={};Re.forEach(Un=>{const{element:Bn,player:Wn,instruction:Xr}=Un;if(V.has(Bn)){if(_n.has(Bn))return Wn.onDestroy(()=>J(Bn,Xr.toStyles)),Wn.disabled=!0,Wn.overrideTotalTime(Xr.totalTime),void Q.push(Wn);let vs=Hu;if(Zt.size>1){let Xo=Bn;const ga=[];for(;Xo=Xo.parentNode;){const Ti=Zt.get(Xo);if(Ti){vs=Ti;break}ga.push(Xo)}ga.forEach(Ti=>Zt.set(Ti,vs))}const Ta=this._buildAnimation(Wn.namespaceId,Xr,Kt,de,ys,Jn);if(Wn.setRealPlayer(Ta),vs===Hu)Li.push(Wn);else{const Xo=this.playersByElement.get(vs);Xo&&Xo.length&&(Wn.parentPlayer=Sn(Xo)),Q.push(Wn)}}else Se(Bn,Xr.fromStyles),Wn.onDestroy(()=>J(Bn,Xr.toStyles)),Na.push(Wn),_n.has(Bn)&&Q.push(Wn)}),Na.forEach(Un=>{const Bn=de.get(Un.element);if(Bn&&Bn.length){const Wn=Sn(Bn);Un.setRealPlayer(Wn)}}),Q.forEach(Un=>{Un.parentPlayer?Un.syncPlayerEvents(Un.parentPlayer):Un.destroy()});for(let Un=0;Un<D.length;Un++){const Bn=D[Un],Wn=Bn[xi];if(zr(Bn,$n),Wn&&Wn.hasAnimation)continue;let Xr=[];if(Le.size){let Ta=Le.get(Bn);Ta&&Ta.length&&Xr.push(...Ta);let Xo=this.driver.query(Bn,Vn,!0);for(let ga=0;ga<Xo.length;ga++){let Ti=Le.get(Xo[ga]);Ti&&Ti.length&&Xr.push(...Ti)}}const vs=Xr.filter(Ta=>!Ta.destroyed);vs.length?es(this,Bn,vs):this.processLeaveNode(Bn)}return D.length=0,Li.forEach(Un=>{this.players.push(Un),Un.onDone(()=>{Un.destroy();const Bn=this.players.indexOf(Un);this.players.splice(Bn,1)}),Un.play()}),Li}elementContainsData(y,w){let V=!1;const Q=w[xi];return Q&&Q.setForRemoval&&(V=!0),this.playersByElement.has(w)&&(V=!0),this.playersByQueriedElement.has(w)&&(V=!0),this.statesByElement.has(w)&&(V=!0),this._fetchNamespace(y).elementContainsData(w)||V}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,w,V,Q,de){let Re=[];if(w){const Le=this.playersByQueriedElement.get(y);Le&&(Re=Le)}else{const Le=this.playersByElement.get(y);if(Le){const ct=!de||de==Qs;Le.forEach(Dt=>{Dt.queued||!ct&&Dt.triggerName!=Q||Re.push(Dt)})}}return(V||Q)&&(Re=Re.filter(Le=>!(V&&V!=Le.namespaceId||Q&&Q!=Le.triggerName))),Re}_beforeAnimationBuild(y,w,V){const de=w.element,Re=w.isRemovalTransition?void 0:y,Le=w.isRemovalTransition?void 0:w.triggerName;for(const ct of w.timelines){const Dt=ct.element,_n=Dt!==de,Nn=an(V,Dt,[]);this._getPreviousPlayers(Dt,_n,Re,Le,w.toState).forEach(Nr=>{const En=Nr.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),Nr.destroy(),Nn.push(Nr)})}Se(de,w.fromStyles)}_buildAnimation(y,w,V,Q,de,Re){const Le=w.triggerName,ct=w.element,Dt=[],_n=new Set,Nn=new Set,tr=w.timelines.map(En=>{const nr=En.element;_n.add(nr);const D=nr[xi];if(D&&D.removedBeforeQueried)return new G.ZN(En.duration,En.delay);const P=nr!==ct,z=function eo($){const y=[];return di($,y),y}((V.get(nr)||wo).map(Kt=>Kt.getRealPlayer())).filter(Kt=>!!Kt.element&&Kt.element===nr),fe=de.get(nr),Ne=Re.get(nr),xe=kn(0,this._normalizer,0,En.keyframes,fe,Ne),Ye=this._buildPlayer(En,xe,z);if(En.subTimeline&&Q&&Nn.add(nr),P){const Kt=new Gi(y,Le,nr);Kt.setRealPlayer(Ye),Dt.push(Kt)}return Ye});Dt.forEach(En=>{an(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function Ts($,y,w){let V=$.get(y);if(V){if(V.length){const Q=V.indexOf(w);V.splice(Q,1)}0==V.length&&$.delete(y)}return V}(this.playersByQueriedElement,En.element,En))}),_n.forEach(En=>ni(En,Ln));const Nr=Sn(tr);return Nr.onDestroy(()=>{_n.forEach(En=>zr(En,Ln)),J(ct,w.toStyles)}),Nn.forEach(En=>{an(Q,En,[]).push(Nr)}),Nr}_buildPlayer(y,w,V){return w.length>0?this.driver.animate(y.element,w,y.duration,y.delay,y.easing,V):new G.ZN(y.duration,y.delay)}}class Gi{constructor(y,w,V){this.namespaceId=y,this.triggerName=w,this.element=V,this._player=new G.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((w,V)=>{w.forEach(Q=>yr(y,V,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const w=this._player;w.triggerCallback&&y.onStart(()=>w.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,w){an(this._queuedCallbacks,y,[]).push(w)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const w=this._player;w.triggerCallback&&w.triggerCallback(y)}}function Ss($){return $&&1===$.nodeType}function Bs($,y){const w=$.style.display;return $.style.display=y??"none",w}function ti($,y,w,V,Q){const de=[];w.forEach(ct=>de.push(Bs(ct)));const Re=[];V.forEach((ct,Dt)=>{const _n=new Map;ct.forEach(Nn=>{const tr=y.computeStyle(Dt,Nn,Q);_n.set(Nn,tr),(!tr||0==tr.length)&&(Dt[xi]=ws,Re.push(Dt))}),$.set(Dt,_n)});let Le=0;return w.forEach(ct=>Bs(ct,de[Le++])),Re}function ds($,y){const w=new Map;if($.forEach(Le=>w.set(Le,[])),0==y.length)return w;const V=1,Q=new Set(y),de=new Map;function Re(Le){if(!Le)return V;let ct=de.get(Le);if(ct)return ct;const Dt=Le.parentNode;return ct=w.has(Dt)?Dt:Q.has(Dt)?V:Re(Dt),de.set(Le,ct),ct}return y.forEach(Le=>{const ct=Re(Le);ct!==V&&w.get(ct).push(Le)}),w}function ni($,y){$.classList?.add(y)}function zr($,y){$.classList?.remove(y)}function es($,y,w){Sn(w).onDone(()=>$.processLeaveNode(y))}function di($,y){for(let w=0;w<$.length;w++){const V=$[w];V instanceof G.ZE?di(V.players,y):y.push(V)}}function No($,y,w){const V=w.get($);if(!V)return!1;let Q=y.get($);return Q?V.forEach(de=>Q.add(de)):y.set($,V),w.delete($),!0}class mr{constructor(y,w,V){this.bodyNode=y,this._driver=w,this._normalizer=V,this._triggerCache={},this.onRemovalComplete=(Q,de)=>{},this._transitionEngine=new Oo(y,w,V),this._timelineEngine=new _o(y,w,V),this._transitionEngine.onRemovalComplete=(Q,de)=>this.onRemovalComplete(Q,de)}registerTrigger(y,w,V,Q,de){const Re=y+"-"+Q;let Le=this._triggerCache[Re];if(!Le){const ct=[],Dt=[],_n=li(this._driver,de,ct,Dt);if(ct.length)throw function fn($,y){return new E.vHH(3404,!1)}();Le=function Vi($,y,w){return new Fs($,y,w)}(Q,_n,this._normalizer),this._triggerCache[Re]=Le}this._transitionEngine.registerTrigger(w,Q,Le)}register(y,w){this._transitionEngine.register(y,w)}destroy(y,w){this._transitionEngine.destroy(y,w)}onInsert(y,w,V,Q){this._transitionEngine.insertNode(y,w,V,Q)}onRemove(y,w,V,Q){this._transitionEngine.removeNode(y,w,Q||!1,V)}disableAnimations(y,w){this._transitionEngine.markElementAsDisabled(y,w)}process(y,w,V,Q){if("@"==V.charAt(0)){const[de,Re]=Jt(V);this._timelineEngine.command(de,w,Re,Q)}else this._transitionEngine.trigger(y,w,V,Q)}listen(y,w,V,Q,de){if("@"==V.charAt(0)){const[Re,Le]=Jt(V);return this._timelineEngine.listen(Re,w,Le,de)}return this._transitionEngine.listen(y,w,V,Q,de)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let no=(()=>{class ${constructor(w,V,Q){this._element=w,this._startStyles=V,this._endStyles=Q,this._state=0;let de=$.initialStylesByElement.get(w);de||$.initialStylesByElement.set(w,de=new Map),this._initialStyles=de}start(){this._state<1&&(this._startStyles&&J(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(J(this._element,this._initialStyles),this._endStyles&&(J(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(Se(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Se(this._element,this._endStyles),this._endStyles=null),J(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function pi($){let y=null;return $.forEach((w,V)=>{(function wa($){return"display"===$||"position"===$})(V)&&(y=y||new Map,y.set(V,w))}),y}class Ni{constructor(y,w,V,Q){this.element=y,this.keyframes=w,this.options=V,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=V.duration,this._delay=V.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const w=[];return y.forEach(V=>{w.push(Object.fromEntries(V))}),w}_triggerWebAnimation(y,w,V){return y.animate(this._convertKeyframesToObject(w),V)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((V,Q)=>{"offset"!==Q&&y.set(Q,this._finished?V:H(this.element,Q))}),this.currentSnapshot=y}triggerCallback(y){const w="start"===y?this._onStartFns:this._onDoneFns;w.forEach(V=>V()),w.length=0}}class ro{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,w){return!1}containsElement(y,w){return bn(y,w)}getParentElement(y){return Hn(y)}query(y,w,V){return Xt(y,w,V)}computeStyle(y,w,V){return window.getComputedStyle(y)[w]}animate(y,w,V,Q,de,Re=[]){const ct={duration:V,delay:Q,fill:0==Q?"both":"forwards"};de&&(ct.easing=de);const Dt=new Map,_n=Re.filter(Nr=>Nr instanceof Ni);(function Vr($,y){return 0===$||0===y})(V,Q)&&_n.forEach(Nr=>{Nr.currentSnapshot.forEach((En,nr)=>Dt.set(nr,En))});let Nn=function vt($){return $.length?$[0]instanceof Map?$:$.map(y=>Ot(y)):[]}(w).map(Nr=>he(Nr));Nn=function ut($,y,w){if(w.size&&y.length){let V=y[0],Q=[];if(w.forEach((de,Re)=>{V.has(Re)||Q.push(Re),V.set(Re,de)}),Q.length)for(let de=1;de<y.length;de++){let Re=y[de];Q.forEach(Le=>Re.set(Le,H($,Le)))}}return y}(y,Nn,Dt);const tr=function wi($,y){let w=null,V=null;return Array.isArray(y)&&y.length?(w=pi(y[0]),y.length>1&&(V=pi(y[y.length-1]))):y instanceof Map&&(w=pi(y)),w||V?new no($,w,V):null}(y,Nn);return new Ni(y,Nn,ct,tr)}}var Wi=j(6895);let qn=(()=>{class $ extends G._j{constructor(w,V){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(V.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(w){const V=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(w)?(0,G.vP)(w):w;return ko(this._renderer,null,V,"register",[Q]),new uo(V,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(E.LFG(E.FYo),E.LFG(Wi.K0))},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})();class uo extends G.LC{constructor(y,w){super(),this._id=y,this._renderer=w}create(y,w){return new Es(this._id,y,w||{},this._renderer)}}class Es{constructor(y,w,V,Q){this.id=y,this.element=w,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",V)}_listen(y,w){return this._renderer.listen(this.element,`@@${this.id}:${y}`,w)}_command(y,...w){return ko(this._renderer,this.element,this.id,y,w)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ko($,y,w,V,Q){return $.setProperty(y,`@@${w}:${V}`,Q)}const As="@.disabled";let Eo=(()=>{class ${constructor(w,V,Q){this.delegate=w,this.engine=V,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),V.onRemovalComplete=(de,Re)=>{const Le=Re?.parentNode(de);Le&&Re.removeChild(Le,de)}}createRenderer(w,V){const de=this.delegate.createRenderer(w,V);if(!(w&&V&&V.data&&V.data.animation)){let _n=this._rendererCache.get(de);return _n||(_n=new bo("",de,this.engine,()=>this._rendererCache.delete(de)),this._rendererCache.set(de,_n)),_n}const Re=V.id,Le=V.id+"-"+this._currentId;this._currentId++,this.engine.register(Le,w);const ct=_n=>{Array.isArray(_n)?_n.forEach(ct):this.engine.registerTrigger(Re,Le,w,_n.name,_n)};return V.data.animation.forEach(ct),new Io(this,Le,de,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,V,Q){w>=0&&w<this._microtaskId?this._zone.run(()=>V(Q)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(de=>{const[Re,Le]=de;Re(Le)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([V,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(E.LFG(E.FYo),E.LFG(mr),E.LFG(E.R0b))},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})();class bo{constructor(y,w,V,Q){this.namespaceId=y,this.delegate=w,this.engine=V,this._onDestroy=Q,this.destroyNode=this.delegate.destroyNode?de=>w.destroyNode(de):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,w){return this.delegate.createElement(y,w)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,w){this.delegate.appendChild(y,w),this.engine.onInsert(this.namespaceId,w,y,!1)}insertBefore(y,w,V,Q=!0){this.delegate.insertBefore(y,w,V),this.engine.onInsert(this.namespaceId,w,y,Q)}removeChild(y,w,V){this.engine.onRemove(this.namespaceId,w,this.delegate,V)}selectRootElement(y,w){return this.delegate.selectRootElement(y,w)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,w,V,Q){this.delegate.setAttribute(y,w,V,Q)}removeAttribute(y,w,V){this.delegate.removeAttribute(y,w,V)}addClass(y,w){this.delegate.addClass(y,w)}removeClass(y,w){this.delegate.removeClass(y,w)}setStyle(y,w,V,Q){this.delegate.setStyle(y,w,V,Q)}removeStyle(y,w,V){this.delegate.removeStyle(y,w,V)}setProperty(y,w,V){"@"==w.charAt(0)&&w==As?this.disableAnimations(y,!!V):this.delegate.setProperty(y,w,V)}setValue(y,w){this.delegate.setValue(y,w)}listen(y,w,V){return this.delegate.listen(y,w,V)}disableAnimations(y,w){this.engine.disableAnimations(y,w)}}class Io extends bo{constructor(y,w,V,Q,de){super(w,V,Q,de),this.factory=y,this.namespaceId=w}setProperty(y,w,V){"@"==w.charAt(0)?"."==w.charAt(1)&&w==As?this.disableAnimations(y,V=void 0===V||!!V):this.engine.process(this.namespaceId,y,w.slice(1),V):this.delegate.setProperty(y,w,V)}listen(y,w,V){if("@"==w.charAt(0)){const Q=function O($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(y);let de=w.slice(1),Re="";return"@"!=de.charAt(0)&&([de,Re]=function F($){const y=$.indexOf(".");return[$.substring(0,y),$.slice(y+1)]}(de)),this.engine.listen(this.namespaceId,Q,de,Re,Le=>{this.factory.scheduleListenerCallback(Le._data||-1,V,Le)})}return this.delegate.listen(y,w,V)}}const gn=[{provide:G._j,useClass:qn},{provide:bi,useFactory:function re(){return new xo}},{provide:mr,useClass:(()=>{class $ extends mr{constructor(w,V,Q,de){super(w.body,V,Q)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(E.LFG(Wi.K0),E.LFG(Ir),E.LFG(bi),E.LFG(E.z2F))},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:E.FYo,useFactory:function Xe($,y,w){return new Eo($,y,w)},deps:[p.se,mr,E.R0b]}],Rr=[{provide:Ir,useFactory:()=>new ro},{provide:E.QbO,useValue:"BrowserAnimations"},...gn],Jr=[{provide:Ir,useClass:dr},{provide:E.QbO,useValue:"NoopAnimations"},...gn];let hs=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?Jr:Rr}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$}),$.\u0275inj=E.cJS({providers:Rr,imports:[p.b2]}),$})();var Ki=j(1194);let Ri=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-not-found"]],decls:13,vars:0,consts:[[1,"container"],[1,"row","justify-content-center","align-items-center"],["src","./assets/notfound.png",2,"width","20vw"],[1,"row-10","text-center"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["routerLink","/home",1,"btn","btn-primary"]],template:function(w,V){1&w&&(E.TgZ(0,"div",0),E._UZ(1,"br"),E.TgZ(2,"div",1),E._UZ(3,"img",2),E.qZA(),E.TgZ(4,"div",3)(5,"p",4)(6,"span",5),E._uU(7,"Opps!"),E.qZA(),E._uU(8," P\xe1gina no encontrada."),E.qZA(),E.TgZ(9,"p",6),E._uU(10," La p\xe1gina que buscas no existe. "),E.qZA(),E.TgZ(11,"a",7),E._uU(12,"Ir al Inicio"),E.qZA()()())},dependencies:[Ki.rH]}),$})(),Ii=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"text-center"],[1,"container"],[1,"row","justify-content-center"],["src","./assets/home.png",2,"width","15vw"]],template:function(w,V){1&w&&(E.TgZ(0,"h1",0),E._uU(1,"\xa1Bienvenido a la Sala de Juegos!"),E.qZA(),E.TgZ(2,"div",1)(3,"div",2),E._UZ(4,"img",3),E.qZA()())}}),$})();var lo=j(727),$s=j(1197),xs=j(3998),Fo=j.n(xs),js=j(1649),qi=j(5144),Hs=j(433);let gi=(()=>{class ${constructor(w,V,Q){this.servBase=w,this.servUsuario=V,this.router=Q,this.miUsuario=new $s.b("",""),this.sub=lo.w0.EMPTY}ngOnInit(){this.sub=this.servBase.traer("Usuarios")}ngOnDestroy(){this.sub.unsubscribe()}ingresar(){this.servUsuario.validarUsuario(this.servBase.array,this.miUsuario,"T")?(Fo().fire("Ingreso correctamente!","Haga click para continuar","success"),this.servUsuario.setActivo=this.miUsuario,this.servBase.guardar("Log",{usuario:{mail:this.miUsuario.mail,clave:this.miUsuario.clave},fecha:(new Date).toString(),accion:"Login"}),this.router.navigateByUrl("home")):Fo().fire("Datos incorrectos!","Haga click para continuar","error")}llenar(w,V){this.miUsuario.mail=w,this.miUsuario.clave=V}}return $.\u0275fac=function(w){return new(w||$)(E.Y36(js.j),E.Y36(qi.J),E.Y36(Ki.F0))},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[1,"fadeIn","first"],["src","./assets/login.png","id","icon","alt","User Icon",2,"width","30px"],[3,"ngSubmit"],["for","emailL"],["type","text","id","emailL","name","loginEmail","placeholder","Ingrese mail",1,"fadeIn","second",3,"ngModel","ngModelChange"],["for","claveL"],["type","password","id","claveL","name","loginClave","placeholder","Ingrese contrase\xf1a",1,"fadeIn","third",3,"ngModel","ngModelChange"],[1,"row","justify-content-center"],["type","submit","value","Ingresar",1,"fadeIn","fourth","p-2","col-2"],["type","button","value","Invalido",1,"fadeIn","fourth","p-2","col-2",3,"click"],["type","button","value","valido",1,"fadeIn","fourth","p-2","col-2",3,"click"]],template:function(w,V){1&w&&(E.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),E._uU(3," Ingreso "),E.qZA(),E.TgZ(4,"div",3),E._UZ(5,"img",4),E.qZA(),E.TgZ(6,"form",5),E.NdJ("ngSubmit",function(){return V.ingresar()}),E.TgZ(7,"label",6),E._uU(8,"Mail:"),E.qZA(),E.TgZ(9,"input",7),E.NdJ("ngModelChange",function(de){return V.miUsuario.mail=de}),E.qZA(),E.TgZ(10,"label",8),E._uU(11,"Contrase\xf1a:"),E.qZA(),E.TgZ(12,"input",9),E.NdJ("ngModelChange",function(de){return V.miUsuario.clave=de}),E.qZA(),E.TgZ(13,"div",10),E._UZ(14,"input",11),E.TgZ(15,"input",12),E.NdJ("click",function(){return V.llenar("noesta@gmail.com","asd789")}),E.qZA(),E.TgZ(16,"input",13),E.NdJ("click",function(){return V.llenar("esta@gmail.com","hola123")}),E.qZA()()()()()),2&w&&(E.xp6(9),E.Q6J("ngModel",V.miUsuario.mail),E.xp6(3),E.Q6J("ngModel",V.miUsuario.clave))},dependencies:[Hs._Y,Hs.Fj,Hs.JJ,Hs.JL,Hs.On,Hs.F],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),$})();var Ps=j(4004);const Zo=function($){return{mio:$}},fs=function($,y){return{"text-primary":$,"text-danger":y}};function co($,y){if(1&$&&(E.TgZ(0,"div",8)(1,"h4",9),E._uU(2),E.TgZ(3,"p",10),E._uU(4),E.qZA(),E._uU(5,")"),E.qZA(),E.TgZ(6,"p",11),E._uU(7),E.qZA()()),2&$){const w=y.$implicit,V=E.oxw(2);E.Q6J("ngClass",E.VKq(5,Zo,w.usuario==V.mailUsuario)),E.xp6(1),E.Q6J("ngClass",E.WLB(7,fs,w.usuario==V.mailUsuario,w.usuario!=V.mailUsuario)),E.xp6(1),E.hij("",w.usuario," ("),E.xp6(2),E.Oqu(w.hora),E.xp6(3),E.Oqu(w.mensaje)}}function Gr($,y){if(1&$&&(E.TgZ(0,"div",6),E.YNc(1,co,8,10,"div",7),E.qZA()),2&$){const w=E.oxw();E.xp6(1),E.Q6J("ngForOf",w.chats)}}function Yo($,y){if(1&$){const w=E.EpF();E.TgZ(0,"input",12),E.NdJ("ngModelChange",function(Q){E.CHM(w);const de=E.oxw();return E.KtG(de.mensaje=Q)})("keyup.enter",function(){E.CHM(w);const Q=E.oxw();return E.KtG(Q.enviar())}),E.qZA()}if(2&$){const w=E.oxw();E.Q6J("ngModel",w.mensaje)}}function ia($,y){1&$&&(E.TgZ(0,"div",13)(1,"a",14),E._uU(2,"Inicie Sesion "),E.qZA(),E.TgZ(3,"p"),E._uU(4,"o"),E.qZA(),E.TgZ(5,"a",15),E._uU(6," Registrese"),E.qZA()(),E.TgZ(7,"p"),E._uU(8,"para acceder al chat"),E.qZA())}const Lo=[{path:"home",component:Ii},{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:gi},{path:"registro",loadChildren:()=>j.e(368).then(j.bind(j,1368)).then($=>$.MRegistroModule)},{path:"quienSoy",loadChildren:()=>Promise.all([j.e(592),j.e(818)]).then(j.bind(j,6818)).then($=>$.MQuienSoyModule)},{path:"juegos",loadChildren:()=>j.e(426).then(j.bind(j,6426)).then($=>$.MJuegosModule)},{path:"chat",component:(()=>{class ${constructor(w,V){this.servBase=w,this.servUsuario=V,this.mensaje="",this.chats=[],this.mailUsuario="",this.susChat=this.servBase.chat().subscribe(()=>{this.chats=this.servBase.chats}),this.susUsuario=this.servUsuario.getActivo.pipe((0,Ps.U)(Q=>{this.mailUsuario=Q.mail})).subscribe()}ngOnDestroy(){this.susChat.unsubscribe(),this.susUsuario.unsubscribe()}enviar(){0!=this.mensaje.length&&this.servBase.guardar("Chat",{usuario:this.mailUsuario,hora:(new Date).toLocaleTimeString(),mensaje:this.mensaje}),this.mensaje=""}}return $.\u0275fac=function(w){return new(w||$)(E.Y36(js.j),E.Y36(qi.J))},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-chat"]],decls:8,vars:3,consts:[[1,"contenedor"],[1,"mt-2"],[1,"chat"],["class","mensajes",4,"ngIf","ngIfElse"],["type","text","class","form-control mt-2","name","mensaje","placeholder","Presione ENTER para enviar el mensaje",3,"ngModel","ngModelChange","keyup.enter",4,"ngIf"],["incorrecto",""],[1,"mensajes"],["class","msj",3,"ngClass",4,"ngFor","ngForOf"],[1,"msj",3,"ngClass"],[1,"usuHs",3,"ngClass"],[1,"hora"],[1,"mensaje"],["type","text","name","mensaje","placeholder","Presione ENTER para enviar el mensaje",1,"form-control","mt-2",3,"ngModel","ngModelChange","keyup.enter"],[1,"usuHs"],["routerLink","/login"],["routerLink","/registro"]],template:function(w,V){if(1&w&&(E.TgZ(0,"div",0)(1,"h1",1),E._uU(2,"Chat"),E.qZA(),E.TgZ(3,"div",2),E.YNc(4,Gr,2,1,"div",3),E.YNc(5,Yo,1,1,"input",4),E.qZA()(),E.YNc(6,ia,9,0,"ng-template",null,5,E.W1O)),2&w){const Q=E.MAs(7);E.xp6(4),E.Q6J("ngIf",V.mailUsuario)("ngIfElse",Q),E.xp6(1),E.Q6J("ngIf",V.mailUsuario)}},dependencies:[Wi.mk,Wi.sg,Wi.O5,Ki.rH,Hs.Fj,Hs.JJ,Hs.On],styles:[".mensajes[_ngcontent-%COMP%]{overflow-y:scroll;height:380px;padding:10px}.chat[_ngcontent-%COMP%]{padding:10px;width:30%;height:20%;border:3px solid #bc21c2;border-radius:20px}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.mensaje[_ngcontent-%COMP%]{font-size:1.2em}.msj[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mio[_ngcontent-%COMP%]{align-items:flex-end}.usuHs[_ngcontent-%COMP%]{display:flex}.hora[_ngcontent-%COMP%]{margin-top:.2em;font-size:.8em;font-weight:100}"]}),$})()},{path:"**",component:Ri}];let Vo=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$}),$.\u0275inj=E.cJS({imports:[Ki.Bz.forRoot(Lo),Ki.Bz]}),$})();function ps($,y){if(1&$&&(E.TgZ(0,"li",5)(1,"p",1),E._uU(2),E.ALo(3,"async"),E.qZA()()),2&$){const w=E.oxw();let V;E.xp6(2),E.Oqu(null==(V=E.lcZ(3,1,w.usuario))?null:V.mail)}}function ho($,y){1&$&&(E.TgZ(0,"li",5)(1,"a",10),E._uU(2,"Ingresar"),E.qZA()())}function Qo($,y){1&$&&(E.TgZ(0,"li",5)(1,"a",11),E._uU(2,"Registrarse"),E.qZA()())}function ri($,y){if(1&$){const w=E.EpF();E.TgZ(0,"li",5)(1,"a",12),E.NdJ("click",function(){E.CHM(w);const Q=E.oxw();return E.KtG(Q.salir())}),E._uU(2,"Salir"),E.qZA()()}}let ii=(()=>{class ${constructor(w){this.servUsuario=w,this.usuario=this.servUsuario.getActivo}salir(){Fo().fire("Sesion finalizada!","Haga click para continuar","success"),this.servUsuario.setActivo=new $s.b("","")}}return $.\u0275fac=function(w){return new(w||$)(E.Y36(qi.J))},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-menu"]],decls:26,vars:12,consts:[[1,"container-fluid","bg-dark","flexHeader"],[1,"text-white"],["routerLink","home",1,"text-white"],[1,"list-unstyled","list-inline"],["class","list-inline-item p-3",4,"ngIf"],[1,"list-inline-item","p-3"],["routerLink","juegos",1,"text-white"],["routerLink","puntuacion",1,"text-white"],["routerLink","chat",1,"text-white"],["routerLink","quienSoy",1,"text-white"],["routerLink","login",1,"text-white"],["routerLink","registro",1,"text-white"],["routerLink","home",1,"text-white",3,"click"]],template:function(w,V){if(1&w&&(E.TgZ(0,"div",0)(1,"h4",1)(2,"a",2),E._uU(3,"Sala de juegos - Torrez Ailen"),E.qZA()(),E.TgZ(4,"nav")(5,"ul",3),E.YNc(6,ps,4,3,"li",4),E.ALo(7,"async"),E.TgZ(8,"li",5)(9,"a",6),E._uU(10,"Juegos"),E.qZA()(),E.TgZ(11,"li",5)(12,"a",7),E._uU(13,"Puntuaciones"),E.qZA()(),E.YNc(14,ho,3,0,"li",4),E.ALo(15,"async"),E.YNc(16,Qo,3,0,"li",4),E.ALo(17,"async"),E.YNc(18,ri,3,0,"li",4),E.ALo(19,"async"),E.TgZ(20,"li",5)(21,"a",8),E._uU(22,"Chat"),E.qZA()(),E.TgZ(23,"li",5)(24,"a",9),E._uU(25,"Quien Soy"),E.qZA()()()()()),2&w){let Q,de,Re,Le;E.xp6(6),E.Q6J("ngIf",null==(Q=E.lcZ(7,4,V.usuario))?null:Q.mail),E.xp6(8),E.Q6J("ngIf",!(null!=(de=E.lcZ(15,6,V.usuario))&&de.mail)),E.xp6(2),E.Q6J("ngIf",!(null!=(Re=E.lcZ(17,8,V.usuario))&&Re.mail)),E.xp6(2),E.Q6J("ngIf",null==(Le=E.lcZ(19,10,V.usuario))?null:Le.mail)}},dependencies:[Wi.O5,Ki.rH,Wi.Ov],styles:[".flexHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),$})(),vr=(()=>{class ${constructor(){this.title="TP_SalaDeJuegos"}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=E.Xpm({type:$,selectors:[["app-root"]],decls:2,vars:0,template:function(w,V){1&w&&E._UZ(0,"app-menu")(1,"router-outlet")},dependencies:[Ki.lC,ii]}),$})();var sa=j(529),gs=j(3692);const Co={firebase:{projectId:"saladejuegos-torrez",appId:"1:508436069531:web:e3cc1aedd42bc9a2765a3e",storageBucket:"saladejuegos-torrez.appspot.com",apiKey:"AIzaSyBxhJVfCOfIyQctjrrfRACwcua7aSUQato",authDomain:"saladejuegos-torrez.firebaseapp.com",messagingSenderId:"508436069531"}};var fo=j(4976),Ma=j(259);j(8502),j(2090),j(6881),j(1877),j(4859);class te{constructor(){return(0,fo.vb)("auth")}}var la=j(2313),_l=j(2810);class ca{constructor(y){return y}}const da="firestore",$i=new E.OlP("angularfire2.firestore-instances");function ba($){return(y,w)=>{const V=y.runOutsideAngular(()=>$(w));return new ca(V)}}const Ia={provide:class nl{constructor(){return(0,fo.vb)(da)}},deps:[[new E.FiY,$i]]},Gs={provide:ca,useFactory:function ji($,y){const w=(0,fo.JM)(da,$,y);return w&&new ca(w)},deps:[[new E.FiY,$i],gs.Ot]};let Ci=(()=>{class ${constructor(){(0,Ma.KN)("angularfire",fo.q4.full,"fst")}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$}),$.\u0275inj=E.cJS({providers:[Gs,Ia]}),$})();function du($,...y){return{ngModule:Ci,providers:[{provide:$i,useFactory:ba($),multi:!0,deps:[E.R0b,E.zs3,fo.HU,gs.z6,[new E.FiY,te],[new E.FiY,la.nm],...y]}]}}const Ks=(0,fo.u3)(_l.ad,!0);var ec=j(2011);let al=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=E.oAB({type:$,bootstrap:[vr]}),$.\u0275inj=E.cJS({providers:[{provide:ec.Dh,useValue:Co.firebase}],imports:[p.b2,hs,Vo,sa.JF,Hs.u5,(0,gs.hX)(()=>(0,gs.ZF)(Co.firebase)),du(()=>Ks())]}),$})();p.q6().bootstrapModule(al).catch($=>console.error($))},1135:(ln,je,j)=>{"use strict";j.d(je,{X:()=>E});var p=j(7579);class E extends p.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const Ce=super._subscribe(Te);return!Ce.closed&&Te.next(this._value),Ce}getValue(){const{hasError:Te,thrownError:Ce,_value:Be}=this;if(Te)throw Ce;return this._throwIfClosed(),Be}next(Te){super.next(this._value=Te)}}},9751:(ln,je,j)=>{"use strict";j.d(je,{y:()=>we});var p=j(2961),E=j(727),G=j(8822),Te=j(9635),Ce=j(2416),Be=j(576),Fe=j(2806);let we=(()=>{class ke{constructor(yt){yt&&(this._subscribe=yt)}lift(yt){const kt=new ke;return kt.source=this,kt.operator=yt,kt}subscribe(yt,kt,Bt){const qe=function De(ke){return ke&&ke instanceof p.Lv||function pe(ke){return ke&&(0,Be.m)(ke.next)&&(0,Be.m)(ke.error)&&(0,Be.m)(ke.complete)}(ke)&&(0,E.Nn)(ke)}(yt)?yt:new p.Hp(yt,kt,Bt);return(0,Fe.x)(()=>{const{operator:wt,source:rt}=this;qe.add(wt?wt.call(qe,rt):rt?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(yt){try{return this._subscribe(yt)}catch(kt){yt.error(kt)}}forEach(yt,kt){return new(kt=Qe(kt))((Bt,qe)=>{const wt=new p.Hp({next:rt=>{try{yt(rt)}catch(Lt){qe(Lt),wt.unsubscribe()}},error:qe,complete:Bt});this.subscribe(wt)})}_subscribe(yt){var kt;return null===(kt=this.source)||void 0===kt?void 0:kt.subscribe(yt)}[G.L](){return this}pipe(...yt){return(0,Te.U)(yt)(this)}toPromise(yt){return new(yt=Qe(yt))((kt,Bt)=>{let qe;this.subscribe(wt=>qe=wt,wt=>Bt(wt),()=>kt(qe))})}}return ke.create=gt=>new ke(gt),ke})();function Qe(ke){var gt;return null!==(gt=ke??Ce.v.Promise)&&void 0!==gt?gt:Promise}},7579:(ln,je,j)=>{"use strict";j.d(je,{x:()=>Fe});var p=j(9751),E=j(727);const Te=(0,j(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=j(8737),Be=j(2806);let Fe=(()=>{class Qe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(De){const ke=new we(this,this);return ke.operator=De,ke}_throwIfClosed(){if(this.closed)throw new Te}next(De){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(De)}})}error(De){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=De;const{observers:ke}=this;for(;ke.length;)ke.shift().error(De)}})}complete(){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:De}=this;for(;De.length;)De.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var De;return(null===(De=this.observers)||void 0===De?void 0:De.length)>0}_trySubscribe(De){return this._throwIfClosed(),super._trySubscribe(De)}_subscribe(De){return this._throwIfClosed(),this._checkFinalizedStatuses(De),this._innerSubscribe(De)}_innerSubscribe(De){const{hasError:ke,isStopped:gt,observers:yt}=this;return ke||gt?E.Lc:(this.currentObservers=null,yt.push(De),new E.w0(()=>{this.currentObservers=null,(0,Ce.P)(yt,De)}))}_checkFinalizedStatuses(De){const{hasError:ke,thrownError:gt,isStopped:yt}=this;ke?De.error(gt):yt&&De.complete()}asObservable(){const De=new p.y;return De.source=this,De}}return Qe.create=(pe,De)=>new we(pe,De),Qe})();class we extends Fe{constructor(pe,De){super(),this.destination=pe,this.source=De}next(pe){var De,ke;null===(ke=null===(De=this.destination)||void 0===De?void 0:De.next)||void 0===ke||ke.call(De,pe)}error(pe){var De,ke;null===(ke=null===(De=this.destination)||void 0===De?void 0:De.error)||void 0===ke||ke.call(De,pe)}complete(){var pe,De;null===(De=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===De||De.call(pe)}_subscribe(pe){var De,ke;return null!==(ke=null===(De=this.source)||void 0===De?void 0:De.subscribe(pe))&&void 0!==ke?ke:E.Lc}}},2961:(ln,je,j)=>{"use strict";j.d(je,{Hp:()=>Bt,Lv:()=>ke});var p=j(576),E=j(727),G=j(2416),Te=j(7849);function Ce(){}const Be=Qe("C",void 0,void 0);function Qe(_e,Pe,it){return{kind:_e,value:Pe,error:it}}var pe=j(3410),De=j(2806);class ke extends E.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,E.Nn)(Pe)&&Pe.add(this)):this.destination=Lt}static create(Pe,it,At){return new Bt(Pe,it,At)}next(Pe){this.isStopped?rt(function we(_e){return Qe("N",_e,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?rt(function Fe(_e){return Qe("E",void 0,_e)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?rt(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function yt(_e,Pe){return gt.call(_e,Pe)}class kt{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:it}=this;if(it.next)try{it.next(Pe)}catch(At){qe(At)}}error(Pe){const{partialObserver:it}=this;if(it.error)try{it.error(Pe)}catch(At){qe(At)}else qe(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(it){qe(it)}}}class Bt extends ke{constructor(Pe,it,At){let ht;if(super(),(0,p.m)(Pe)||!Pe)ht={next:Pe??void 0,error:it??void 0,complete:At??void 0};else{let ze;this&&G.v.useDeprecatedNextContext?(ze=Object.create(Pe),ze.unsubscribe=()=>this.unsubscribe(),ht={next:Pe.next&&yt(Pe.next,ze),error:Pe.error&&yt(Pe.error,ze),complete:Pe.complete&&yt(Pe.complete,ze)}):ht=Pe}this.destination=new kt(ht)}}function qe(_e){G.v.useDeprecatedSynchronousErrorHandling?(0,De.O)(_e):(0,Te.h)(_e)}function rt(_e,Pe){const{onStoppedNotification:it}=G.v;it&&pe.z.setTimeout(()=>it(_e,Pe))}const Lt={closed:!0,next:Ce,error:function wt(_e){throw _e},complete:Ce}},727:(ln,je,j)=>{"use strict";j.d(je,{Lc:()=>Be,w0:()=>Ce,Nn:()=>Fe});var p=j(576);const G=(0,j(3888).d)(Qe=>function(De){Qe(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((ke,gt)=>`${gt+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De});var Te=j(8737);class Ce{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:De}=this;if(De)if(this._parentage=null,Array.isArray(De))for(const yt of De)yt.remove(this);else De.remove(this);const{initialTeardown:ke}=this;if((0,p.m)(ke))try{ke()}catch(yt){pe=yt instanceof G?yt.errors:[yt]}const{_finalizers:gt}=this;if(gt){this._finalizers=null;for(const yt of gt)try{we(yt)}catch(kt){pe=pe??[],kt instanceof G?pe=[...pe,...kt.errors]:pe.push(kt)}}if(pe)throw new G(pe)}}add(pe){var De;if(pe&&pe!==this)if(this.closed)we(pe);else{if(pe instanceof Ce){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(De=this._finalizers)&&void 0!==De?De:[]).push(pe)}}_hasParent(pe){const{_parentage:De}=this;return De===pe||Array.isArray(De)&&De.includes(pe)}_addParent(pe){const{_parentage:De}=this;this._parentage=Array.isArray(De)?(De.push(pe),De):De?[De,pe]:pe}_removeParent(pe){const{_parentage:De}=this;De===pe?this._parentage=null:Array.isArray(De)&&(0,Te.P)(De,pe)}remove(pe){const{_finalizers:De}=this;De&&(0,Te.P)(De,pe),pe instanceof Ce&&pe._removeParent(this)}}Ce.EMPTY=(()=>{const Qe=new Ce;return Qe.closed=!0,Qe})();const Be=Ce.EMPTY;function Fe(Qe){return Qe instanceof Ce||Qe&&"closed"in Qe&&(0,p.m)(Qe.remove)&&(0,p.m)(Qe.add)&&(0,p.m)(Qe.unsubscribe)}function we(Qe){(0,p.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(ln,je,j)=>{"use strict";j.d(je,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(ln,je,j)=>{"use strict";j.d(je,{z:()=>Ce});var p=j(8189),G=j(7669),Te=j(8996);function Ce(...Be){return function E(){return(0,p.J)(1)}()((0,Te.D)(Be,(0,G.yG)(Be)))}},515:(ln,je,j)=>{"use strict";j.d(je,{E:()=>E});const E=new(j(9751).y)(Ce=>Ce.complete())},8996:(ln,je,j)=>{"use strict";j.d(je,{D:()=>Pe});var p=j(8421),E=j(5363),G=j(9468),Be=j(9751),we=j(2202),Qe=j(576),pe=j(9672);function ke(it,At){if(!it)throw new Error("Iterable cannot be null");return new Be.y(ht=>{(0,pe.f)(ht,At,()=>{const ze=it[Symbol.asyncIterator]();(0,pe.f)(ht,At,()=>{ze.next().then(bt=>{bt.done?ht.complete():ht.next(bt.value)})},0,!0)})})}var gt=j(3670),yt=j(8239),kt=j(1144),Bt=j(6495),qe=j(2206),wt=j(4532),rt=j(3260);function Pe(it,At){return At?function _e(it,At){if(null!=it){if((0,gt.c)(it))return function Te(it,At){return(0,p.Xf)(it).pipe((0,G.R)(At),(0,E.Q)(At))}(it,At);if((0,kt.z)(it))return function Fe(it,At){return new Be.y(ht=>{let ze=0;return At.schedule(function(){ze===it.length?ht.complete():(ht.next(it[ze++]),ht.closed||this.schedule())})})}(it,At);if((0,yt.t)(it))return function Ce(it,At){return(0,p.Xf)(it).pipe((0,G.R)(At),(0,E.Q)(At))}(it,At);if((0,qe.D)(it))return ke(it,At);if((0,Bt.T)(it))return function De(it,At){return new Be.y(ht=>{let ze;return(0,pe.f)(ht,At,()=>{ze=it[we.h](),(0,pe.f)(ht,At,()=>{let bt,fn;try{({value:bt,done:fn}=ze.next())}catch(Vt){return void ht.error(Vt)}fn?ht.complete():ht.next(bt)},0,!0)}),()=>(0,Qe.m)(ze?.return)&&ze.return()})}(it,At);if((0,rt.L)(it))return function Lt(it,At){return ke((0,rt.Q)(it),At)}(it,At)}throw(0,wt.z)(it)}(it,At):(0,p.Xf)(it)}},8421:(ln,je,j)=>{"use strict";j.d(je,{Xf:()=>gt});var p=j(655),E=j(1144),G=j(8239),Te=j(9751),Ce=j(3670),Be=j(2206),Fe=j(4532),we=j(6495),Qe=j(3260),pe=j(576),De=j(7849),ke=j(8822);function gt(_e){if(_e instanceof Te.y)return _e;if(null!=_e){if((0,Ce.c)(_e))return function yt(_e){return new Te.y(Pe=>{const it=_e[ke.L]();if((0,pe.m)(it.subscribe))return it.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,E.z)(_e))return function kt(_e){return new Te.y(Pe=>{for(let it=0;it<_e.length&&!Pe.closed;it++)Pe.next(_e[it]);Pe.complete()})}(_e);if((0,G.t)(_e))return function Bt(_e){return new Te.y(Pe=>{_e.then(it=>{Pe.closed||(Pe.next(it),Pe.complete())},it=>Pe.error(it)).then(null,De.h)})}(_e);if((0,Be.D)(_e))return wt(_e);if((0,we.T)(_e))return function qe(_e){return new Te.y(Pe=>{for(const it of _e)if(Pe.next(it),Pe.closed)return;Pe.complete()})}(_e);if((0,Qe.L)(_e))return function rt(_e){return wt((0,Qe.Q)(_e))}(_e)}throw(0,Fe.z)(_e)}function wt(_e){return new Te.y(Pe=>{(function Lt(_e,Pe){var it,At,ht,ze;return(0,p.mG)(this,void 0,void 0,function*(){try{for(it=(0,p.KL)(_e);!(At=yield it.next()).done;)if(Pe.next(At.value),Pe.closed)return}catch(bt){ht={error:bt}}finally{try{At&&!At.done&&(ze=it.return)&&(yield ze.call(it))}finally{if(ht)throw ht.error}}Pe.complete()})})(_e,Pe).catch(it=>Pe.error(it))})}},6451:(ln,je,j)=>{"use strict";j.d(je,{T:()=>Be});var p=j(8189),E=j(8421),G=j(515),Te=j(7669),Ce=j(8996);function Be(...Fe){const we=(0,Te.yG)(Fe),Qe=(0,Te._6)(Fe,1/0),pe=Fe;return pe.length?1===pe.length?(0,E.Xf)(pe[0]):(0,p.J)(Qe)((0,Ce.D)(pe,we)):G.E}},9646:(ln,je,j)=>{"use strict";j.d(je,{of:()=>G});var p=j(7669),E=j(8996);function G(...Te){const Ce=(0,p.yG)(Te);return(0,E.D)(Te,Ce)}},5403:(ln,je,j)=>{"use strict";j.d(je,{x:()=>E});var p=j(2961);function E(Te,Ce,Be,Fe,we){return new G(Te,Ce,Be,Fe,we)}class G extends p.Lv{constructor(Ce,Be,Fe,we,Qe,pe){super(Ce),this.onFinalize=Qe,this.shouldUnsubscribe=pe,this._next=Be?function(De){try{Be(De)}catch(ke){Ce.error(ke)}}:super._next,this._error=we?function(De){try{we(De)}catch(ke){Ce.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(De){Ce.error(De)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Be}=this;super.unsubscribe(),!Be&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},4351:(ln,je,j)=>{"use strict";j.d(je,{b:()=>G});var p=j(5577),E=j(576);function G(Te,Ce){return(0,E.m)(Ce)?(0,p.z)(Te,Ce,1):(0,p.z)(Te,1)}},6590:(ln,je,j)=>{"use strict";j.d(je,{d:()=>G});var p=j(4482),E=j(5403);function G(Te){return(0,p.e)((Ce,Be)=>{let Fe=!1;Ce.subscribe((0,E.x)(Be,we=>{Fe=!0,Be.next(we)},()=>{Fe||Be.next(Te),Be.complete()}))})}},9300:(ln,je,j)=>{"use strict";j.d(je,{h:()=>G});var p=j(4482),E=j(5403);function G(Te,Ce){return(0,p.e)((Be,Fe)=>{let we=0;Be.subscribe((0,E.x)(Fe,Qe=>Te.call(Ce,Qe,we++)&&Fe.next(Qe)))})}},590:(ln,je,j)=>{"use strict";j.d(je,{P:()=>Fe});var p=j(6805),E=j(9300),G=j(5698),Te=j(6590),Ce=j(8068),Be=j(4671);function Fe(we,Qe){const pe=arguments.length>=2;return De=>De.pipe(we?(0,E.h)((ke,gt)=>we(ke,gt,De)):Be.y,(0,G.q)(1),pe?(0,Te.d)(Qe):(0,Ce.T)(()=>new p.K))}},4004:(ln,je,j)=>{"use strict";j.d(je,{U:()=>G});var p=j(4482),E=j(5403);function G(Te,Ce){return(0,p.e)((Be,Fe)=>{let we=0;Be.subscribe((0,E.x)(Fe,Qe=>{Fe.next(Te.call(Ce,Qe,we++))}))})}},8189:(ln,je,j)=>{"use strict";j.d(je,{J:()=>G});var p=j(5577),E=j(4671);function G(Te=1/0){return(0,p.z)(E.y,Te)}},5577:(ln,je,j)=>{"use strict";j.d(je,{z:()=>we});var p=j(4004),E=j(8421),G=j(4482),Te=j(9672),Ce=j(5403),Fe=j(576);function we(Qe,pe,De=1/0){return(0,Fe.m)(pe)?we((ke,gt)=>(0,p.U)((yt,kt)=>pe(ke,yt,gt,kt))((0,E.Xf)(Qe(ke,gt))),De):("number"==typeof pe&&(De=pe),(0,G.e)((ke,gt)=>function Be(Qe,pe,De,ke,gt,yt,kt,Bt){const qe=[];let wt=0,rt=0,Lt=!1;const _e=()=>{Lt&&!qe.length&&!wt&&pe.complete()},Pe=At=>wt<ke?it(At):qe.push(At),it=At=>{yt&&pe.next(At),wt++;let ht=!1;(0,E.Xf)(De(At,rt++)).subscribe((0,Ce.x)(pe,ze=>{gt?.(ze),yt?Pe(ze):pe.next(ze)},()=>{ht=!0},void 0,()=>{if(ht)try{for(wt--;qe.length&&wt<ke;){const ze=qe.shift();kt?(0,Te.f)(pe,kt,()=>it(ze)):it(ze)}_e()}catch(ze){pe.error(ze)}}))};return Qe.subscribe((0,Ce.x)(pe,Pe,()=>{Lt=!0,_e()})),()=>{Bt?.()}}(ke,gt,Qe,De)))}},5363:(ln,je,j)=>{"use strict";j.d(je,{Q:()=>Te});var p=j(9672),E=j(4482),G=j(5403);function Te(Ce,Be=0){return(0,E.e)((Fe,we)=>{Fe.subscribe((0,G.x)(we,Qe=>(0,p.f)(we,Ce,()=>we.next(Qe),Be),()=>(0,p.f)(we,Ce,()=>we.complete(),Be),Qe=>(0,p.f)(we,Ce,()=>we.error(Qe),Be)))})}},5026:(ln,je,j)=>{"use strict";j.d(je,{R:()=>Te});var p=j(4482),E=j(5403);function Te(Ce,Be){return(0,p.e)(function G(Ce,Be,Fe,we,Qe){return(pe,De)=>{let ke=Fe,gt=Be,yt=0;pe.subscribe((0,E.x)(De,kt=>{const Bt=yt++;gt=ke?Ce(gt,kt,Bt):(ke=!0,kt),we&&De.next(gt)},Qe&&(()=>{ke&&De.next(gt),De.complete()})))}}(Ce,Be,arguments.length>=2,!0))}},3099:(ln,je,j)=>{"use strict";j.d(je,{B:()=>Ce});var p=j(8421),E=j(7579),G=j(2961),Te=j(4482);function Ce(Fe={}){const{connector:we=(()=>new E.x),resetOnError:Qe=!0,resetOnComplete:pe=!0,resetOnRefCountZero:De=!0}=Fe;return ke=>{let gt,yt,kt,Bt=0,qe=!1,wt=!1;const rt=()=>{yt?.unsubscribe(),yt=void 0},Lt=()=>{rt(),gt=kt=void 0,qe=wt=!1},_e=()=>{const Pe=gt;Lt(),Pe?.unsubscribe()};return(0,Te.e)((Pe,it)=>{Bt++,!wt&&!qe&&rt();const At=kt=kt??we();it.add(()=>{Bt--,0===Bt&&!wt&&!qe&&(yt=Be(_e,De))}),At.subscribe(it),!gt&&Bt>0&&(gt=new G.Hp({next:ht=>At.next(ht),error:ht=>{wt=!0,rt(),yt=Be(Lt,Qe,ht),At.error(ht)},complete:()=>{qe=!0,rt(),yt=Be(Lt,pe),At.complete()}}),(0,p.Xf)(Pe).subscribe(gt))})(ke)}}function Be(Fe,we,...Qe){if(!0===we)return void Fe();if(!1===we)return;const pe=new G.Hp({next:()=>{pe.unsubscribe(),Fe()}});return(0,p.Xf)(we(...Qe)).subscribe(pe)}},8675:(ln,je,j)=>{"use strict";j.d(je,{O:()=>Te});var p=j(7272),E=j(7669),G=j(4482);function Te(...Ce){const Be=(0,E.yG)(Ce);return(0,G.e)((Fe,we)=>{(Be?(0,p.z)(Ce,Fe,Be):(0,p.z)(Ce,Fe)).subscribe(we)})}},9468:(ln,je,j)=>{"use strict";j.d(je,{R:()=>E});var p=j(4482);function E(G,Te=0){return(0,p.e)((Ce,Be)=>{Be.add(G.schedule(()=>Ce.subscribe(Be),Te))})}},3900:(ln,je,j)=>{"use strict";j.d(je,{w:()=>Te});var p=j(8421),E=j(4482),G=j(5403);function Te(Ce,Be){return(0,E.e)((Fe,we)=>{let Qe=null,pe=0,De=!1;const ke=()=>De&&!Qe&&we.complete();Fe.subscribe((0,G.x)(we,gt=>{Qe?.unsubscribe();let yt=0;const kt=pe++;(0,p.Xf)(Ce(gt,kt)).subscribe(Qe=(0,G.x)(we,Bt=>we.next(Be?Be(gt,Bt,kt,yt++):Bt),()=>{Qe=null,ke()}))},()=>{De=!0,ke()}))})}},5698:(ln,je,j)=>{"use strict";j.d(je,{q:()=>Te});var p=j(515),E=j(4482),G=j(5403);function Te(Ce){return Ce<=0?()=>p.E:(0,E.e)((Be,Fe)=>{let we=0;Be.subscribe((0,G.x)(Fe,Qe=>{++we<=Ce&&(Fe.next(Qe),Ce<=we&&Fe.complete())}))})}},8505:(ln,je,j)=>{"use strict";j.d(je,{b:()=>Ce});var p=j(576),E=j(4482),G=j(5403),Te=j(4671);function Ce(Be,Fe,we){const Qe=(0,p.m)(Be)||Fe||we?{next:Be,error:Fe,complete:we}:Be;return Qe?(0,E.e)((pe,De)=>{var ke;null===(ke=Qe.subscribe)||void 0===ke||ke.call(Qe);let gt=!0;pe.subscribe((0,G.x)(De,yt=>{var kt;null===(kt=Qe.next)||void 0===kt||kt.call(Qe,yt),De.next(yt)},()=>{var yt;gt=!1,null===(yt=Qe.complete)||void 0===yt||yt.call(Qe),De.complete()},yt=>{var kt;gt=!1,null===(kt=Qe.error)||void 0===kt||kt.call(Qe,yt),De.error(yt)},()=>{var yt,kt;gt&&(null===(yt=Qe.unsubscribe)||void 0===yt||yt.call(Qe)),null===(kt=Qe.finalize)||void 0===kt||kt.call(Qe)}))}):Te.y}},8068:(ln,je,j)=>{"use strict";j.d(je,{T:()=>Te});var p=j(6805),E=j(4482),G=j(5403);function Te(Be=Ce){return(0,E.e)((Fe,we)=>{let Qe=!1;Fe.subscribe((0,G.x)(we,pe=>{Qe=!0,we.next(pe)},()=>Qe?we.complete():we.error(Be())))})}function Ce(){return new p.K}},4408:(ln,je,j)=>{"use strict";j.d(je,{o:()=>Ce});var p=j(727);class E extends p.w0{constructor(Fe,we){super()}schedule(Fe,we=0){return this}}const G={setInterval(Be,Fe,...we){const{delegate:Qe}=G;return Qe?.setInterval?Qe.setInterval(Be,Fe,...we):setInterval(Be,Fe,...we)},clearInterval(Be){const{delegate:Fe}=G;return(Fe?.clearInterval||clearInterval)(Be)},delegate:void 0};var Te=j(8737);class Ce extends E{constructor(Fe,we){super(Fe,we),this.scheduler=Fe,this.work=we,this.pending=!1}schedule(Fe,we=0){var Qe;if(this.closed)return this;this.state=Fe;const pe=this.id,De=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(De,pe,we)),this.pending=!0,this.delay=we,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(De,this.id,we),this}requestAsyncId(Fe,we,Qe=0){return G.setInterval(Fe.flush.bind(Fe,this),Qe)}recycleAsyncId(Fe,we,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return we;null!=we&&G.clearInterval(we)}execute(Fe,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Fe,we);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,we){let pe,Qe=!1;try{this.work(Fe)}catch(De){Qe=!0,pe=De||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:we}=this,{actions:Qe}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Qe,this),null!=Fe&&(this.id=this.recycleAsyncId(we,Fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ln,je,j)=>{"use strict";j.d(je,{v:()=>G});var p=j(6063);class E{constructor(Ce,Be=E.now){this.schedulerActionCtor=Ce,this.now=Be}schedule(Ce,Be=0,Fe){return new this.schedulerActionCtor(this,Ce).schedule(Fe,Be)}}E.now=p.l.now;class G extends E{constructor(Ce,Be=E.now){super(Ce,Be),this.actions=[],this._active=!1}flush(Ce){const{actions:Be}=this;if(this._active)return void Be.push(Ce);let Fe;this._active=!0;do{if(Fe=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Be.shift());if(this._active=!1,Fe){for(;Ce=Be.shift();)Ce.unsubscribe();throw Fe}}}},4986:(ln,je,j)=>{"use strict";j.d(je,{z:()=>G});var p=j(4408);const G=new(j(7565).v)(p.o)},6063:(ln,je,j)=>{"use strict";j.d(je,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(ln,je,j)=>{"use strict";j.d(je,{z:()=>p});const p={setTimeout(E,G,...Te){const{delegate:Ce}=p;return Ce?.setTimeout?Ce.setTimeout(E,G,...Te):setTimeout(E,G,...Te)},clearTimeout(E){const{delegate:G}=p;return(G?.clearTimeout||clearTimeout)(E)},delegate:void 0}},2202:(ln,je,j)=>{"use strict";j.d(je,{h:()=>E});const E=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ln,je,j)=>{"use strict";j.d(je,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ln,je,j)=>{"use strict";j.d(je,{K:()=>E});const E=(0,j(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(ln,je,j)=>{"use strict";j.d(je,{_6:()=>Be,jO:()=>Te,yG:()=>Ce});var p=j(576);function G(Fe){return Fe[Fe.length-1]}function Te(Fe){return(0,p.m)(G(Fe))?Fe.pop():void 0}function Ce(Fe){return function E(Fe){return Fe&&(0,p.m)(Fe.schedule)}(G(Fe))?Fe.pop():void 0}function Be(Fe,we){return"number"==typeof G(Fe)?Fe.pop():we}},4742:(ln,je,j)=>{"use strict";j.d(je,{D:()=>Ce});const{isArray:p}=Array,{getPrototypeOf:E,prototype:G,keys:Te}=Object;function Ce(Fe){if(1===Fe.length){const we=Fe[0];if(p(we))return{args:we,keys:null};if(function Be(Fe){return Fe&&"object"==typeof Fe&&E(Fe)===G}(we)){const Qe=Te(we);return{args:Qe.map(pe=>we[pe]),keys:Qe}}}return{args:Fe,keys:null}}},8737:(ln,je,j)=>{"use strict";function p(E,G){if(E){const Te=E.indexOf(G);0<=Te&&E.splice(Te,1)}}j.d(je,{P:()=>p})},3888:(ln,je,j)=>{"use strict";function p(E){const Te=E(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}j.d(je,{d:()=>p})},1810:(ln,je,j)=>{"use strict";function p(E,G){return E.reduce((Te,Ce,Be)=>(Te[Ce]=G[Be],Te),{})}j.d(je,{n:()=>p})},2806:(ln,je,j)=>{"use strict";j.d(je,{O:()=>Te,x:()=>G});var p=j(2416);let E=null;function G(Ce){if(p.v.useDeprecatedSynchronousErrorHandling){const Be=!E;if(Be&&(E={errorThrown:!1,error:null}),Ce(),Be){const{errorThrown:Fe,error:we}=E;if(E=null,Fe)throw we}}else Ce()}function Te(Ce){p.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=Ce)}},9672:(ln,je,j)=>{"use strict";function p(E,G,Te,Ce=0,Be=!1){const Fe=G.schedule(function(){Te(),Be?E.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(E.add(Fe),!Be)return Fe}j.d(je,{f:()=>p})},4671:(ln,je,j)=>{"use strict";function p(E){return E}j.d(je,{y:()=>p})},1144:(ln,je,j)=>{"use strict";j.d(je,{z:()=>p});const p=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(ln,je,j)=>{"use strict";j.d(je,{D:()=>E});var p=j(576);function E(G){return Symbol.asyncIterator&&(0,p.m)(G?.[Symbol.asyncIterator])}},576:(ln,je,j)=>{"use strict";function p(E){return"function"==typeof E}j.d(je,{m:()=>p})},3670:(ln,je,j)=>{"use strict";j.d(je,{c:()=>G});var p=j(8822),E=j(576);function G(Te){return(0,E.m)(Te[p.L])}},6495:(ln,je,j)=>{"use strict";j.d(je,{T:()=>G});var p=j(2202),E=j(576);function G(Te){return(0,E.m)(Te?.[p.h])}},8239:(ln,je,j)=>{"use strict";j.d(je,{t:()=>E});var p=j(576);function E(G){return(0,p.m)(G?.then)}},3260:(ln,je,j)=>{"use strict";j.d(je,{L:()=>Te,Q:()=>G});var p=j(655),E=j(576);function G(Ce){return(0,p.FC)(this,arguments,function*(){const Fe=Ce.getReader();try{for(;;){const{value:we,done:Qe}=yield(0,p.qq)(Fe.read());if(Qe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(we)}}finally{Fe.releaseLock()}})}function Te(Ce){return(0,E.m)(Ce?.getReader)}},4482:(ln,je,j)=>{"use strict";j.d(je,{A:()=>E,e:()=>G});var p=j(576);function E(Te){return(0,p.m)(Te?.lift)}function G(Te){return Ce=>{if(E(Ce))return Ce.lift(function(Be){try{return Te(Be,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ln,je,j)=>{"use strict";j.d(je,{Z:()=>Te});var p=j(4004);const{isArray:E}=Array;function Te(Ce){return(0,p.U)(Be=>function G(Ce,Be){return E(Be)?Ce(...Be):Ce(Be)}(Ce,Be))}},9635:(ln,je,j)=>{"use strict";j.d(je,{U:()=>G,z:()=>E});var p=j(4671);function E(...Te){return G(Te)}function G(Te){return 0===Te.length?p.y:1===Te.length?Te[0]:function(Be){return Te.reduce((Fe,we)=>we(Fe),Be)}}},7849:(ln,je,j)=>{"use strict";j.d(je,{h:()=>G});var p=j(2416),E=j(3410);function G(Te){E.z.setTimeout(()=>{const{onUnhandledError:Ce}=p.v;if(!Ce)throw Te;Ce(Te)})}},4532:(ln,je,j)=>{"use strict";function p(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(je,{z:()=>p})},3998:function(ln){ln.exports=function(){"use strict";var je={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const p=I=>{const M={};for(const Z in I)M[I[Z]]="swal2-"+I[Z];return M},E=p(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),G=p(["success","warning","info","question","error"]),Te="SweetAlert2:",Be=I=>I.charAt(0).toUpperCase()+I.slice(1),Fe=I=>{console.warn(`${Te} ${"object"==typeof I?I.join(" "):I}`)},we=I=>{console.error(`${Te} ${I}`)},Qe=[],De=(I,M)=>{(I=>{Qe.includes(I)||(Qe.push(I),Fe(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${M}" instead.`)},ke=I=>"function"==typeof I?I():I,gt=I=>I&&"function"==typeof I.toPromise,yt=I=>gt(I)?I.toPromise():Promise.resolve(I),kt=I=>I&&Promise.resolve(I)===I,Bt=()=>document.body.querySelector(`.${E.container}`),qe=I=>{const M=Bt();return M?M.querySelector(I):null},wt=I=>qe(`.${I}`),rt=()=>wt(E.popup),Lt=()=>wt(E.icon),Pe=()=>wt(E.title),it=()=>wt(E["html-container"]),At=()=>wt(E.image),ht=()=>wt(E["progress-steps"]),ze=()=>wt(E["validation-message"]),bt=()=>qe(`.${E.actions} .${E.confirm}`),fn=()=>qe(`.${E.actions} .${E.cancel}`),Vt=()=>qe(`.${E.actions} .${E.deny}`),Gt=()=>qe(`.${E.loader}`),st=()=>wt(E.actions),ot=()=>wt(E.footer),ft=()=>wt(E["timer-progress-bar"]),_t=()=>wt(E.close),Pt=()=>{const I=Array.from(rt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Z,me)=>{const et=parseInt(Z.getAttribute("tabindex")),zt=parseInt(me.getAttribute("tabindex"));return et>zt?1:et<zt?-1:0}),M=Array.from(rt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(Z=>"-1"!==Z.getAttribute("tabindex"));return(I=>{const M=[];for(let Z=0;Z<I.length;Z++)-1===M.indexOf(I[Z])&&M.push(I[Z]);return M})(I.concat(M)).filter(Z=>zn(Z))},jt=()=>nn(document.body,E.shown)&&!nn(document.body,E["toast-shown"])&&!nn(document.body,E["no-backdrop"]),Mt=()=>rt()&&nn(rt(),E.toast),yn={previousBodyPadding:null},Dn=(I,M)=>{if(I.textContent="",M){const me=(new DOMParser).parseFromString(M,"text/html");Array.from(me.querySelector("head").childNodes).forEach(et=>{I.appendChild(et)}),Array.from(me.querySelector("body").childNodes).forEach(et=>{et instanceof HTMLVideoElement||et instanceof HTMLAudioElement?I.appendChild(et.cloneNode(!0)):I.appendChild(et)})}},nn=(I,M)=>{if(!M)return!1;const Z=M.split(/\s+/);for(let me=0;me<Z.length;me++)if(!I.classList.contains(Z[me]))return!1;return!0},kn=(I,M,Z)=>{if(((I,M)=>{Array.from(I.classList).forEach(Z=>{!Object.values(E).includes(Z)&&!Object.values(G).includes(Z)&&!Object.values(M.showClass).includes(Z)&&I.classList.remove(Z)})})(I,M),M.customClass&&M.customClass[Z]){if("string"!=typeof M.customClass[Z]&&!M.customClass[Z].forEach)return void Fe(`Invalid type of customClass.${Z}! Expected string or iterable object, got "${typeof M.customClass[Z]}"`);an(I,M.customClass[Z])}},yr=(I,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return I.querySelector(`.${E.popup} > .${E[M]}`);case"checkbox":return I.querySelector(`.${E.popup} > .${E.checkbox} input`);case"radio":return I.querySelector(`.${E.popup} > .${E.radio} input:checked`)||I.querySelector(`.${E.popup} > .${E.radio} input:first-child`);case"range":return I.querySelector(`.${E.popup} > .${E.range} input`);default:return I.querySelector(`.${E.popup} > .${E.input}`)}},Dr=I=>{if(I.focus(),"file"!==I.type){const M=I.value;I.value="",I.value=M}},cr=(I,M,Z)=>{!I||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(me=>{Array.isArray(I)?I.forEach(et=>{Z?et.classList.add(me):et.classList.remove(me)}):Z?I.classList.add(me):I.classList.remove(me)}))},an=(I,M)=>{cr(I,M,!0)},Jt=(I,M)=>{cr(I,M,!1)},sr=(I,M)=>{const Z=Array.from(I.children);for(let me=0;me<Z.length;me++){const et=Z[me];if(et instanceof HTMLElement&&nn(et,M))return et}},Tr=(I,M,Z)=>{Z===`${parseInt(Z)}`&&(Z=parseInt(Z)),Z||0===parseInt(Z)?I.style[M]="number"==typeof Z?`${Z}px`:Z:I.style.removeProperty(M)},pr=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Hn=I=>{I.style.display="none"},un=(I,M,Z,me)=>{const et=I.querySelector(M);et&&(et.style[Z]=me)},Fn=function(I,M){M?pr(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Hn(I)},zn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),qr=I=>I.scrollHeight>I.clientHeight,ai=I=>{const M=window.getComputedStyle(I),Z=parseFloat(M.getPropertyValue("animation-duration")||"0"),me=parseFloat(M.getPropertyValue("transition-duration")||"0");return Z>0||me>0},Mn=function(I){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const Z=ft();zn(Z)&&(M&&(Z.style.transition="none",Z.style.width="100%"),setTimeout(()=>{Z.style.transition=`width ${I/1e3}s linear`,Z.style.width="0%"},10))},St={},Ir=I=>new Promise(M=>{if(!I)return M();const Z=window.scrollX,me=window.scrollY;St.restoreFocusTimeout=setTimeout(()=>{St.previousActiveElement instanceof HTMLElement?(St.previousActiveElement.focus(),St.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(Z,me)}),Cr=()=>typeof window>"u"||typeof document>"u",Yr=`\n <div aria-labelledby="${E.title}" aria-describedby="${E["html-container"]}" class="${E.popup}" tabindex="-1">\n   <button type="button" class="${E.close}"></button>\n   <ul class="${E["progress-steps"]}"></ul>\n   <div class="${E.icon}"></div>\n   <img class="${E.image}" />\n   <h2 class="${E.title}" id="${E.title}"></h2>\n   <div class="${E["html-container"]}" id="${E["html-container"]}"></div>\n   <input class="${E.input}" />\n   <input type="file" class="${E.file}" />\n   <div class="${E.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${E.select}"></select>\n   <div class="${E.radio}"></div>\n   <label for="${E.checkbox}" class="${E.checkbox}">\n     <input type="checkbox" />\n     <span class="${E.label}"></span>\n   </label>\n   <textarea class="${E.textarea}"></textarea>\n   <div class="${E["validation-message"]}" id="${E["validation-message"]}"></div>\n   <div class="${E.actions}">\n     <div class="${E.loader}"></div>\n     <button type="button" class="${E.confirm}"></button>\n     <button type="button" class="${E.deny}"></button>\n     <button type="button" class="${E.cancel}"></button>\n   </div>\n   <div class="${E.footer}"></div>\n   <div class="${E["timer-progress-bar-container"]}">\n     <div class="${E["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Sr=()=>{St.currentInstance.resetValidationMessage()},Vn=I=>{const M=(()=>{const I=Bt();return!!I&&(I.remove(),Jt([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0)})();if(Cr())return void we("SweetAlert2 requires document to initialize");const Z=document.createElement("div");Z.className=E.container,M&&an(Z,E["no-transition"]),Dn(Z,Yr);const me=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);me.appendChild(Z),(I=>{const M=rt();M.setAttribute("role",I.toast?"alert":"dialog"),M.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||M.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&an(Bt(),E.rtl)})(me),(()=>{const I=rt(),M=sr(I,E.input),Z=sr(I,E.file),me=I.querySelector(`.${E.range} input`),et=I.querySelector(`.${E.range} output`),zt=sr(I,E.select),rr=I.querySelector(`.${E.checkbox} input`),_r=sr(I,E.textarea);M.oninput=Sr,Z.onchange=Sr,zt.onchange=Sr,rr.onchange=Sr,_r.oninput=Sr,me.oninput=()=>{Sr(),et.value=me.value},me.onchange=()=>{Sr(),et.value=me.value}})()},hr=(I,M)=>{I instanceof HTMLElement?M.appendChild(I):"object"==typeof I?gr(I,M):I&&Dn(M,I)},gr=(I,M)=>{I.jquery?nt(M,I):Dn(M,I.toString())},nt=(I,M)=>{if(I.textContent="",0 in M)for(let Z=0;Z in M;Z++)I.appendChild(M[Z].cloneNode(!0));else I.appendChild(M.cloneNode(!0))},be=(()=>{if(Cr())return!1;const I=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Z in M)if(Object.prototype.hasOwnProperty.call(M,Z)&&typeof I.style[Z]<"u")return M[Z];return!1})(),Ot=(I,M)=>{const Z=st(),me=Gt();M.showConfirmButton||M.showDenyButton||M.showCancelButton?pr(Z):Hn(Z),kn(Z,M,"actions"),function vt(I,M,Z){const me=bt(),et=Vt(),zt=fn();he(me,"confirm",Z),he(et,"deny",Z),he(zt,"cancel",Z),function ge(I,M,Z,me){me.buttonsStyling?(an([I,M,Z],E.styled),me.confirmButtonColor&&(I.style.backgroundColor=me.confirmButtonColor,an(I,E["default-outline"])),me.denyButtonColor&&(M.style.backgroundColor=me.denyButtonColor,an(M,E["default-outline"])),me.cancelButtonColor&&(Z.style.backgroundColor=me.cancelButtonColor,an(Z,E["default-outline"]))):Jt([I,M,Z],E.styled)}(me,et,zt,Z),Z.reverseButtons&&(Z.toast?(I.insertBefore(zt,me),I.insertBefore(et,me)):(I.insertBefore(zt,M),I.insertBefore(et,M),I.insertBefore(me,M)))}(Z,me,M),Dn(me,M.loaderHtml),kn(me,M,"loader")};function he(I,M,Z){Fn(I,Z[`show${Be(M)}Button`],"inline-block"),Dn(I,Z[`${M}ButtonText`]),I.setAttribute("aria-label",Z[`${M}ButtonAriaLabel`]),I.className=E[M],kn(I,Z,`${M}Button`),an(I,Z[`${M}ButtonClass`])}const ne=(I,M)=>{const Z=Bt();Z&&(function J(I,M){"string"==typeof M?I.style.background=M:M||an([document.documentElement,document.body],E["no-backdrop"])}(Z,M.backdrop),function Se(I,M){M in E?an(I,E[M]):(Fe('The "position" parameter is not valid, defaulting to "center"'),an(I,E.center))}(Z,M.position),function ye(I,M){if(M&&"string"==typeof M){const Z=`grow-${M}`;Z in E&&an(I,E[Z])}}(Z,M.grow),kn(Z,M,"container"))};const ve=["input","file","range","select","radio","checkbox","textarea"],Ae=I=>{if(!ce[I.input])return void we(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const M=Vr(I.input),Z=ce[I.input](M,I);pr(M),I.inputAutoFocus&&setTimeout(()=>{Dr(Z)})},It=(I,M)=>{const Z=yr(rt(),I);if(Z){(I=>{for(let M=0;M<I.attributes.length;M++){const Z=I.attributes[M].name;["type","value","style"].includes(Z)||I.removeAttribute(Z)}})(Z);for(const me in M)Z.setAttribute(me,M[me])}},Yt=I=>{const M=Vr(I.input);"object"==typeof I.customClass&&an(M,I.customClass.input)},cn=(I,M)=>{(!I.placeholder||M.inputPlaceholder)&&(I.placeholder=M.inputPlaceholder)},ar=(I,M,Z)=>{if(Z.inputLabel){I.id=E.input;const me=document.createElement("label"),et=E["input-label"];me.setAttribute("for",I.id),me.className=et,"object"==typeof Z.customClass&&an(me,Z.customClass.inputLabel),me.innerText=Z.inputLabel,M.insertAdjacentElement("beforebegin",me)}},Vr=I=>sr(rt(),E[I]||E.input),ut=(I,M)=>{["string","number"].includes(typeof M)?I.value=`${M}`:kt(M)||Fe(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof M}"`)},ce={};ce.text=ce.email=ce.password=ce.number=ce.tel=ce.url=(I,M)=>(ut(I,M.inputValue),ar(I,I,M),cn(I,M),I.type=M.input,I),ce.file=(I,M)=>(ar(I,I,M),cn(I,M),I),ce.range=(I,M)=>{const Z=I.querySelector("input"),me=I.querySelector("output");return ut(Z,M.inputValue),Z.type=M.input,ut(me,M.inputValue),ar(Z,I,M),I},ce.select=(I,M)=>{if(I.textContent="",M.inputPlaceholder){const Z=document.createElement("option");Dn(Z,M.inputPlaceholder),Z.value="",Z.disabled=!0,Z.selected=!0,I.appendChild(Z)}return ar(I,I,M),I},ce.radio=I=>(I.textContent="",I),ce.checkbox=(I,M)=>{const Z=yr(rt(),"checkbox");Z.value="1",Z.id=E.checkbox,Z.checked=Boolean(M.inputValue);const me=I.querySelector("span");return Dn(me,M.inputPlaceholder),Z},ce.textarea=(I,M)=>{ut(I,M.inputValue),cn(I,M),ar(I,I,M);return setTimeout(()=>{if("MutationObserver"in window){const me=parseInt(window.getComputedStyle(rt()).width);new MutationObserver(()=>{const zt=I.offsetWidth+(me=>parseInt(window.getComputedStyle(me).marginLeft)+parseInt(window.getComputedStyle(me).marginRight))(I);rt().style.width=zt>me?`${zt}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const H=(I,M)=>{const Z=it();kn(Z,M,"htmlContainer"),M.html?(hr(M.html,Z),pr(Z,"block")):M.text?(Z.textContent=M.text,pr(Z,"block")):Hn(Z),((I,M)=>{const Z=rt(),me=je.innerParams.get(I),et=!me||M.input!==me.input;ve.forEach(zt=>{const rr=sr(Z,E[zt]);It(zt,M.inputAttributes),rr.className=E[zt],et&&Hn(rr)}),M.input&&(et&&Ae(M),Yt(M))})(I,M)},dt=(I,M)=>{for(const Z in G)M.icon!==Z&&Jt(I,G[Z]);an(I,G[M.icon]),br(I,M),Tt(),kn(I,M,"icon")},Tt=()=>{const I=rt(),M=window.getComputedStyle(I).getPropertyValue("background-color"),Z=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let me=0;me<Z.length;me++)Z[me].style.backgroundColor=M},Xn=(I,M)=>{let me,Z=I.innerHTML;M.iconHtml?me=ei(M.iconHtml):"success"===M.icon?(me='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',Z=Z.replace(/ style=".*?"/g,"")):me="error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':ei({question:"?",warning:"!",info:"i"}[M.icon]),Z.trim()!==me.trim()&&Dn(I,me)},br=(I,M)=>{if(M.iconColor){I.style.color=M.iconColor,I.style.borderColor=M.iconColor;for(const Z of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])un(I,Z,"backgroundColor",M.iconColor);un(I,".swal2-success-ring","borderColor",M.iconColor)}},ei=I=>`<div class="${E["icon-content"]}">${I}</div>`,Zr=(I,M)=>{I.className=`${E.popup} ${zn(I)?M.showClass.popup:""}`,M.toast?(an([document.documentElement,document.body],E["toast-shown"]),an(I,E.toast)):an(I,E.modal),kn(I,M,"popup"),"string"==typeof M.customClass&&an(I,M.customClass),M.icon&&an(I,E[`icon-${M.icon}`])},Rn=I=>{const M=document.createElement("li");return an(M,E["progress-step"]),Dn(M,I),M},wr=I=>{const M=document.createElement("li");return an(M,E["progress-step-line"]),I.progressStepsDistance&&Tr(M,"width",I.progressStepsDistance),M},li=(I,M)=>{((I,M)=>{const Z=Bt(),me=rt();M.toast?(Tr(Z,"width",M.width),me.style.width="100%",me.insertBefore(Gt(),Lt())):Tr(me,"width",M.width),Tr(me,"padding",M.padding),M.color&&(me.style.color=M.color),M.background&&(me.style.background=M.background),Hn(ze()),Zr(me,M)})(0,M),ne(0,M),((I,M)=>{const Z=ht();M.progressSteps&&0!==M.progressSteps.length?(pr(Z),Z.textContent="",M.currentProgressStep>=M.progressSteps.length&&Fe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((me,et)=>{const zt=Rn(me);if(Z.appendChild(zt),et===M.currentProgressStep&&an(zt,E["active-progress-step"]),et!==M.progressSteps.length-1){const rr=wr(M);Z.appendChild(rr)}})):Hn(Z)})(0,M),((I,M)=>{const Z=je.innerParams.get(I),me=Lt();Z&&M.icon===Z.icon?(Xn(me,M),dt(me,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(G).indexOf(M.icon)?(we(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${M.icon}"`),Hn(me)):(pr(me),Xn(me,M),dt(me,M),an(me,M.showClass.icon)):Hn(me)})(I,M),((I,M)=>{const Z=At();M.imageUrl?(pr(Z,""),Z.setAttribute("src",M.imageUrl),Z.setAttribute("alt",M.imageAlt),Tr(Z,"width",M.imageWidth),Tr(Z,"height",M.imageHeight),Z.className=E.image,kn(Z,M,"image")):Hn(Z)})(0,M),((I,M)=>{const Z=Pe();Fn(Z,M.title||M.titleText,"block"),M.title&&hr(M.title,Z),M.titleText&&(Z.innerText=M.titleText),kn(Z,M,"title")})(0,M),((I,M)=>{const Z=_t();Dn(Z,M.closeButtonHtml),kn(Z,M,"closeButton"),Fn(Z,M.showCloseButton),Z.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),H(I,M),Ot(0,M),((I,M)=>{const Z=ot();Fn(Z,M.footer),M.footer&&hr(M.footer,Z),kn(Z,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(rt())};function kr(){const I=je.innerParams.get(this);if(!I)return;const M=je.domCache.get(this);Hn(M.loader),Mt()?I.icon&&pr(Lt()):Pr(M),Jt([M.popup,M.actions],E.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const Pr=I=>{const M=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));M.length?pr(M[0],"inline-block"):!zn(bt())&&!zn(Vt())&&!zn(fn())&&Hn(I.actions)};const Ue=()=>bt()&&bt().click(),xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),In=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},On=(I,M)=>{const Z=Pt();if(Z.length)return(I+=M)===Z.length?I=0:-1===I&&(I=Z.length-1),void Z[I].focus();rt().focus()},ir=["ArrowRight","ArrowDown"],vi=["ArrowLeft","ArrowUp"],ci=(I,M,Z)=>{const me=je.innerParams.get(I);me&&(M.isComposing||229===M.keyCode||(me.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?_i(I,M,me):"Tab"===M.key?Oi(M):[...ir,...vi].includes(M.key)?Br(M.key):"Escape"===M.key&&_s(M,me,Z)))},_i=(I,M,Z)=>{if(ke(Z.allowEnterKey)&&M.target&&I.getInput()&&M.target instanceof HTMLElement&&M.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(Z.input))return;Ue(),M.preventDefault()}},Oi=I=>{const M=I.target,Z=Pt();let me=-1;for(let et=0;et<Z.length;et++)if(M===Z[et]){me=et;break}On(me,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Br=I=>{const M=bt(),Z=Vt(),me=fn();if(document.activeElement instanceof HTMLElement&&![M,Z,me].includes(document.activeElement))return;const zt=ir.includes(I)?"nextElementSibling":"previousElementSibling";let rr=document.activeElement;for(let _r=0;_r<st().children.length;_r++){if(rr=rr[zt],!rr)return;if(rr instanceof HTMLButtonElement&&zn(rr))break}rr instanceof HTMLButtonElement&&rr.focus()},_s=(I,M,Z)=>{ke(M.allowEscapeKey)&&(I.preventDefault(),Z(xt.esc))};var zi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Qi=()=>{Array.from(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},Ai=()=>{const I=navigator.userAgent,M=!!I.match(/iPad/i)||!!I.match(/iPhone/i),Z=!!I.match(/WebKit/i);M&&Z&&!I.match(/CriOS/i)&&rt().scrollHeight>window.innerHeight-44&&(Bt().style.paddingBottom="44px")},fi=()=>{const I=Bt();let M;I.ontouchstart=Z=>{M=Aa(Z)},I.ontouchmove=Z=>{M&&(Z.preventDefault(),Z.stopPropagation())}},Aa=I=>{const M=I.target,Z=Bt();return!bi(I)&&!ss(I)&&(M===Z||!qr(Z)&&M instanceof HTMLElement&&"INPUT"!==M.tagName&&"TEXTAREA"!==M.tagName&&!(qr(it())&&it().contains(M)))},bi=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,ss=I=>I.touches&&I.touches.length>1,ao=()=>{if(nn(document.body,E.iosfix)){const I=parseInt(document.body.style.top,10);Jt(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}},xo=()=>{null===yn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(yn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${yn.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=E["scrollbar-measure"],document.body.appendChild(I);const M=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),M})()}px`)},os=()=>{null!==yn.previousBodyPadding&&(document.body.style.paddingRight=`${yn.previousBodyPadding}px`,yn.previousBodyPadding=null)};function Qr(I,M,Z,me){Mt()?Ys(I,me):(Ir(Z).then(()=>Ys(I,me)),In(St)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),jt()&&(os(),ao(),Qi()),function as(){Jt([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"]])}()}function us(I){I=Fs(I);const M=zi.swalPromiseResolve.get(this),Z=Ar(this);this.isAwaitingPromise()?I.isDismissed||(Vi(this),M(I)):Z&&M(I)}const Ar=I=>{const M=rt();if(!M)return!1;const Z=je.innerParams.get(I);if(!Z||nn(M,Z.hideClass.popup))return!1;Jt(M,Z.showClass.popup),an(M,Z.hideClass.popup);const me=Bt();return Jt(me,Z.showClass.backdrop),an(me,Z.hideClass.backdrop),ra(I,M,Z),!0};const Vi=I=>{I.isAwaitingPromise()&&(je.awaitingPromise.delete(I),je.innerParams.get(I)||I._destroy())},Fs=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),ra=(I,M,Z)=>{const me=Bt(),et=be&&ai(M);"function"==typeof Z.willClose&&Z.willClose(M),et?Wo(I,M,me,Z.returnFocus,Z.didClose):Qr(I,me,Z.returnFocus,Z.didClose)},Wo=(I,M,Z,me,et)=>{St.swalCloseEventFinishedCallback=Qr.bind(null,I,Z,me,et),M.addEventListener(be,function(zt){zt.target===M&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback)})},Ys=(I,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(I.params)(),I._destroy()})};function _o(I,M,Z){const me=je.domCache.get(I);M.forEach(et=>{me[et].disabled=Z})}function Ro(I,M){if(I)if("radio"===I.type){const me=I.parentNode.parentNode.querySelectorAll("input");for(let et=0;et<me.length;et++)me[et].disabled=M}else I.disabled=M}const Xi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ws=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],xi={},cs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qs=I=>Object.prototype.hasOwnProperty.call(Xi,I),Vs=I=>-1!==ws.indexOf(I),Js=I=>xi[I],Oo=I=>{Qs(I)||Fe(`Unknown parameter "${I}"`)},Gi=I=>{cs.includes(I)&&Fe(`The parameter "${I}" is incompatible with toasts`)},Ts=I=>{Js(I)&&De(I,Js(I))};const Xs=I=>{const M={};return Object.keys(I).forEach(Z=>{Vs(Z)?M[Z]=I[Z]:Fe(`Invalid parameter to update: ${Z}`)}),M};const ti=I=>{ds(I),delete I.params,delete St.keydownHandler,delete St.keydownTarget,delete St.currentInstance},ds=I=>{I.isAwaitingPromise()?(ni(je,I),je.awaitingPromise.set(I,!0)):(ni(zi,I),ni(je,I))},ni=(I,M)=>{for(const Z in I)I[Z].delete(M)};var zr=Object.freeze({__proto__:null,_destroy:function Bs(){const I=je.domCache.get(this),M=je.innerParams.get(this);M?(I.popup&&St.swalCloseEventFinishedCallback&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback),"function"==typeof M.didDestroy&&M.didDestroy(),ti(this)):ds(this)},close:us,closeModal:us,closePopup:us,closeToast:us,disableButtons:function Mi(){_o(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function qo(){Ro(this.getInput(),!0)},disableLoading:kr,enableButtons:function Ko(){_o(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Ui(){Ro(this.getInput(),!1)},getInput:function er(I){const M=je.innerParams.get(I||this),Z=je.domCache.get(I||this);return Z?yr(Z.popup,M.input):null},handleAwaitingPromise:Vi,hideLoading:kr,isAwaitingPromise:function Po(){return!!je.awaitingPromise.get(this)},rejectPromise:function ls(I){const M=zi.swalPromiseReject.get(this);Vi(this),M&&M(I)},resetValidationMessage:function wo(){const I=je.domCache.get(this);I.validationMessage&&Hn(I.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),Jt(M,E.inputerror))},showValidationMessage:function Ls(I){const M=je.domCache.get(this),Z=je.innerParams.get(this);Dn(M.validationMessage,I),M.validationMessage.className=E["validation-message"],Z.customClass&&Z.customClass.validationMessage&&an(M.validationMessage,Z.customClass.validationMessage),pr(M.validationMessage);const me=this.getInput();me&&(me.setAttribute("aria-invalid",!0),me.setAttribute("aria-describedby",E["validation-message"]),Dr(me),an(me,E.inputerror))},update:function Ss(I){const M=rt(),Z=je.innerParams.get(this);if(!M||nn(M,Z.hideClass.popup))return void Fe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const me=Xs(I),et=Object.assign({},Z,me);li(this,et),je.innerParams.set(this,et),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}});const es=I=>{let M=rt();M||new lt,M=rt();const Z=Gt();Mt()?Hn(Lt()):eo(M,I),pr(Z),M.setAttribute("data-loading","true"),M.setAttribute("aria-busy","true"),M.focus()},eo=(I,M)=>{const Z=st(),me=Gt();!M&&zn(bt())&&(M=bt()),pr(Z),M&&(Hn(M),me.setAttribute("data-button-to-replace",M.className)),me.parentNode.insertBefore(me,M),an([I,Z],E.loading)},No=I=>I.checked?1:0,mr=I=>I.checked?I.value:null,wi=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,no=(I,M)=>{const Z=rt(),me=et=>{wa[M.input](Z,Ni(et),M)};gt(M.inputOptions)||kt(M.inputOptions)?(es(bt()),yt(M.inputOptions).then(et=>{I.hideLoading(),me(et)})):"object"==typeof M.inputOptions?me(M.inputOptions):we("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof M.inputOptions)},pi=(I,M)=>{const Z=I.getInput();Hn(Z),yt(M.inputValue).then(me=>{Z.value="number"===M.input?`${parseFloat(me)||0}`:`${me}`,pr(Z),Z.focus(),I.hideLoading()}).catch(me=>{we(`Error in inputValue promise: ${me}`),Z.value="",pr(Z),Z.focus(),I.hideLoading()})},wa={select:(I,M,Z)=>{const me=sr(I,E.select),et=(zt,rr,_r)=>{const Et=document.createElement("option");Et.value=_r,Dn(Et,rr),Et.selected=ro(_r,Z.inputValue),zt.appendChild(Et)};M.forEach(zt=>{const rr=zt[0],_r=zt[1];if(Array.isArray(_r)){const Et=document.createElement("optgroup");Et.label=rr,Et.disabled=!1,me.appendChild(Et),_r.forEach(Or=>et(Et,Or[1],Or[0]))}else et(me,_r,rr)}),me.focus()},radio:(I,M,Z)=>{const me=sr(I,E.radio);M.forEach(zt=>{const rr=zt[0],_r=zt[1],Et=document.createElement("input"),Or=document.createElement("label");Et.type="radio",Et.name=E.radio,Et.value=rr,ro(rr,Z.inputValue)&&(Et.checked=!0);const si=document.createElement("span");Dn(si,_r),si.className=E.label,Or.appendChild(Et),Or.appendChild(si),me.appendChild(Or)});const et=me.querySelectorAll("input");et.length&&et[0].focus()}},Ni=I=>{const M=[];return typeof Map<"u"&&I instanceof Map?I.forEach((Z,me)=>{let et=Z;"object"==typeof et&&(et=Ni(et)),M.push([me,et])}):Object.keys(I).forEach(Z=>{let me=I[Z];"object"==typeof me&&(me=Ni(me)),M.push([Z,me])}),M},ro=(I,M)=>M&&M.toString()===I.toString(),Es=(I,M)=>{const Z=je.innerParams.get(I);if(!Z.input)return void we(`The "input" parameter is needed to be set when using returnInputValueOn${Be(M)}`);const me=((I,M)=>{const Z=I.getInput();if(!Z)return null;switch(M.input){case"checkbox":return No(Z);case"radio":return mr(Z);case"file":return wi(Z);default:return M.inputAutoTrim?Z.value.trim():Z.value}})(I,Z);Z.inputValidator?ko(I,me,M):I.getInput().checkValidity()?"deny"===M?ts(I,me):bo(I,me):(I.enableButtons(),I.showValidationMessage(Z.validationMessage))},ko=(I,M,Z)=>{const me=je.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>yt(me.inputValidator(M,me.validationMessage))).then(zt=>{I.enableButtons(),I.enableInput(),zt?I.showValidationMessage(zt):"deny"===Z?ts(I,M):bo(I,M)})},ts=(I,M)=>{const Z=je.innerParams.get(I||void 0);Z.showLoaderOnDeny&&es(Vt()),Z.preDeny?(je.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>yt(Z.preDeny(M,Z.validationMessage))).then(et=>{!1===et?(I.hideLoading(),Vi(I)):I.close({isDenied:!0,value:typeof et>"u"?M:et})}).catch(et=>Eo(I||void 0,et))):I.close({isDenied:!0,value:M})},As=(I,M)=>{I.close({isConfirmed:!0,value:M})},Eo=(I,M)=>{I.rejectPromise(M)},bo=(I,M)=>{const Z=je.innerParams.get(I||void 0);Z.showLoaderOnConfirm&&es(),Z.preConfirm?(I.resetValidationMessage(),je.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>yt(Z.preConfirm(M,Z.validationMessage))).then(et=>{zn(ze())||!1===et?(I.hideLoading(),Vi(I)):As(I,typeof et>"u"?M:et)}).catch(et=>Eo(I||void 0,et))):As(I,M)},O=(I,M,Z)=>{M.popup.onclick=()=>{const me=je.innerParams.get(I);me&&(F(me)||me.timer||me.input)||Z(xt.close)}},F=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let N=!1;const re=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(M){I.container.onmouseup=void 0,M.target===I.container&&(N=!0)}}},Xe=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(M){I.popup.onmouseup=void 0,(M.target===I.popup||I.popup.contains(M.target))&&(N=!0)}}},gn=(I,M,Z)=>{M.container.onclick=me=>{const et=je.innerParams.get(I);N?N=!1:me.target===M.container&&ke(et.allowOutsideClick)&&Z(xt.backdrop)}},Jr=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const Ki=()=>{if(St.timeout)return(()=>{const I=ft(),M=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const Z=parseInt(window.getComputedStyle(I).width);I.style.width=M/Z*100+"%"})(),St.timeout.stop()},Ri=()=>{if(St.timeout){const I=St.timeout.start();return Mn(I),I}};let xs=!1;const Fo={};const qi=I=>{for(let M=I.target;M&&M!==document;M=M.parentNode)for(const Z in Fo){const me=M.getAttribute(Z);if(me)return void Fo[Z].fire({template:me})}};var Hs=Object.freeze({__proto__:null,argsToParams:I=>{const M={};return"object"!=typeof I[0]||Jr(I[0])?["title","html","icon"].forEach((Z,me)=>{const et=I[me];"string"==typeof et||Jr(et)?M[Z]=et:void 0!==et&&we(`Unexpected type of ${Z}! Expected "string" or "Element", got ${typeof et}`)}):Object.assign(M,I[0]),M},bindClickHandler:function js(){Fo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,xs||(document.body.addEventListener("click",qi),xs=!0)},clickCancel:()=>fn()&&fn().click(),clickConfirm:Ue,clickDeny:()=>Vt()&&Vt().click(),enableLoading:es,fire:function Ms(){for(var M=arguments.length,Z=new Array(M),me=0;me<M;me++)Z[me]=arguments[me];return new this(...Z)},getActions:st,getCancelButton:fn,getCloseButton:_t,getConfirmButton:bt,getContainer:Bt,getDenyButton:Vt,getFocusableElements:Pt,getFooter:ot,getHtmlContainer:it,getIcon:Lt,getIconContent:()=>wt(E["icon-content"]),getImage:At,getInputLabel:()=>wt(E["input-label"]),getLoader:Gt,getPopup:rt,getProgressSteps:ht,getTimerLeft:()=>St.timeout&&St.timeout.getTimerLeft(),getTimerProgressBar:ft,getTitle:Pe,getValidationMessage:ze,increaseTimer:I=>{if(St.timeout){const M=St.timeout.increase(I);return Mn(M,!0),M}},isDeprecatedParameter:Js,isLoading:()=>rt().hasAttribute("data-loading"),isTimerRunning:()=>St.timeout&&St.timeout.isRunning(),isUpdatableParameter:Vs,isValidParameter:Qs,isVisible:()=>zn(rt()),mixin:function io(I){return class M extends(this){_main(me,et){return super._main(me,Object.assign({},I,et))}}},resumeTimer:Ri,showLoading:es,stopTimer:Ki,toggleTimer:()=>{const I=St.timeout;return I&&(I.running?Ki():Ri())}});class gi{constructor(M,Z){this.callback=M,this.remaining=Z,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const Z=this.running;return Z&&this.stop(),this.remaining+=M,Z&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ps=["swal-title","swal-html","swal-footer"],fs=I=>{const M={};return Array.from(I.querySelectorAll("swal-param")).forEach(me=>{ps(me,["name","value"]);const et=me.getAttribute("name"),zt=me.getAttribute("value");M[et]="boolean"==typeof Xi[et]?"false"!==zt:"object"==typeof Xi[et]?JSON.parse(zt):zt}),M},co=I=>{const M={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(me=>{const et=me.getAttribute("name"),zt=me.getAttribute("value");M[et]=new Function(`return ${zt}`)()}),M},Gr=I=>{const M={};return Array.from(I.querySelectorAll("swal-button")).forEach(me=>{ps(me,["type","color","aria-label"]);const et=me.getAttribute("type");M[`${et}ButtonText`]=me.innerHTML,M[`show${Be(et)}Button`]=!0,me.hasAttribute("color")&&(M[`${et}ButtonColor`]=me.getAttribute("color")),me.hasAttribute("aria-label")&&(M[`${et}ButtonAriaLabel`]=me.getAttribute("aria-label"))}),M},Yo=I=>{const M={},Z=I.querySelector("swal-image");return Z&&(ps(Z,["src","width","height","alt"]),Z.hasAttribute("src")&&(M.imageUrl=Z.getAttribute("src")),Z.hasAttribute("width")&&(M.imageWidth=Z.getAttribute("width")),Z.hasAttribute("height")&&(M.imageHeight=Z.getAttribute("height")),Z.hasAttribute("alt")&&(M.imageAlt=Z.getAttribute("alt"))),M},ia=I=>{const M={},Z=I.querySelector("swal-icon");return Z&&(ps(Z,["type","color"]),Z.hasAttribute("type")&&(M.icon=Z.getAttribute("type")),Z.hasAttribute("color")&&(M.iconColor=Z.getAttribute("color")),M.iconHtml=Z.innerHTML),M},bs=I=>{const M={},Z=I.querySelector("swal-input");Z&&(ps(Z,["type","label","placeholder","value"]),M.input=Z.getAttribute("type")||"text",Z.hasAttribute("label")&&(M.inputLabel=Z.getAttribute("label")),Z.hasAttribute("placeholder")&&(M.inputPlaceholder=Z.getAttribute("placeholder")),Z.hasAttribute("value")&&(M.inputValue=Z.getAttribute("value")));const me=Array.from(I.querySelectorAll("swal-input-option"));return me.length&&(M.inputOptions={},me.forEach(et=>{ps(et,["value"]);const zt=et.getAttribute("value");M.inputOptions[zt]=et.innerHTML})),M},Lo=(I,M)=>{const Z={};for(const me in M){const et=M[me],zt=I.querySelector(et);zt&&(ps(zt,[]),Z[et.replace(/^swal-/,"")]=zt.innerHTML.trim())}return Z},Vo=I=>{const M=Ps.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(Z=>{const me=Z.tagName.toLowerCase();M.includes(me)||Fe(`Unrecognized element <${me}>`)})},ps=(I,M)=>{Array.from(I.attributes).forEach(Z=>{-1===M.indexOf(Z.name)&&Fe([`Unrecognized attribute "${Z.name}" on <${I.tagName.toLowerCase()}>.`,M.length?`Allowed attributes are: ${M.join(", ")}`:"To set the value, use HTML within the element."])})},Qo=I=>{const M=Bt(),Z=rt();"function"==typeof I.willOpen&&I.willOpen(Z);const et=window.getComputedStyle(document.body).overflowY;sa(M,Z,I),setTimeout(()=>{ii(M,Z)},10),jt()&&(vr(M,I.scrollbarPadding,et),Array.from(document.body.children).forEach(M=>{M===Bt()||M.contains(Bt())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!Mt()&&!St.previousActiveElement&&(St.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(Z)),Jt(M,E["no-transition"])},ri=I=>{const M=rt();if(I.target!==M)return;const Z=Bt();M.removeEventListener(be,ri),Z.style.overflowY="auto"},ii=(I,M)=>{be&&ai(M)?(I.style.overflowY="hidden",M.addEventListener(be,ri)):I.style.overflowY="auto"},vr=(I,M,Z)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!nn(document.body,E.iosfix)){const M=document.body.scrollTop;document.body.style.top=-1*M+"px",an(document.body,E.iosfix),fi(),Ai()}})(),M&&"hidden"!==Z&&xo(),setTimeout(()=>{I.scrollTop=0})},sa=(I,M,Z)=>{an(I,Z.showClass.backdrop),M.style.setProperty("opacity","0","important"),pr(M,"grid"),setTimeout(()=>{an(M,Z.showClass.popup),M.style.removeProperty("opacity")},10),an([document.documentElement,document.body],E.shown),Z.heightAuto&&Z.backdrop&&!Z.toast&&an([document.documentElement,document.body],E["height-auto"])};var gs={email:(I,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(I,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function Ma(I){(function Co(I){I.inputValidator||Object.keys(gs).forEach(M=>{I.input===M&&(I.inputValidator=gs[M])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&Fe("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function fo(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(Fe('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Vn(I)}let ms;class Do{constructor(){if(typeof window>"u")return;ms=this;for(var M=arguments.length,Z=new Array(M),me=0;me<M;me++)Z[me]=arguments[me];const et=Object.freeze(this.constructor.argsToParams(Z));Object.defineProperties(this,{params:{value:et,writable:!1,enumerable:!0,configurable:!0}});const zt=ms._main(ms.params);je.promise.set(this,zt)}_main(M){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&Fe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in I)Oo(M),I.toast&&Gi(M),Ts(M)})(Object.assign({},Z,M)),St.currentInstance&&(St.currentInstance._destroy(),jt()&&Qi()),St.currentInstance=ms;const me=xa(M,Z);Ma(me),Object.freeze(me),St.timeout&&(St.timeout.stop(),delete St.timeout),clearTimeout(St.restoreFocusTimeout);const et=R(ms);return li(ms,me),je.innerParams.set(ms,me),Ua(ms,et,me)}then(M){return je.promise.get(this).then(M)}finally(M){return je.promise.get(this).finally(M)}}const Ua=(I,M,Z)=>new Promise((me,et)=>{const zt=rr=>{I.close({isDismissed:!0,dismiss:rr})};zi.swalPromiseResolve.set(I,me),zi.swalPromiseReject.set(I,et),M.confirmButton.onclick=()=>{(I=>{const M=je.innerParams.get(I);I.disableButtons(),M.input?Es(I,"confirm"):bo(I,!0)})(I)},M.denyButton.onclick=()=>{(I=>{const M=je.innerParams.get(I);I.disableButtons(),M.returnInputValueOnDeny?Es(I,"deny"):ts(I,!1)})(I)},M.cancelButton.onclick=()=>{((I,M)=>{I.disableButtons(),M(xt.cancel)})(I,zt)},M.closeButton.onclick=()=>{zt(xt.close)},((I,M,Z)=>{je.innerParams.get(I).toast?O(I,M,Z):(re(M),Xe(M),gn(I,M,Z))})(I,M,zt),((I,M,Z,me)=>{In(M),Z.toast||(M.keydownHandler=et=>ci(I,et,me),M.keydownTarget=Z.keydownListenerCapture?window:rt(),M.keydownListenerCapture=Z.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(I,St,Z,zt),((I,M)=>{"select"===M.input||"radio"===M.input?no(I,M):["text","email","number","tel","textarea"].includes(M.input)&&(gt(M.inputValue)||kt(M.inputValue))&&(es(bt()),pi(I,M))})(I,Z),Qo(Z),W(St,Z,zt),L(M,Z),setTimeout(()=>{M.container.scrollTop=0})}),xa=(I,M)=>{const Z=(I=>{const M="string"==typeof I.template?document.querySelector(I.template):I.template;if(!M)return{};const Z=M.content;return Vo(Z),Object.assign(fs(Z),co(Z),Gr(Z),Yo(Z),ia(Z),bs(Z),Lo(Z,Ps))})(I),me=Object.assign({},Xi,M,Z,I);return me.showClass=Object.assign({},Xi.showClass,me.showClass),me.hideClass=Object.assign({},Xi.hideClass,me.hideClass),me},R=I=>{const M={popup:rt(),container:Bt(),actions:st(),confirmButton:bt(),denyButton:Vt(),cancelButton:fn(),loader:Gt(),closeButton:_t(),validationMessage:ze(),progressSteps:ht()};return je.domCache.set(I,M),M},W=(I,M,Z)=>{const me=ft();Hn(me),M.timer&&(I.timeout=new gi(()=>{Z("timer"),delete I.timeout},M.timer),M.timerProgressBar&&(pr(me),kn(me,M,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&Mn(M.timer)})))},L=(I,M)=>{if(!M.toast){if(!ke(M.allowEnterKey))return void Ie();te(I,M)||On(-1,1)}},te=(I,M)=>M.focusDeny&&zn(I.denyButton)?(I.denyButton.focus(),!0):M.focusCancel&&zn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!M.focusConfirm||!zn(I.confirmButton)||(I.confirmButton.focus(),0)),Ie=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const I=new Date,M=localStorage.getItem("swal-initiation");M?(I.getTime()-Date.parse(M))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const Z=document.createElement("audio");Z.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",Z.loop=!0,document.body.appendChild(Z),setTimeout(()=>{Z.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Object.assign(Do.prototype,zr),Object.assign(Do,Hs),Object.keys(zr).forEach(I=>{Do[I]=function(){if(ms)return ms[I](...arguments)}}),Do.DismissReason=xt,Do.version="11.7.3";const lt=Do;return lt.default=lt,lt}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(je,j){var p=je.createElement("style");if(je.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=j);else try{p.innerHTML=j}catch{p.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(ln,je,j)=>{"use strict";function Te(st,ot){var ft={};for(var _t in st)Object.prototype.hasOwnProperty.call(st,_t)&&ot.indexOf(_t)<0&&(ft[_t]=st[_t]);if(null!=st&&"function"==typeof Object.getOwnPropertySymbols){var $t=0;for(_t=Object.getOwnPropertySymbols(st);$t<_t.length;$t++)ot.indexOf(_t[$t])<0&&Object.prototype.propertyIsEnumerable.call(st,_t[$t])&&(ft[_t[$t]]=st[_t[$t]])}return ft}function ke(st,ot,ft,_t){return new(ft||(ft=Promise))(function(Pt,jt){function Mt(Dn){try{yn(_t.next(Dn))}catch(nn){jt(nn)}}function pn(Dn){try{yn(_t.throw(Dn))}catch(nn){jt(nn)}}function yn(Dn){Dn.done?Pt(Dn.value):function $t(Pt){return Pt instanceof ft?Pt:new ft(function(jt){jt(Pt)})}(Dn.value).then(Mt,pn)}yn((_t=_t.apply(st,ot||[])).next())})}function _e(st){return this instanceof _e?(this.v=st,this):new _e(st)}function Pe(st,ot,ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $t,_t=ft.apply(st,ot||[]),Pt=[];return $t={},jt("next"),jt("throw"),jt("return"),$t[Symbol.asyncIterator]=function(){return this},$t;function jt(Sn){_t[Sn]&&($t[Sn]=function(kn){return new Promise(function(yr,Dr){Pt.push([Sn,kn,yr,Dr])>1||Mt(Sn,kn)})})}function Mt(Sn,kn){try{!function pn(Sn){Sn.value instanceof _e?Promise.resolve(Sn.value.v).then(yn,Dn):nn(Pt[0][2],Sn)}(_t[Sn](kn))}catch(yr){nn(Pt[0][3],yr)}}function yn(Sn){Mt("next",Sn)}function Dn(Sn){Mt("throw",Sn)}function nn(Sn,kn){Sn(kn),Pt.shift(),Pt.length&&Mt(Pt[0][0],Pt[0][1])}}function At(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,ot=st[Symbol.asyncIterator];return ot?ot.call(st):(st=function Bt(st){var ot="function"==typeof Symbol&&Symbol.iterator,ft=ot&&st[ot],_t=0;if(ft)return ft.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&_t>=st.length&&(st=void 0),{value:st&&st[_t++],done:!st}}};throw new TypeError(ot?"Object is not iterable.":"Symbol.iterator is not defined.")}(st),ft={},_t("next"),_t("throw"),_t("return"),ft[Symbol.asyncIterator]=function(){return this},ft);function _t(Pt){ft[Pt]=st[Pt]&&function(jt){return new Promise(function(Mt,pn){!function $t(Pt,jt,Mt,pn){Promise.resolve(pn).then(function(yn){Pt({value:yn,done:Mt})},jt)}(Mt,pn,(jt=st[Pt](jt)).done,jt.value)})}}}j.d(je,{FC:()=>Pe,KL:()=>At,_T:()=>Te,mG:()=>ke,qq:()=>_e})},7340:(ln,je,j)=>{"use strict";j.d(je,{LC:()=>E,SB:()=>Qe,X$:()=>Te,ZE:()=>rt,ZN:()=>wt,_j:()=>p,eR:()=>De,jt:()=>Ce,k1:()=>Lt,l3:()=>G,oB:()=>we,vP:()=>Fe});class p{}class E{}const G="*";function Te(_e,Pe){return{type:7,name:_e,definitions:Pe,options:{}}}function Ce(_e,Pe=null){return{type:4,styles:Pe,timings:_e}}function Fe(_e,Pe=null){return{type:2,steps:_e,options:Pe}}function we(_e){return{type:6,styles:_e,offset:null}}function Qe(_e,Pe,it){return{type:0,name:_e,styles:Pe,options:it}}function De(_e,Pe,it=null){return{type:1,expr:_e,animation:Pe,options:it}}function qe(_e){Promise.resolve().then(_e)}class wt{constructor(Pe=0,it=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Pe+it}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Pe=>Pe()),this._onDoneFns=[])}onStart(Pe){this._originalOnStartFns.push(Pe),this._onStartFns.push(Pe)}onDone(Pe){this._originalOnDoneFns.push(Pe),this._onDoneFns.push(Pe)}onDestroy(Pe){this._onDestroyFns.push(Pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Pe=>Pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Pe=>Pe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Pe){this._position=this.totalTime?Pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Pe){const it="start"==Pe?this._onStartFns:this._onDoneFns;it.forEach(At=>At()),it.length=0}}class rt{constructor(Pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Pe;let it=0,At=0,ht=0;const ze=this.players.length;0==ze?qe(()=>this._onFinish()):this.players.forEach(bt=>{bt.onDone(()=>{++it==ze&&this._onFinish()}),bt.onDestroy(()=>{++At==ze&&this._onDestroy()}),bt.onStart(()=>{++ht==ze&&this._onStart()})}),this.totalTime=this.players.reduce((bt,fn)=>Math.max(bt,fn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Pe=>Pe()),this._onDoneFns=[])}init(){this.players.forEach(Pe=>Pe.init())}onStart(Pe){this._onStartFns.push(Pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Pe=>Pe()),this._onStartFns=[])}onDone(Pe){this._onDoneFns.push(Pe)}onDestroy(Pe){this._onDestroyFns.push(Pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Pe=>Pe.play())}pause(){this.players.forEach(Pe=>Pe.pause())}restart(){this.players.forEach(Pe=>Pe.restart())}finish(){this._onFinish(),this.players.forEach(Pe=>Pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Pe=>Pe.destroy()),this._onDestroyFns.forEach(Pe=>Pe()),this._onDestroyFns=[])}reset(){this.players.forEach(Pe=>Pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Pe){const it=Pe*this.totalTime;this.players.forEach(At=>{const ht=At.totalTime?Math.min(1,it/At.totalTime):1;At.setPosition(ht)})}getPosition(){const Pe=this.players.reduce((it,At)=>null===it||At.totalTime>it.totalTime?At:it,null);return null!=Pe?Pe.getPosition():0}beforeDestroy(){this.players.forEach(Pe=>{Pe.beforeDestroy&&Pe.beforeDestroy()})}triggerCallback(Pe){const it="start"==Pe?this._onStartFns:this._onDoneFns;it.forEach(At=>At()),it.length=0}}const Lt="!"},6895:(ln,je,j)=>{"use strict";j.d(je,{Do:()=>rt,EM:()=>Js,HT:()=>Te,JF:()=>Ss,K0:()=>Be,Mx:()=>Ei,O5:()=>Ue,Ov:()=>Ai,PM:()=>xi,S$:()=>Bt,V_:()=>Qe,Ye:()=>Lt,b0:()=>wt,bD:()=>qo,ez:()=>Ui,mk:()=>Rn,q:()=>G,sg:()=>Pr,w_:()=>Ce});var p=j(4650);let E=null;function G(){return E}function Te(R){E||(E=R)}class Ce{}const Be=new p.OlP("DocumentToken");let Fe=(()=>{class R{historyGo(L){throw new Error("Not implemented")}}return R.\u0275fac=function(L){return new(L||R)},R.\u0275prov=p.Yz7({token:R,factory:function(){return function we(){return(0,p.LFG)(pe)}()},providedIn:"platform"}),R})();const Qe=new p.OlP("Location Initialized");let pe=(()=>{class R extends Fe{constructor(L){super(),this._doc=L,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(L){const te=G().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",L,!1),()=>te.removeEventListener("popstate",L)}onHashChange(L){const te=G().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",L,!1),()=>te.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,te,Ie){De()?this._history.pushState(L,te,Ie):this._location.hash=Ie}replaceState(L,te,Ie){De()?this._history.replaceState(L,te,Ie):this._location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return R.\u0275fac=function(L){return new(L||R)(p.LFG(Be))},R.\u0275prov=p.Yz7({token:R,factory:function(){return function ke(){return new pe((0,p.LFG)(Be))}()},providedIn:"platform"}),R})();function De(){return!!window.history.pushState}function gt(R,W){if(0==R.length)return W;if(0==W.length)return R;let L=0;return R.endsWith("/")&&L++,W.startsWith("/")&&L++,2==L?R+W.substring(1):1==L?R+W:R+"/"+W}function yt(R){const W=R.match(/#|\?|$/),L=W&&W.index||R.length;return R.slice(0,L-("/"===R[L-1]?1:0))+R.slice(L)}function kt(R){return R&&"?"!==R[0]?"?"+R:R}let Bt=(()=>{class R{historyGo(L){throw new Error("Not implemented")}}return R.\u0275fac=function(L){return new(L||R)},R.\u0275prov=p.Yz7({token:R,factory:function(){return(0,p.f3M)(wt)},providedIn:"root"}),R})();const qe=new p.OlP("appBaseHref");let wt=(()=>{class R extends Bt{constructor(L,te){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return gt(this._baseHref,L)}path(L=!1){const te=this._platformLocation.pathname+kt(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&L?`${te}${Ie}`:te}pushState(L,te,Ie,lt){const I=this.prepareExternalUrl(Ie+kt(lt));this._platformLocation.pushState(L,te,I)}replaceState(L,te,Ie,lt){const I=this.prepareExternalUrl(Ie+kt(lt));this._platformLocation.replaceState(L,te,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return R.\u0275fac=function(L){return new(L||R)(p.LFG(Fe),p.LFG(qe,8))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),rt=(()=>{class R extends Bt{constructor(L,te){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(L){const te=gt(this._baseHref,L);return te.length>0?"#"+te:te}pushState(L,te,Ie,lt){let I=this.prepareExternalUrl(Ie+kt(lt));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.pushState(L,te,I)}replaceState(L,te,Ie,lt){let I=this.prepareExternalUrl(Ie+kt(lt));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.replaceState(L,te,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return R.\u0275fac=function(L){return new(L||R)(p.LFG(Fe),p.LFG(qe,8))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac}),R})(),Lt=(()=>{class R{constructor(L){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const te=this._locationStrategy.getBaseHref();this._basePath=function At(R){if(new RegExp("^(https?:)?//").test(R)){const[,L]=R.split(/\/\/[^\/]+/);return L}return R}(yt(it(te))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,te=""){return this.path()==this.normalize(L+kt(te))}normalize(L){return R.stripTrailingSlash(function Pe(R,W){if(!R||!W.startsWith(R))return W;const L=W.substring(R.length);return""===L||["/",";","?","#"].includes(L[0])?L:W}(this._basePath,it(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,te="",Ie=null){this._locationStrategy.pushState(Ie,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+kt(te)),Ie)}replaceState(L,te="",Ie=null){this._locationStrategy.replaceState(Ie,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+kt(te)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",te){this._urlChangeListeners.forEach(Ie=>Ie(L,te))}subscribe(L,te,Ie){return this._subject.subscribe({next:L,error:te,complete:Ie})}}return R.normalizeQueryParams=kt,R.joinWithSlash=gt,R.stripTrailingSlash=yt,R.\u0275fac=function(L){return new(L||R)(p.LFG(Bt))},R.\u0275prov=p.Yz7({token:R,factory:function(){return function _e(){return new Lt((0,p.LFG)(Bt))}()},providedIn:"root"}),R})();function it(R){return R.replace(/\/index.html$/,"")}function Ei(R,W){W=encodeURIComponent(W);for(const L of R.split(";")){const te=L.indexOf("="),[Ie,lt]=-1==te?[L,""]:[L.slice(0,te),L.slice(te+1)];if(Ie.trim()===W)return decodeURIComponent(lt)}return null}const Zr=/\s+/,Ht=[];let Rn=(()=>{class R{constructor(L,te,Ie,lt){this._iterableDiffers=L,this._keyValueDiffers=te,this._ngEl=Ie,this._renderer=lt,this.initialClasses=Ht,this.stateMap=new Map}set klass(L){this.initialClasses=null!=L?L.trim().split(Zr):Ht}set ngClass(L){this.rawClass="string"==typeof L?L.trim().split(Zr):L}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const L=this.rawClass;if(Array.isArray(L)||L instanceof Set)for(const te of L)this._updateState(te,!0);else if(null!=L)for(const te of Object.keys(L))this._updateState(te,Boolean(L[te]));this._applyStateDiff()}_updateState(L,te){const Ie=this.stateMap.get(L);void 0!==Ie?(Ie.enabled!==te&&(Ie.changed=!0,Ie.enabled=te),Ie.touched=!0):this.stateMap.set(L,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const L of this.stateMap){const te=L[0],Ie=L[1];Ie.changed?(this._toggleClass(te,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),Ie.touched=!1}}_toggleClass(L,te){(L=L.trim()).length>0&&L.split(Zr).forEach(Ie=>{te?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}}return R.\u0275fac=function(L){return new(L||R)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class kr{constructor(W,L,te,Ie){this.$implicit=W,this.ngForOf=L,this.index=te,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pr=(()=>{class R{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,te,Ie){this._viewContainer=L,this._template=te,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const te=this._viewContainer;L.forEachOperation((Ie,lt,I)=>{if(null==Ie.previousIndex)te.createEmbeddedView(this._template,new kr(Ie.item,this._ngForOf,-1,-1),null===I?void 0:I);else if(null==I)te.remove(null===lt?void 0:lt);else if(null!==lt){const M=te.get(lt);te.move(M,I),er(M,Ie)}});for(let Ie=0,lt=te.length;Ie<lt;Ie++){const M=te.get(Ie).context;M.index=Ie,M.count=lt,M.ngForOf=this._ngForOf}L.forEachIdentityChange(Ie=>{er(te.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(L,te){return!0}}return R.\u0275fac=function(L){return new(L||R)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function er(R,W){R.context.$implicit=W.item}let Ue=(()=>{class R{constructor(L,te){this._viewContainer=L,this._context=new $e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Ct("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Ct("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,te){return!0}}return R.\u0275fac=function(L){return new(L||R)(p.Y36(p.s_b),p.Y36(p.Rgc))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class $e{constructor(){this.$implicit=null,this.ngIf=null}}function Ct(R,W){if(W&&!W.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,p.AaK)(W)}'.`)}class zi{createSubscription(W,L){return W.subscribe({next:L,error:te=>{throw te}})}dispose(W){W.unsubscribe()}}class ks{createSubscription(W,L){return W.then(L,te=>{throw te})}dispose(W){}}const Qi=new ks,Ji=new zi;let Ai=(()=>{class R{constructor(L){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=L}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(L){return this._obj?L!==this._obj?(this._dispose(),this.transform(L)):this._latestValue:(L&&this._subscribe(L),this._latestValue)}_subscribe(L){this._obj=L,this._strategy=this._selectStrategy(L),this._subscription=this._strategy.createSubscription(L,te=>this._updateLatestValue(L,te))}_selectStrategy(L){if((0,p.QGY)(L))return Qi;if((0,p.F4k)(L))return Ji;throw function _s(R,W){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(L,te){L===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return R.\u0275fac=function(L){return new(L||R)(p.Y36(p.sBO,16))},R.\u0275pipe=p.Yjl({name:"async",type:R,pure:!1,standalone:!0}),R})(),Ui=(()=>{class R{}return R.\u0275fac=function(L){return new(L||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})();const qo="browser",Ls="server";function xi(R){return R===Ls}let Js=(()=>{class R{}return R.\u0275prov=(0,p.Yz7)({token:R,providedIn:"root",factory:()=>new Oo((0,p.LFG)(Be),window)}),R})();class Oo{constructor(W,L){this.document=W,this.window=L,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const L=function Ts(R,W){const L=R.getElementById(W)||R.getElementsByName(W)[0];if(L)return L;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const te=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ie=te.currentNode;for(;Ie;){const lt=Ie.shadowRoot;if(lt){const I=lt.getElementById(W)||lt.querySelector(`[name="${W}"]`);if(I)return I}Ie=te.nextNode()}}return null}(this.document,W);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=W)}}scrollToElement(W){const L=W.getBoundingClientRect(),te=L.left+this.window.pageXOffset,Ie=L.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(te-lt[0],Ie-lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Gi(this.window.history)||Gi(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gi(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Ss{}},529:(ln,je,j)=>{"use strict";j.d(je,{JF:()=>Vn,eN:()=>ot});var p=j(6895),E=j(4650),G=j(9646),Te=j(9751),Ce=j(4351),Be=j(9300),Fe=j(4004);class we{}class Qe{}class pe{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?this.lazyInit="string"==typeof be?()=>{this.headers=new Map,be.split("\n").forEach(Ve=>{const Ot=Ve.indexOf(":");if(Ot>0){const vt=Ve.slice(0,Ot),ge=vt.toLowerCase(),he=Ve.slice(Ot+1).trim();this.maybeSetNormalizedName(vt,ge),this.headers.has(ge)?this.headers.get(ge).push(he):this.headers.set(ge,[he])}})}:()=>{this.headers=new Map,Object.entries(be).forEach(([Ve,Ot])=>{let vt;if(vt="string"==typeof Ot?[Ot]:"number"==typeof Ot?[Ot.toString()]:Ot.map(ge=>ge.toString()),vt.length>0){const ge=Ve.toLowerCase();this.headers.set(ge,vt),this.maybeSetNormalizedName(Ve,ge)}})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Ve=this.headers.get(be.toLowerCase());return Ve&&Ve.length>0?Ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Ve){return this.clone({name:be,value:Ve,op:"a"})}set(be,Ve){return this.clone({name:be,value:Ve,op:"s"})}delete(be,Ve){return this.clone({name:be,value:Ve,op:"d"})}maybeSetNormalizedName(be,Ve){this.normalizedNames.has(Ve)||this.normalizedNames.set(Ve,be)}init(){this.lazyInit&&(this.lazyInit instanceof pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Ve=>{this.headers.set(Ve,be.headers.get(Ve)),this.normalizedNames.set(Ve,be.normalizedNames.get(Ve))})}clone(be){const Ve=new pe;return Ve.lazyInit=this.lazyInit&&this.lazyInit instanceof pe?this.lazyInit:this,Ve.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Ve}applyUpdate(be){const Ve=be.name.toLowerCase();switch(be.op){case"a":case"s":let Ot=be.value;if("string"==typeof Ot&&(Ot=[Ot]),0===Ot.length)return;this.maybeSetNormalizedName(be.name,Ve);const vt=("a"===be.op?this.headers.get(Ve):void 0)||[];vt.push(...Ot),this.headers.set(Ve,vt);break;case"d":const ge=be.value;if(ge){let he=this.headers.get(Ve);if(!he)return;he=he.filter(ee=>-1===ge.indexOf(ee)),0===he.length?(this.headers.delete(Ve),this.normalizedNames.delete(Ve)):this.headers.set(Ve,he)}else this.headers.delete(Ve),this.normalizedNames.delete(Ve)}}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ve=>be(this.normalizedNames.get(Ve),this.headers.get(Ve)))}}class ke{encodeKey(be){return Bt(be)}encodeValue(be){return Bt(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const yt=/%(\d[a-f0-9])/gi,kt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bt(nt){return encodeURIComponent(nt).replace(yt,(be,Ve)=>kt[Ve]??be)}function qe(nt){return`${nt}`}class wt{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new ke,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(nt,be){const Ve=new Map;return nt.length>0&&nt.replace(/^\?/,"").split("&").forEach(vt=>{const ge=vt.indexOf("="),[he,ee]=-1==ge?[be.decodeKey(vt),""]:[be.decodeKey(vt.slice(0,ge)),be.decodeValue(vt.slice(ge+1))],ne=Ve.get(he)||[];ne.push(ee),Ve.set(he,ne)}),Ve}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Ve=>{const Ot=be.fromObject[Ve],vt=Array.isArray(Ot)?Ot.map(qe):[qe(Ot)];this.map.set(Ve,vt)})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Ve=this.map.get(be);return Ve?Ve[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Ve){return this.clone({param:be,value:Ve,op:"a"})}appendAll(be){const Ve=[];return Object.keys(be).forEach(Ot=>{const vt=be[Ot];Array.isArray(vt)?vt.forEach(ge=>{Ve.push({param:Ot,value:ge,op:"a"})}):Ve.push({param:Ot,value:vt,op:"a"})}),this.clone(Ve)}set(be,Ve){return this.clone({param:be,value:Ve,op:"s"})}delete(be,Ve){return this.clone({param:be,value:Ve,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Ve=this.encoder.encodeKey(be);return this.map.get(be).map(Ot=>Ve+"="+this.encoder.encodeValue(Ot)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Ve=new wt({encoder:this.encoder});return Ve.cloneFrom=this.cloneFrom||this,Ve.updates=(this.updates||[]).concat(be),Ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Ve=("a"===be.op?this.map.get(be.param):void 0)||[];Ve.push(qe(be.value)),this.map.set(be.param,Ve);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let Ot=this.map.get(be.param)||[];const vt=Ot.indexOf(qe(be.value));-1!==vt&&Ot.splice(vt,1),Ot.length>0?this.map.set(be.param,Ot):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class Lt{constructor(){this.map=new Map}set(be,Ve){return this.map.set(be,Ve),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function Pe(nt){return typeof ArrayBuffer<"u"&&nt instanceof ArrayBuffer}function it(nt){return typeof Blob<"u"&&nt instanceof Blob}function At(nt){return typeof FormData<"u"&&nt instanceof FormData}class ze{constructor(be,Ve,Ot,vt){let ge;if(this.url=Ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function _e(nt){switch(nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==Ot?Ot:null,ge=vt):ge=Ot,ge&&(this.reportProgress=!!ge.reportProgress,this.withCredentials=!!ge.withCredentials,ge.responseType&&(this.responseType=ge.responseType),ge.headers&&(this.headers=ge.headers),ge.context&&(this.context=ge.context),ge.params&&(this.params=ge.params)),this.headers||(this.headers=new pe),this.context||(this.context=new Lt),this.params){const he=this.params.toString();if(0===he.length)this.urlWithParams=Ve;else{const ee=Ve.indexOf("?");this.urlWithParams=Ve+(-1===ee?"?":ee<Ve.length-1?"&":"")+he}}else this.params=new wt,this.urlWithParams=Ve}serializeBody(){return null===this.body?null:Pe(this.body)||it(this.body)||At(this.body)||function ht(nt){return typeof URLSearchParams<"u"&&nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||At(this.body)?null:it(this.body)?this.body.type||null:Pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){const Ve=be.method||this.method,Ot=be.url||this.url,vt=be.responseType||this.responseType,ge=void 0!==be.body?be.body:this.body,he=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,ee=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let ne=be.headers||this.headers,J=be.params||this.params;const Se=be.context??this.context;return void 0!==be.setHeaders&&(ne=Object.keys(be.setHeaders).reduce((ye,ve)=>ye.set(ve,be.setHeaders[ve]),ne)),be.setParams&&(J=Object.keys(be.setParams).reduce((ye,ve)=>ye.set(ve,be.setParams[ve]),J)),new ze(Ve,Ot,ge,{params:J,headers:ne,context:Se,reportProgress:ee,responseType:vt,withCredentials:he})}}var bt=(()=>((bt=bt||{})[bt.Sent=0]="Sent",bt[bt.UploadProgress=1]="UploadProgress",bt[bt.ResponseHeader=2]="ResponseHeader",bt[bt.DownloadProgress=3]="DownloadProgress",bt[bt.Response=4]="Response",bt[bt.User=5]="User",bt))();class fn{constructor(be,Ve=200,Ot="OK"){this.headers=be.headers||new pe,this.status=void 0!==be.status?be.status:Ve,this.statusText=be.statusText||Ot,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class Vt extends fn{constructor(be={}){super(be),this.type=bt.ResponseHeader}clone(be={}){return new Vt({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Wt extends fn{constructor(be={}){super(be),this.type=bt.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new Wt({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Gt extends fn{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function st(nt,be){return{body:be,headers:nt.headers,context:nt.context,observe:nt.observe,params:nt.params,reportProgress:nt.reportProgress,responseType:nt.responseType,withCredentials:nt.withCredentials}}let ot=(()=>{class nt{constructor(Ve){this.handler=Ve}request(Ve,Ot,vt={}){let ge;if(Ve instanceof ze)ge=Ve;else{let ne,J;ne=vt.headers instanceof pe?vt.headers:new pe(vt.headers),vt.params&&(J=vt.params instanceof wt?vt.params:new wt({fromObject:vt.params})),ge=new ze(Ve,Ot,void 0!==vt.body?vt.body:null,{headers:ne,context:vt.context,params:J,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const he=(0,G.of)(ge).pipe((0,Ce.b)(ne=>this.handler.handle(ne)));if(Ve instanceof ze||"events"===vt.observe)return he;const ee=he.pipe((0,Be.h)(ne=>ne instanceof Wt));switch(vt.observe||"body"){case"body":switch(ge.responseType){case"arraybuffer":return ee.pipe((0,Fe.U)(ne=>{if(null!==ne.body&&!(ne.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ne.body}));case"blob":return ee.pipe((0,Fe.U)(ne=>{if(null!==ne.body&&!(ne.body instanceof Blob))throw new Error("Response is not a Blob.");return ne.body}));case"text":return ee.pipe((0,Fe.U)(ne=>{if(null!==ne.body&&"string"!=typeof ne.body)throw new Error("Response is not a string.");return ne.body}));default:return ee.pipe((0,Fe.U)(ne=>ne.body))}case"response":return ee;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(Ve,Ot={}){return this.request("DELETE",Ve,Ot)}get(Ve,Ot={}){return this.request("GET",Ve,Ot)}head(Ve,Ot={}){return this.request("HEAD",Ve,Ot)}jsonp(Ve,Ot){return this.request("JSONP",Ve,{params:(new wt).append(Ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ve,Ot={}){return this.request("OPTIONS",Ve,Ot)}patch(Ve,Ot,vt={}){return this.request("PATCH",Ve,st(vt,Ot))}post(Ve,Ot,vt={}){return this.request("POST",Ve,st(vt,Ot))}put(Ve,Ot,vt={}){return this.request("PUT",Ve,st(vt,Ot))}}return nt.\u0275fac=function(Ve){return new(Ve||nt)(E.LFG(we))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function ft(nt,be){return be(nt)}function _t(nt,be){return(Ve,Ot)=>be.intercept(Ve,{handle:vt=>nt(vt,Ot)})}const Pt=new E.OlP("HTTP_INTERCEPTORS"),jt=new E.OlP("HTTP_INTERCEPTOR_FNS");function Mt(){let nt=null;return(be,Ve)=>(null===nt&&(nt=((0,E.f3M)(Pt,{optional:!0})??[]).reduceRight(_t,ft)),nt(be,Ve))}let pn=(()=>{class nt extends we{constructor(Ve,Ot){super(),this.backend=Ve,this.injector=Ot,this.chain=null}handle(Ve){if(null===this.chain){const Ot=Array.from(new Set(this.injector.get(jt)));this.chain=Ot.reduceRight((vt,ge)=>function $t(nt,be,Ve){return(Ot,vt)=>Ve.runInContext(()=>be(Ot,ge=>nt(ge,vt)))}(vt,ge,this.injector),ft)}return this.chain(Ve,Ot=>this.backend.handle(Ot))}}return nt.\u0275fac=function(Ve){return new(Ve||nt)(E.LFG(Qe),E.LFG(E.lqb))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const Tr=/^\)\]\}',?\n/;let Hn=(()=>{class nt{constructor(Ve){this.xhrFactory=Ve}handle(Ve){if("JSONP"===Ve.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te.y(Ot=>{const vt=this.xhrFactory.build();if(vt.open(Ve.method,Ve.urlWithParams),Ve.withCredentials&&(vt.withCredentials=!0),Ve.headers.forEach((le,Ae)=>vt.setRequestHeader(le,Ae.join(","))),Ve.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ve.headers.has("Content-Type")){const le=Ve.detectContentTypeHeader();null!==le&&vt.setRequestHeader("Content-Type",le)}if(Ve.responseType){const le=Ve.responseType.toLowerCase();vt.responseType="json"!==le?le:"text"}const ge=Ve.serializeBody();let he=null;const ee=()=>{if(null!==he)return he;const le=vt.statusText||"OK",Ae=new pe(vt.getAllResponseHeaders()),Je=function pr(nt){return"responseURL"in nt&&nt.responseURL?nt.responseURL:/^X-Request-URL:/m.test(nt.getAllResponseHeaders())?nt.getResponseHeader("X-Request-URL"):null}(vt)||Ve.url;return he=new Vt({headers:Ae,status:vt.status,statusText:le,url:Je}),he},ne=()=>{let{headers:le,status:Ae,statusText:Je,url:It}=ee(),Yt=null;204!==Ae&&(Yt=typeof vt.response>"u"?vt.responseText:vt.response),0===Ae&&(Ae=Yt?200:0);let cn=Ae>=200&&Ae<300;if("json"===Ve.responseType&&"string"==typeof Yt){const ar=Yt;Yt=Yt.replace(Tr,"");try{Yt=""!==Yt?JSON.parse(Yt):null}catch(Vr){Yt=ar,cn&&(cn=!1,Yt={error:Vr,text:Yt})}}cn?(Ot.next(new Wt({body:Yt,headers:le,status:Ae,statusText:Je,url:It||void 0})),Ot.complete()):Ot.error(new Gt({error:Yt,headers:le,status:Ae,statusText:Je,url:It||void 0}))},J=le=>{const{url:Ae}=ee(),Je=new Gt({error:le,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:Ae||void 0});Ot.error(Je)};let Se=!1;const ye=le=>{Se||(Ot.next(ee()),Se=!0);let Ae={type:bt.DownloadProgress,loaded:le.loaded};le.lengthComputable&&(Ae.total=le.total),"text"===Ve.responseType&&vt.responseText&&(Ae.partialText=vt.responseText),Ot.next(Ae)},ve=le=>{let Ae={type:bt.UploadProgress,loaded:le.loaded};le.lengthComputable&&(Ae.total=le.total),Ot.next(Ae)};return vt.addEventListener("load",ne),vt.addEventListener("error",J),vt.addEventListener("timeout",J),vt.addEventListener("abort",J),Ve.reportProgress&&(vt.addEventListener("progress",ye),null!==ge&&vt.upload&&vt.upload.addEventListener("progress",ve)),vt.send(ge),Ot.next({type:bt.Sent}),()=>{vt.removeEventListener("error",J),vt.removeEventListener("abort",J),vt.removeEventListener("load",ne),vt.removeEventListener("timeout",J),Ve.reportProgress&&(vt.removeEventListener("progress",ye),null!==ge&&vt.upload&&vt.upload.removeEventListener("progress",ve)),vt.readyState!==vt.DONE&&vt.abort()}})}}return nt.\u0275fac=function(Ve){return new(Ve||nt)(E.LFG(p.JF))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const un=new E.OlP("XSRF_ENABLED"),zn=new E.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qr=new E.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ai{}let Mn=(()=>{class nt{constructor(Ve,Ot,vt){this.doc=Ve,this.platform=Ot,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ve=this.doc.cookie||"";return Ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(Ve,this.cookieName),this.lastCookieString=Ve),this.lastToken}}return nt.\u0275fac=function(Ve){return new(Ve||nt)(E.LFG(p.K0),E.LFG(E.Lbi),E.LFG(zn))},nt.\u0275prov=E.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function bn(nt,be){const Ve=nt.url.toLowerCase();if(!(0,E.f3M)(un)||"GET"===nt.method||"HEAD"===nt.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return be(nt);const Ot=(0,E.f3M)(ai).getToken(),vt=(0,E.f3M)(qr);return null!=Ot&&!nt.headers.has(vt)&&(nt=nt.clone({headers:nt.headers.set(vt,Ot)})),be(nt)}var St=(()=>((St=St||{})[St.Interceptors=0]="Interceptors",St[St.LegacyInterceptors=1]="LegacyInterceptors",St[St.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",St[St.NoXsrfProtection=3]="NoXsrfProtection",St[St.JsonpSupport=4]="JsonpSupport",St[St.RequestsMadeViaParent=5]="RequestsMadeViaParent",St))();function dr(nt,be){return{\u0275kind:nt,\u0275providers:be}}function Ir(...nt){const be=[ot,Hn,pn,{provide:we,useExisting:pn},{provide:Qe,useExisting:Hn},{provide:jt,useValue:bn,multi:!0},{provide:un,useValue:!0},{provide:ai,useClass:Mn}];for(const Ve of nt)be.push(...Ve.\u0275providers);return(0,E.MR2)(be)}const Yr=new E.OlP("LEGACY_INTERCEPTOR_FN");let Vn=(()=>{class nt{}return nt.\u0275fac=function(Ve){return new(Ve||nt)},nt.\u0275mod=E.oAB({type:nt}),nt.\u0275inj=E.cJS({providers:[Ir(dr(St.LegacyInterceptors,[{provide:Yr,useFactory:Mt},{provide:jt,useExisting:Yr,multi:!0}]))]}),nt})()},4650:(ln,je,j)=>{"use strict";j.d(je,{$8M:()=>ns,$WT:()=>Xn,$Z:()=>op,AFp:()=>e0,ALo:()=>bw,AaK:()=>we,CHM:()=>N,CRH:()=>Pw,CZH:()=>Iy,CqO:()=>Kh,D6c:()=>Sb,EJc:()=>HE,EpF:()=>Sm,F4k:()=>Wh,FYo:()=>Al,FiY:()=>Di,GfV:()=>Hf,Gpc:()=>De,JOm:()=>de,KtG:()=>re,LFG:()=>Vn,LSH:()=>yd,Lbi:()=>UE,Lck:()=>F0,MAs:()=>zh,MMx:()=>c_,MR2:()=>jy,NdJ:()=>$p,OlP:()=>Ze,Oqu:()=>af,P3R:()=>Uc,PXZ:()=>ib,Q6J:()=>Vp,QGY:()=>Kd,QbO:()=>BE,Qsj:()=>Ml,R0b:()=>el,RDi:()=>Ry,Rgc:()=>cg,SBq:()=>Ed,Sil:()=>GE,Suo:()=>xw,TTD:()=>Vs,TgZ:()=>id,VKq:()=>gw,W1O:()=>kw,WLB:()=>mw,X6Q:()=>lb,XFs:()=>un,Xpm:()=>cn,Xts:()=>Of,Y36:()=>hc,YKP:()=>ow,YNc:()=>Hh,Yjl:()=>dt,Yz7:()=>nn,Z0I:()=>Dr,ZZ4:()=>F_,_Bn:()=>sw,_UZ:()=>Wd,_Vd:()=>zc,_c5:()=>Db,_uU:()=>jm,aQg:()=>L_,c2e:()=>$E,cJS:()=>kn,cg1:()=>ey,dDg:()=>eb,dqk:()=>Mn,eFA:()=>p0,eJc:()=>w_,ekj:()=>bu,eoX:()=>c0,f3M:()=>gr,g9A:()=>n0,h0i:()=>Ef,hGG:()=>Tb,hij:()=>Kl,iGM:()=>Mw,ifc:()=>ne,ip1:()=>Xw,jDz:()=>uw,kL8:()=>hf,lG2:()=>Oe,lcZ:()=>Iw,lqb:()=>Ku,lri:()=>u0,n5z:()=>Pa,oAB:()=>ce,oxw:()=>Hp,q4F:()=>Ug,qLn:()=>uc,qOj:()=>$d,qZA:()=>Gd,rWj:()=>l0,sBO:()=>cb,s_b:()=>wy,soG:()=>Cy,tb:()=>h0,tp0:()=>so,uIk:()=>Fp,vHH:()=>qe,vpe:()=>Jl,wAp:()=>Er,xp6:()=>Zg,z2F:()=>Dy,zSh:()=>vh,zs3:()=>Os});var p=j(7579),E=j(727),G=j(9751),Te=j(6451),Ce=j(3099);function Be(n){for(let i in n)if(n[i]===Be)return i;throw Error("Could not find renamed property on target object.")}function Fe(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function we(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(we).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Qe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const pe=Be({__forward_ref__:Be});function De(n){return n.__forward_ref__=De,n.toString=function(){return we(this())},n}function ke(n){return gt(n)?n():n}function gt(n){return"function"==typeof n&&n.hasOwnProperty(pe)&&n.__forward_ref__===De}function yt(n){return n&&!!n.\u0275providers}const Bt="https://g.co/ng/security#xss";class qe extends Error{constructor(i,o){super(wt(i,o)),this.code=i}}function wt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function At(n,i){throw new qe(-201,!1)}function jt(n,i){null==n&&function Mt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function nn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function yr(n){return cr(n,sr)||cr(n,pr)}function Dr(n){return null!==yr(n)}function cr(n,i){return n.hasOwnProperty(i)?n[i]:null}function Jt(n){return n&&(n.hasOwnProperty(Tr)||n.hasOwnProperty(Hn))?n[Tr]:null}const sr=Be({\u0275prov:Be}),Tr=Be({\u0275inj:Be}),pr=Be({ngInjectableDef:Be}),Hn=Be({ngInjectorDef:Be});var un=(()=>((un=un||{})[un.Default=0]="Default",un[un.Host=1]="Host",un[un.Self=2]="Self",un[un.SkipSelf=4]="SkipSelf",un[un.Optional=8]="Optional",un))();let Fn;function or(n){const i=Fn;return Fn=n,i}function qr(n,i,o){const u=yr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&un.Optional?null:void 0!==i?i:void At(we(n))}const Mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dr={},Ir="__NG_DI_FLAG__",Cr="ngTempTokenPath",Yr="ngTokenPath",jr=/\n/gm,Sr="\u0275",$n="__source";let Hr;function jn(n){const i=Hr;return Hr=n,i}function Ln(n,i=un.Default){if(void 0===Hr)throw new qe(-203,!1);return null===Hr?qr(n,void 0,i):Hr.get(n,i&un.Optional?null:void 0,i)}function Vn(n,i=un.Default){return(function zn(){return Fn}()||Ln)(ke(n),i)}function gr(n,i=un.Default){return Vn(n,nt(i))}function nt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function be(n){const i=[];for(let o=0;o<n.length;o++){const u=ke(n[o]);if(Array.isArray(u)){if(0===u.length)throw new qe(900,!1);let l,h=un.Default;for(let v=0;v<u.length;v++){const A=u[v],k=Ot(A);"number"==typeof k?-1===k?l=A.token:h|=k:l=A}i.push(Vn(l,h))}else i.push(Vn(u))}return i}function Ve(n,i){return n[Ir]=i,n.prototype[Ir]=i,n}function Ot(n){return n[Ir]}function he(n){return{toString:n}.toString()}var ee=(()=>((ee=ee||{})[ee.OnPush=0]="OnPush",ee[ee.Default=1]="Default",ee))(),ne=(()=>{return(n=ne||(ne={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ne;var n})();const J={},Se=[],ye=Be({\u0275cmp:Be}),ve=Be({\u0275dir:Be}),le=Be({\u0275pipe:Be}),Ae=Be({\u0275mod:Be}),Je=Be({\u0275fac:Be}),It=Be({__NG_ELEMENT_ID__:Be});let Yt=0;function cn(n){return he(()=>{const i=ei(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ne.Emulated,id:"c"+Yt++,styles:n.styles||Se,_:null,schemas:n.schemas||null,tView:null};Yi(o);const u=n.dependencies;return o.directiveDefs=Ei(u,!1),o.pipeDefs=Ei(u,!0),o})}function Vr(n){return Tt(n)||sn(n)}function ut(n){return null!==n}function ce(n){return he(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ae(n,i){if(null==n)return J;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function Oe(n){return he(()=>{const i=ei(n);return Yi(i),i})}function dt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Tt(n){return n[ye]||null}function sn(n){return n[ve]||null}function Pn(n){return n[le]||null}function Xn(n){const i=Tt(n)||sn(n)||Pn(n);return null!==i&&i.standalone}function br(n,i){const o=n[Ae]||null;if(!o&&!0===i)throw new Error(`Type ${we(n)} does not have '\u0275mod' property.`);return o}function ei(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ae(n.inputs,i),outputs:ae(n.outputs)}}function Yi(n){n.features?.forEach(i=>i(n))}function Ei(n,i){if(!n)return null;const o=i?Pn:Vr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(ut)}const Zr=0,Ht=1,Rn=2,wr=3,fr=4,li=5,kr=6,Pr=7,er=8,He=9,Ue=10,$e=11,Ct=12,xt=13,In=14,Gn=15,On=16,ir=17,vi=18,ci=19,_i=20,Oi=21,Br=22,zi=1,ks=2,Qi=7,Ji=8,Ai=9,fi=10;function bi(n){return Array.isArray(n)&&"object"==typeof n[zi]}function ss(n){return Array.isArray(n)&&!0===n[zi]}function ao(n){return 0!=(4&n.flags)}function xo(n){return n.componentOffset>-1}function os(n){return 1==(1&n.flags)}function Qr(n){return!!n.template}function as(n){return 0!=(256&n[Rn])}function cs(n,i){return n.hasOwnProperty(Je)?n[Je]:null}class Qs{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Vs(){return Js}function Js(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gi),Oo}function Oo(){const n=Us(this),i=n?.current;if(i){const o=n.previous;if(o===J)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Gi(n,i,o,u){const l=this.declaredInputs[o],h=Us(n)||function Ss(n,i){return n[Ts]=i}(n,{previous:J,current:null}),v=h.current||(h.current={}),A=h.previous,k=A[l];v[l]=new Qs(k&&k.currentValue,i,A===J),n[u]=i}Vs.ngInherit=!0;const Ts="__ngSimpleChanges__";function Us(n){return n[Ts]||null}const ti=function(n,i,o){};function zr(n){for(;Array.isArray(n);)n=n[Zr];return n}function eo(n,i){return zr(i[n])}function di(n,i){return zr(i[n.index])}function No(n,i){return n.data[i]}function mr(n,i){return n[i]}function wi(n,i){const o=i[n];return bi(o)?o:o[Zr]}function pi(n){return 64==(64&n[Rn])}function Ni(n,i){return null==i?null:n[i]}function ro(n){n[vi]=0}function Wi(n,i){n[li]+=i;let o=n,u=n[wr];for(;null!==u&&(1===i&&1===o[li]||-1===i&&0===o[li]);)u[li]+=i,o=u,u=u[wr]}const qn={lFrame:bs(null),bindingsEnabled:!0};function Eo(){return qn.bindingsEnabled}function O(){return qn.lFrame.lView}function F(){return qn.lFrame.tView}function N(n){return qn.lFrame.contextLView=n,n[er]}function re(n){return qn.lFrame.contextLView=null,n}function Xe(){let n=gn();for(;null!==n&&64===n.type;)n=n.parent;return n}function gn(){return qn.lFrame.currentTNode}function Jr(n,i){const o=qn.lFrame;o.currentTNode=n,o.isParent=i}function hs(){return qn.lFrame.isParent}function Ri(){const n=qn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function $s(){return qn.lFrame.bindingIndex++}function qi(n,i){const o=qn.lFrame;o.bindingIndex=o.bindingRootIndex=n,gi(i)}function gi(n){qn.lFrame.currentDirectiveIndex=n}function Zo(){return qn.lFrame.currentQueryIndex}function fs(n){qn.lFrame.currentQueryIndex=n}function co(n){const i=n[Ht];return 2===i.type?i.declTNode:1===i.type?n[kr]:null}function Gr(n,i,o){if(o&un.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&un.Host||(l=co(h),null===l||(h=h[Gn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=qn.lFrame=ia();return u.currentTNode=i,u.lView=n,!0}function Yo(n){const i=ia(),o=n[Ht];qn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ia(){const n=qn.lFrame,i=null===n?null:n.child;return null===i?bs(n):i}function bs(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Lo(){const n=qn.lFrame;return qn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Vo=Lo;function ps(){const n=Lo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ri(){return qn.lFrame.selectedIndex}function ii(n){qn.lFrame.selectedIndex=n}function vr(){const n=qn.lFrame;return No(n.tView,n.selectedIndex)}function Do(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:A,ngAfterViewInit:k,ngAfterViewChecked:K,ngOnDestroy:ie}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),A&&((n.contentHooks??(n.contentHooks=[])).push(o,A),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,A)),k&&(n.viewHooks??(n.viewHooks=[])).push(-o,k),K&&((n.viewHooks??(n.viewHooks=[])).push(o,K),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,K)),null!=ie&&(n.destroyHooks??(n.destroyHooks=[])).push(o,ie)}}function Ua(n,i,o){W(n,i,3,o)}function xa(n,i,o,u){(3&n[Rn])===o&&W(n,i,o,u)}function R(n,i){let o=n[Rn];(3&o)===i&&(o&=2047,o+=1,n[Rn]=o)}function W(n,i,o,u){const h=u??-1,v=i.length-1;let A=0;for(let k=void 0!==u?65535&n[vi]:0;k<v;k++)if("number"==typeof i[k+1]){if(A=i[k],null!=u&&A>=u)break}else i[k]<0&&(n[vi]+=65536),(A<h||-1==h)&&(L(n,o,i,k),n[vi]=(4294901760&n[vi])+k+2),k++}function L(n,i,o,u){const l=o[u]<0,h=o[u+1],A=n[l?-o[u]:o[u]];if(l){if(n[Rn]>>11<n[vi]>>16&&(3&n[Rn])===i){n[Rn]+=2048,ti(4,A,h);try{h.call(A)}finally{ti(5,A,h)}}}else{ti(4,A,h);try{h.call(A)}finally{ti(5,A,h)}}}const te=-1;class Ie{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function _r(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],A=o[u++];n.setAttribute(i,v,A,h)}else{const h=l,v=o[++u];Or(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function Et(n){return 3===n||4===n||6===n}function Or(n){return 64===n.charCodeAt(0)}function si(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||po(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function po(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const A=n[h++];if("number"==typeof A){if(A===i){v=-1;break}if(A>i){v=h-1;break}}}for(;h<n.length;){const A=n[h];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function en(n){return n!==te}function Cn(n){return 32767&n}function Qt(n,i){let o=function Is(n){return n>>16}(n),u=i;for(;o>0;)u=u[Gn],o--;return u}let pt=!0;function Ut(n){const i=pt;return pt=n,i}const Ba=255,Cu=5;let Vu=0;const Uo={};function Uu(n,i){const o=vl(n,i);if(-1!==o)return o;const u=i[Ht];u.firstCreatePass&&(n.injectorIndex=i.length,oa(u.data,n),oa(i,null),oa(u.blueprint,null));const l=ki(n,i),h=n.injectorIndex;if(en(l)){const v=Cn(l),A=Qt(l,i),k=A[Ht].data;for(let K=0;K<8;K++)i[h+K]=A[v+K]|k[v+K]}return i[h+8]=l,h}function oa(n,i){n.push(0,0,0,0,0,0,0,0,i)}function vl(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ki(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=ja(l),null===u)return te;if(o++,l=l[Gn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return te}function Xa(n,i,o){!function Xl(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(It)&&(u=o[It]),null==u&&(u=o[It]=Vu++);const l=u&Ba;i.data[n+(l>>Cu)]|=1<<l}(n,i,o)}function ur(n,i,o){if(o&un.Optional||void 0!==n)return n;At()}function Ea(n,i,o,u){if(o&un.Optional&&void 0===u&&(u=null),!(o&(un.Self|un.Host))){const l=n[He],h=or(void 0);try{return l?l.get(i,u,o&un.Optional):qr(i,u,o&un.Optional)}finally{or(h)}}return ur(u,0,o)}function Bu(n,i,o,u=un.Default,l){if(null!==n){if(1024&i[Rn]){const v=function eu(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[Rn]&&!(256&v[Rn]);){const A=mi(h,v,o,u|un.Self,Uo);if(A!==Uo)return A;let k=h.parent;if(!k){const K=v[Oi];if(K){const ie=K.get(o,Uo,u);if(ie!==Uo)return ie}k=ja(v),v=v[Gn]}h=k}return l}(n,i,o,u,Uo);if(v!==Uo)return v}const h=mi(n,i,o,u,Uo);if(h!==Uo)return h}return Ea(i,o,u,l)}function mi(n,i,o,u,l){const h=function cu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(It)?n[It]:void 0;return"number"==typeof i?i>=0?i&Ba:Tu:i}(o);if("function"==typeof h){if(!Gr(i,n,u))return u&un.Host?ur(l,0,u):Ea(i,o,u,l);try{const v=h(u);if(null!=v||u&un.Optional)return v;At()}finally{Vo()}}else if("number"==typeof h){let v=null,A=vl(n,i),k=te,K=u&un.Host?i[On][kr]:null;for((-1===A||u&un.SkipSelf)&&(k=-1===A?ki(n,i):i[A+8],k!==te&&dn(u,!1)?(v=i[Ht],A=Cn(k),i=Qt(k,i)):A=-1);-1!==A;){const ie=i[Ht];if(hi(h,A,ie.data)){const Ee=vn(A,i,o,v,u,K);if(Ee!==Uo)return Ee}k=i[A+8],k!==te&&dn(u,i[Ht].data[A+8]===K)&&hi(h,A,i)?(v=ie,A=Cn(k),i=Qt(k,i)):A=-1}}return l}function vn(n,i,o,u,l,h){const v=i[Ht],A=v.data[n+8],ie=Zi(A,v,o,null==u?xo(A)&&pt:u!=v&&0!=(3&A.type),l&un.Host&&h===A);return null!==ie?Zn(i,v,ie,A):Uo}function Zi(n,i,o,u,l){const h=n.providerIndexes,v=i.data,A=1048575&h,k=n.directiveStart,ie=h>>20,Ge=l?A+ie:n.directiveEnd;for(let at=u?A:A+ie;at<Ge;at++){const Ft=v[at];if(at<k&&o===Ft||at>=k&&Ft.type===o)return at}if(l){const at=v[k];if(at&&Qr(at)&&at.type===o)return k}return null}function Zn(n,i,o,u){let l=n[o];const h=i.data;if(function lt(n){return n instanceof Ie}(l)){const v=l;v.resolving&&function _e(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new qe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(h[o]));const A=Ut(v.canSeeViewProviders);v.resolving=!0;const k=v.injectImpl?or(v.injectImpl):null;Gr(n,u,un.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function ms(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=Js(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==k&&or(k),Ut(A),v.resolving=!1,Vo()}}return l}function hi(n,i,o){return!!(o[i+(n>>Cu)]&1<<n)}function dn(n,i){return!(n&un.Self||n&un.Host&&i)}class aa{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Bu(this._tNode,this._lView,i,nt(u),o)}}function Tu(){return new aa(Xe(),O())}function Pa(n){return he(()=>{const i=n.prototype.constructor,o=i[Je]||$a(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Je]||$a(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function $a(n){return gt(n)?()=>{const i=$a(ke(n));return i&&i()}:cs(n)}function ja(n){const i=n[Ht],o=i.type;return 2===o?i.declTNode:1===o?n[kr]:null}function ns(n){return function Du(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(Et(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Xe(),n)}const Bo="__parameters__";function ua(n,i,o){return he(()=>{const u=function Jo(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return A.annotation=v,A;function A(k,K,ie){const Ee=k.hasOwnProperty(Bo)?k[Bo]:Object.defineProperty(k,Bo,{value:[]})[Bo];for(;Ee.length<=ie;)Ee.push(null);return(Ee[ie]=Ee[ie]||[]).push(v),k}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Ze{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=nn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ci(n,i){n.forEach(o=>Array.isArray(o)?Ci(o,i):i(o))}function du(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Wa(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function So(n,i,o){let u=_(n,i);return u>=0?n[1|u]=o:(u=~u,function ru(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function iu(n,i){const o=_(n,i);if(o>=0)return n[1|o]}function _(n,i){return function m(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Di=Ve(ua("Optional"),8),so=Ve(ua("SkipSelf"),4);var de=(()=>((de=de||{})[de.Important=1]="Important",de[de.DashCase=2]="DashCase",de))();const _n=new Map;let Nn=0;const Ne="__ngContext__";function xe(n,i){bi(i)?(n[Ne]=i[_i],function Nr(n){_n.set(n[_i],n)}(i)):n[Ne]=i}let Bn;function Wn(n,i){return Bn(n,i)}function vs(n){const i=n[wr];return ss(i)?i[wr]:i}function ga(n){return Qa(n[xt])}function Ti(n){return Qa(n[fr])}function Qa(n){for(;null!==n&&!ss(n);)n=n[fr];return n}function Ja(n,i,o,u,l){if(null!=u){let h,v=!1;ss(u)?h=u:bi(u)&&(v=!0,u=u[Zr]);const A=zr(u);0===n&&null!==o?null==l?ea(i,o,A):Mr(i,o,A,l||null,!0):1===n&&null!==o?Mr(i,o,A,l||null,!0):2===n?function Cf(n,i,o){const u=Cl(n,i);u&&function Cc(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,A,v):3===n&&i.destroyNode(A),null!=h&&function dh(n,i,o,u,l){const h=o[Qi];h!==zr(o)&&Ja(i,n,u,h,l);for(let A=fi;A<o.length;A++){const k=o[A];Mc(k[Ht],k,n,i,u,h)}}(i,n,h,o,l)}}function Pu(n,i,o){return n.createElement(i,o)}function T(n,i){const o=n[Ai],u=o.indexOf(i),l=i[wr];512&i[Rn]&&(i[Rn]&=-513,Wi(l,-1)),o.splice(u,1)}function Y(n,i){if(n.length<=fi)return;const o=fi+i,u=n[o];if(u){const l=u[ir];null!==l&&l!==n&&T(l,u),i>0&&(n[o-1][fr]=u[fr]);const h=Wa(n,fi+i);!function Sa(n,i){Mc(n,i,i[$e],2,null,null),i[Zr]=null,i[kr]=null}(u[Ht],u);const v=h[ci];null!==v&&v.detachView(h[Ht]),u[wr]=null,u[fr]=null,u[Rn]&=-65}return u}function oe(n,i){if(!(128&i[Rn])){const o=i[$e];o.destroyNode&&Mc(n,i,o,3,null,null),function b(n){let i=n[xt];if(!i)return We(n[Ht],n);for(;i;){let o=null;if(bi(i))o=i[xt];else{const u=i[fi];u&&(o=u)}if(!o){for(;i&&!i[fr]&&i!==n;)bi(i)&&We(i[Ht],i),i=i[wr];null===i&&(i=n),bi(i)&&We(i[Ht],i),o=i&&i[fr]}i=o}}(i)}}function We(n,i){if(!(128&i[Rn])){i[Rn]&=-65,i[Rn]|=128,function tn(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Ie)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const A=l[h[v]],k=h[v+1];ti(4,A,k);try{k.call(A)}finally{ti(5,A,k)}}else{ti(4,l,h);try{h.call(l)}finally{ti(5,l,h)}}}}}(n,i),function mt(n,i){const o=n.cleanup,u=i[Pr];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[Pr]=null}}(n,i),1===i[Ht].type&&i[$e].destroy();const o=i[ir];if(null!==o&&ss(i[wr])){o!==i[wr]&&T(o,i);const u=i[ci];null!==u&&u.detachView(n)}!function nr(n){_n.delete(n[_i])}(i)}}function Tn(n,i,o){return function Yn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Zr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===ne.None||h===ne.Emulated)return null}return di(u,o)}}(n,i.parent,o)}function Mr(n,i,o,u,l){n.insertBefore(i,o,u,l)}function ea(n,i,o){n.appendChild(i,o)}function gu(n,i,o,u,l){null!==u?Mr(n,i,o,u,l):ea(n,i,o)}function Cl(n,i){return n.parentNode(i)}let Fa,ic,is,Tc=function zu(n,i,o){return 40&n.type?di(n,o):null};function Ou(n,i,o,u){const l=Tn(n,u,i),h=i[$e],A=function Dc(n,i,o){return Tc(n,i,o)}(u.parent||i[kr],u,i);if(null!=l)if(Array.isArray(o))for(let k=0;k<o.length;k++)gu(h,l,o[k],A,!1);else gu(h,l,o,A,!1);void 0!==Fa&&Fa(h,u,i,o,l)}function Sc(n,i){if(null!==i){const o=i.type;if(3&o)return di(i,n);if(4&o)return Fr(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Sc(n,u);{const l=n[i.index];return ss(l)?Fr(-1,l):zr(l)}}if(32&o)return Wn(i,n)()||zr(n[i.index]);{const u=Ac(n,i);return null!==u?Array.isArray(u)?u[0]:Sc(vs(n[On]),u):Sc(n,i.next)}}return null}function Ac(n,i){return null!==i?n[On][kr].projection[i.projection]:null}function Fr(n,i){const o=fi+n+1;if(o<i.length){const u=i[o],l=u[Ht].firstChild;if(null!==l)return Sc(u,l)}return i[Qi]}function fd(n,i,o,u,l,h,v){for(;null!=o;){const A=u[o.index],k=o.type;if(v&&0===i&&(A&&xe(zr(A),u),o.flags|=2),32!=(32&o.flags))if(8&k)fd(n,i,o.child,u,l,h,!1),Ja(i,n,l,A,h);else if(32&k){const K=Wn(o,u);let ie;for(;ie=K();)Ja(i,n,l,ie,h);Ja(i,n,l,A,h)}else 16&k?Df(n,i,u,o,l,h):Ja(i,n,l,A,h);o=v?o.projectionNext:o.next}}function Mc(n,i,o,u,l,h){fd(o,u,n.firstChild,i,l,h,!1)}function Df(n,i,o,u,l,h){const v=o[On],k=v[kr].projection[u.projection];if(Array.isArray(k))for(let K=0;K<k.length;K++)Ja(i,n,l,k[K],h);else fd(n,i,k,v[wr],l,h,!0)}function Tf(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function rc(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&_r(n,i,u),null!==l&&Tf(n,i,l),null!==h&&function xy(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function Ry(n){ic=n}function mg(n){return function Pc(){if(void 0===is&&(is=null,Mn.trustedTypes))try{is=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return is}()?.createScriptURL(n)||n}class Rc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bt})`}}function ll(n){return n instanceof Rc?n.changingThisBreaksApplicationSecurity:n}function Nc(n,i){const o=function kc(n){return n instanceof Rc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Bt})`)}return o===i}const Dg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var go=(()=>((go=go||{})[go.NONE=0]="NONE",go[go.HTML=1]="HTML",go[go.STYLE=2]="STYLE",go[go.SCRIPT=3]="SCRIPT",go[go.URL=4]="URL",go[go.RESOURCE_URL=5]="RESOURCE_URL",go))();function yd(n){const i=Bc();return i?i.sanitize(go.URL,n)||"":Nc(n,"URL")?ll(n):function gd(n){return(n=String(n)).match(Dg)?n:"unsafe:"+n}(rt(n))}function Pf(n){const i=Bc();if(i)return mg(i.sanitize(go.RESOURCE_URL,n)||"");if(Nc(n,"ResourceURL"))return mg(ll(n));throw new qe(904,!1)}function Uc(n,i,o){return function Pg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pf:yd}(i,o)(n)}function Bc(){const n=O();return n&&n[Ct]}const Of=new Ze("ENVIRONMENT_INITIALIZER"),Rg=new Ze("INJECTOR",-1),$c=new Ze("INJECTOR_DEF_TYPES");class mh{get(i,o=dr){if(o===dr){const u=new Error(`NullInjectorError: No provider for ${we(i)}!`);throw u.name="NullInjectorError",u}return o}}function jy(n){return{\u0275providers:n}}function Og(...n){return{\u0275providers:yh(0,n),\u0275fromNgModule:!0}}function yh(n,...i){const o=[],u=new Set;let l;return Ci(i,h=>{const v=h;kf(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&Nf(l,o),o}function Nf(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ff(l,h=>{i.push(h)})}}function kf(n,i,o,u){if(!(n=ke(n)))return!1;let l=null,h=Jt(n);const v=!h&&Tt(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const k=n.ngModule;if(h=Jt(k),!h)return!1;l=k}const A=u.has(l);if(v){if(A)return!1;if(u.add(l),v.dependencies){const k="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const K of k)kf(K,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!A){let K;u.add(l);try{Ci(h.imports,ie=>{kf(ie,i,o,u)&&(K||(K=[]),K.push(ie))})}finally{}void 0!==K&&Nf(K,i)}if(!A){const K=cs(l)||(()=>new l);i.push({provide:l,useFactory:K,deps:Se},{provide:$c,useValue:l,multi:!0},{provide:Of,useValue:()=>Vn(l),multi:!0})}const k=h.providers;null==k||A||Ff(k,ie=>{i.push(ie)})}}return l!==n&&void 0!==n.providers}function Ff(n,i){for(let o of n)yt(o)&&(o=o.\u0275providers),Array.isArray(o)?Ff(o,i):i(o)}const zy=Be({provide:String,useValue:Be});function Lf(n){return null!==n&&"object"==typeof n&&zy in n}function Dl(n){return"function"==typeof n}const vh=new Ze("Set Injector scope."),vu={},Ng={};let Vf;function _d(){return void 0===Vf&&(Vf=new mh),Vf}class Ku{}class Tl extends Ku{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$f(i,v=>this.processProvider(v)),this.records.set(Rg,Sl(void 0,this)),l.has("environment")&&this.records.set(Ku,Sl(void 0,this));const h=this.records.get(vh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get($c.multi,Se,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=jn(this),u=or(void 0);try{return i()}finally{jn(o),or(u)}}get(i,o=dr,u=un.Default){this.assertNotDestroyed(),u=nt(u);const l=jn(this),h=or(void 0);try{if(!(u&un.SkipSelf)){let A=this.records.get(i);if(void 0===A){const k=function Fg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ze}(i)&&yr(i);A=k&&this.injectableDefInScope(k)?Sl(dl(i),vu):null,this.records.set(i,A)}if(null!=A)return this.hydrate(i,A)}return(u&un.Self?_d():this.parent).get(i,o=u&un.Optional&&o===dr?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Cr]=v[Cr]||[]).unshift(we(i)),l)throw v;return function vt(n,i,o,u){const l=n[Cr];throw i[$n]&&l.unshift(i[$n]),n.message=function ge(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Sr?n.slice(2):n;let l=we(i);if(Array.isArray(i))l=i.map(we).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let A=i[v];h.push(v+":"+("string"==typeof A?JSON.stringify(A):we(A)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(jr,"\n  ")}`}("\n"+n.message,l,o,u),n[Yr]=l,n[Cr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{or(h),jn(l)}}resolveInjectorInitializers(){const i=jn(this),o=or(void 0);try{const u=this.get(Of.multi,Se,un.Self);for(const l of u)l()}finally{jn(i),or(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(we(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(i){let o=Dl(i=ke(i))?i:ke(i&&i.provide);const u=function wd(n){return Lf(n)?Sl(void 0,n.useValue):Sl(Uf(n),vu)}(i);if(Dl(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Sl(void 0,vu,!0),l.factory=()=>be(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===vu&&(o.value=Ng,o.value=o.factory()),"object"==typeof o.value&&o.value&&function kg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ke(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function dl(n){const i=yr(n),o=null!==i?i.factory:cs(n);if(null!==o)return o;if(n instanceof Ze)throw new qe(204,!1);if(n instanceof Function)return function ac(n){const i=n.length;if(i>0)throw function Ws(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new qe(204,!1);const o=function an(n){return n&&(n[sr]||n[pr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new qe(204,!1)}function Uf(n,i,o){let u;if(Dl(n)){const l=ke(n);return cs(l)||dl(l)}if(Lf(n))u=()=>ke(n.useValue);else if(function oc(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...be(n.deps||[]));else if(function cl(n){return!(!n||!n.useExisting)}(n))u=()=>Vn(ke(n.useExisting));else{const l=ke(n&&(n.useClass||n.provide));if(!function Bf(n){return!!n.deps}(n))return cs(l)||dl(l);u=()=>new l(...be(n.deps))}return u}function Sl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function $f(n,i){for(const o of n)Array.isArray(o)?$f(o,i):o&&yt(o)?$f(o.\u0275providers,i):i(o)}class Lg{}class jf{}class Wy{resolveComponentFactory(i){throw function _h(n){const i=Error(`No component factory found for ${we(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let zc=(()=>{class n{}return n.NULL=new Wy,n})();function Ky(){return Gc(Xe(),O())}function Gc(n,i){return new Ed(di(n,i))}let Ed=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Ky,n})();function bd(n){return n instanceof Ed?n.nativeElement:n}class Al{}let Ml=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Vg(){const n=O(),o=wi(Xe().index,n);return(bi(o)?o:n)[$e]}(),n})(),qy=(()=>{class n{}return n.\u0275prov=nn({token:n,providedIn:"root",factory:()=>null}),n})();class Hf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ug=new Hf("15.2.9"),Id={},Cd="ngOriginalError";function Dd(n){return n[Cd]}class uc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Dd(i);for(;o&&Dd(o);)o=Dd(o);return o||null}}function _u(n){return n instanceof Function?n():n}function Sd(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Kf="ng-template";function xl(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==Sd(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function lc(n){return 4===n.type&&n.value!==Kf}function zg(n,i,o){return i===(4!==n.type||o?n.value:Kf)}function cc(n,i,o){let u=4;const l=n.attrs||[],h=function Gg(n){for(let i=0;i<n.length;i++)if(Et(n[i]))return i;return n.length}(l);let v=!1;for(let A=0;A<i.length;A++){const k=i[A];if("number"!=typeof k){if(!v)if(4&u){if(u=2|1&u,""!==k&&!zg(n,k,o)||""===k&&1===i.length){if(Nu(u))return!1;v=!0}}else{const K=8&u?k:i[++A];if(8&u&&null!==n.attrs){if(!xl(n.attrs,K,o)){if(Nu(u))return!1;v=!0}continue}const Ee=Wc(8&u?"class":k,l,lc(n),o);if(-1===Ee){if(Nu(u))return!1;v=!0;continue}if(""!==K){let Ge;Ge=Ee>h?"":l[Ee+1].toLowerCase();const at=8&u?Ge:null;if(at&&-1!==Sd(at,K,0)||2&u&&K!==Ge){if(Nu(u))return!1;v=!0}}}}else{if(!v&&!Nu(u)&&!Nu(k))return!1;if(v&&Nu(k))continue;v=!1,u=k|1&u}}return Nu(u)||v}function Nu(n){return 0==(1&n)}function Wc(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let A=i[++l];for(;"string"==typeof A;)A=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function Jy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function qf(n,i,o=!1){for(let u=0;u<i.length;u++)if(cc(n,i[u],o))return!0;return!1}function Kg(n,i){return n?":not("+i.trim()+")":i}function qg(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const A=n[++o];l+="["+v+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!Nu(v)&&(i+=Kg(h,l),l=""),u=v,h=h||!Nu(u);o++}return""!==l&&(i+=Kg(h,l)),i}const Lr={};function Zg(n){Zf(F(),O(),ri()+n,!1)}function Zf(n,i,o,u){if(!u)if(3==(3&i[Rn])){const h=n.preOrderCheckHooks;null!==h&&Ua(i,h,o)}else{const h=n.preOrderHooks;null!==h&&xa(i,h,0,o)}ii(o)}function em(n,i=null,o=null,u){const l=Ih(n,i,o,u);return l.resolveInjectorInitializers(),l}function Ih(n,i=null,o=null,u,l=new Set){const h=[o||Se,Og(n)];return u=u||("object"==typeof n?void 0:we(n)),new Tl(h,i||_d(),u||null,l)}let Os=(()=>{class n{static create(o,u){if(Array.isArray(o))return em({name:""},u,o,"");{const l=o.name??"";return em({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=dr,n.NULL=new mh,n.\u0275prov=nn({token:n,providedIn:"any",factory:()=>Vn(Rg)}),n.__NG_ELEMENT_ID__=-1,n})();function hc(n,i=un.Default){const o=O();return null===o?Vn(n,i):Bu(Xe(),o,ke(n),i)}function op(){throw new Error("invalid")}function Th(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];fs(o[u]),v.contentQueries(2,i[h],h)}}}function Rd(n,i,o,u,l,h,v,A,k,K,ie){const Ee=i.blueprint.slice();return Ee[Zr]=l,Ee[Rn]=76|u,(null!==ie||n&&1024&n[Rn])&&(Ee[Rn]|=1024),ro(Ee),Ee[wr]=Ee[Gn]=n,Ee[er]=o,Ee[Ue]=v||n&&n[Ue],Ee[$e]=A||n&&n[$e],Ee[Ct]=k||n&&n[Ct]||null,Ee[He]=K||n&&n[He]||null,Ee[kr]=h,Ee[_i]=function tr(){return Nn++}(),Ee[Oi]=ie,Ee[On]=2==i.type?n[On]:Ee,Ee}function fc(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Od(n,i,o,u,l){const h=gn(),v=hs(),k=n.data[i]=function cv(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=k),null!==h&&(v?null==h.child&&null!==k.parent&&(h.child=k):null===h.next&&(h.next=k,k.prev=h)),k}(n,i,o,u,l),function Fo(){return qn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function Rr(){const n=qn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Jr(h,!0),h}function Nl(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function pc(n,i,o){Yo(i);try{const u=n.viewQuery;null!==u&&_p(1,u,o);const l=n.template;null!==l&&Sh(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Th(n,i),n.staticViewQueries&&_p(2,n.viewQuery,o);const h=n.components;null!==h&&function ap(n,i){for(let o=0;o<i.length;o++)vp(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Rn]&=-5,ps()}}function gc(n,i,o,u){const l=i[Rn];if(128!=(128&l)){Yo(i);try{ro(i),function lo(n){return qn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Sh(n,i,o,2,u);const v=3==(3&l);if(v){const K=n.preOrderCheckHooks;null!==K&&Ua(i,K,null)}else{const K=n.preOrderHooks;null!==K&&xa(i,K,0,null),R(i,0)}if(function fv(n){for(let i=ga(n);null!==i;i=Ti(i)){if(!i[ks])continue;const o=i[Ai];for(let u=0;u<o.length;u++){const l=o[u];512&l[Rn]||Wi(l[wr],1),l[Rn]|=512}}}(i),function gp(n){for(let i=ga(n);null!==i;i=Ti(i))for(let o=fi;o<i.length;o++){const u=i[o],l=u[Ht];pi(u)&&gc(l,u,l.template,u[er])}}(i),null!==n.contentQueries&&Th(n,i),v){const K=n.contentCheckHooks;null!==K&&Ua(i,K)}else{const K=n.contentHooks;null!==K&&xa(i,K,1),R(i,1)}!function uv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)ii(~l);else{const h=l,v=o[++u],A=o[++u];qi(v,h),A(2,i[h])}}}finally{ii(-1)}}(n,i);const A=n.components;null!==A&&function lv(n,i){for(let o=0;o<i.length;o++)mp(n,i[o])}(i,A);const k=n.viewQuery;if(null!==k&&_p(2,k,u),v){const K=n.viewCheckHooks;null!==K&&Ua(i,K)}else{const K=n.viewHooks;null!==K&&xa(i,K,2),R(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Rn]&=-41,512&i[Rn]&&(i[Rn]&=-513,Wi(i[wr],-1))}finally{ps()}}}function Sh(n,i,o,u,l){const h=ri(),v=2&u;try{ii(-1),v&&i.length>Br&&Zf(n,i,Br,!1),ti(v?2:0,l),o(u,l)}finally{ii(h),ti(v?3:1,l)}}function Nd(n,i,o){if(ao(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function kd(n,i,o){Eo()&&(function hv(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;xo(o)&&function fm(n,i,o){const u=di(i,n),l=om(o),h=n[Ue],v=Zc(n,Rd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Uu(o,i),xe(u,i);const v=o.initialInputs;for(let A=l;A<h;A++){const k=n.data[A],K=Zn(i,n,A,o);xe(K,i),null!==v&&Fl(0,A-l,K,k,0,v),Qr(k)&&(wi(o.index,i)[er]=Zn(i,n,A,o))}}(n,i,o,di(o,i)),64==(64&o.flags)&&hm(n,i,o))}function Ah(n,i,o=di){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],A=-1===v?o(i,n):n[v];n[l++]=A}}}function om(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Mh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Mh(n,i,o,u,l,h,v,A,k,K){const ie=Br+u,Ee=ie+l,Ge=function xh(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Lr);return o}(ie,Ee),at="function"==typeof K?K():K;return Ge[Ht]={type:n,blueprint:Ge,template:o,queries:null,viewQuery:A,declTNode:i,data:Ge.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:k,consts:at,incompleteFirstPass:!1}}function am(n,i,o,u){const l=wp(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Ep(n).push(u,l.length-1))}function va(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?um(o,i,l,h):u.hasOwnProperty(l)&&um(o,i,u[l],h)}return o}function um(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function cp(n,i,o,u){if(Eo()){const l=null===u?null:{"":-1},h=function hp(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(qf(i,v.selectors,!1))if(u||(u=[]),Qr(v))if(null!==v.findHostDirectiveDefs){const A=[];l=l||new Map,v.findHostDirectiveDefs(v,A,l),u.unshift(...A,v),kl(n,i,A.length)}else u.unshift(v),kl(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,A;null===h?v=A=null:[v,A]=h,null!==v&&dm(n,i,o,v,l,A),l&&function fp(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new qe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=si(o.mergedAttrs,o.attrs)}function dm(n,i,o,u,l,h){for(let K=0;K<u.length;K++)Xa(Uu(o,i),n,u[K].type);!function Ld(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let K=0;K<u.length;K++){const ie=u[K];ie.providersResolver&&ie.providersResolver(ie)}let v=!1,A=!1,k=Nl(n,i,u.length,null);for(let K=0;K<u.length;K++){const ie=u[K];o.mergedAttrs=si(o.mergedAttrs,ie.hostAttrs),pp(n,o,i,k,ie),Rh(k,ie,l),null!==ie.contentQueries&&(o.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(o.flags|=64);const Ee=ie.type.prototype;!v&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!A&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),A=!0),k++}!function lm(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,A=[];let k=null,K=null;for(let ie=i.directiveStart;ie<l;ie++){const Ee=h[ie],Ge=o?o.get(Ee):null,Ft=Ge?Ge.outputs:null;k=va(Ee.inputs,ie,k,Ge?Ge.inputs:null),K=va(Ee.outputs,ie,K,Ft);const hn=null===k||null===v||lc(i)?null:pm(k,ie,v);A.push(hn)}null!==k&&(k.hasOwnProperty("class")&&(i.flags|=8),k.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=A,i.inputs=k,i.outputs=K}(n,o,h)}function hm(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function Hs(){return qn.lFrame.currentDirectiveIndex}();try{ii(h);for(let A=u;A<l;A++){const k=n.data[A],K=i[A];gi(A),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Fd(k,K)}}finally{ii(-1),gi(v)}}function Fd(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function kl(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Rh(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Qr(i)&&(o[""]=n)}}function pp(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=cs(l.type)),v=new Ie(h,Qr(l),hc);n.blueprint[u]=v,o[u]=v,function dv(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const A=~i.index;(function dp(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=A&&v.push(A),v.push(o,u,h)}}(n,i,u,Nl(n,o,l.hostVars,Lr),l)}function wu(n,i,o,u,l,h){const v=di(n,i);!function Vd(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const A=null==v?rt(h):v(h,u||"",l);n.setAttribute(i,l,A,o)}}(i[$e],v,h,n.value,o,u,l)}function Fl(n,i,o,u,l,h){const v=h[i];if(null!==v){const A=u.setInput;for(let k=0;k<v.length;){const K=v[k++],ie=v[k++],Ee=v[k++];null!==A?u.setInput(o,Ee,K,ie):o[ie]=Ee}}}function pm(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let A=0;A<v.length;A+=2)if(v[A]===i){u.push(h,v[A+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function gm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function mp(n,i){const o=wi(i,n);if(pi(o)){const u=o[Ht];48&o[Rn]?gc(u,o,u.template,o[er]):o[li]>0&&yp(o)}}function yp(n){for(let u=ga(n);null!==u;u=Ti(u))for(let l=fi;l<u.length;l++){const h=u[l];if(pi(h))if(512&h[Rn]){const v=h[Ht];gc(v,h,v.template,h[er])}else h[li]>0&&yp(h)}const o=n[Ht].components;if(null!==o)for(let u=0;u<o.length;u++){const l=wi(o[u],n);pi(l)&&l[li]>0&&yp(l)}}function vp(n,i){const o=wi(i,n),u=o[Ht];(function Oh(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),pc(u,o,o[er])}function Zc(n,i){return n[xt]?n[In][fr]=i:n[xt]=i,n[In]=i,i}function Ud(n){for(;n;){n[Rn]|=32;const i=vs(n);if(as(n)&&!i)return n;n=i}return null}function hl(n,i,o,u=!0){const l=i[Ue];l.begin&&l.begin();try{gc(n,i,n.template,o)}catch(v){throw u&&Nh(i,v),v}finally{l.end&&l.end()}}function _p(n,i,o){fs(0),i(n,o)}function wp(n){return n[Pr]||(n[Pr]=[])}function Ep(n){return n.cleanup||(n.cleanup=[])}function Nh(n,i){const o=n[He],u=o?o.get(uc,null):null;u&&u.handleError(i)}function bp(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],A=o[h++],k=i[v],K=n.data[v];null!==K.setInput?K.setInput(k,l,u,A):k[A]=l}}function kh(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const A=i[v];"number"==typeof A?h=A:1==h?l=Qe(l,A):2==h&&(u=Qe(u,A+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Yc(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(zr(h)),ss(h))for(let A=fi;A<h.length;A++){const k=h[A],K=k[Ht].firstChild;null!==K&&Yc(k[Ht],k,K,u)}const v=o.type;if(8&v)Yc(n,i,o.child,u);else if(32&v){const A=Wn(o,i);let k;for(;k=A();)u.push(k)}else if(16&v){const A=Ac(i,o);if(Array.isArray(A))u.push(...A);else{const k=vs(i[On]);Yc(k[Ht],k,A,u,!0)}}o=l?o.projectionNext:o.next}return u}class Bd{get rootNodes(){const i=this._lView,o=i[Ht];return Yc(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(i){this._lView[er]=i}get destroyed(){return 128==(128&this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[wr];if(ss(i)){const o=i[Ji],u=o?o.indexOf(this):-1;u>-1&&(Y(i,u),Wa(o,u))}this._attachedToViewContainer=!1}oe(this._lView[Ht],this._lView)}onDestroy(i){am(this._lView[Ht],this._lView,null,i)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rn]&=-65}reattach(){this._lView[Rn]|=64}detectChanges(){hl(this._lView[Ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tc(n,i){Mc(n,i,i[$e],2,null,null)}(this._lView[Ht],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=i}}class Ip extends Bd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;hl(i[Ht],i,i[er],!1)}checkNoChanges(){}get context(){return null}}class Cp extends zc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Tt(i);return new Zu(o,this.ngModule)}}function Fh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Tp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=nt(u);const l=this.injector.get(i,Id,u);return l!==Id||o===Id?l:this.parentInjector.get(i,o,u)}}class Zu extends jf{get inputs(){return Fh(this.componentDef.inputs)}get outputs(){return Fh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Xy(n){return n.map(qg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Ku?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Tp(i,h):i,A=v.get(Al,null);if(null===A)throw new qe(407,!1);const k=v.get(qy,null),K=A.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",Ee=u?function up(n,i,o){return n.selectRootElement(i,o===ne.ShadowDom)}(K,u,this.componentDef.encapsulation):Pu(K,ie,function Dp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ie)),Ge=this.componentDef.onPush?288:272,at=Mh(0,null,null,1,0,null,null,null,null,null),Ft=Rd(null,at,null,Ge,null,null,A,K,k,v,null);let hn,xn;Yo(Ft);try{const Qn=this.componentDef;let xr,qt=null;Qn.findHostDirectiveDefs?(xr=[],qt=new Map,Qn.findHostDirectiveDefs(Qn,xr,qt),xr.push(Qn)):xr=[Qn];const $r=function Qc(n,i){const o=n[Ht],u=Br;return n[u]=i,fc(o,u,2,"#host",null)}(Ft,Ee),oo=function Jc(n,i,o,u,l,h,v,A){const k=l[Ht];!function _m(n,i,o,u){for(const l of n)i.mergedAttrs=si(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(kh(i,i.mergedAttrs,!0),null!==o&&rc(u,o,i))}(u,n,i,v);const K=h.createRenderer(i,o),ie=Rd(l,om(o),null,o.onPush?32:16,l[n.index],n,h,K,A||null,null,null);return k.firstCreatePass&&kl(k,n,u.length-1),Zc(l,ie),l[n.index]=ie}($r,Ee,Qn,xr,Ft,A,K);xn=No(at,Br),Ee&&function pv(n,i,o,u){if(u)_r(n,o,["ng-version",Ug.full]);else{const{attrs:l,classes:h}=function bh(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!Nu(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&_r(n,o,l),h&&h.length>0&&Tf(n,o,h.join(" "))}}(K,Qn,Ee,u),void 0!==o&&function gv(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(xn,this.ngContentSelectors,o),hn=function Xc(n,i,o,u,l,h){const v=Xe(),A=l[Ht],k=di(v,l);dm(A,l,v,o,null,u);for(let ie=0;ie<o.length;ie++)xe(Zn(l,A,v.directiveStart+ie,v),l);hm(A,l,v),k&&xe(k,l);const K=Zn(l,A,v.directiveStart+v.componentOffset,v);if(n[er]=l[er]=K,null!==h)for(const ie of h)ie(K,i);return Nd(A,v,n),K}(oo,Qn,xr,qt,Ft,[Sp]),pc(at,Ft,null)}finally{ps()}return new Ll(this.componentType,hn,Gc(xn,Ft),Ft,xn)}}class Ll extends Lg{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Ip(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;bp(h[Ht],h,l,i,o),Ud(wi(this._tNode.index,h))}}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Sp(){const n=Xe();Do(O()[Ht],n)}function $d(n){let i=function Lh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Qr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new qe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=Mp(n.inputs),v.declaredInputs=Mp(n.declaredInputs),v.outputs=Mp(n.outputs);const A=l.hostBindings;A&&Pp(n,A);const k=l.viewQuery,K=l.contentQueries;if(k&&mv(n,k),K&&xp(n,K),Fe(n.inputs,l.inputs),Fe(n.declaredInputs,l.declaredInputs),Fe(n.outputs,l.outputs),Qr(l)&&l.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const A=h[v];A&&A.ngInherit&&A(n),A===$d&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Ap(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=si(l.hostAttrs,o=si(o,l.hostAttrs))}}(u)}function Mp(n){return n===J?{}:n===Se?[]:n}function mv(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function xp(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function Pp(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function Vh(n){return!!jd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function jd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Eu(n,i,o){return n[i]=o}function ta(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Fp(n,i,o,u){const l=O();return ta(l,$s(),i)&&(F(),wu(vr(),l,n,i,o,u)),Fp}function Hh(n,i,o,u,l,h,v,A){const k=O(),K=F(),ie=n+Br,Ee=K.firstCreatePass?function Ev(n,i,o,u,l,h,v,A,k){const K=i.consts,ie=fc(i,n,4,v||null,Ni(K,A));cp(i,o,ie,Ni(K,k)),Do(i,ie);const Ee=ie.tView=Mh(2,ie,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,ie),Ee.queries=i.queries.embeddedTView(ie)),ie}(ie,K,k,i,o,u,l,h,v):K.data[ie];Jr(Ee,!1);const Ge=k[$e].createComment("");Ou(K,k,Ge,Ee),xe(Ge,k),Zc(k,k[ie]=gm(Ge,k,Ge,Ee)),os(Ee)&&kd(K,k,Ee),null!=v&&Ah(k,Ee,A)}function zh(n){return mr(function io(){return qn.lFrame.contextLView}(),Br+n)}function Vp(n,i,o){const u=O();return ta(u,$s(),i)&&function _a(n,i,o,u,l,h,v,A){const k=di(i,o);let ie,K=i.inputs;!A&&null!=K&&(ie=K[u])?(bp(n,o,ie,u,l),xo(i)&&function lp(n,i){const o=wi(i,n);16&o[Rn]||(o[Rn]|=32)}(o,i.index)):3&i.type&&(u=function Ph(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(k,u,l))}(F(),vr(),u,n,i,u[$e],o,!1),Vp}function zd(n,i,o,u,l){const v=l?"class":"style";bp(n,o,i.inputs[v],v,u)}function id(n,i,o,u){const l=O(),h=F(),v=Br+n,A=l[$e],k=h.firstCreatePass?function Iv(n,i,o,u,l,h){const v=i.consts,k=fc(i,n,2,u,Ni(v,l));return cp(i,o,k,Ni(v,h)),null!==k.attrs&&kh(k,k.attrs,!1),null!==k.mergedAttrs&&kh(k,k.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,k),k}(v,h,l,i,o,u):h.data[v],K=l[v]=Pu(A,i,function Ma(){return qn.lFrame.currentNamespace}()),ie=os(k);return Jr(k,!0),rc(A,K,k),32!=(32&k.flags)&&Ou(h,l,K,k),0===function ko(){return qn.lFrame.elementDepthCount}()&&xe(K,l),function ts(){qn.lFrame.elementDepthCount++}(),ie&&(kd(h,l,k),Nd(h,k,l)),null!==u&&Ah(l,k),id}function Gd(){let n=Xe();hs()?function Ms(){qn.lFrame.isParent=!1}():(n=n.parent,Jr(n,!1));const i=n;!function As(){qn.lFrame.elementDepthCount--}();const o=F();return o.firstCreatePass&&(Do(o,n),ao(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function me(n){return 0!=(8&n.flags)}(i)&&zd(o,i,O(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function et(n){return 0!=(16&n.flags)}(i)&&zd(o,i,O(),i.stylesWithoutHost,!1),Gd}function Wd(n,i,o,u){return id(n,i,o,u),Gd(),Wd}function Sm(){return O()}function Kd(n){return!!n&&"function"==typeof n.then}function Wh(n){return!!n&&"function"==typeof n.subscribe}const Kh=Wh;function $p(n,i,o,u){const l=O(),h=F(),v=Xe();return function qh(n,i,o,u,l,h,v){const A=os(u),K=n.firstCreatePass&&Ep(n),ie=i[er],Ee=wp(i);let Ge=!0;if(3&u.type||v){const hn=di(u,i),xn=v?v(hn):hn,Qn=Ee.length,xr=v?$r=>v(zr($r[u.index])):u.index;let qt=null;if(!v&&A&&(qt=function Cv(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const A=i[Pr],k=l[h+2];return A.length>k?A[k]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=h,qt.__ngLastListenerFn__=h,Ge=!1;else{h=yc(u,i,ie,h,!1);const $r=o.listen(xn,l,h);Ee.push(h,$r),K&&K.push(l,xr,Qn,Qn+1)}}else h=yc(u,i,ie,h,!1);const at=u.outputs;let Ft;if(Ge&&null!==at&&(Ft=at[l])){const hn=Ft.length;if(hn)for(let xn=0;xn<hn;xn+=2){const oo=i[Ft[xn]][Ft[xn+1]].subscribe(h),Go=Ee.length;Ee.push(h,oo),K&&K.push(l,u.index,Go,-(Go+1))}}}(h,l,l[$e],v,n,i,u),$p}function jp(n,i,o,u){try{return ti(6,i,o),!1!==o(u)}catch(l){return Nh(n,l),!1}finally{ti(7,i,o)}}function yc(n,i,o,u,l){return function h(v){if(v===Function)return u;Ud(n.componentOffset>-1?wi(n.index,i):i);let k=jp(i,o,u,v),K=h.__ngNextListenerFn__;for(;K;)k=jp(i,o,K,v)&&k,K=K.__ngNextListenerFn__;return l&&!1===k&&(v.preventDefault(),v.returnValue=!1),k}}function Hp(n=1){return function ho(n){return(qn.lFrame.contextLView=function Qo(n,i){for(;n>0;)i=i[Gn],n--;return i}(n,qn.lFrame.contextLView))[er]}(n)}function od(n,i){return n<<17|i<<2}function fl(n){return n>>17&32767}function Yd(n){return 2|n}function Gl(n){return(131068&n)>>2}function Wl(n,i){return-131069&n|i<<2}function Kp(n){return 1|n}function qp(n,i,o,u,l){const h=n[o+1],v=null===i;let A=u?fl(h):Gl(h),k=!1;for(;0!==A&&(!1===k||v);){const ie=n[A+1];Av(n[A],i)&&(k=!0,n[A+1]=u?Kp(ie):Yd(ie)),A=u?fl(ie):Gl(ie)}k&&(n[o+1]=u?Yd(h):Kp(h))}function Av(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&_(n,i)>=0}function bu(n,i){return function au(n,i,o,u){const l=O(),h=F(),v=function xs(n){const i=qn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);h.firstUpdatePass&&function Fm(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[ri()],v=function rf(n,i){return i>=n.expandoStartIndex}(n,o);(function $m(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!v&&(i=!1),i=function Pv(n,i,o,u){const l=function Ps(n){const i=qn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=ad(o=qs(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=qs(l,n,i,o,u),null===h){let k=function Ds(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Gl(u))return n[fl(u)]}(n,i,u);void 0!==k&&Array.isArray(k)&&(k=qs(null,n,i,k[1],u),k=ad(k,i.attrs,u),function K_(n,i,o,u){n[fl(o?i.classBindings:i.styleBindings)]=u}(n,i,u,k))}else h=function Rv(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=ad(u,n[h].hostAttrs,o);return ad(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function xm(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,A=fl(v),k=Gl(v);n[u]=o;let ie,K=!1;if(Array.isArray(o)?(ie=o[1],(null===ie||_(o,ie)>0)&&(K=!0)):ie=o,l)if(0!==k){const Ge=fl(n[A+1]);n[u+1]=od(Ge,A),0!==Ge&&(n[Ge+1]=Wl(n[Ge+1],u)),n[A+1]=function Mm(n,i){return 131071&n|i<<17}(n[A+1],u)}else n[u+1]=od(A,0),0!==A&&(n[A+1]=Wl(n[A+1],u)),A=u;else n[u+1]=od(k,0),0===A?A=u:n[k+1]=Wl(n[k+1],u),k=u;K&&(n[u+1]=Yd(n[u+1])),qp(n,ie,u,!0),qp(n,ie,u,!1),function Sv(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&_(h,i)>=0&&(o[u+1]=Kp(o[u+1]))}(i,ie,n,u,h),v=od(A,k),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}(h,n,v,u),i!==Lr&&ta(l,v,i)&&function Um(n,i,o,u,l,h,v,A){if(!(3&i.type))return;const k=n.data,K=k[A+1],ie=function Wp(n){return 1==(1&n)}(K)?Bm(k,i,o,l,Gl(K),v):void 0;sf(ie)||(sf(h)||function tf(n){return 2==(2&n)}(K)&&(h=Bm(k,null,o,l,A,v)),function My(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:de.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=de.Important),n.setStyle(o,u,l,h))}}(u,v,eo(ri(),o),l,h))}(h,h.data[ri()],l,l[$e],n,l[v+1]=function q_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=we(ll(n)))),n}(i,o),u,v)}(n,i,null,!0),bu}function qs(n,i,o,u,l){let h=null;const v=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<v&&(h=i[A],u=ad(u,h.hostAttrs,l),h!==n);)A++;return null!==n&&(o.directiveStylingLast=A),u}function ad(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),So(n,v,!!o||i[++h]))}return void 0===n?null:n}function Bm(n,i,o,u,l,h){const v=null===i;let A;for(;l>0;){const k=n[l],K=Array.isArray(k),ie=K?k[1]:k,Ee=null===ie;let Ge=o[l+1];Ge===Lr&&(Ge=Ee?Se:void 0);let at=Ee?iu(Ge,u):ie===u?Ge:void 0;if(K&&!sf(at)&&(at=iu(k,u)),sf(at)&&(A=at,v))return A;const Ft=n[l+1];l=v?fl(Ft):Gl(Ft)}if(null!==i){let k=h?i.residualClasses:i.residualStyles;null!=k&&(A=iu(k,u))}return A}function sf(n){return void 0!==n}function jm(n,i=""){const o=O(),u=F(),l=n+Br,h=u.firstCreatePass?fc(u,l,1,i,null):u.data[l],v=o[l]=function Cs(n,i){return n.createText(i)}(o[$e],i);Ou(u,o,v,h),Jr(h,!1)}function af(n){return Kl("",n,""),af}function Kl(n,i,o){const u=O(),l=function td(n,i,o,u){return ta(n,$s(),o)?i+rt(o)+u:Lr}(u,n,i,o);return l!==Lr&&function ku(n,i,o){const u=eo(i,n);!function ka(n,i,o){n.setValue(i,o)}(n[$e],u,o)}(u,ri(),l),Kl}const Lu=void 0;var rh=["en",[["a","p"],["AM","PM"],Lu],[["AM","PM"],Lu,Lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lu,"{1} 'at' {0}",Lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let cd={};function ey(n){const i=function $v(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=ty(i);if(o)return o;const u=i.split("-")[0];if(o=ty(u),o)return o;if("en"===u)return rh;throw new qe(701,!1)}function hf(n){return ey(n)[Er.PluralCase]}function ty(n){return n in cd||(cd[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),cd[n]}var Er=(()=>((Er=Er||{})[Er.LocaleId=0]="LocaleId",Er[Er.DayPeriodsFormat=1]="DayPeriodsFormat",Er[Er.DayPeriodsStandalone=2]="DayPeriodsStandalone",Er[Er.DaysFormat=3]="DaysFormat",Er[Er.DaysStandalone=4]="DaysStandalone",Er[Er.MonthsFormat=5]="MonthsFormat",Er[Er.MonthsStandalone=6]="MonthsStandalone",Er[Er.Eras=7]="Eras",Er[Er.FirstDayOfWeek=8]="FirstDayOfWeek",Er[Er.WeekendRange=9]="WeekendRange",Er[Er.DateFormat=10]="DateFormat",Er[Er.TimeFormat=11]="TimeFormat",Er[Er.DateTimeFormat=12]="DateTimeFormat",Er[Er.NumberSymbols=13]="NumberSymbols",Er[Er.NumberFormats=14]="NumberFormats",Er[Er.CurrencyCode=15]="CurrencyCode",Er[Er.CurrencySymbol=16]="CurrencySymbol",Er[Er.CurrencyName=17]="CurrencyName",Er[Er.Currencies=18]="Currencies",Er[Er.Directionality=19]="Directionality",Er[Er.PluralCase=20]="PluralCase",Er[Er.ExtraData=21]="ExtraData",Er))();const dd="en-US";let sg=dd;function Xu(n,i,o,u,l){if(n=ke(n),Array.isArray(n))for(let h=0;h<n.length;h++)Xu(n[h],i,o,u,l);else{const h=F(),v=O();let A=Dl(n)?n:ke(n.provide),k=Uf(n);const K=Xe(),ie=1048575&K.providerIndexes,Ee=K.directiveStart,Ge=K.providerIndexes>>20;if(Dl(n)||!n.multi){const at=new Ie(k,l,hc),Ft=a_(A,i,l?ie:ie+Ge,Ee);-1===Ft?(Xa(Uu(K,v),h,A),o_(h,n,i.length),i.push(A),K.directiveStart++,K.directiveEnd++,l&&(K.providerIndexes+=1048576),o.push(at),v.push(at)):(o[Ft]=at,v[Ft]=at)}else{const at=a_(A,i,ie+Ge,Ee),Ft=a_(A,i,ie,ie+Ge),xn=Ft>=0&&o[Ft];if(l&&!xn||!l&&!(at>=0&&o[at])){Xa(Uu(K,v),h,A);const Qn=function k0(n,i,o,u,l){const h=new Ie(n,o,hc);return h.multi=[],h.index=i,h.componentProviders=0,iw(h,l,u&&!o),h}(l?N0:O0,o.length,l,u,k);!l&&xn&&(o[Ft].providerFactory=Qn),o_(h,n,i.length,0),i.push(A),K.directiveStart++,K.directiveEnd++,l&&(K.providerIndexes+=1048576),o.push(Qn),v.push(Qn)}else o_(h,n,at>-1?at:Ft,iw(o[l?Ft:at],k,!l&&u));!l&&u&&xn&&o[Ft].componentProviders++}}}function o_(n,i,o,u){const l=Dl(i),h=function Gy(n){return!!n.useClass}(i);if(l||h){const k=(h?ke(i.useClass):i).prototype.ngOnDestroy;if(k){const K=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const ie=K.indexOf(o);-1===ie?K.push(o,[u,k]):K[ie+1].push(u,k)}else K.push(o,k)}}}function iw(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function a_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function O0(n,i,o,u){return u_(this.multi,[])}function N0(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,A=Zn(o,o[Ht],this.providerFactory.index,u);h=A.slice(0,v),u_(l,h);for(let k=v;k<A.length;k++)h.push(A[k])}else h=[],u_(l,h);return h}function u_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function sw(n,i=[]){return o=>{o.providersResolver=(u,l)=>function uu(n,i,o){const u=F();if(u.firstCreatePass){const l=Qr(n);Xu(o,u.data,u.blueprint,l,!0),Xu(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Ef{}class ow{}function F0(n,i){return new aw(n,i??null)}class aw extends Ef{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cp(this);const u=br(i);this._bootstrapComponents=_u(u.bootstrap),this._r3Injector=Ih(i,o,[{provide:Ef,useValue:this},{provide:zc,useValue:this.componentFactoryResolver}],we(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class l_ extends ow{constructor(i){super(),this.moduleType=i}create(i){return new aw(this.moduleType,i)}}class L0 extends Ef{constructor(i,o,u){super(),this.componentFactoryResolver=new Cp(this),this.instance=null;const l=new Tl([...i,{provide:Ef,useValue:this},{provide:zc,useValue:this.componentFactoryResolver}],o||_d(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function c_(n,i,o=null){return new L0(n,i,o).injector}let V0=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=yh(0,o.type),l=u.length>0?c_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=nn({token:n,providedIn:"environment",factory:()=>new n(Vn(Ku))}),n})();function uw(n){n.getStandaloneInjector=i=>i.get(V0).getOrCreateStandaloneInjector(n)}function gw(n,i,o,u){return yw(O(),Ri(),n,i,o,u)}function mw(n,i,o,u,l){return function vw(n,i,o,u,l,h,v){const A=i+o;return function Vl(n,i,o,u){const l=ta(n,i,o);return ta(n,i+1,u)||l}(n,A,l,h)?Eu(n,A+2,v?u.call(v,l,h):u(l,h)):ug(n,A+2)}(O(),Ri(),n,i,o,u,l)}function ug(n,i){const o=n[i];return o===Lr?void 0:o}function yw(n,i,o,u,l,h){const v=i+o;return ta(n,v,l)?Eu(n,v+1,h?u.call(h,l):u(l)):ug(n,v+1)}function bw(n,i){const o=F();let u;const l=n+Br;o.firstCreatePass?(u=function tE(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=cs(u.type)),v=or(hc);try{const A=Ut(!1),k=h();return Ut(A),function bv(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,O(),l,k),k}finally{or(v)}}function Iw(n,i,o){const u=n+Br,l=O(),h=mr(l,u);return function lg(n,i){return n[Ht].data[i].pure}(l,u)?yw(l,Ri(),i,h.transform,o,h):h.transform(o)}function h_(n){return i=>{setTimeout(n,void 0,i)}}const Jl=class oE extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const k=i;l=k.next?.bind(k),h=k.error?.bind(k),v=k.complete?.bind(k)}this.__isAsync&&(h=h_(h),l&&(l=h_(l)),v&&(v=h_(v)));const A=super.subscribe({next:l,error:h,complete:v});return i instanceof E.w0&&i.add(A),A}};function aE(){return this._results[Symbol.iterator]()}class f_{get changes(){return this._changes||(this._changes=new Jl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=f_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=aE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function Gs(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ia(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=cE,n})();const uE=cg,lE=class extends uE{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Rd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[ir]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[ci];return null!==v&&(l[ci]=v.createEmbeddedView(u)),pc(u,l,i),new Bd(l)}};function cE(){return _y(Xe(),O())}function _y(n,i){return 4&n.type?new lE(i,n,Gc(n,i)):null}let wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=dE,n})();function dE(){return Tw(Xe(),O())}const hE=wy,Cw=class extends hE{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Gc(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){const i=ki(this._hostTNode,this._hostLView);if(en(i)){const o=Qt(i,this._hostLView),u=Cn(i);return new aa(o[Ht].data[u+8],o)}return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Dw(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-fi}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function ba(n){return"function"==typeof n}(i);let A;if(v)A=o;else{const Ee=o||{};A=Ee.index,u=Ee.injector,l=Ee.projectableNodes,h=Ee.environmentInjector||Ee.ngModuleRef}const k=v?i:new Zu(Tt(i)),K=u||this.parentInjector;if(!h&&null==k.ngModule){const Ge=(v?K:this.parentInjector).get(Ku,null);Ge&&(h=Ge)}const ie=k.create(K,l,void 0,h);return this.insert(ie.hostView,A),ie}insert(i,o){const u=i._lView,l=u[Ht];if(function wa(n){return ss(n[wr])}(u)){const ie=this.indexOf(i);if(-1!==ie)this.detach(ie);else{const Ee=u[wr],Ge=new Cw(Ee,Ee[kr],Ee[wr]);Ge.detach(Ge.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function d(n,i,o,u){const l=fi+u,h=o.length;u>0&&(o[l-1][fr]=i),u<h-fi?(i[fr]=o[l],du(o,fi+u,i)):(o.push(i),i[fr]=null),i[wr]=o;const v=i[ir];null!==v&&o!==v&&function g(n,i){const o=n[Ai];i[On]!==i[wr][wr][On]&&(n[ks]=!0),null===o?n[Ai]=[i]:o.push(i)}(v,i);const A=i[ci];null!==A&&A.insertView(n),i[Rn]|=64}(l,u,v,h);const A=Fr(h,v),k=u[$e],K=Cl(k,v[Qi]);return null!==K&&function ch(n,i,o,u,l,h){u[Zr]=l,u[kr]=i,Mc(n,u,o,1,l,h)}(l,v[kr],k,u,K,A),i.attachToViewContainerRef(),du(p_(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Dw(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Y(this._lContainer,o);u&&(Wa(p_(this._lContainer),o),oe(u[Ht],u))}detach(i){const o=this._adjustIndex(i,-1),u=Y(this._lContainer,o);return u&&null!=Wa(p_(this._lContainer),o)?new Bd(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function Dw(n){return n[Ji]}function p_(n){return n[Ji]||(n[Ji]=[])}function Tw(n,i){let o;const u=i[n.index];if(ss(u))o=u;else{let l;if(8&n.type)l=zr(u);else{const h=i[$e];l=h.createComment("");const v=di(n,i);Mr(h,Cl(h,v),l,function ya(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=gm(u,i,l,n),Zc(i,o)}return new Cw(o,n,i)}class g_{constructor(i){this.queryList=i,this.matches=null}clone(){return new g_(this.queryList)}setDirty(){this.queryList.setDirty()}}class m_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new m_(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Nw(i,o).matches&&this.queries[o].setDirty()}}class Sw{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class y_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new y_(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class v_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new v_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,fE(o,h)),this.matchTNodeWithReadOption(i,o,Zi(o,i,h,!1,!1))}else u===cg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Zi(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Ed||l===wy||l===cg&&4&o.type)this.addMatch(o.index,-2);else{const h=Zi(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function fE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function gE(n,i,o,u){return-1===o?function pE(n,i){return 11&n.type?Gc(n,i):4&n.type?_y(n,i):null}(i,n):-2===o?function mE(n,i,o){return o===Ed?Gc(i,n):o===cg?_y(i,n):o===wy?Tw(i,n):void 0}(n,i,u):Zn(n,n[Ht],o,i)}function Aw(n,i,o,u){const l=i[ci].queries[u];if(null===l.matches){const h=n.data,v=o.matches,A=[];for(let k=0;k<v.length;k+=2){const K=v[k];A.push(K<0?null:gE(i,h[K],v[k+1],o.metadata.read))}l.matches=A}return l.matches}function __(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=Aw(n,i,l,o);for(let A=0;A<h.length;A+=2){const k=h[A];if(k>0)u.push(v[A/2]);else{const K=h[A+1],ie=i[-k];for(let Ee=fi;Ee<ie.length;Ee++){const Ge=ie[Ee];Ge[ir]===Ge[wr]&&__(Ge[Ht],Ge,K,u)}if(null!==ie[Ai]){const Ee=ie[Ai];for(let Ge=0;Ge<Ee.length;Ge++){const at=Ee[Ge];__(at[Ht],at,K,u)}}}}}return u}function Mw(n){const i=O(),o=F(),u=Zo();fs(u+1);const l=Nw(o,u);if(n.dirty&&function no(n){return 4==(4&n[Rn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?__(o,i,u,[]):Aw(o,i,l,u);n.reset(h,bd),n.notifyOnChanges()}return!0}return!1}function xw(n,i,o,u){const l=F();if(l.firstCreatePass){const h=Xe();(function Ow(n,i,o){null===n.queries&&(n.queries=new y_),n.queries.track(new v_(i,o))})(l,new Sw(i,o,u),h.index),function _E(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function Rw(n,i,o){const u=new f_(4==(4&o));am(n,i,u,u.destroy),null===i[ci]&&(i[ci]=new m_),i[ci].queries.push(new g_(u))}(l,O(),o)}function Pw(){return function vE(n,i){return n[ci].queries[i].queryList}(O(),Zo())}function Nw(n,i){return n.queries.getByIndex(i)}function kw(n,i){return _y(n,i)}function w_(n){return!!br(n)}function by(...n){}const Xw=new Ze("Application Initializer");let Iy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=by,this.reject=by,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Kd(h))o.push(h);else if(Kh(h)){const v=new Promise((A,k)=>{h.subscribe({complete:A,error:k})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Vn(Xw,8))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e0=new Ze("AppId",{providedIn:"root",factory:function t0(){return`${D_()}${D_()}${D_()}`}});function D_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n0=new Ze("Platform Initializer"),UE=new Ze("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BE=new Ze("AnimationModuleType");let $E=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cy=new Ze("LocaleId",{providedIn:"root",factory:()=>gr(Cy,un.Optional|un.SkipSelf)||function jE(){return typeof $localize<"u"&&$localize.locale||dd}()}),HE=new Ze("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let GE=(()=>{class n{compileModuleSync(o){return new l_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=_u(br(o).declarations).reduce((v,A)=>{const k=Tt(A);return k&&v.push(new Zu(k)),v},[]);return new zE(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function T_(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class el{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jl(!1),this.onMicrotaskEmpty=new Jl(!1),this.onStable=new Jl(!1),this.onError=new Jl(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function ZE(){let n=Mn.requestAnimationFrame,i=Mn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function JE(n){const i=()=>{!function QE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,A_(n),n.isCheckStableRunning=!0,S_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),A_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,A)=>{try{return o0(n),o.invokeTask(l,h,v,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),a0(n)}},onInvoke:(o,u,l,h,v,A,k)=>{try{return o0(n),o.invoke(l,h,v,A,k)}finally{n.shouldCoalesceRunChangeDetection&&i(),a0(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,A_(n),S_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!el.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(el.isInAngularZone())throw new qe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,YE,by,by);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const YE={};function S_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function A_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function o0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function a0(n){n._nesting--,S_(n)}class XE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jl,this.onMicrotaskEmpty=new Jl,this.onStable=new Jl,this.onError=new Jl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const u0=new Ze(""),l0=new Ze("");let M_,eb=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,M_||(function tb(n){M_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{el.assertNotInAngularZone(),T_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Vn(el),Vn(c0),Vn(l0))},n.\u0275prov=nn({token:n,factory:n.\u0275fac}),n})(),c0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return M_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const bc=!1;let hd=null;const d0=new Ze("AllowMultipleToken"),x_=new Ze("PlatformDestroyListeners"),h0=new Ze("appBootstrapListener");class ib{constructor(i,o){this.name=i,this.token=o}}function p0(n,i,o=[]){const u=`Platform: ${i}`,l=new Ze(u);return(h=[])=>{let v=P_();if(!v||v.injector.get(d0,!1)){const A=[...o,...h,{provide:l,useValue:!0}];n?n(A):function sb(n){if(hd&&!hd.get(d0,!1))throw new qe(400,!1);hd=n;const i=n.get(m0);(function f0(n){const i=n.get(n0,null);i&&i.forEach(o=>o())})(n)}(function g0(n=[],i){return Os.create({name:i,providers:[{provide:vh,useValue:"platform"},{provide:x_,useValue:new Set([()=>hd=null])},...n]})}(A,u))}return function ab(n){const i=P_();if(!i)throw new qe(401,!1);return i}()}}function P_(){return hd?.get(m0)??null}let m0=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function v0(n,i){let o;return o="noop"===n?new XE:("zone.js"===n?void 0:n)||new el(i),o}(u?.ngZone,function y0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:el,useValue:l}];return l.run(()=>{const v=Os.create({providers:h,parent:this.injector,name:o.moduleType.name}),A=o.create(v),k=A.injector.get(uc,null);if(!k)throw new qe(402,!1);return l.runOutsideAngular(()=>{const K=l.onError.subscribe({next:ie=>{k.handleError(ie)}});A.onDestroy(()=>{Ty(this._modules,A),K.unsubscribe()})}),function _0(n,i,o){try{const u=o();return Kd(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(k,l,()=>{const K=A.injector.get(Iy);return K.runInitializers(),K.donePromise.then(()=>(function og(n){jt(n,"Expected localeId to be defined"),"string"==typeof n&&(sg=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Cy,dd)||dd),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const l=w0({},u);return function nb(n,i,o){const u=new l_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Dy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new qe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(x_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Vn(Os))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function w0(n,i){return Array.isArray(i)?i.reduce(w0,n):{...n,...i}}let Dy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new G.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),v=new G.y(A=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{el.assertNotInAngularZone(),T_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{el.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{k.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Te.T)(h,v.pipe((0,Ce.B)()))}bootstrap(o,u){const l=o instanceof jf;if(!this._injector.get(Iy).done){!l&&Xn(o);throw new qe(405,bc)}let v;v=l?o:this._injector.get(zc).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const A=function rb(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Ef),K=v.create(Os.NULL,[],u||v.selector,A),ie=K.location.nativeElement,Ee=K.injector.get(u0,null);return Ee?.registerApplication(ie),K.onDestroy(()=>{this.detachView(K.hostView),Ty(this.components,K),Ee?.unregisterApplication(ie)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ty(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(h0,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ty(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new qe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Vn(el),Vn(Ku),Vn(uc))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function lb(){return!1}let cb=(()=>{class n{}return n.__NG_ELEMENT_ID__=db,n})();function db(n){return function hb(n,i,o){if(xo(n)&&!o){const u=wi(n.index,i);return new Bd(u,u)}return 47&n.type?new Bd(i[On],i):null}(Xe(),O(),16==(16&n))}class D0{constructor(){}supports(i){return Vh(i)}create(i){return new vb(i)}}const yb=(n,i)=>i;class vb{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yb}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<S0(u,l,h)?o:u,A=S0(v,l,h),k=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const K=A-l,ie=k-l;if(K!=ie){for(let Ge=0;Ge<K;Ge++){const at=Ge<h.length?h[Ge]:h[Ge]=0,Ft=at+Ge;ie<=Ft&&Ft<K&&(h[Ge]=at+1)}h[v.previousIndex]=ie-K}}A!==k&&i(v,A,k)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Vh(i))throw new qe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let A=0;A<this.length;A++)h=i[A],v=this._trackByFn(A,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,A)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,A),u=!0),o=o._next}else l=0,function kp(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,A=>{v=this._trackByFn(l,A),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,A,v,l)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new _b(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class _b{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wb{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class T0{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new wb,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function S0(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class A0{constructor(){}supports(i){return i instanceof Map||jd(i)}create(){return new Eb}}class Eb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||jd(i)))throw new qe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new bb(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class bb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M0(){return new F_([new D0])}let F_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||M0()),deps:[[n,new so,new Di]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new qe(901,!1)}}return n.\u0275prov=nn({token:n,providedIn:"root",factory:M0}),n})();function x0(){return new L_([new A0])}let L_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||x0()),deps:[[n,new so,new Di]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new qe(901,!1)}}return n.\u0275prov=nn({token:n,providedIn:"root",factory:x0}),n})();const Db=p0(null,"core",[]);let Tb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Vn(Dy))},n.\u0275mod=ce({type:n}),n.\u0275inj=kn({}),n})();function Sb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(ln,je,j)=>{"use strict";j.d(je,{Fj:()=>_e,qu:()=>ko,u:()=>Mi,sg:()=>Fs,u5:()=>bo,JJ:()=>Mn,JL:()=>bn,F:()=>xt,On:()=>Ai,UX:()=>Io,kI:()=>fn,_Y:()=>fi});var p=j(4650),E=j(6895),G=j(8996),Te=j(9751),Ce=j(4742),Be=j(8421),Fe=j(7669),we=j(5403),Qe=j(3268),pe=j(1810),ke=j(4004);let gt=(()=>{class O{constructor(N,re){this._renderer=N,this._elementRef=re,this.onChange=Xe=>{},this.onTouched=()=>{}}setProperty(N,re){this._renderer.setProperty(this._elementRef.nativeElement,N,re)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return O.\u0275fac=function(N){return new(N||O)(p.Y36(p.Qsj),p.Y36(p.SBq))},O.\u0275dir=p.lG2({type:O}),O})(),yt=(()=>{class O extends gt{}return O.\u0275fac=function(){let F;return function(re){return(F||(F=p.n5z(O)))(re||O)}}(),O.\u0275dir=p.lG2({type:O,features:[p.qOj]}),O})();const kt=new p.OlP("NgValueAccessor"),wt={provide:kt,useExisting:(0,p.Gpc)(()=>_e),multi:!0},Lt=new p.OlP("CompositionEventMode");let _e=(()=>{class O extends gt{constructor(N,re,Xe){super(N,re),this._compositionMode=Xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rt(){const O=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return O.\u0275fac=function(N){return new(N||O)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Lt,8))},O.\u0275dir=p.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,re){1&N&&p.NdJ("input",function(gn){return re._handleInput(gn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(gn){return re._compositionEnd(gn.target.value)})},features:[p._Bn([wt]),p.qOj]}),O})();const Pe=!1;function it(O){return null==O||("string"==typeof O||Array.isArray(O))&&0===O.length}function At(O){return null!=O&&"number"==typeof O.length}const ht=new p.OlP("NgValidators"),ze=new p.OlP("NgAsyncValidators"),bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fn{static min(F){return function Vt(O){return F=>{if(it(F.value)||it(O))return null;const N=parseFloat(F.value);return!isNaN(N)&&N<O?{min:{min:O,actual:F.value}}:null}}(F)}static max(F){return function Wt(O){return F=>{if(it(F.value)||it(O))return null;const N=parseFloat(F.value);return!isNaN(N)&&N>O?{max:{max:O,actual:F.value}}:null}}(F)}static required(F){return function Gt(O){return it(O.value)?{required:!0}:null}(F)}static requiredTrue(F){return function st(O){return!0===O.value?null:{required:!0}}(F)}static email(F){return function ot(O){return it(O.value)||bt.test(O.value)?null:{email:!0}}(F)}static minLength(F){return function ft(O){return F=>it(F.value)||!At(F.value)?null:F.value.length<O?{minlength:{requiredLength:O,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function _t(O){return F=>At(F.value)&&F.value.length>O?{maxlength:{requiredLength:O,actualLength:F.value.length}}:null}(F)}static pattern(F){return function $t(O){if(!O)return Pt;let F,N;return"string"==typeof O?(N="","^"!==O.charAt(0)&&(N+="^"),N+=O,"$"!==O.charAt(O.length-1)&&(N+="$"),F=new RegExp(N)):(N=O.toString(),F=O),re=>{if(it(re.value))return null;const Xe=re.value;return F.test(Xe)?null:{pattern:{requiredPattern:N,actualValue:Xe}}}}(F)}static nullValidator(F){return null}static compose(F){return Sn(F)}static composeAsync(F){return yr(F)}}function Pt(O){return null}function jt(O){return null!=O}function Mt(O){const F=(0,p.QGY)(O)?(0,G.D)(O):O;if(Pe&&!(0,p.CqO)(F)){let N="Expected async validator to return Promise or Observable.";throw"object"==typeof O&&(N+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,N)}return F}function pn(O){let F={};return O.forEach(N=>{F=null!=N?{...F,...N}:F}),0===Object.keys(F).length?null:F}function yn(O,F){return F.map(N=>N(O))}function nn(O){return O.map(F=>function Dn(O){return!O.validate}(F)?F:N=>F.validate(N))}function Sn(O){if(!O)return null;const F=O.filter(jt);return 0==F.length?null:function(N){return pn(yn(N,F))}}function kn(O){return null!=O?Sn(nn(O)):null}function yr(O){if(!O)return null;const F=O.filter(jt);return 0==F.length?null:function(N){return function De(...O){const F=(0,Fe.jO)(O),{args:N,keys:re}=(0,Ce.D)(O),Xe=new Te.y(gn=>{const{length:Rr}=N;if(!Rr)return void gn.complete();const Jr=new Array(Rr);let hs=Rr,Ms=Rr;for(let io=0;io<Rr;io++){let Pi=!1;(0,Be.Xf)(N[io]).subscribe((0,we.x)(gn,Ki=>{Pi||(Pi=!0,Ms--),Jr[io]=Ki},()=>hs--,void 0,()=>{(!hs||!Pi)&&(Ms||gn.next(re?(0,pe.n)(re,Jr):Jr),gn.complete())}))}});return F?Xe.pipe((0,Qe.Z)(F)):Xe}(yn(N,F).map(Mt)).pipe((0,ke.U)(pn))}}function Dr(O){return null!=O?yr(nn(O)):null}function cr(O,F){return null===O?[F]:Array.isArray(O)?[...O,F]:[O,F]}function an(O){return O._rawValidators}function Jt(O){return O._rawAsyncValidators}function sr(O){return O?Array.isArray(O)?O:[O]:[]}function Tr(O,F){return Array.isArray(O)?O.includes(F):O===F}function pr(O,F){const N=sr(F);return sr(O).forEach(Xe=>{Tr(N,Xe)||N.push(Xe)}),N}function Hn(O,F){return sr(F).filter(N=>!Tr(O,N))}class un{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=kn(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,N){return!!this.control&&this.control.hasError(F,N)}getError(F,N){return this.control?this.control.getError(F,N):null}}class Fn extends un{get formDirective(){return null}get path(){return null}}class zn extends un{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class or{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mn=(()=>{class O extends or{constructor(N){super(N)}}return O.\u0275fac=function(N){return new(N||O)(p.Y36(zn,2))},O.\u0275dir=p.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,re){2&N&&p.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},features:[p.qOj]}),O})(),bn=(()=>{class O extends or{constructor(N){super(N)}}return O.\u0275fac=function(N){return new(N||O)(p.Y36(Fn,10))},O.\u0275dir=p.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,re){2&N&&p.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},features:[p.qOj]}),O})();function hr(O,F){return O?`with name: '${F}'`:`at index: ${F}`}const Ve=!1,Ot="VALID",vt="INVALID",ge="PENDING",he="DISABLED";function ee(O){return(ye(O)?O.validators:O)||null}function J(O,F){return(ye(F)?F.asyncValidators:O)||null}function ye(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}function ve(O,F,N){const re=O.controls;if(!(F?Object.keys(re):re).length)throw new p.vHH(1e3,Ve?function gr(O){return`\n    There are no form controls registered with this ${O?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!re[N])throw new p.vHH(1001,Ve?function nt(O,F){return`Cannot find form control ${hr(O,F)}`}(F,N):"")}function le(O,F,N){O._forEachChild((re,Xe)=>{if(void 0===N[Xe])throw new p.vHH(1002,Ve?function be(O,F){return`Must supply a value for form control ${hr(O,F)}`}(F,Xe):"")})}class Ae{constructor(F,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Ot}get invalid(){return this.status===vt}get pending(){return this.status==ge}get disabled(){return this.status===he}get enabled(){return this.status!==he}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(pr(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(pr(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Hn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Hn(F,this._rawAsyncValidators))}hasValidator(F){return Tr(this._rawValidators,F)}hasAsyncValidator(F){return Tr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=ge,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=he,this.errors=null,this._forEachChild(re=>{re.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:N}),this._onDisabledChange.forEach(re=>re(!0))}enable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=Ot,this._forEachChild(re=>{re.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:N}),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ot||this.status===ge)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?he:Ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=ge,this._hasOwnPendingAsyncValidator=!0;const N=Mt(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,N={}){this.errors=F,this._updateControlsErrors(!1!==N.emitEvent)}get(F){let N=F;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((re,Xe)=>re&&re._find(Xe),this)}getError(F,N){const re=N?this.get(N):this;return re&&re.errors?re.errors[F]:null}hasError(F,N){return!!this.getError(F,N)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?he:this.errors?vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ge)?ge:this._anyControlsHaveStatus(vt)?vt:Ot}_anyControlsHaveStatus(F){return this._anyControls(N=>N.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){ye(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function ne(O){return Array.isArray(O)?kn(O):O||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function Se(O){return Array.isArray(O)?Dr(O):O||null}(this._rawAsyncValidators)}}class Je extends Ae{constructor(F,N,re){super(ee(N),J(re,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,N){return this.controls[F]?this.controls[F]:(this.controls[F]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(F,N,re={}){this.registerControl(F,N),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(F,N={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(F,N,re={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],N&&this.registerControl(F,N),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,N={}){le(this,!0,F),Object.keys(F).forEach(re=>{ve(this,!0,re),this.controls[re].setValue(F[re],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(Object.keys(F).forEach(re=>{const Xe=this.controls[re];Xe&&Xe.patchValue(F[re],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F={},N={}){this._forEachChild((re,Xe)=>{re.reset(F[Xe],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(F,N,re)=>(F[re]=N.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(N,re)=>!!re._syncPendingControls()||N);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(N=>{const re=this.controls[N];re&&F(re,N)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[N,re]of Object.entries(this.controls))if(this.contains(N)&&F(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,re,Xe)=>((re.enabled||this.disabled)&&(N[Xe]=re.value),N))}_reduceChildren(F,N){let re=F;return this._forEachChild((Xe,gn)=>{re=N(re,Xe,gn)}),re}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class cn extends Je{}const Vr=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ut}),ut="always";function ce(O,F){return[...F.path,O]}function H(O,F,N=ut){Tt(O,F),F.valueAccessor.writeValue(O.value),(O.disabled||"always"===N)&&F.valueAccessor.setDisabledState?.(O.disabled),function Pn(O,F){F.valueAccessor.registerOnChange(N=>{O._pendingValue=N,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&br(O,F)})}(O,F),function ei(O,F){const N=(re,Xe)=>{F.valueAccessor.writeValue(re),Xe&&F.viewToModelUpdate(re)};O.registerOnChange(N),F._registerOnDestroy(()=>{O._unregisterOnChange(N)})}(O,F),function Xn(O,F){F.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&br(O,F),"submit"!==O.updateOn&&O.markAsTouched()})}(O,F),function dt(O,F){if(F.valueAccessor.setDisabledState){const N=re=>{F.valueAccessor.setDisabledState(re)};O.registerOnDisabledChange(N),F._registerOnDestroy(()=>{O._unregisterOnDisabledChange(N)})}}(O,F)}function ae(O,F,N=!0){const re=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(re),F.valueAccessor.registerOnTouched(re)),sn(O,F),O&&(F._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function Oe(O,F){O.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(F)})}function Tt(O,F){const N=an(O);null!==F.validator?O.setValidators(cr(N,F.validator)):"function"==typeof N&&O.setValidators([N]);const re=Jt(O);null!==F.asyncValidator?O.setAsyncValidators(cr(re,F.asyncValidator)):"function"==typeof re&&O.setAsyncValidators([re]);const Xe=()=>O.updateValueAndValidity();Oe(F._rawValidators,Xe),Oe(F._rawAsyncValidators,Xe)}function sn(O,F){let N=!1;if(null!==O){if(null!==F.validator){const Xe=an(O);if(Array.isArray(Xe)&&Xe.length>0){const gn=Xe.filter(Rr=>Rr!==F.validator);gn.length!==Xe.length&&(N=!0,O.setValidators(gn))}}if(null!==F.asyncValidator){const Xe=Jt(O);if(Array.isArray(Xe)&&Xe.length>0){const gn=Xe.filter(Rr=>Rr!==F.asyncValidator);gn.length!==Xe.length&&(N=!0,O.setAsyncValidators(gn))}}}const re=()=>{};return Oe(F._rawValidators,re),Oe(F._rawAsyncValidators,re),N}function br(O,F){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function Yi(O,F){Tt(O,F)}function li(O,F){if(!O.hasOwnProperty("model"))return!1;const N=O.model;return!!N.isFirstChange()||!Object.is(F,N.currentValue)}function Pr(O,F){O._syncPendingControls(),F.forEach(N=>{const re=N.control;"submit"===re.updateOn&&re._pendingChange&&(N.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}function er(O,F){if(!F)return null;let N,re,Xe;return Array.isArray(F),F.forEach(gn=>{gn.constructor===_e?N=gn:function kr(O){return Object.getPrototypeOf(O.constructor)===yt}(gn)?re=gn:Xe=gn}),Xe||re||N||null}const $e={provide:Fn,useExisting:(0,p.Gpc)(()=>xt)},Ct=(()=>Promise.resolve())();let xt=(()=>{class O extends Fn{constructor(N,re,Xe){super(),this.callSetDisabledState=Xe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Je({},kn(N),Dr(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){Ct.then(()=>{const re=this._findContainer(N.path);N.control=re.registerControl(N.name,N.control),H(N.control,N,this.callSetDisabledState),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){Ct.then(()=>{const re=this._findContainer(N.path);re&&re.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){Ct.then(()=>{const re=this._findContainer(N.path),Xe=new Je({});Yi(Xe,N),re.registerControl(N.name,Xe),Xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){Ct.then(()=>{const re=this._findContainer(N.path);re&&re.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,re){Ct.then(()=>{this.form.get(N.path).setValue(re)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,Pr(this.form,this._directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}}return O.\u0275fac=function(N){return new(N||O)(p.Y36(ht,10),p.Y36(ze,10),p.Y36(Vr,8))},O.\u0275dir=p.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(N,re){1&N&&p.NdJ("submit",function(gn){return re.onSubmit(gn)})("reset",function(){return re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([$e]),p.qOj]}),O})();function In(O,F){const N=O.indexOf(F);N>-1&&O.splice(N,1)}function Gn(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const On=class extends Ae{constructor(F=null,N,re){super(ee(N),J(re,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ye(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=Gn(F)?F.value:F)}setValue(F,N={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(F,N={}){this.setValue(F,N)}reset(F=this.defaultValue,N={}){this._applyFormState(F),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){In(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){In(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){Gn(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},Qi={provide:zn,useExisting:(0,p.Gpc)(()=>Ai)},Ji=(()=>Promise.resolve())();let Ai=(()=>{class O extends zn{constructor(N,re,Xe,gn,Rr,Jr){super(),this._changeDetectorRef=Rr,this.callSetDisabledState=Jr,this.control=new On,this._registered=!1,this.update=new p.vpe,this._parent=N,this._setValidators(re),this._setAsyncValidators(Xe),this.valueAccessor=er(0,gn)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const re=N.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),li(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){H(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){Ji.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const re=N.isDisabled.currentValue,Xe=0!==re&&(0,p.D6c)(re);Ji.then(()=>{Xe&&!this.control.disabled?this.control.disable():!Xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?ce(N,this._parent):[N]}}return O.\u0275fac=function(N){return new(N||O)(p.Y36(Fn,9),p.Y36(ht,10),p.Y36(ze,10),p.Y36(kt,10),p.Y36(p.sBO,8),p.Y36(Vr,8))},O.\u0275dir=p.lG2({type:O,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Qi]),p.qOj,p.TTD]}),O})(),fi=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275dir=p.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})(),xo=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({}),O})();const Po=new p.OlP("NgModelWithFormControlWarning"),Vi={provide:Fn,useExisting:(0,p.Gpc)(()=>Fs)};let Fs=(()=>{class O extends Fn{constructor(N,re,Xe){super(),this.callSetDisabledState=Xe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(N),this._setAsyncValidators(re)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const re=this.form.get(N.path);return H(re,N,this.callSetDisabledState),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),re}getControl(N){return this.form.get(N.path)}removeControl(N){ae(N.control||null,N,!1),function He(O,F){const N=O.indexOf(F);N>-1&&O.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,re){this.form.get(N.path).setValue(re)}onSubmit(N){return this.submitted=!0,Pr(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const re=N.control,Xe=this.form.get(N.path);re!==Xe&&(ae(re||null,N),(O=>O instanceof On)(Xe)&&(H(Xe,N,this.callSetDisabledState),N.control=Xe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const re=this.form.get(N.path);Yi(re,N),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const re=this.form.get(N.path);re&&function Ei(O,F){return sn(O,F)}(re,N)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tt(this.form,this),this._oldForm&&sn(this._oldForm,this)}_checkFormPresent(){}}return O.\u0275fac=function(N){return new(N||O)(p.Y36(ht,10),p.Y36(ze,10),p.Y36(Vr,8))},O.\u0275dir=p.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(N,re){1&N&&p.NdJ("submit",function(gn){return re.onSubmit(gn)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Vi]),p.qOj,p.TTD]}),O})();const Ko={provide:zn,useExisting:(0,p.Gpc)(()=>Mi)};let Mi=(()=>{class O extends zn{set isDisabled(N){}constructor(N,re,Xe,gn,Rr){super(),this._ngModelWarningConfig=Rr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(re),this._setAsyncValidators(Xe),this.valueAccessor=er(0,gn)}ngOnChanges(N){this._added||this._setUpControl(),li(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return ce(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return O._ngModelWarningSentOnce=!1,O.\u0275fac=function(N){return new(N||O)(p.Y36(Fn,13),p.Y36(ht,10),p.Y36(ze,10),p.Y36(kt,10),p.Y36(Po,8))},O.\u0275dir=p.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Ko]),p.qOj,p.TTD]}),O})(),ro=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({imports:[xo]}),O})();class Wi extends Ae{constructor(F,N,re){super(ee(N),J(re,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,N={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(F,N,re={}){this.controls.splice(F,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(F,N={}){let re=this._adjustIndex(F);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(F,N,re={}){let Xe=this._adjustIndex(F);Xe<0&&(Xe=0),this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),this.controls.splice(Xe,1),N&&(this.controls.splice(Xe,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,N={}){le(this,!1,F),F.forEach((re,Xe)=>{ve(this,!1,Xe),this.at(Xe).setValue(re,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(F.forEach((re,Xe)=>{this.at(Xe)&&this.at(Xe).patchValue(re,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F=[],N={}){this._forEachChild((re,Xe)=>{re.reset(F[Xe],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((N,re)=>!!re._syncPendingControls()||N,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((N,re)=>{F(N,re)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(N=>N.enabled&&F(N))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}function Es(O){return!!O&&(void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn)}let ko=(()=>{class O{constructor(){this.useNonNullable=!1}get nonNullable(){const N=new O;return N.useNonNullable=!0,N}group(N,re=null){const Xe=this._reduceControls(N);let gn={};return Es(re)?gn=re:null!==re&&(gn.validators=re.validator,gn.asyncValidators=re.asyncValidator),new Je(Xe,gn)}record(N,re=null){const Xe=this._reduceControls(N);return new cn(Xe,re)}control(N,re,Xe){let gn={};return this.useNonNullable?(Es(re)?gn=re:(gn.validators=re,gn.asyncValidators=Xe),new On(N,{...gn,nonNullable:!0})):new On(N,re,Xe)}array(N,re,Xe){const gn=N.map(Rr=>this._createControl(Rr));return new Wi(gn,re,Xe)}_reduceControls(N){const re={};return Object.keys(N).forEach(Xe=>{re[Xe]=this._createControl(N[Xe])}),re}_createControl(N){return N instanceof On||N instanceof Ae?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),bo=(()=>{class O{static withConfig(N){return{ngModule:O,providers:[{provide:Vr,useValue:N.callSetDisabledState??ut}]}}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({imports:[ro]}),O})(),Io=(()=>{class O{static withConfig(N){return{ngModule:O,providers:[{provide:Po,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:Vr,useValue:N.callSetDisabledState??ut}]}}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({imports:[ro]}),O})()},1481:(ln,je,j)=>{"use strict";j.d(je,{Dx:()=>bn,b2:()=>zn,q6:()=>pr,se:()=>Gt});var p=j(6895),E=j(4650);class G extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends G{static makeCurrent(){(0,p.HT)(new Te)}onAndCancel(ve,le,Ae){return ve.addEventListener(le,Ae,!1),()=>{ve.removeEventListener(le,Ae,!1)}}dispatchEvent(ve,le){ve.dispatchEvent(le)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,le){return(le=le||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,le){return"window"===le?window:"document"===le?ve:"body"===le?ve.body:null}getBaseHref(ve){const le=function Be(){return Ce=Ce||document.querySelector("base"),Ce?Ce.getAttribute("href"):null}();return null==le?null:function we(ye){Fe=Fe||document.createElement("a"),Fe.setAttribute("href",ye);const ve=Fe.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(le)}resetBaseElement(){Ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,p.Mx)(document.cookie,ve)}}let Fe,Ce=null;const Qe=new E.OlP("TRANSITION_ID"),De=[{provide:E.ip1,useFactory:function pe(ye,ve,le){return()=>{le.get(E.CZH).donePromise.then(()=>{const Ae=(0,p.q)(),Je=ve.querySelectorAll(`style[ng-transition="${ye}"]`);for(let It=0;It<Je.length;It++)Ae.remove(Je[It])})}},deps:[Qe,p.K0,E.zs3],multi:!0}];let gt=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(le){return new(le||ye)},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const yt=new E.OlP("EventManagerPlugins");let kt=(()=>{class ye{constructor(le,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,le.forEach(Je=>{Je.manager=this}),this._plugins=le.slice().reverse()}addEventListener(le,Ae,Je){return this._findPluginFor(Ae).addEventListener(le,Ae,Je)}addGlobalEventListener(le,Ae,Je){return this._findPluginFor(Ae).addGlobalEventListener(le,Ae,Je)}getZone(){return this._zone}_findPluginFor(le){const Ae=this._eventNameToPlugin.get(le);if(Ae)return Ae;const Je=this._plugins;for(let It=0;It<Je.length;It++){const Yt=Je[It];if(Yt.supports(le))return this._eventNameToPlugin.set(le,Yt),Yt}throw new Error(`No event manager plugin found for event ${le}`)}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(yt),E.LFG(E.R0b))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class Bt{constructor(ve){this._doc=ve}addGlobalEventListener(ve,le,Ae){const Je=(0,p.q)().getGlobalEventTarget(this._doc,ve);if(!Je)throw new Error(`Unsupported event target ${Je} for event ${le}`);return this.addEventListener(Je,le,Ae)}}let qe=(()=>{class ye{constructor(){this.usageCount=new Map}addStyles(le){for(const Ae of le)1===this.changeUsageCount(Ae,1)&&this.onStyleAdded(Ae)}removeStyles(le){for(const Ae of le)0===this.changeUsageCount(Ae,-1)&&this.onStyleRemoved(Ae)}onStyleRemoved(le){}onStyleAdded(le){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(le,Ae){const Je=this.usageCount;let It=Je.get(le)??0;return It+=Ae,It>0?Je.set(le,It):Je.delete(le),It}ngOnDestroy(){for(const le of this.getAllStyles())this.onStyleRemoved(le);this.usageCount.clear()}}return ye.\u0275fac=function(le){return new(le||ye)},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),wt=(()=>{class ye extends qe{constructor(le){super(),this.doc=le,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(le){for(const Ae of this.hostNodes)this.addStyleToHost(Ae,le)}onStyleRemoved(le){const Ae=this.styleRef;Ae.get(le)?.forEach(It=>It.remove()),Ae.delete(le)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(le){this.hostNodes.add(le);for(const Ae of this.getAllStyles())this.addStyleToHost(le,Ae)}removeHost(le){this.hostNodes.delete(le)}addStyleToHost(le,Ae){const Je=this.doc.createElement("style");Je.textContent=Ae,le.appendChild(Je);const It=this.styleRef.get(Ae);It?It.push(Je):this.styleRef.set(Ae,[Je])}resetHostNodes(){const le=this.hostNodes;le.clear(),le.add(this.doc.head)}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,ze=new E.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Vt(ye,ve){return ve.flat(100).map(le=>le.replace(Lt,ye))}function Wt(ye){return ve=>{if("__ngUnwrap__"===ve)return ye;!1===ye(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let Gt=(()=>{class ye{constructor(le,Ae,Je,It){this.eventManager=le,this.sharedStylesHost=Ae,this.appId=Je,this.removeStylesOnCompDestory=It,this.rendererByCompId=new Map,this.defaultRenderer=new st(le)}createRenderer(le,Ae){if(!le||!Ae)return this.defaultRenderer;const Je=this.getOrCreateRenderer(le,Ae);return Je instanceof jt?Je.applyToHost(le):Je instanceof Pt&&Je.applyStyles(),Je}getOrCreateRenderer(le,Ae){const Je=this.rendererByCompId;let It=Je.get(Ae.id);if(!It){const Yt=this.eventManager,cn=this.sharedStylesHost,ar=this.removeStylesOnCompDestory;switch(Ae.encapsulation){case E.ifc.Emulated:It=new jt(Yt,cn,Ae,this.appId,ar);break;case E.ifc.ShadowDom:return new $t(Yt,cn,le,Ae);default:It=new Pt(Yt,cn,Ae,ar)}It.onDestroy=()=>Je.delete(Ae.id),Je.set(Ae.id,It)}return It}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(kt),E.LFG(wt),E.LFG(E.AFp),E.LFG(ze))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class st{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,le){return le?document.createElementNS(rt[le]||le,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,le){(_t(ve)?ve.content:ve).appendChild(le)}insertBefore(ve,le,Ae){ve&&(_t(ve)?ve.content:ve).insertBefore(le,Ae)}removeChild(ve,le){ve&&ve.removeChild(le)}selectRootElement(ve,le){let Ae="string"==typeof ve?document.querySelector(ve):ve;if(!Ae)throw new Error(`The selector "${ve}" did not match any elements`);return le||(Ae.textContent=""),Ae}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,le,Ae,Je){if(Je){le=Je+":"+le;const It=rt[Je];It?ve.setAttributeNS(It,le,Ae):ve.setAttribute(le,Ae)}else ve.setAttribute(le,Ae)}removeAttribute(ve,le,Ae){if(Ae){const Je=rt[Ae];Je?ve.removeAttributeNS(Je,le):ve.removeAttribute(`${Ae}:${le}`)}else ve.removeAttribute(le)}addClass(ve,le){ve.classList.add(le)}removeClass(ve,le){ve.classList.remove(le)}setStyle(ve,le,Ae,Je){Je&(E.JOm.DashCase|E.JOm.Important)?ve.style.setProperty(le,Ae,Je&E.JOm.Important?"important":""):ve.style[le]=Ae}removeStyle(ve,le,Ae){Ae&E.JOm.DashCase?ve.style.removeProperty(le):ve.style[le]=""}setProperty(ve,le,Ae){ve[le]=Ae}setValue(ve,le){ve.nodeValue=le}listen(ve,le,Ae){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,le,Wt(Ae)):this.eventManager.addEventListener(ve,le,Wt(Ae))}}function _t(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class $t extends st{constructor(ve,le,Ae,Je){super(ve),this.sharedStylesHost=le,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const It=Vt(Je.id,Je.styles);for(const Yt of It){const cn=document.createElement("style");cn.textContent=Yt,this.shadowRoot.appendChild(cn)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}appendChild(ve,le){return super.appendChild(this.nodeOrShadowRoot(ve),le)}insertBefore(ve,le,Ae){return super.insertBefore(this.nodeOrShadowRoot(ve),le,Ae)}removeChild(ve,le){return super.removeChild(this.nodeOrShadowRoot(ve),le)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends st{constructor(ve,le,Ae,Je,It=Ae.id){super(ve),this.sharedStylesHost=le,this.removeStylesOnCompDestory=Je,this.rendererUsageCount=0,this.styles=Vt(It,Ae.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class jt extends Pt{constructor(ve,le,Ae,Je,It){const Yt=Je+"-"+Ae.id;super(ve,le,Ae,It,Yt),this.contentAttr=function bt(ye){return"_ngcontent-%COMP%".replace(Lt,ye)}(Yt),this.hostAttr=function fn(ye){return"_nghost-%COMP%".replace(Lt,ye)}(Yt)}applyToHost(ve){this.applyStyles(),this.setAttribute(ve,this.hostAttr,"")}createElement(ve,le){const Ae=super.createElement(ve,le);return super.setAttribute(Ae,this.contentAttr,""),Ae}}let Mt=(()=>{class ye extends Bt{constructor(le){super(le)}supports(le){return!0}addEventListener(le,Ae,Je){return le.addEventListener(Ae,Je,!1),()=>this.removeEventListener(le,Ae,Je)}removeEventListener(le,Ae,Je){return le.removeEventListener(Ae,Je)}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const pn=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dn={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let nn=(()=>{class ye extends Bt{constructor(le){super(le)}supports(le){return null!=ye.parseEventName(le)}addEventListener(le,Ae,Je){const It=ye.parseEventName(Ae),Yt=ye.eventCallback(It.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(le,It.domEventName,Yt))}static parseEventName(le){const Ae=le.toLowerCase().split("."),Je=Ae.shift();if(0===Ae.length||"keydown"!==Je&&"keyup"!==Je)return null;const It=ye._normalizeKey(Ae.pop());let Yt="",cn=Ae.indexOf("code");if(cn>-1&&(Ae.splice(cn,1),Yt="code."),pn.forEach(Vr=>{const ut=Ae.indexOf(Vr);ut>-1&&(Ae.splice(ut,1),Yt+=Vr+".")}),Yt+=It,0!=Ae.length||0===It.length)return null;const ar={};return ar.domEventName=Je,ar.fullKey=Yt,ar}static matchEventFullKeyCode(le,Ae){let Je=yn[le.key]||le.key,It="";return Ae.indexOf("code.")>-1&&(Je=le.code,It="code."),!(null==Je||!Je)&&(Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),pn.forEach(Yt=>{Yt!==Je&&(0,Dn[Yt])(le)&&(It+=Yt+".")}),It+=Je,It===Ae)}static eventCallback(le,Ae,Je){return It=>{ye.matchEventFullKeyCode(It,le)&&Je.runGuarded(()=>Ae(It))}}static _normalizeKey(le){return"esc"===le?"escape":le}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const pr=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:p.bD},{provide:E.g9A,useValue:function an(){Te.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function sr(){return(0,E.RDi)(document),document},deps:[]}]),Hn=new E.OlP(""),un=[{provide:E.rWj,useClass:class ke{addToWindow(ve){E.dqk.getAngularTestability=(Ae,Je=!0)=>{const It=ve.findTestabilityInTree(Ae,Je);if(null==It)throw new Error("Could not find testability for element.");return It},E.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(Ae=>{const Je=E.dqk.getAllAngularTestabilities();let It=Je.length,Yt=!1;const cn=function(ar){Yt=Yt||ar,It--,0==It&&Ae(Yt)};Je.forEach(function(ar){ar.whenStable(cn)})})}findTestabilityInTree(ve,le,Ae){return null==le?null:ve.getTestability(le)??(Ae?(0,p.q)().isShadowRoot(le)?this.findTestabilityInTree(ve,le.host,!0):this.findTestabilityInTree(ve,le.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],Fn=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function Jt(){return new E.qLn},deps:[]},{provide:yt,useClass:Mt,multi:!0,deps:[p.K0,E.R0b,E.Lbi]},{provide:yt,useClass:nn,multi:!0,deps:[p.K0]},{provide:Gt,useClass:Gt,deps:[kt,wt,E.AFp,ze]},{provide:E.FYo,useExisting:Gt},{provide:qe,useExisting:wt},{provide:wt,useClass:wt,deps:[p.K0]},{provide:kt,useClass:kt,deps:[yt,E.R0b]},{provide:p.JF,useClass:gt,deps:[]},[]];let zn=(()=>{class ye{constructor(le){}static withServerTransition(le){return{ngModule:ye,providers:[{provide:E.AFp,useValue:le.appId},{provide:Qe,useExisting:E.AFp},De]}}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(Hn,12))},ye.\u0275mod=E.oAB({type:ye}),ye.\u0275inj=E.cJS({providers:[...Fn,...un],imports:[p.ez,E.hGG]}),ye})(),bn=(()=>{class ye{constructor(le){this._doc=le}getTitle(){return this._doc.title}setTitle(le){this._doc.title=le||""}}return ye.\u0275fac=function(le){return new(le||ye)(E.LFG(p.K0))},ye.\u0275prov=E.Yz7({token:ye,factory:function(le){let Ae=null;return Ae=le?new le:function Mn(){return new bn((0,E.LFG)(p.K0))}(),Ae},providedIn:"root"}),ye})();typeof window<"u"&&window},1194:(ln,je,j)=>{"use strict";j.d(je,{F0:()=>Zi,rH:()=>cu,Bz:()=>du,lC:()=>Xs});var p=j(4650),E=j(8996),G=j(9646),Te=j(1135),Ce=j(6805),Be=j(9751),Fe=j(4742),we=j(4671),Qe=j(3268),pe=j(7669),De=j(1810),ke=j(5403),gt=j(9672);function yt(..._){const C=(0,pe.yG)(_),m=(0,pe.jO)(_),{args:x,keys:B}=(0,Fe.D)(_);if(0===x.length)return(0,E.D)([],C);const X=new Be.y(function kt(_,C,m=we.y){return x=>{Bt(C,()=>{const{length:B}=_,X=new Array(B);let ue=B,Ke=B;for(let Nt=0;Nt<B;Nt++)Bt(C,()=>{const on=(0,E.D)(_[Nt],C);let mn=!1;on.subscribe((0,ke.x)(x,Wr=>{X[Nt]=Wr,mn||(mn=!0,Ke--),Ke||x.next(m(X.slice()))},()=>{--ue||x.complete()}))},x)},x)}}(x,C,B?ue=>(0,De.n)(B,ue):we.y));return m?X.pipe((0,Qe.Z)(m)):X}function Bt(_,C,m){_?(0,gt.f)(m,_,C):C()}var qe=j(7272),wt=j(8421);function rt(_){return new Be.y(C=>{(0,wt.Xf)(_()).subscribe(C)})}var Lt=j(9635),_e=j(576);function Pe(_,C){const m=(0,_e.m)(_)?_:()=>_,x=B=>B.error(m());return new Be.y(C?B=>C.schedule(x,0,B):x)}var it=j(515),At=j(727),ht=j(4482);function ze(){return(0,ht.e)((_,C)=>{let m=null;_._refCount++;const x=(0,ke.x)(C,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const B=_._connection,X=m;m=null,B&&(!X||B===X)&&B.unsubscribe(),C.unsubscribe()});_.subscribe(x),x.closed||(m=_.connect())})}class bt extends Be.y{constructor(C,m){super(),this.source=C,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,ht.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new At.w0;const m=this.getSubject();C.add(this.source.subscribe((0,ke.x)(m,void 0,()=>{this._teardown(),m.complete()},x=>{this._teardown(),m.error(x)},()=>this._teardown()))),C.closed&&(this._connection=null,C=At.w0.EMPTY)}return C}refCount(){return ze()(this)}}var fn=j(7579),Vt=j(6895),Wt=j(4004),Gt=j(3900),st=j(5698),ot=j(8675),ft=j(9300),_t=j(5577),$t=j(590),Pt=j(4351),jt=j(8505);function Mt(_){return(0,ht.e)((C,m)=>{let X,x=null,B=!1;x=C.subscribe((0,ke.x)(m,void 0,void 0,ue=>{X=(0,wt.Xf)(_(ue,Mt(_)(C))),x?(x.unsubscribe(),x=null,X.subscribe(m)):B=!0})),B&&(x.unsubscribe(),x=null,X.subscribe(m))})}var pn=j(5026);function yn(_){return _<=0?()=>it.E:(0,ht.e)((C,m)=>{let x=[];C.subscribe((0,ke.x)(m,B=>{x.push(B),_<x.length&&x.shift()},()=>{for(const B of x)m.next(B);m.complete()},void 0,()=>{x=null}))})}var Dn=j(8068),nn=j(6590);function Sn(_,C){const m=arguments.length>=2;return x=>x.pipe(_?(0,ft.h)((B,X)=>_(B,X,x)):we.y,yn(1),m?(0,nn.d)(C):(0,Dn.T)(()=>new Ce.K))}function Dr(_){return(0,ht.e)((C,m)=>{try{C.subscribe(m)}finally{m.add(_)}})}var cr=j(8189),an=j(1481);const Jt="primary",sr=Symbol("RouteTitle");class Tr{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const m=this.params[C];return Array.isArray(m)?m[0]:m}return null}getAll(C){if(this.has(C)){const m=this.params[C];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function pr(_){return new Tr(_)}function Hn(_,C,m){const x=m.path.split("/");if(x.length>_.length||"full"===m.pathMatch&&(C.hasChildren()||x.length<_.length))return null;const B={};for(let X=0;X<x.length;X++){const ue=x[X],Ke=_[X];if(ue.startsWith(":"))B[ue.substring(1)]=Ke;else if(ue!==Ke.path)return null}return{consumed:_.slice(0,x.length),posParams:B}}function Fn(_,C){const m=_?Object.keys(_):void 0,x=C?Object.keys(C):void 0;if(!m||!x||m.length!=x.length)return!1;let B;for(let X=0;X<m.length;X++)if(B=m[X],!zn(_[B],C[B]))return!1;return!0}function zn(_,C){if(Array.isArray(_)&&Array.isArray(C)){if(_.length!==C.length)return!1;const m=[..._].sort(),x=[...C].sort();return m.every((B,X)=>x[X]===B)}return _===C}function or(_){return Array.prototype.concat.apply([],_)}function qr(_){return _.length>0?_[_.length-1]:null}function Mn(_,C){for(const m in _)_.hasOwnProperty(m)&&C(_[m],m)}function bn(_){return(0,p.CqO)(_)?_:(0,p.QGY)(_)?(0,E.D)(Promise.resolve(_)):(0,G.of)(_)}const Xt=!1,St={exact:function Yr(_,C,m){if(!gr(_.segments,C.segments)||!Hr(_.segments,C.segments,m)||_.numberOfChildren!==C.numberOfChildren)return!1;for(const x in C.children)if(!_.children[x]||!Yr(_.children[x],C.children[x],m))return!1;return!0},subset:Sr},dr={exact:function Cr(_,C){return Fn(_,C)},subset:function jr(_,C){return Object.keys(C).length<=Object.keys(_).length&&Object.keys(C).every(m=>zn(_[m],C[m]))},ignored:()=>!0};function Ir(_,C,m){return St[m.paths](_.root,C.root,m.matrixParams)&&dr[m.queryParams](_.queryParams,C.queryParams)&&!("exact"===m.fragment&&_.fragment!==C.fragment)}function Sr(_,C,m){return $n(_,C,C.segments,m)}function $n(_,C,m,x){if(_.segments.length>m.length){const B=_.segments.slice(0,m.length);return!(!gr(B,m)||C.hasChildren()||!Hr(B,m,x))}if(_.segments.length===m.length){if(!gr(_.segments,m)||!Hr(_.segments,m,x))return!1;for(const B in C.children)if(!_.children[B]||!Sr(_.children[B],C.children[B],x))return!1;return!0}{const B=m.slice(0,_.segments.length),X=m.slice(_.segments.length);return!!(gr(_.segments,B)&&Hr(_.segments,B,x)&&_.children[Jt])&&$n(_.children[Jt],C,X,x)}}function Hr(_,C,m){return C.every((x,B)=>dr[m](_[B].parameters,x.parameters))}class jn{constructor(C=new Ln([],{}),m={},x=null){this.root=C,this.queryParams=m,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pr(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class Ln{constructor(C,m){this.segments=C,this.children=m,this.parent=null,Mn(m,(x,B)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vt(this)}}class Vn{constructor(C,m){this.path=C,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=pr(this.parameters)),this._parameterMap}toString(){return ve(this)}}function gr(_,C){return _.length===C.length&&_.every((m,x)=>m.path===C[x].path)}let be=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return new Ve},providedIn:"root"}),_})();class Ve{parse(C){const m=new ut(C);return new jn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(C){const m=`/${ge(C.root,!0)}`,x=function Ae(_){const C=Object.keys(_).map(m=>{const x=_[m];return Array.isArray(x)?x.map(B=>`${ee(m)}=${ee(B)}`).join("&"):`${ee(m)}=${ee(x)}`}).filter(m=>!!m);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${m}${x}${"string"==typeof C.fragment?`#${function ne(_){return encodeURI(_)}(C.fragment)}`:""}`}}const Ot=new Ve;function vt(_){return _.segments.map(C=>ve(C)).join("/")}function ge(_,C){if(!_.hasChildren())return vt(_);if(C){const m=_.children[Jt]?ge(_.children[Jt],!1):"",x=[];return Mn(_.children,(B,X)=>{X!==Jt&&x.push(`${X}:${ge(B,!1)}`)}),x.length>0?`${m}(${x.join("//")})`:m}{const m=function nt(_,C){let m=[];return Mn(_.children,(x,B)=>{B===Jt&&(m=m.concat(C(x,B)))}),Mn(_.children,(x,B)=>{B!==Jt&&(m=m.concat(C(x,B)))}),m}(_,(x,B)=>B===Jt?[ge(_.children[Jt],!1)]:[`${B}:${ge(x,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Jt]?`${vt(_)}/${m[0]}`:`${vt(_)}/(${m.join("//")})`}}function he(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ee(_){return he(_).replace(/%3B/gi,";")}function J(_){return he(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(_){return decodeURIComponent(_)}function ye(_){return Se(_.replace(/\+/g,"%20"))}function ve(_){return`${J(_.path)}${function le(_){return Object.keys(_).map(C=>`;${J(C)}=${J(_[C])}`).join("")}(_.parameters)}`}const Je=/^[^\/()?;=#]+/;function It(_){const C=_.match(Je);return C?C[0]:""}const Yt=/^[^=?&#]+/,ar=/^[^&#]+/;class ut{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(C.length>0||Object.keys(m).length>0)&&(x[Jt]=new Ln(C,m)),x}parseSegment(){const C=It(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new p.vHH(4009,Xt);return this.capture(C),new Vn(Se(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const m=It(this.remaining);if(!m)return;this.capture(m);let x="";if(this.consumeOptional("=")){const B=It(this.remaining);B&&(x=B,this.capture(x))}C[Se(m)]=Se(x)}parseQueryParam(C){const m=function cn(_){const C=_.match(Yt);return C?C[0]:""}(this.remaining);if(!m)return;this.capture(m);let x="";if(this.consumeOptional("=")){const ue=function Vr(_){const C=_.match(ar);return C?C[0]:""}(this.remaining);ue&&(x=ue,this.capture(x))}const B=ye(m),X=ye(x);if(C.hasOwnProperty(B)){let ue=C[B];Array.isArray(ue)||(ue=[ue],C[B]=ue),ue.push(X)}else C[B]=X}parseParens(C){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=It(this.remaining),B=this.remaining[x.length];if("/"!==B&&")"!==B&&";"!==B)throw new p.vHH(4010,Xt);let X;x.indexOf(":")>-1?(X=x.slice(0,x.indexOf(":")),this.capture(X),this.capture(":")):C&&(X=Jt);const ue=this.parseChildren();m[X]=1===Object.keys(ue).length?ue[Jt]:new Ln([],ue),this.consumeOptional("//")}return m}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new p.vHH(4011,Xt)}}function ce(_){return _.segments.length>0?new Ln([],{[Jt]:_}):_}function H(_){const C={};for(const x of Object.keys(_.children)){const X=H(_.children[x]);(X.segments.length>0||X.hasChildren())&&(C[x]=X)}return function ae(_){if(1===_.numberOfChildren&&_.children[Jt]){const C=_.children[Jt];return new Ln(_.segments.concat(C.segments),C.children)}return _}(new Ln(_.segments,C))}function Oe(_){return _ instanceof jn}const dt=!1;function Xn(_,C,m,x,B){if(0===m.length)return Yi(C.root,C.root,C.root,x,B);const X=function Ht(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Zr(!0,0,_);let C=0,m=!1;const x=_.reduce((B,X,ue)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Ke={};return Mn(X.outlets,(Nt,on)=>{Ke[on]="string"==typeof Nt?Nt.split("/"):Nt}),[...B,{outlets:Ke}]}if(X.segmentPath)return[...B,X.segmentPath]}return"string"!=typeof X?[...B,X]:0===ue?(X.split("/").forEach((Ke,Nt)=>{0==Nt&&"."===Ke||(0==Nt&&""===Ke?m=!0:".."===Ke?C++:""!=Ke&&B.push(Ke))}),B):[...B,X]},[]);return new Zr(m,C,x)}(m);return X.toRoot()?Yi(C.root,C.root,new Ln([],{}),x,B):function ue(Nt){const on=function fr(_,C,m,x){if(_.isAbsolute)return new Rn(C.root,!0,0);if(-1===x)return new Rn(m,m===C.root,0);return function li(_,C,m){let x=_,B=C,X=m;for(;X>B;){if(X-=B,x=x.parent,!x)throw new p.vHH(4005,dt&&"Invalid number of '../'");B=x.segments.length}return new Rn(x,!1,B-X)}(m,x+(br(_.commands[0])?0:1),_.numberOfDoubleDots)}(X,C,_.snapshot?._urlSegment,Nt),mn=on.processChildren?er(on.segmentGroup,on.index,X.commands):Pr(on.segmentGroup,on.index,X.commands);return Yi(C.root,on.segmentGroup,mn,x,B)}(_.snapshot?._lastPathIndex)}function br(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function ei(_){return"object"==typeof _&&null!=_&&_.outlets}function Yi(_,C,m,x,B){let ue,X={};x&&Mn(x,(Nt,on)=>{X[on]=Array.isArray(Nt)?Nt.map(mn=>`${mn}`):`${Nt}`}),ue=_===C?m:Ei(_,C,m);const Ke=ce(H(ue));return new jn(Ke,X,B)}function Ei(_,C,m){const x={};return Mn(_.children,(B,X)=>{x[X]=B===C?m:Ei(B,C,m)}),new Ln(_.segments,x)}class Zr{constructor(C,m,x){if(this.isAbsolute=C,this.numberOfDoubleDots=m,this.commands=x,C&&x.length>0&&br(x[0]))throw new p.vHH(4003,dt&&"Root segment cannot have matrix parameters");const B=x.find(ei);if(B&&B!==qr(x))throw new p.vHH(4004,dt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rn{constructor(C,m,x){this.segmentGroup=C,this.processChildren=m,this.index=x}}function Pr(_,C,m){if(_||(_=new Ln([],{})),0===_.segments.length&&_.hasChildren())return er(_,C,m);const x=function He(_,C,m){let x=0,B=C;const X={match:!1,pathIndex:0,commandIndex:0};for(;B<_.segments.length;){if(x>=m.length)return X;const ue=_.segments[B],Ke=m[x];if(ei(Ke))break;const Nt=`${Ke}`,on=x<m.length-1?m[x+1]:null;if(B>0&&void 0===Nt)break;if(Nt&&on&&"object"==typeof on&&void 0===on.outlets){if(!xt(Nt,on,ue))return X;x+=2}else{if(!xt(Nt,{},ue))return X;x++}B++}return{match:!0,pathIndex:B,commandIndex:x}}(_,C,m),B=m.slice(x.commandIndex);if(x.match&&x.pathIndex<_.segments.length){const X=new Ln(_.segments.slice(0,x.pathIndex),{});return X.children[Jt]=new Ln(_.segments.slice(x.pathIndex),_.children),er(X,0,B)}return x.match&&0===B.length?new Ln(_.segments,{}):x.match&&!_.hasChildren()?Ue(_,C,m):x.match?er(_,0,B):Ue(_,C,m)}function er(_,C,m){if(0===m.length)return new Ln(_.segments,{});{const x=function kr(_){return ei(_[0])?_[0].outlets:{[Jt]:_}}(m),B={};if(!x[Jt]&&_.children[Jt]&&1===_.numberOfChildren&&0===_.children[Jt].segments.length){const X=er(_.children[Jt],C,m);return new Ln(_.segments,X.children)}return Mn(x,(X,ue)=>{"string"==typeof X&&(X=[X]),null!==X&&(B[ue]=Pr(_.children[ue],C,X))}),Mn(_.children,(X,ue)=>{void 0===x[ue]&&(B[ue]=X)}),new Ln(_.segments,B)}}function Ue(_,C,m){const x=_.segments.slice(0,C);let B=0;for(;B<m.length;){const X=m[B];if(ei(X)){const Nt=$e(X.outlets);return new Ln(x,Nt)}if(0===B&&br(m[0])){x.push(new Vn(_.segments[C].path,Ct(m[0]))),B++;continue}const ue=ei(X)?X.outlets[Jt]:`${X}`,Ke=B<m.length-1?m[B+1]:null;ue&&Ke&&br(Ke)?(x.push(new Vn(ue,Ct(Ke))),B+=2):(x.push(new Vn(ue,{})),B++)}return new Ln(x,{})}function $e(_){const C={};return Mn(_,(m,x)=>{"string"==typeof m&&(m=[m]),null!==m&&(C[x]=Ue(new Ln([],{}),0,m))}),C}function Ct(_){const C={};return Mn(_,(m,x)=>C[x]=`${m}`),C}function xt(_,C,m){return _==m.path&&Fn(C,m.parameters)}const In="imperative";class Gn{constructor(C,m){this.id=C,this.url=m}}class On extends Gn{constructor(C,m,x="imperative",B=null){super(C,m),this.type=0,this.navigationTrigger=x,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ir extends Gn{constructor(C,m,x){super(C,m),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vi extends Gn{constructor(C,m,x,B){super(C,m),this.reason=x,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ci extends Gn{constructor(C,m,x,B){super(C,m),this.reason=x,this.code=B,this.type=16}}class _i extends Gn{constructor(C,m,x,B){super(C,m),this.error=x,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oi extends Gn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Gn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends Gn{constructor(C,m,x,B,X){super(C,m),this.urlAfterRedirects=x,this.state=B,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zi extends Gn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ks extends Gn{constructor(C,m,x,B){super(C,m),this.urlAfterRedirects=x,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ji{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ai{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aa{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(C,m,x){this.routerEvent=C,this.position=m,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let os=(()=>{class _{createUrlTree(m,x,B,X,ue,Ke){return Xn(m||x.root,B,X,ue,Ke)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})(),as=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(C){return os.\u0275fac(C)},providedIn:"root"}),_})();class us{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const m=this.pathFromRoot(C);return m.length>1?m[m.length-2]:null}children(C){const m=Po(C,this._root);return m?m.children.map(x=>x.value):[]}firstChild(C){const m=Po(C,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(C){const m=Ar(C,this._root);return m.length<2?[]:m[m.length-2].children.map(B=>B.value).filter(B=>B!==C)}pathFromRoot(C){return Ar(C,this._root).map(m=>m.value)}}function Po(_,C){if(_===C.value)return C;for(const m of C.children){const x=Po(_,m);if(x)return x}return null}function Ar(_,C){if(_===C.value)return[C];for(const m of C.children){const x=Ar(_,m);if(x.length)return x.unshift(C),x}return[]}class ls{constructor(C,m){this.value=C,this.children=m}toString(){return`TreeNode(${this.value})`}}function Vi(_){const C={};return _&&_.children.forEach(m=>C[m.value.outlet]=m),C}class Fs extends us{constructor(C,m){super(C),this.snapshot=m,Ui(this,C)}toString(){return this.snapshot.toString()}}function ra(_,C){const m=function Wo(_,C){const ue=new Ko([],{},{},"",{},Jt,C,null,_.root,-1,{});return new Mi("",new ls(ue,[]))}(_,C),x=new Te.X([new Vn("",{})]),B=new Te.X({}),X=new Te.X({}),ue=new Te.X({}),Ke=new Te.X(""),Nt=new Ys(x,B,ue,Ke,X,Jt,C,m.root);return Nt.snapshot=m.root,new Fs(new ls(Nt,[]),m)}class Ys{constructor(C,m,x,B,X,ue,Ke,Nt){this.url=C,this.params=m,this.queryParams=x,this.fragment=B,this.data=X,this.outlet=ue,this.component=Ke,this.title=this.data?.pipe((0,Wt.U)(on=>on[sr]))??(0,G.of)(void 0),this._futureSnapshot=Nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Wt.U)(C=>pr(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Wt.U)(C=>pr(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _o(_,C="emptyOnly"){const m=_.pathFromRoot;let x=0;if("always"!==C)for(x=m.length-1;x>=1;){const B=m[x],X=m[x-1];if(B.routeConfig&&""===B.routeConfig.path)x--;else{if(X.component)break;x--}}return function Ro(_){return _.reduce((C,m)=>({params:{...C.params,...m.params},data:{...C.data,...m.data},resolve:{...m.data,...C.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(x))}class Ko{get title(){return this.data?.[sr]}constructor(C,m,x,B,X,ue,Ke,Nt,on,mn,Wr){this.url=C,this.params=m,this.queryParams=x,this.fragment=B,this.data=X,this.outlet=ue,this.component=Ke,this.routeConfig=Nt,this._urlSegment=on,this._lastPathIndex=mn,this._resolve=Wr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mi extends us{constructor(C,m){super(m),this.url=C,Ui(this,m)}toString(){return qo(this._root)}}function Ui(_,C){C.value._routerState=_,C.children.forEach(m=>Ui(_,m))}function qo(_){const C=_.children.length>0?` { ${_.children.map(qo).join(", ")} } `:"";return`${_.value}${C}`}function Ls(_){if(_.snapshot){const C=_.snapshot,m=_._futureSnapshot;_.snapshot=m,Fn(C.queryParams,m.queryParams)||_.queryParams.next(m.queryParams),C.fragment!==m.fragment&&_.fragment.next(m.fragment),Fn(C.params,m.params)||_.params.next(m.params),function un(_,C){if(_.length!==C.length)return!1;for(let m=0;m<_.length;++m)if(!Fn(_[m],C[m]))return!1;return!0}(C.url,m.url)||_.url.next(m.url),Fn(C.data,m.data)||_.data.next(m.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function wo(_,C){const m=Fn(_.params,C.params)&&function hr(_,C){return gr(_,C)&&_.every((m,x)=>Fn(m.parameters,C[x].parameters))}(_.url,C.url);return m&&!(!_.parent!=!C.parent)&&(!_.parent||wo(_.parent,C.parent))}function ws(_,C,m){if(m&&_.shouldReuseRoute(C.value,m.value.snapshot)){const x=m.value;x._futureSnapshot=C.value;const B=function xi(_,C,m){return C.children.map(x=>{for(const B of m.children)if(_.shouldReuseRoute(x.value,B.value.snapshot))return ws(_,x,B);return ws(_,x)})}(_,C,m);return new ls(x,B)}{if(_.shouldAttach(C.value)){const X=_.retrieve(C.value);if(null!==X){const ue=X.route;return ue.value._futureSnapshot=C.value,ue.children=C.children.map(Ke=>ws(_,Ke)),ue}}const x=function cs(_){return new Ys(new Te.X(_.url),new Te.X(_.params),new Te.X(_.queryParams),new Te.X(_.fragment),new Te.X(_.data),_.outlet,_.component,_)}(C.value),B=C.children.map(X=>ws(_,X));return new ls(x,B)}}const Qs="ngNavigationCancelingError";function Vs(_,C){const{redirectTo:m,navigationBehaviorOptions:x}=Oe(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,B=Js(!1,0,C);return B.url=m,B.navigationBehaviorOptions=x,B}function Js(_,C,m){const x=new Error("NavigationCancelingError: "+(_||""));return x[Qs]=!0,x.cancellationCode=C,m&&(x.url=m),x}function Oo(_){return Gi(_)&&Oe(_.url)}function Gi(_){return _&&_[Qs]}class Ts{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Us,this.attachRef=null}}let Us=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,x){const B=this.getOrCreateContext(m);B.outlet=x,this.contexts.set(m,B)}onChildOutletDestroyed(m){const x=this.getContext(m);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let x=this.getContext(m);return x||(x=new Ts,this.contexts.set(m,x)),x}getContext(m){return this.contexts.get(m)||null}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Ss=!1;let Xs=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Us),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:x,previousValue:B}=m.name;if(x)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Ss);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Ss);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Ss);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,x){this.activated=m,this._activatedRoute=x,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,x){if(this.isActivated)throw new p.vHH(4013,Ss);this._activatedRoute=m;const B=this.location,ue=m.snapshot.component,Ke=this.parentContexts.getOrCreateContext(this.name).children,Nt=new Bs(m,Ke,B.injector);if(x&&function ti(_){return!!_.resolveComponentFactory}(x)){const on=x.resolveComponentFactory(ue);this.activated=B.createComponent(on,B.length,Nt)}else this.activated=B.createComponent(ue,{index:B.length,injector:Nt,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=p.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),_})();class Bs{constructor(C,m,x){this.route=C,this.childContexts=m,this.parent=x}get(C,m){return C===Ys?this.route:C===Us?this.childContexts:this.parent.get(C,m)}}let ds=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=p.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,x){1&m&&p._UZ(0,"router-outlet")},dependencies:[Xs],encapsulation:2}),_})();function ni(_,C){return _.providers&&!_._injector&&(_._injector=(0,p.MMx)(_.providers,C,`Route: ${_.path}`)),_._injector??C}function no(_){const C=_.children&&_.children.map(no),m=C?{..._,children:C}:{..._};return!m.component&&!m.loadComponent&&(C||m.loadChildren)&&m.outlet&&m.outlet!==Jt&&(m.component=ds),m}function pi(_){return _.outlet||Jt}function wa(_,C){const m=_.filter(x=>pi(x)===C);return m.push(..._.filter(x=>pi(x)!==C)),m}function Ni(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let C=_.parent;C;C=C.parent){const m=C.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Wi{constructor(C,m,x,B){this.routeReuseStrategy=C,this.futureState=m,this.currState=x,this.forwardEvent=B}activate(C){const m=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,x,C),Ls(this.futureState.root),this.activateChildRoutes(m,x,C)}deactivateChildRoutes(C,m,x){const B=Vi(m);C.children.forEach(X=>{const ue=X.value.outlet;this.deactivateRoutes(X,B[ue],x),delete B[ue]}),Mn(B,(X,ue)=>{this.deactivateRouteAndItsChildren(X,x)})}deactivateRoutes(C,m,x){const B=C.value,X=m?m.value:null;if(B===X)if(B.component){const ue=x.getContext(B.outlet);ue&&this.deactivateChildRoutes(C,m,ue.children)}else this.deactivateChildRoutes(C,m,x);else X&&this.deactivateRouteAndItsChildren(m,x)}deactivateRouteAndItsChildren(C,m){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,m):this.deactivateRouteAndOutlet(C,m)}detachAndStoreRouteSubtree(C,m){const x=m.getContext(C.value.outlet),B=x&&C.value.component?x.children:m,X=Vi(C);for(const ue of Object.keys(X))this.deactivateRouteAndItsChildren(X[ue],B);if(x&&x.outlet){const ue=x.outlet.detach(),Ke=x.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:ue,route:C,contexts:Ke})}}deactivateRouteAndOutlet(C,m){const x=m.getContext(C.value.outlet),B=x&&C.value.component?x.children:m,X=Vi(C);for(const ue of Object.keys(X))this.deactivateRouteAndItsChildren(X[ue],B);x&&(x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated()),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(C,m,x){const B=Vi(m);C.children.forEach(X=>{this.activateRoutes(X,B[X.value.outlet],x),this.forwardEvent(new bi(X.value.snapshot))}),C.children.length&&this.forwardEvent(new fi(C.value.snapshot))}activateRoutes(C,m,x){const B=C.value,X=m?m.value:null;if(Ls(B),B===X)if(B.component){const ue=x.getOrCreateContext(B.outlet);this.activateChildRoutes(C,m,ue.children)}else this.activateChildRoutes(C,m,x);else if(B.component){const ue=x.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ke=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),ue.children.onOutletReAttached(Ke.contexts),ue.attachRef=Ke.componentRef,ue.route=Ke.route.value,ue.outlet&&ue.outlet.attach(Ke.componentRef,Ke.route.value),Ls(Ke.route.value),this.activateChildRoutes(C,null,ue.children)}else{const Ke=Ni(B.snapshot),Nt=Ke?.get(p._Vd)??null;ue.attachRef=null,ue.route=B,ue.resolver=Nt,ue.injector=Ke,ue.outlet&&ue.outlet.activateWith(B,ue.injector),this.activateChildRoutes(C,null,ue.children)}}else this.activateChildRoutes(C,null,x)}}class qn{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class uo{constructor(C,m){this.component=C,this.route=m}}function Es(_,C,m){const x=_._root;return As(x,C?C._root:null,m,[x.value])}function ts(_,C){const m=Symbol(),x=C.get(_,m);return x===m?"function"!=typeof _||(0,p.Z0I)(_)?C.get(_):_:x}function As(_,C,m,x,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=Vi(C);return _.children.forEach(ue=>{(function Eo(_,C,m,x,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=_.value,ue=C?C.value:null,Ke=m?m.getContext(_.value.outlet):null;if(ue&&X.routeConfig===ue.routeConfig){const Nt=function bo(_,C,m){if("function"==typeof m)return m(_,C);switch(m){case"pathParamsChange":return!gr(_.url,C.url);case"pathParamsOrQueryParamsChange":return!gr(_.url,C.url)||!Fn(_.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(_,C)||!Fn(_.queryParams,C.queryParams);default:return!wo(_,C)}}(ue,X,X.routeConfig.runGuardsAndResolvers);Nt?B.canActivateChecks.push(new qn(x)):(X.data=ue.data,X._resolvedData=ue._resolvedData),As(_,C,X.component?Ke?Ke.children:null:m,x,B),Nt&&Ke&&Ke.outlet&&Ke.outlet.isActivated&&B.canDeactivateChecks.push(new uo(Ke.outlet.component,ue))}else ue&&Io(C,Ke,B),B.canActivateChecks.push(new qn(x)),As(_,null,X.component?Ke?Ke.children:null:m,x,B)})(ue,X[ue.value.outlet],m,x.concat([ue.value]),B),delete X[ue.value.outlet]}),Mn(X,(ue,Ke)=>Io(ue,m.getContext(Ke),B)),B}function Io(_,C,m){const x=Vi(_),B=_.value;Mn(x,(X,ue)=>{Io(X,B.component?C?C.children.getContext(ue):null:C,m)}),m.canDeactivateChecks.push(new uo(B.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,B))}function O(_){return"function"==typeof _}function Ms(_){return _ instanceof Ce.K||"EmptyError"===_?.name}const io=Symbol("INITIAL_VALUE");function Pi(){return(0,Gt.w)(_=>yt(_.map(C=>C.pipe((0,st.q)(1),(0,ot.O)(io)))).pipe((0,Wt.U)(C=>{for(const m of C)if(!0!==m){if(m===io)return io;if(!1===m||m instanceof jn)return m}return!0}),(0,ft.h)(C=>C!==io),(0,st.q)(1)))}function Hs(_){return(0,Lt.z)((0,jt.b)(C=>{if(Oe(C))throw Vs(0,C)}),(0,Wt.U)(C=>!0===C))}const Ps={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zo(_,C,m,x,B){const X=fs(_,C,m);return X.matched?function gi(_,C,m,x){const B=C.canMatch;if(!B||0===B.length)return(0,G.of)(!0);const X=B.map(ue=>{const Ke=ts(ue,_);return bn(function Rr(_){return _&&O(_.canMatch)}(Ke)?Ke.canMatch(C,m):_.runInContext(()=>Ke(C,m)))});return(0,G.of)(X).pipe(Pi(),Hs())}(x=ni(C,x),C,m).pipe((0,Wt.U)(ue=>!0===ue?X:{...Ps})):(0,G.of)(X)}function fs(_,C,m){if(""===C.path)return"full"===C.pathMatch&&(_.hasChildren()||m.length>0)?{...Ps}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const B=(C.matcher||Hn)(m,_,C);if(!B)return{...Ps};const X={};Mn(B.posParams,(Ke,Nt)=>{X[Nt]=Ke.path});const ue=B.consumed.length>0?{...X,...B.consumed[B.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:B.consumed,remainingSegments:m.slice(B.consumed.length),parameters:ue,positionalParamSegments:B.posParams??{}}}function co(_,C,m,x){if(m.length>0&&function ia(_,C,m){return m.some(x=>Lo(_,C,x)&&pi(x)!==Jt)}(_,m,x)){const X=new Ln(C,function Yo(_,C,m,x){const B={};B[Jt]=x,x._sourceSegment=_,x._segmentIndexShift=C.length;for(const X of m)if(""===X.path&&pi(X)!==Jt){const ue=new Ln([],{});ue._sourceSegment=_,ue._segmentIndexShift=C.length,B[pi(X)]=ue}return B}(_,C,x,new Ln(m,_.children)));return X._sourceSegment=_,X._segmentIndexShift=C.length,{segmentGroup:X,slicedSegments:[]}}if(0===m.length&&function bs(_,C,m){return m.some(x=>Lo(_,C,x))}(_,m,x)){const X=new Ln(_.segments,function Gr(_,C,m,x,B){const X={};for(const ue of x)if(Lo(_,m,ue)&&!B[pi(ue)]){const Ke=new Ln([],{});Ke._sourceSegment=_,Ke._segmentIndexShift=C.length,X[pi(ue)]=Ke}return{...B,...X}}(_,C,m,x,_.children));return X._sourceSegment=_,X._segmentIndexShift=C.length,{segmentGroup:X,slicedSegments:m}}const B=new Ln(_.segments,_.children);return B._sourceSegment=_,B._segmentIndexShift=C.length,{segmentGroup:B,slicedSegments:m}}function Lo(_,C,m){return(!(_.hasChildren()||C.length>0)||"full"!==m.pathMatch)&&""===m.path}function Vo(_,C,m,x){return!!(pi(_)===x||x!==Jt&&Lo(C,m,_))&&("**"===_.path||fs(C,_,m).matched)}function ps(_,C,m){return 0===C.length&&!_.children[m]}const ho=!1;class Qo{constructor(C){this.segmentGroup=C||null}}class ri{constructor(C){this.urlTree=C}}function ii(_){return Pe(new Qo(_))}function vr(_){return Pe(new ri(_))}class fo{constructor(C,m,x,B,X){this.injector=C,this.configLoader=m,this.urlSerializer=x,this.urlTree=B,this.config=X,this.allowRedirects=!0}apply(){const C=co(this.urlTree.root,[],[],this.config).segmentGroup,m=new Ln(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,m,Jt).pipe((0,Wt.U)(X=>this.createUrlTree(H(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mt(X=>{if(X instanceof ri)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof Qo?this.noMatchError(X):X}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,Jt).pipe((0,Wt.U)(B=>this.createUrlTree(H(B),C.queryParams,C.fragment))).pipe(Mt(B=>{throw B instanceof Qo?this.noMatchError(B):B}))}noMatchError(C){return new p.vHH(4002,ho)}createUrlTree(C,m,x){const B=ce(C);return new jn(B,m,x)}expandSegmentGroup(C,m,x,B){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(C,m,x).pipe((0,Wt.U)(X=>new Ln([],X))):this.expandSegment(C,x,m,x.segments,B,!0)}expandChildren(C,m,x){const B=[];for(const X of Object.keys(x.children))"primary"===X?B.unshift(X):B.push(X);return(0,E.D)(B).pipe((0,Pt.b)(X=>{const ue=x.children[X],Ke=wa(m,X);return this.expandSegmentGroup(C,Ke,ue,X).pipe((0,Wt.U)(Nt=>({segment:Nt,outlet:X})))}),(0,pn.R)((X,ue)=>(X[ue.outlet]=ue.segment,X),{}),Sn())}expandSegment(C,m,x,B,X,ue){return(0,E.D)(x).pipe((0,Pt.b)(Ke=>this.expandSegmentAgainstRoute(C,m,x,Ke,B,X,ue).pipe(Mt(on=>{if(on instanceof Qo)return(0,G.of)(null);throw on}))),(0,$t.P)(Ke=>!!Ke),Mt((Ke,Nt)=>{if(Ms(Ke))return ps(m,B,X)?(0,G.of)(new Ln([],{})):ii(m);throw Ke}))}expandSegmentAgainstRoute(C,m,x,B,X,ue,Ke){return Vo(B,m,X,ue)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(C,m,B,X,ue):Ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,m,x,B,X,ue):ii(m):ii(m)}expandSegmentAgainstRouteUsingRedirect(C,m,x,B,X,ue){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,x,B,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(C,m,x,B,X,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,m,x,B){const X=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?vr(X):this.lineralizeSegments(x,X).pipe((0,_t.z)(ue=>{const Ke=new Ln(ue,{});return this.expandSegment(C,Ke,m,ue,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,m,x,B,X,ue){const{matched:Ke,consumedSegments:Nt,remainingSegments:on,positionalParamSegments:mn}=fs(m,B,X);if(!Ke)return ii(m);const Wr=this.applyRedirectCommands(Nt,B.redirectTo,mn);return B.redirectTo.startsWith("/")?vr(Wr):this.lineralizeSegments(B,Wr).pipe((0,_t.z)(Di=>this.expandSegment(C,m,x,Di.concat(on),ue,!1)))}matchSegmentAgainstRoute(C,m,x,B,X){return"**"===x.path?(C=ni(x,C),x.loadChildren?(x._loadedRoutes?(0,G.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(C,x)).pipe((0,Wt.U)(Ke=>(x._loadedRoutes=Ke.routes,x._loadedInjector=Ke.injector,new Ln(B,{})))):(0,G.of)(new Ln(B,{}))):Zo(m,x,B,C).pipe((0,Gt.w)(({matched:ue,consumedSegments:Ke,remainingSegments:Nt})=>ue?this.getChildConfig(C=x._injector??C,x,B).pipe((0,_t.z)(mn=>{const Wr=mn.injector??C,Di=mn.routes,{segmentGroup:Ca,slicedSegments:so}=co(m,Ke,Nt,Di),ha=new Ln(Ca.segments,Ca.children);if(0===so.length&&ha.hasChildren())return this.expandChildren(Wr,Di,ha).pipe((0,Wt.U)(rl=>new Ln(Ke,rl)));if(0===Di.length&&0===so.length)return(0,G.of)(new Ln(Ke,{}));const $o=pi(x)===X;return this.expandSegment(Wr,ha,Di,so,$o?Jt:X,!0).pipe((0,Wt.U)(Hi=>new Ln(Ke.concat(Hi.segments),Hi.children)))})):ii(m)))}getChildConfig(C,m,x){return m.children?(0,G.of)({routes:m.children,injector:C}):m.loadChildren?void 0!==m._loadedRoutes?(0,G.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function qi(_,C,m,x){const B=C.canLoad;if(void 0===B||0===B.length)return(0,G.of)(!0);const X=B.map(ue=>{const Ke=ts(ue,_);return bn(function N(_){return _&&O(_.canLoad)}(Ke)?Ke.canLoad(C,m):_.runInContext(()=>Ke(C,m)))});return(0,G.of)(X).pipe(Pi(),Hs())}(C,m,x).pipe((0,_t.z)(B=>B?this.configLoader.loadChildren(C,m).pipe((0,jt.b)(X=>{m._loadedRoutes=X.routes,m._loadedInjector=X.injector})):function gs(_){return Pe(Js(ho,3))}())):(0,G.of)({routes:[],injector:C})}lineralizeSegments(C,m){let x=[],B=m.root;for(;;){if(x=x.concat(B.segments),0===B.numberOfChildren)return(0,G.of)(x);if(B.numberOfChildren>1||!B.children[Jt])return C.redirectTo,Pe(new p.vHH(4e3,ho));B=B.children[Jt]}}applyRedirectCommands(C,m,x){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),C,x)}applyRedirectCreateUrlTree(C,m,x,B){const X=this.createSegmentGroup(C,m.root,x,B);return new jn(X,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(C,m){const x={};return Mn(C,(B,X)=>{if("string"==typeof B&&B.startsWith(":")){const Ke=B.substring(1);x[X]=m[Ke]}else x[X]=B}),x}createSegmentGroup(C,m,x,B){const X=this.createSegments(C,m.segments,x,B);let ue={};return Mn(m.children,(Ke,Nt)=>{ue[Nt]=this.createSegmentGroup(C,Ke,x,B)}),new Ln(X,ue)}createSegments(C,m,x,B){return m.map(X=>X.path.startsWith(":")?this.findPosParam(C,X,B):this.findOrReturn(X,x))}findPosParam(C,m,x){const B=x[m.path.substring(1)];if(!B)throw new p.vHH(4001,ho);return B}findOrReturn(C,m){let x=0;for(const B of m){if(B.path===C.path)return m.splice(x),B;x++}return C}}class Do{}class R{constructor(C,m,x,B,X,ue,Ke){this.injector=C,this.rootComponentType=m,this.config=x,this.urlTree=B,this.url=X,this.paramsInheritanceStrategy=ue,this.urlSerializer=Ke}recognize(){const C=co(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,Jt).pipe((0,Wt.U)(m=>{if(null===m)return null;const x=new Ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new ls(x,m),X=new Mi(this.url,B);return this.inheritParamsAndData(X._root),X}))}inheritParamsAndData(C){const m=C.value,x=_o(m,this.paramsInheritanceStrategy);m.params=Object.freeze(x.params),m.data=Object.freeze(x.data),C.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(C,m,x,B){return 0===x.segments.length&&x.hasChildren()?this.processChildren(C,m,x):this.processSegment(C,m,x,x.segments,B)}processChildren(C,m,x){return(0,E.D)(Object.keys(x.children)).pipe((0,Pt.b)(B=>{const X=x.children[B],ue=wa(m,B);return this.processSegmentGroup(C,ue,X,B)}),(0,pn.R)((B,X)=>B&&X?(B.push(...X),B):null),function kn(_,C=!1){return(0,ht.e)((m,x)=>{let B=0;m.subscribe((0,ke.x)(x,X=>{const ue=_(X,B++);(ue||C)&&x.next(X),!ue&&x.complete()}))})}(B=>null!==B),(0,nn.d)(null),Sn(),(0,Wt.U)(B=>{if(null===B)return null;const X=Ie(B);return function W(_){_.sort((C,m)=>C.value.outlet===Jt?-1:m.value.outlet===Jt?1:C.value.outlet.localeCompare(m.value.outlet))}(X),X}))}processSegment(C,m,x,B,X){return(0,E.D)(m).pipe((0,Pt.b)(ue=>this.processSegmentAgainstRoute(ue._injector??C,ue,x,B,X)),(0,$t.P)(ue=>!!ue),Mt(ue=>{if(Ms(ue))return ps(x,B,X)?(0,G.of)([]):(0,G.of)(null);throw ue}))}processSegmentAgainstRoute(C,m,x,B,X){if(m.redirectTo||!Vo(m,x,B,X))return(0,G.of)(null);let ue;if("**"===m.path){const Ke=B.length>0?qr(B).parameters:{},Nt=M(x)+B.length,on=new Ko(B,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,me(m),pi(m),m.component??m._loadedComponent??null,m,I(x),Nt,et(m));ue=(0,G.of)({snapshot:on,consumedSegments:[],remainingSegments:[]})}else ue=Zo(x,m,B,C).pipe((0,Wt.U)(({matched:Ke,consumedSegments:Nt,remainingSegments:on,parameters:mn})=>{if(!Ke)return null;const Wr=M(x)+Nt.length;return{snapshot:new Ko(Nt,mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,me(m),pi(m),m.component??m._loadedComponent??null,m,I(x),Wr,et(m)),consumedSegments:Nt,remainingSegments:on}}));return ue.pipe((0,Gt.w)(Ke=>{if(null===Ke)return(0,G.of)(null);const{snapshot:Nt,consumedSegments:on,remainingSegments:mn}=Ke;C=m._injector??C;const Wr=m._loadedInjector??C,Di=function L(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(m),{segmentGroup:Ca,slicedSegments:so}=co(x,on,mn,Di.filter($o=>void 0===$o.redirectTo));if(0===so.length&&Ca.hasChildren())return this.processChildren(Wr,Di,Ca).pipe((0,Wt.U)($o=>null===$o?null:[new ls(Nt,$o)]));if(0===Di.length&&0===so.length)return(0,G.of)([new ls(Nt,[])]);const ha=pi(m)===X;return this.processSegment(Wr,Di,Ca,so,ha?Jt:X).pipe((0,Wt.U)($o=>null===$o?null:[new ls(Nt,$o)]))}))}}function te(_){const C=_.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Ie(_){const C=[],m=new Set;for(const x of _){if(!te(x)){C.push(x);continue}const B=C.find(X=>x.value.routeConfig===X.value.routeConfig);void 0!==B?(B.children.push(...x.children),m.add(B)):C.push(x)}for(const x of m){const B=Ie(x.children);C.push(new ls(x.value,B))}return C.filter(x=>!m.has(x))}function I(_){let C=_;for(;C._sourceSegment;)C=C._sourceSegment;return C}function M(_){let C=_,m=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,m+=C._segmentIndexShift??0;return m-1}function me(_){return _.data||{}}function et(_){return _.resolve||{}}function po(_){return"string"==typeof _.title||null===_.title}function en(_){return(0,Gt.w)(C=>{const m=_(C);return m?(0,E.D)(m).pipe((0,Wt.U)(()=>C)):(0,G.of)(C)})}const Is=new p.OlP("ROUTES");let Qt=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,G.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const x=bn(m.loadComponent()).pipe((0,Wt.U)(Ut),(0,jt.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=X}),Dr(()=>{this.componentLoaders.delete(m)})),B=new bt(x,()=>new fn.x).pipe(ze());return this.componentLoaders.set(m,B),B}loadChildren(m,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,G.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const X=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,Wt.U)(Ke=>{this.onLoadEndListener&&this.onLoadEndListener(x);let Nt,on,mn=!1;Array.isArray(Ke)?on=Ke:(Nt=Ke.create(m).injector,on=or(Nt.get(Is,[],p.XFs.Self|p.XFs.Optional)));return{routes:on.map(no),injector:Nt}}),Dr(()=>{this.childrenLoaders.delete(x)})),ue=new bt(X,()=>new fn.x).pipe(ze());return this.childrenLoaders.set(x,ue),ue}loadModuleFactoryOrRoutes(m){return bn(m()).pipe((0,Wt.U)(Ut),(0,_t.z)(x=>x instanceof p.YKP||Array.isArray(x)?(0,G.of)(x):(0,E.D)(this.compiler.compileModuleAsync(x))))}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Ut(_){return function pt(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Ba=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fn.x,this.configLoader=(0,p.f3M)(Qt),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(be),this.rootContexts=(0,p.f3M)(Us),this.navigationId=0,this.afterPreactivation=()=>(0,G.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new Ji(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new Qi(B))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const x=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:x})}setupNavigations(m){return this.transitions=new Te.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:In,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ft.h)(x=>0!==x.id),(0,Wt.U)(x=>({...x,extractedUrl:m.urlHandlingStrategy.extract(x.rawUrl)})),(0,Gt.w)(x=>{let B=!1,X=!1;return(0,G.of)(x).pipe((0,jt.b)(ue=>{this.currentNavigation={id:ue.id,initialUrl:ue.rawUrl,extractedUrl:ue.extractedUrl,trigger:ue.source,extras:ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Gt.w)(ue=>{const Ke=m.browserUrlTree.toString(),Nt=!m.navigated||ue.extractedUrl.toString()!==Ke||Ke!==m.currentUrlTree.toString();if(!Nt&&"reload"!==(ue.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const mn="";return this.events.next(new ci(ue.id,m.serializeUrl(x.rawUrl),mn,0)),m.rawUrlTree=ue.rawUrl,ue.resolve(null),it.E}if(m.urlHandlingStrategy.shouldProcessUrl(ue.rawUrl))return Cu(ue.source)&&(m.browserUrlTree=ue.extractedUrl),(0,G.of)(ue).pipe((0,Gt.w)(mn=>{const Wr=this.transitions?.getValue();return this.events.next(new On(mn.id,this.urlSerializer.serialize(mn.extractedUrl),mn.source,mn.restoredState)),Wr!==this.transitions?.getValue()?it.E:Promise.resolve(mn)}),function Ma(_,C,m,x){return(0,Gt.w)(B=>function Co(_,C,m,x,B){return new fo(_,C,m,x,B).apply()}(_,C,m,B.extractedUrl,x).pipe((0,Wt.U)(X=>({...B,urlAfterRedirects:X}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,jt.b)(mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:mn.urlAfterRedirects},x.urlAfterRedirects=mn.urlAfterRedirects}),function zt(_,C,m,x,B){return(0,_t.z)(X=>function xa(_,C,m,x,B,X,ue="emptyOnly"){return new R(_,C,m,x,B,ue,X).recognize().pipe((0,Gt.w)(Ke=>null===Ke?function Ua(_){return new Be.y(C=>C.error(_))}(new Do):(0,G.of)(Ke)))}(_,C,m,X.urlAfterRedirects,x.serialize(X.urlAfterRedirects),x,B).pipe((0,Wt.U)(ue=>({...X,targetSnapshot:ue}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,jt.b)(mn=>{if(x.targetSnapshot=mn.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const Di=m.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);m.setBrowserUrl(Di,mn)}m.browserUrlTree=mn.urlAfterRedirects}const Wr=new Oi(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(Wr)}));if(Nt&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:mn,extractedUrl:Wr,source:Di,restoredState:Ca,extras:so}=ue,ha=new On(mn,this.urlSerializer.serialize(Wr),Di,Ca);this.events.next(ha);const $o=ra(Wr,this.rootComponentType).snapshot;return x={...ue,targetSnapshot:$o,urlAfterRedirects:Wr,extras:{...so,skipLocationChange:!1,replaceUrl:!1}},(0,G.of)(x)}{const mn="";return this.events.next(new ci(ue.id,m.serializeUrl(x.extractedUrl),mn,1)),m.rawUrlTree=ue.rawUrl,ue.resolve(null),it.E}}),(0,jt.b)(ue=>{const Ke=new Br(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot);this.events.next(Ke)}),(0,Wt.U)(ue=>x={...ue,guards:Es(ue.targetSnapshot,ue.currentSnapshot,this.rootContexts)}),function Ki(_,C){return(0,_t.z)(m=>{const{targetSnapshot:x,currentSnapshot:B,guards:{canActivateChecks:X,canDeactivateChecks:ue}}=m;return 0===ue.length&&0===X.length?(0,G.of)({...m,guardsResult:!0}):function Ri(_,C,m,x){return(0,E.D)(_).pipe((0,_t.z)(B=>function js(_,C,m,x,B){const X=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,G.of)(!0);const ue=X.map(Ke=>{const Nt=Ni(C)??B,on=ts(Ke,Nt);return bn(function gn(_){return _&&O(_.canDeactivate)}(on)?on.canDeactivate(_,C,m,x):Nt.runInContext(()=>on(_,C,m,x))).pipe((0,$t.P)())});return(0,G.of)(ue).pipe(Pi())}(B.component,B.route,m,C,x)),(0,$t.P)(B=>!0!==B,!0))}(ue,x,B,_).pipe((0,_t.z)(Ke=>Ke&&function F(_){return"boolean"==typeof _}(Ke)?function Ii(_,C,m,x){return(0,E.D)(C).pipe((0,Pt.b)(B=>(0,qe.z)(function $s(_,C){return null!==_&&C&&C(new Ai(_)),(0,G.of)(!0)}(B.route.parent,x),function lo(_,C){return null!==_&&C&&C(new Aa(_)),(0,G.of)(!0)}(B.route,x),function Fo(_,C,m){const x=C[C.length-1],X=C.slice(0,C.length-1).reverse().map(ue=>function ko(_){const C=_.routeConfig?_.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:_,guards:C}:null}(ue)).filter(ue=>null!==ue).map(ue=>rt(()=>{const Ke=ue.guards.map(Nt=>{const on=Ni(ue.node)??m,mn=ts(Nt,on);return bn(function Xe(_){return _&&O(_.canActivateChild)}(mn)?mn.canActivateChild(x,_):on.runInContext(()=>mn(x,_))).pipe((0,$t.P)())});return(0,G.of)(Ke).pipe(Pi())}));return(0,G.of)(X).pipe(Pi())}(_,B.path,m),function xs(_,C,m){const x=C.routeConfig?C.routeConfig.canActivate:null;if(!x||0===x.length)return(0,G.of)(!0);const B=x.map(X=>rt(()=>{const ue=Ni(C)??m,Ke=ts(X,ue);return bn(function re(_){return _&&O(_.canActivate)}(Ke)?Ke.canActivate(C,_):ue.runInContext(()=>Ke(C,_))).pipe((0,$t.P)())}));return(0,G.of)(B).pipe(Pi())}(_,B.route,m))),(0,$t.P)(B=>!0!==B,!0))}(x,X,_,C):(0,G.of)(Ke)),(0,Wt.U)(Ke=>({...m,guardsResult:Ke})))})}(this.environmentInjector,ue=>this.events.next(ue)),(0,jt.b)(ue=>{if(x.guardsResult=ue.guardsResult,Oe(ue.guardsResult))throw Vs(0,ue.guardsResult);const Ke=new _s(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot,!!ue.guardsResult);this.events.next(Ke)}),(0,ft.h)(ue=>!!ue.guardsResult||(m.restoreHistory(ue),this.cancelNavigationTransition(ue,"",3),!1)),en(ue=>{if(ue.guards.canActivateChecks.length)return(0,G.of)(ue).pipe((0,jt.b)(Ke=>{const Nt=new zi(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Nt)}),(0,Gt.w)(Ke=>{let Nt=!1;return(0,G.of)(Ke).pipe(function rr(_,C){return(0,_t.z)(m=>{const{targetSnapshot:x,guards:{canActivateChecks:B}}=m;if(!B.length)return(0,G.of)(m);let X=0;return(0,E.D)(B).pipe((0,Pt.b)(ue=>function _r(_,C,m,x){const B=_.routeConfig,X=_._resolve;return void 0!==B?.title&&!po(B)&&(X[sr]=B.title),function Et(_,C,m,x){const B=function Or(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===B.length)return(0,G.of)({});const X={};return(0,E.D)(B).pipe((0,_t.z)(ue=>function si(_,C,m,x){const B=Ni(C)??x,X=ts(_,B);return bn(X.resolve?X.resolve(C,m):B.runInContext(()=>X(C,m)))}(_[ue],C,m,x).pipe((0,$t.P)(),(0,jt.b)(Ke=>{X[ue]=Ke}))),yn(1),function yr(_){return(0,Wt.U)(()=>_)}(X),Mt(ue=>Ms(ue)?it.E:Pe(ue)))}(X,_,C,x).pipe((0,Wt.U)(ue=>(_._resolvedData=ue,_.data=_o(_,m).resolve,B&&po(B)&&(_.data[sr]=B.title),null)))}(ue.route,x,_,C)),(0,jt.b)(()=>X++),yn(1),(0,_t.z)(ue=>X===B.length?(0,G.of)(m):it.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,jt.b)({next:()=>Nt=!0,complete:()=>{Nt||(m.restoreHistory(Ke),this.cancelNavigationTransition(Ke,"",2))}}))}),(0,jt.b)(Ke=>{const Nt=new ks(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Nt)}))}),en(ue=>{const Ke=Nt=>{const on=[];Nt.routeConfig?.loadComponent&&!Nt.routeConfig._loadedComponent&&on.push(this.configLoader.loadComponent(Nt.routeConfig).pipe((0,jt.b)(mn=>{Nt.component=mn}),(0,Wt.U)(()=>{})));for(const mn of Nt.children)on.push(...Ke(mn));return on};return yt(Ke(ue.targetSnapshot.root)).pipe((0,nn.d)(),(0,st.q)(1))}),en(()=>this.afterPreactivation()),(0,Wt.U)(ue=>{const Ke=function Xi(_,C,m){const x=ws(_,C._root,m?m._root:void 0);return new Fs(x,C)}(m.routeReuseStrategy,ue.targetSnapshot,ue.currentRouterState);return x={...ue,targetRouterState:Ke}}),(0,jt.b)(ue=>{m.currentUrlTree=ue.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(ue.urlAfterRedirects,ue.rawUrl),m.routerState=ue.targetRouterState,"deferred"===m.urlUpdateStrategy&&(ue.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,ue),m.browserUrlTree=ue.urlAfterRedirects)}),((_,C,m)=>(0,Wt.U)(x=>(new Wi(C,x.targetRouterState,x.currentRouterState,m).activate(_),x)))(this.rootContexts,m.routeReuseStrategy,ue=>this.events.next(ue)),(0,st.q)(1),(0,jt.b)({next:ue=>{B=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new ir(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(ue.targetRouterState.snapshot),ue.resolve(!0)},complete:()=>{B=!0}}),Dr(()=>{B||X||this.cancelNavigationTransition(x,"",1),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),Mt(ue=>{if(X=!0,Gi(ue)){Oo(ue)||(m.navigated=!0,m.restoreHistory(x,!0));const Ke=new vi(x.id,this.urlSerializer.serialize(x.extractedUrl),ue.message,ue.cancellationCode);if(this.events.next(Ke),Oo(ue)){const Nt=m.urlHandlingStrategy.merge(ue.url,m.rawUrlTree),on={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||Cu(x.source)};m.scheduleNavigation(Nt,In,null,on,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{m.restoreHistory(x,!0);const Ke=new _i(x.id,this.urlSerializer.serialize(x.extractedUrl),ue,x.targetSnapshot??void 0);this.events.next(Ke);try{x.resolve(m.errorHandler(ue))}catch(Nt){x.reject(Nt)}}return it.E}))}))}cancelNavigationTransition(m,x,B){const X=new vi(m.id,this.urlSerializer.serialize(m.extractedUrl),x,B);this.events.next(X),m.resolve(!1)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Cu(_){return _!==In}let Vu=(()=>{class _{buildTitle(m){let x,B=m.root;for(;void 0!==B;)x=this.getResolvedTitleForRoute(B)??x,B=B.children.find(X=>X.outlet===Jt);return x}getResolvedTitleForRoute(m){return m.data[sr]}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(Uo)},providedIn:"root"}),_})(),Uo=(()=>{class _ extends Vu{constructor(m){super(),this.title=m}updateTitle(m){const x=this.buildTitle(m);void 0!==x&&this.title.setTitle(x)}}return _.\u0275fac=function(m){return new(m||_)(p.LFG(an.Dx))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Xl=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(oa)},providedIn:"root"}),_})();class Uu{shouldDetach(C){return!1}store(C,m){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,m){return C.routeConfig===m.routeConfig}}let oa=(()=>{class _ extends Uu{}return _.\u0275fac=function(){let C;return function(x){return(C||(C=p.n5z(_)))(x||_)}}(),_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ki=new p.OlP("",{providedIn:"root",factory:()=>({})});let Xa=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(Du)},providedIn:"root"}),_})(),Du=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,x){return m}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Ea(_){throw _}function Bu(_,C,m){return C.parse("/")}const mi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(ki,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ea,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Xa),this.routeReuseStrategy=(0,p.f3M)(Xl),this.urlCreationStrategy=(0,p.f3M)(as),this.titleStrategy=(0,p.f3M)(Vu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=or((0,p.f3M)(Is,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ba),this.urlSerializer=(0,p.f3M)(be),this.location=(0,p.f3M)(Vt.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ra(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),In,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const x="popstate"===m.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,x,m.state)},0)}))}navigateToSyncWithBrowser(m,x,B){const X={replaceUrl:!0},ue=B?.navigationId?B:null;if(B){const Nt={...B};delete Nt.navigationId,delete Nt.\u0275routerPageId,0!==Object.keys(Nt).length&&(X.state=Nt)}const Ke=this.parseUrl(m);this.scheduleNavigation(Ke,x,ue,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(no),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,x={}){const{relativeTo:B,queryParams:X,fragment:ue,queryParamsHandling:Ke,preserveFragment:Nt}=x,on=Nt?this.currentUrlTree.fragment:ue;let mn=null;switch(Ke){case"merge":mn={...this.currentUrlTree.queryParams,...X};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=X||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),this.urlCreationStrategy.createUrlTree(B,this.routerState,this.currentUrlTree,m,mn,on??null)}navigateByUrl(m,x={skipLocationChange:!1}){const B=Oe(m)?m:this.parseUrl(m),X=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(X,In,null,x)}navigate(m,x={skipLocationChange:!1}){return function Zn(_){for(let C=0;C<_.length;C++){const m=_[C];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,x),x)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let x;try{x=this.urlSerializer.parse(m)}catch(B){x=this.malformedUriErrorHandler(B,this.urlSerializer,m)}return x}isActive(m,x){let B;if(B=!0===x?{...mi}:!1===x?{...vn}:x,Oe(m))return Ir(this.currentUrlTree,m,B);const X=this.parseUrl(m);return Ir(this.currentUrlTree,X,B)}removeEmptyProps(m){return Object.keys(m).reduce((x,B)=>{const X=m[B];return null!=X&&(x[B]=X),x},{})}scheduleNavigation(m,x,B,X,ue){if(this.disposed)return Promise.resolve(!1);let Ke,Nt,on,mn;return ue?(Ke=ue.resolve,Nt=ue.reject,on=ue.promise):on=new Promise((Wr,Di)=>{Ke=Wr,Nt=Di}),mn="computed"===this.canceledNavigationResolution?B&&B.\u0275routerPageId?B.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:mn,source:x,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:X,resolve:Ke,reject:Nt,promise:on,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),on.catch(Wr=>Promise.reject(Wr))}setBrowserUrl(m,x){const B=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(B)||x.extras.replaceUrl){const ue={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId)};this.location.replaceState(B,"",ue)}else{const X={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.go(B,"",X)}}restoreHistory(m,x=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-(this.browserPageId??this.currentPageId);0!==X?this.location.historyGo(X):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===X&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,x){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:x}:{navigationId:m}}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),cu=(()=>{class _{constructor(m,x,B,X,ue,Ke){this.router=m,this.route=x,this.tabIndexAttribute=B,this.renderer=X,this.el=ue,this.locationStrategy=Ke,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fn.x;const Nt=ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Nt||"area"===Nt,this.isAnchorElement?this.subscription=m.events.subscribe(on=>{on instanceof ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,x,B,X,ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||x||B||X||ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,x){const B=this.renderer,X=this.el.nativeElement;null!==x?B.setAttribute(X,m,x):B.removeAttribute(X,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(m){return new(m||_)(p.Y36(Zi),p.Y36(Ys),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Vt.S$))},_.\u0275dir=p.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,x){1&m&&p.NdJ("click",function(X){return x.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&m&&p.uIk("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),_})();class aa{}let $a=(()=>{class _{constructor(m,x,B,X,ue){this.router=m,this.injector=B,this.preloadingStrategy=X,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.h)(m=>m instanceof ir),(0,Pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,x){const B=[];for(const X of x){X.providers&&!X._injector&&(X._injector=(0,p.MMx)(X.providers,m,`Route: ${X.path}`));const ue=X._injector??m,Ke=X._loadedInjector??ue;(X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent)&&B.push(this.preloadConfig(ue,X)),(X.children||X._loadedRoutes)&&B.push(this.processRoutes(Ke,X.children??X._loadedRoutes))}return(0,E.D)(B).pipe((0,cr.J)())}preloadConfig(m,x){return this.preloadingStrategy.preload(x,()=>{let B;B=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(m,x):(0,G.of)(null);const X=B.pipe((0,_t.z)(ue=>null===ue?(0,G.of)(void 0):(x._loadedRoutes=ue.routes,x._loadedInjector=ue.injector,this.processRoutes(ue.injector??m,ue.routes))));if(x.loadComponent&&!x._loadedComponent){const ue=this.loader.loadComponent(x);return(0,E.D)([X,ue]).pipe((0,cr.J)())}return X})}}return _.\u0275fac=function(m){return new(m||_)(p.LFG(Zi),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(aa),p.LFG(Qt))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const eu=new p.OlP("");let ja=(()=>{class _{constructor(m,x,B,X,ue={}){this.urlSerializer=m,this.transitions=x,this.viewportScroller=B,this.zone=X,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof On?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof ir&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ss&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ss(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(m){p.$Z()},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})();var ns=(()=>((ns=ns||{})[ns.COMPLETE=0]="COMPLETE",ns[ns.FAILED=1]="FAILED",ns[ns.REDIRECTING=2]="REDIRECTING",ns))();const Bo=!1;function Jo(_,C){return{\u0275kind:_,\u0275providers:C}}const ua=new p.OlP("",{providedIn:"root",factory:()=>!1});function Ga(){const _=(0,p.f3M)(p.zs3);return C=>{const m=_.get(p.z2F);if(C!==m.components[0])return;const x=_.get(Zi),B=_.get(To);1===_.get($u)&&x.initialNavigation(),_.get(ca,null,p.XFs.Optional)?.setUpPreloading(),_.get(eu,null,p.XFs.Optional)?.init(),x.resetRootComponentType(m.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const To=new p.OlP(Bo?"bootstrap done indicator":"",{factory:()=>new fn.x}),$u=new p.OlP(Bo?"initial navigation":"",{providedIn:"root",factory:()=>1});function _l(){let _=[];return _=Bo?[{provide:p.Xts,multi:!0,useFactory:()=>{const C=(0,p.f3M)(Zi);return()=>C.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function ao(_){if(!("type"in _))return`Unknown Router Event: ${_.constructor.name}`;switch(_.type){case 14:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 2:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case 16:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case 1:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case 0:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case 6:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 5:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 10:return`RouteConfigLoadEnd(path: ${_.route.path})`;case 9:return`RouteConfigLoadStart(path: ${_.route.path})`;case 4:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 15:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],Jo(1,_)}const ca=new p.OlP(Bo?"router preloader":"");function da(_){return Jo(0,[{provide:ca,useExisting:$a},{provide:aa,useExisting:_}])}const ji=!1,Ia=new p.OlP(ji?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Gs=[Vt.Ye,{provide:be,useClass:Ve},Zi,Us,{provide:Ys,useFactory:function tu(_){return _.routerState.root},deps:[Zi]},Qt,ji?{provide:ua,useValue:!0}:[]];function Ci(){return new p.PXZ("Router",Zi)}let du=(()=>{class _{constructor(m){}static forRoot(m,x){return{ngModule:_,providers:[Gs,ji&&x?.enableTracing?_l().\u0275providers:[],{provide:Is,multi:!0,useValue:m},{provide:Ia,useFactory:Ka,deps:[[Zi,new p.FiY,new p.tp0]]},{provide:ki,useValue:x||{}},x?.useHash?{provide:Vt.S$,useClass:Vt.Do}:{provide:Vt.S$,useClass:Vt.b0},{provide:eu,useFactory:()=>{const _=(0,p.f3M)(Vt.EM),C=(0,p.f3M)(p.R0b),m=(0,p.f3M)(ki),x=(0,p.f3M)(Ba),B=(0,p.f3M)(be);return m.scrollOffset&&_.setOffset(m.scrollOffset),new ja(B,x,_,C,m)}},x?.preloadingStrategy?da(x.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Ci},x?.initialNavigation?ru(x):[],[{provide:Au,useFactory:Ga},{provide:p.tb,multi:!0,useExisting:Au}]]}}static forChild(m){return{ngModule:_,providers:[{provide:Is,multi:!0,useValue:m}]}}}return _.\u0275fac=function(m){return new(m||_)(p.LFG(Ia,8))},_.\u0275mod=p.oAB({type:_}),_.\u0275inj=p.cJS({imports:[ds]}),_})();function Ka(_){if(ji&&_)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ru(_){return["disabled"===_.initialNavigation?Jo(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const C=(0,p.f3M)(Zi);return()=>{C.setUpLocationChangeListener()}}},{provide:$u,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Jo(2,[{provide:$u,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:C=>{const m=C.get(Vt.V_,Promise.resolve());return()=>m.then(()=>new Promise(x=>{const B=C.get(Zi),X=C.get(To);(function Ha(_,C){_.events.pipe((0,ft.h)(m=>m instanceof ir||m instanceof vi||m instanceof _i||m instanceof ci),(0,Wt.U)(m=>m instanceof ir||m instanceof ci?ns.COMPLETE:m instanceof vi&&(0===m.code||1===m.code)?ns.REDIRECTING:ns.FAILED),(0,ft.h)(m=>m!==ns.REDIRECTING),(0,st.q)(1)).subscribe(()=>{C()})})(B,()=>{x(!0)}),C.get(Ba).afterPreactivation=()=>(x(!0),X.closed?(0,G.of)(void 0):X),B.initialNavigation()}))}}]).\u0275providers:[]]}const Au=new p.OlP(ji?"Router Initializer":"")},3942:(ln,je,j)=>{"use strict";j.d(je,{Z:()=>kt});var p=j(2090),E=j(4859),G=j(6881),Te=j(1877);class Ce{constructor(qe,wt){this._delegate=qe,this.firebase=wt,(0,G._addComponent)(qe,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(qe,wt=G._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Lt=this._delegate.container.getProvider(qe);return!Lt.isInitialized()&&"EXPLICIT"===(null===(rt=Lt.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Lt.initialize(),Lt.getImmediate({identifier:wt})}_removeServiceInstance(qe,wt=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(wt)}_addComponent(qe){(0,G._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,G._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function Qe(){const Bt=function we(Bt){const qe={},wt={__esModule:!0,initializeApp:function _e(ht,ze={}){const bt=G.initializeApp(ht,ze);if((0,p.r3)(qe,bt.name))return qe[bt.name];const fn=new Bt(bt,wt);return qe[bt.name]=fn,fn},app:Lt,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function it(ht){const ze=ht.name,bt=ze.replace("-compat","");if(G._registerComponent(ht)&&"PUBLIC"===ht.type){const fn=(Vt=Lt())=>{if("function"!=typeof Vt[bt])throw Fe.create("invalid-app-argument",{appName:ze});return Vt[bt]()};void 0!==ht.serviceProps&&(0,p.ZB)(fn,ht.serviceProps),wt[bt]=fn,Bt.prototype[bt]=function(...Vt){return this._getService.bind(this,ze).apply(this,ht.multipleInstances?Vt:[])}}return"PUBLIC"===ht.type?wt[bt]:null},removeApp:function rt(ht){delete qe[ht]},useAsService:function At(ht,ze){return"serverAuth"===ze?null:ze},modularAPIs:G}};function Lt(ht){if(!(0,p.r3)(qe,ht=ht||G._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:ht});return qe[ht]}return wt.default=wt,Object.defineProperty(wt,"apps",{get:function Pe(){return Object.keys(qe).map(ht=>qe[ht])}}),Lt.App=Bt,wt}(Ce);return Bt.INTERNAL=Object.assign(Object.assign({},Bt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function qe(wt){(0,p.ZB)(Bt,wt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Bt}(),De=new Te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){De.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Bt=self.firebase.SDK_VERSION;Bt&&Bt.indexOf("LITE")>=0&&De.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const kt=pe;!function yt(Bt){(0,G.registerVersion)("@firebase/app-compat","0.2.9",Bt)}()},6881:(ln,je,j)=>{"use strict";j.r(je),j.d(je,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Hr,_DEFAULT_ENTRY_NAME:()=>qr,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>St,_apps:()=>Mn,_clearComponents:()=>Yr,_components:()=>bn,_getProvider:()=>Ir,_registerComponent:()=>dr,_removeServiceInstance:()=>Cr,deleteApp:()=>hr,getApp:()=>Ln,getApps:()=>Vn,initializeApp:()=>jn,onLog:()=>be,registerVersion:()=>nt,setLogLevel:()=>Ve});var p=j(5861),E=j(4859),G=j(1877),Te=j(2090);const Ce=(ut,ce)=>ce.some(H=>ut instanceof H);let Be,Fe;const pe=new WeakMap,De=new WeakMap,ke=new WeakMap,gt=new WeakMap,yt=new WeakMap;let qe={get(ut,ce,H){if(ut instanceof IDBTransaction){if("done"===ce)return De.get(ut);if("objectStoreNames"===ce)return ut.objectStoreNames||ke.get(ut);if("store"===ce)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return _e(ut[ce])},set:(ut,ce,H)=>(ut[ce]=H,!0),has:(ut,ce)=>ut instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in ut};function Lt(ut){return"function"==typeof ut?function rt(ut){return ut!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ut)?function(...ce){return ut.apply(Pe(this),ce),_e(pe.get(this))}:function(...ce){return _e(ut.apply(Pe(this),ce))}:function(ce,...H){const ae=ut.call(Pe(this),ce,...H);return ke.set(ae,ce.sort?ce.sort():[ce]),_e(ae)}}(ut):(ut instanceof IDBTransaction&&function Bt(ut){if(De.has(ut))return;const ce=new Promise((H,ae)=>{const Oe=()=>{ut.removeEventListener("complete",dt),ut.removeEventListener("error",Tt),ut.removeEventListener("abort",Tt)},dt=()=>{H(),Oe()},Tt=()=>{ae(ut.error||new DOMException("AbortError","AbortError")),Oe()};ut.addEventListener("complete",dt),ut.addEventListener("error",Tt),ut.addEventListener("abort",Tt)});De.set(ut,ce)}(ut),Ce(ut,function we(){return Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ut,qe):ut)}function _e(ut){if(ut instanceof IDBRequest)return function kt(ut){const ce=new Promise((H,ae)=>{const Oe=()=>{ut.removeEventListener("success",dt),ut.removeEventListener("error",Tt)},dt=()=>{H(_e(ut.result)),Oe()},Tt=()=>{ae(ut.error),Oe()};ut.addEventListener("success",dt),ut.addEventListener("error",Tt)});return ce.then(H=>{H instanceof IDBCursor&&pe.set(H,ut)}).catch(()=>{}),yt.set(ce,ut),ce}(ut);if(gt.has(ut))return gt.get(ut);const ce=Lt(ut);return ce!==ut&&(gt.set(ut,ce),yt.set(ce,ut)),ce}const Pe=ut=>yt.get(ut),ht=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],bt=new Map;function fn(ut,ce){if(!(ut instanceof IDBDatabase)||ce in ut||"string"!=typeof ce)return;if(bt.get(ce))return bt.get(ce);const H=ce.replace(/FromIndex$/,""),ae=ce!==H,Oe=ze.includes(H);if(!(H in(ae?IDBIndex:IDBObjectStore).prototype)||!Oe&&!ht.includes(H))return;const dt=function(){var Tt=(0,p.Z)(function*(sn,...Pn){const Xn=this.transaction(sn,Oe?"readwrite":"readonly");let br=Xn.store;return ae&&(br=br.index(Pn.shift())),(yield Promise.all([br[H](...Pn),Oe&&Xn.done]))[0]});return function(Pn){return Tt.apply(this,arguments)}}();return bt.set(ce,dt),dt}!function wt(ut){qe=ut(qe)}(ut=>({...ut,get:(ce,H,ae)=>fn(ce,H)||ut.get(ce,H,ae),has:(ce,H)=>!!fn(ce,H)||ut.has(ce,H)}));class Vt{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(H=>{if(function Wt(ut){return"VERSION"===ut.getComponent()?.type}(H)){const ae=H.getImmediate();return`${ae.library}/${ae.version}`}return null}).filter(H=>H).join(" ")}}const Gt="@firebase/app",ot=new G.Yd("@firebase/app"),qr="[DEFAULT]",ai={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,bn=new Map;function Xt(ut,ce){try{ut.container.addComponent(ce)}catch(H){ot.debug(`Component ${ce.name} failed to register with FirebaseApp ${ut.name}`,H)}}function St(ut,ce){ut.container.addOrOverwriteComponent(ce)}function dr(ut){const ce=ut.name;if(bn.has(ce))return ot.debug(`There were multiple attempts to register component ${ce}.`),!1;bn.set(ce,ut);for(const H of Mn.values())Xt(H,ut);return!0}function Ir(ut,ce){const H=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),ut.container.getProvider(ce)}function Cr(ut,ce,H=qr){Ir(ut,ce).clearInstance(H)}function Yr(){bn.clear()}const Sr=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $n{constructor(ce,H,ae){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=ae,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const Hr="9.21.0";function jn(ut,ce={}){let H=ut;"object"!=typeof ce&&(ce={name:ce});const ae=Object.assign({name:qr,automaticDataCollectionEnabled:!1},ce),Oe=ae.name;if("string"!=typeof Oe||!Oe)throw Sr.create("bad-app-name",{appName:String(Oe)});if(H||(H=(0,Te.aH)()),!H)throw Sr.create("no-options");const dt=Mn.get(Oe);if(dt){if((0,Te.vZ)(H,dt.options)&&(0,Te.vZ)(ae,dt.config))return dt;throw Sr.create("duplicate-app",{appName:Oe})}const Tt=new E.H0(Oe);for(const Pn of bn.values())Tt.addComponent(Pn);const sn=new $n(H,ae,Tt);return Mn.set(Oe,sn),sn}function Ln(ut=qr){const ce=Mn.get(ut);if(!ce&&ut===qr)return jn();if(!ce)throw Sr.create("no-app",{appName:ut});return ce}function Vn(){return Array.from(Mn.values())}function hr(ut){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(ut){const ce=ut.name;Mn.has(ce)&&(Mn.delete(ce),yield Promise.all(ut.container.getProviders().map(H=>H.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function nt(ut,ce,H){var ae;let Oe=null!==(ae=ai[ut])&&void 0!==ae?ae:ut;H&&(Oe+=`-${H}`);const dt=Oe.match(/\s|\//),Tt=ce.match(/\s|\//);if(dt||Tt){const sn=[`Unable to register library "${Oe}" with version "${ce}":`];return dt&&sn.push(`library name "${Oe}" contains illegal characters (whitespace or "/")`),dt&&Tt&&sn.push("and"),Tt&&sn.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void ot.warn(sn.join(" "))}dr(new E.wA(`${Oe}-version`,()=>({library:Oe,version:ce}),"VERSION"))}function be(ut,ce){if(null!==ut&&"function"!=typeof ut)throw Sr.create("invalid-log-argument");(0,G.Am)(ut,ce)}function Ve(ut){(0,G.Ub)(ut)}const Ot="firebase-heartbeat-database",vt=1,ge="firebase-heartbeat-store";let he=null;function ee(){return he||(he=function it(ut,ce,{blocked:H,upgrade:ae,blocking:Oe,terminated:dt}={}){const Tt=indexedDB.open(ut,ce),sn=_e(Tt);return ae&&Tt.addEventListener("upgradeneeded",Pn=>{ae(_e(Tt.result),Pn.oldVersion,Pn.newVersion,_e(Tt.transaction),Pn)}),H&&Tt.addEventListener("blocked",Pn=>H(Pn.oldVersion,Pn.newVersion,Pn)),sn.then(Pn=>{dt&&Pn.addEventListener("close",()=>dt()),Oe&&Pn.addEventListener("versionchange",Xn=>Oe(Xn.oldVersion,Xn.newVersion,Xn))}).catch(()=>{}),sn}(Ot,vt,{upgrade:(ut,ce)=>{0===ce&&ut.createObjectStore(ge)}}).catch(ut=>{throw Sr.create("idb-open",{originalErrorMessage:ut.message})})),he}function J(){return(J=(0,p.Z)(function*(ut){try{return(yield ee()).transaction(ge).objectStore(ge).get(ve(ut))}catch(ce){if(ce instanceof Te.ZR)ot.warn(ce.message);else{const H=Sr.create("idb-get",{originalErrorMessage:ce?.message});ot.warn(H.message)}}})).apply(this,arguments)}function Se(ut,ce){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(ut,ce){try{const ae=(yield ee()).transaction(ge,"readwrite");return yield ae.objectStore(ge).put(ce,ve(ut)),ae.done}catch(H){if(H instanceof Te.ZR)ot.warn(H.message);else{const ae=Sr.create("idb-set",{originalErrorMessage:H?.message});ot.warn(ae.message)}}})).apply(this,arguments)}function ve(ut){return`${ut.name}!${ut.options.appId}`}class Je{constructor(ce){this.container=ce,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this._storage=new cn(H),this._heartbeatsCachePromise=this._storage.read().then(ae=>(this._heartbeatsCache=ae,ae))}triggerHeartbeat(){var ce=this;return(0,p.Z)(function*(){const ae=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Oe=It();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==Oe&&!ce._heartbeatsCache.heartbeats.some(dt=>dt.date===Oe))return ce._heartbeatsCache.heartbeats.push({date:Oe,agent:ae}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(dt=>{const Tt=new Date(dt.date).valueOf();return Date.now()-Tt<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,p.Z)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const H=It(),{heartbeatsToSend:ae,unsentEntries:Oe}=function Yt(ut,ce=1024){const H=[];let ae=ut.slice();for(const Oe of ut){const dt=H.find(Tt=>Tt.agent===Oe.agent);if(dt){if(dt.dates.push(Oe.date),ar(H)>ce){dt.dates.pop();break}}else if(H.push({agent:Oe.agent,dates:[Oe.date]}),ar(H)>ce){H.pop();break}ae=ae.slice(1)}return{heartbeatsToSend:H,unsentEntries:ae}}(ce._heartbeatsCache.heartbeats),dt=(0,Te.L)(JSON.stringify({version:2,heartbeats:ae}));return ce._heartbeatsCache.lastSentHeartbeatDate=H,Oe.length>0?(ce._heartbeatsCache.heartbeats=Oe,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),dt})()}}function It(){return(new Date).toISOString().substring(0,10)}class cn{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,p.Z)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function ne(ut){return J.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var H=this;return(0,p.Z)(function*(){var ae;if(yield H._canUseIndexedDBPromise){const dt=yield H.read();return Se(H.app,{lastSentHeartbeatDate:null!==(ae=ce.lastSentHeartbeatDate)&&void 0!==ae?ae:dt.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var H=this;return(0,p.Z)(function*(){var ae;if(yield H._canUseIndexedDBPromise){const dt=yield H.read();return Se(H.app,{lastSentHeartbeatDate:null!==(ae=ce.lastSentHeartbeatDate)&&void 0!==ae?ae:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...ce.heartbeats]})}})()}}function ar(ut){return(0,Te.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function Vr(ut){dr(new E.wA("platform-logger",ce=>new Vt(ce),"PRIVATE")),dr(new E.wA("heartbeat",ce=>new Je(ce),"PRIVATE")),nt(Gt,"0.9.9",ut),nt(Gt,"0.9.9","esm2017"),nt("fire-js","")}("")},4859:(ln,je,j)=>{"use strict";j.d(je,{H0:()=>we,wA:()=>G});var p=j(5861),E=j(2090);class G{constructor(pe,De,ke){this.name=pe,this.instanceFactory=De,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Te="[DEFAULT]";class Ce{constructor(pe,De){this.name=pe,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const De=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(De)){const ke=new E.BH;if(this.instancesDeferred.set(De,ke),this.isInitialized(De)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:De});gt&&ke.resolve(gt)}catch{}}return this.instancesDeferred.get(De).promise}getImmediate(pe){var De;const ke=this.normalizeInstanceIdentifier(pe?.identifier),gt=null!==(De=pe?.optional)&&void 0!==De&&De;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(yt){if(gt)return null;throw yt}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Fe(Qe){return"EAGER"===Qe.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[De,ke]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(De);try{const yt=this.getOrInitializeService({instanceIdentifier:gt});ke.resolve(yt)}catch{}}}}clearInstance(pe=Te){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,p.Z)(function*(){const De=Array.from(pe.instances.values());yield Promise.all([...De.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...De.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Te){return this.instances.has(pe)}getOptions(pe=Te){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:De={}}=pe,ke=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:ke,options:De});for(const[yt,kt]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(yt)&&kt.resolve(gt);return gt}onInit(pe,De){var ke;const gt=this.normalizeInstanceIdentifier(De),yt=null!==(ke=this.onInitCallbacks.get(gt))&&void 0!==ke?ke:new Set;yt.add(pe),this.onInitCallbacks.set(gt,yt);const kt=this.instances.get(gt);return kt&&pe(kt,gt),()=>{yt.delete(pe)}}invokeOnInitCallbacks(pe,De){const ke=this.onInitCallbacks.get(De);if(ke)for(const gt of ke)try{gt(pe,De)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:De={}}){let ke=this.instances.get(pe);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=pe,Qe===Te?void 0:Qe),options:De}),this.instances.set(pe,ke),this.instancesOptions.set(pe,De),this.invokeOnInitCallbacks(ke,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,ke)}catch{}var Qe;return ke||null}normalizeInstanceIdentifier(pe=Te){return this.component?this.component.multipleInstances?pe:Te:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const De=this.getProvider(pe.name);if(De.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);De.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const De=new Ce(pe,this);return this.providers.set(pe,De),De}getProviders(){return Array.from(this.providers.values())}}},1877:(ln,je,j)=>{"use strict";j.d(je,{Am:()=>Qe,Ub:()=>we,Yd:()=>Fe,in:()=>E});const p=[];var E=(()=>{return(pe=E||(E={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",E;var pe})();const G={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},Te=E.INFO,Ce={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},Be=(pe,De,...ke)=>{if(De<pe.logLevel)return;const gt=(new Date).toISOString(),yt=Ce[De];if(!yt)throw new Error(`Attempted to log a message with an invalid logType (value: ${De})`);console[yt](`[${gt}]  ${pe.name}:`,...ke)};class Fe{constructor(De){this.name=De,this._logLevel=Te,this._logHandler=Be,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(De){if(!(De in E))throw new TypeError(`Invalid value "${De}" assigned to \`logLevel\``);this._logLevel=De}setLogLevel(De){this._logLevel="string"==typeof De?G[De]:De}get logHandler(){return this._logHandler}set logHandler(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De}get userLogHandler(){return this._userLogHandler}set userLogHandler(De){this._userLogHandler=De}debug(...De){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...De),this._logHandler(this,E.DEBUG,...De)}log(...De){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...De),this._logHandler(this,E.VERBOSE,...De)}info(...De){this._userLogHandler&&this._userLogHandler(this,E.INFO,...De),this._logHandler(this,E.INFO,...De)}warn(...De){this._userLogHandler&&this._userLogHandler(this,E.WARN,...De),this._logHandler(this,E.WARN,...De)}error(...De){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...De),this._logHandler(this,E.ERROR,...De)}}function we(pe){p.forEach(De=>{De.setLogLevel(pe)})}function Qe(pe,De){for(const ke of p){let gt=null;De&&De.level&&(gt=G[De.level]),ke.userLogHandler=null===pe?null:(yt,kt,...Bt)=>{const qe=Bt.map(wt=>{if(null==wt)return null;if("string"==typeof wt)return wt;if("number"==typeof wt||"boolean"==typeof wt)return wt.toString();if(wt instanceof Error)return wt.message;try{return JSON.stringify(wt)}catch{return null}}).filter(wt=>wt).join(" ");kt>=(gt??yt.logLevel)&&pe({level:E[kt].toLowerCase(),message:qe,args:Bt,type:yt.name})}}}},259:(ln,je,j)=>{"use strict";j.d(je,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=j(6881);(0,p.registerVersion)("firebase","9.21.0","app")},9260:(ln,je,j)=>{"use strict";j.d(je,{Z:()=>p.Z});var p=j(3942);p.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(ln,je,j)=>{"use strict";j.r(je);var p=j(5861),E=j(3942),G=j(8502),Te=j(2090),Fe=(j(6881),j(1877),j(4859));function we(){return window}const Qe=2e3;function De(){return De=(0,p.Z)(function*(ee,ne,J){var Se;const{BuildInfo:ye}=we();(0,G.as)(ne.sessionId,"AuthEvent did not contain a session ID");const ve=yield function wt(ee){return rt.apply(this,arguments)}(ne.sessionId),le={};return(0,G.at)()?le.ibi=ye.packageName:(0,G.au)()?le.apn=ye.packageName:(0,G.av)(ee,"operation-not-supported-in-this-environment"),ye.displayName&&(le.appDisplayName=ye.displayName),le.sessionId=ve,(0,G.aw)(ee,J,ne.type,void 0,null!==(Se=ne.eventId)&&void 0!==Se?Se:void 0,le)}),De.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(ee){const{BuildInfo:ne}=we(),J={};(0,G.at)()?J.iosBundleId=ne.packageName:(0,G.au)()?J.androidPackageName=ne.packageName:(0,G.av)(ee,"operation-not-supported-in-this-environment"),yield(0,G.ax)(ee,J)})).apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(ee,ne,J){const{cordova:Se}=we();let ye=()=>{};try{yield new Promise((ve,le)=>{let Ae=null;function Je(){var cn;ve();const ar=null===(cn=Se.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof ar&&ar(),"function"==typeof J?.close&&J.close()}function It(){Ae||(Ae=window.setTimeout(()=>{le((0,G.az)(ee,"redirect-cancelled-by-user"))},Qe))}function Yt(){"visible"===document?.visibilityState&&It()}ne.addPassiveListener(Je),document.addEventListener("resume",It,!1),(0,G.au)()&&document.addEventListener("visibilitychange",Yt,!1),ye=()=>{ne.removePassiveListener(Je),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",Yt,!1),Ae&&window.clearTimeout(Ae)}})}finally{ye()}})).apply(this,arguments)}function rt(){return(rt=(0,p.Z)(function*(ee){const ne=function Lt(ee){if((0,G.as)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ee);const ne=new ArrayBuffer(ee.length),J=new Uint8Array(ne);for(let Se=0;Se<ee.length;Se++)J[Se]=ee.charCodeAt(Se);return J}(ee),J=yield crypto.subtle.digest("SHA-256",ne);return Array.from(new Uint8Array(J)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const _e=20;class Pe extends G.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ne=>{this.resolveInialized=ne})}addPassiveListener(ne){this.passiveListeners.add(ne)}removePassiveListener(ne){this.passiveListeners.delete(ne)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ne){return this.resolveInialized(),this.passiveListeners.forEach(J=>J(ne)),super.onEvent(ne)}initialized(){var ne=this;return(0,p.Z)(function*(){yield ne.initPromise})()}}function ht(ee){return ze.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(ee){const ne=yield Vt()._get(Wt(ee));return ne&&(yield Vt()._remove(Wt(ee))),ne})).apply(this,arguments)}function fn(){const ee=[],ne="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let J=0;J<_e;J++){const Se=Math.floor(Math.random()*ne.length);ee.push(ne.charAt(Se))}return ee.join("")}function Vt(){return(0,G.aC)(G.b)}function Wt(ee){return(0,G.aD)("authEvent",ee.config.apiKey,ee.name)}function ot(ee){if(!ee?.includes("?"))return{};const[ne,...J]=ee.split("?");return(0,Te.zd)(J.join("?"))}const $t=class _t{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aE,this._overrideRedirectResult=G.aF}_initialize(ne){var J=this;return(0,p.Z)(function*(){const Se=ne._key();let ye=J.eventManagers.get(Se);return ye||(ye=new Pe(ne),J.eventManagers.set(Se,ye),J.attachCallbackListeners(ne,ye)),ye})()}_openPopup(ne){(0,G.av)(ne,"operation-not-supported-in-this-environment")}_openRedirect(ne,J,Se,ye){var ve=this;return(0,p.Z)(function*(){!function qe(ee){var ne,J,Se,ye,ve,le,Ae,Je,It,Yt;const cn=we();(0,G.aA)("function"==typeof(null===(ne=cn?.universalLinks)||void 0===ne?void 0:ne.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aA)(typeof(null===(J=cn?.BuildInfo)||void 0===J?void 0:J.packageName)<"u",ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aA)("function"==typeof(null===(ve=null===(ye=null===(Se=cn?.cordova)||void 0===Se?void 0:Se.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===ve?void 0:ve.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aA)("function"==typeof(null===(Je=null===(Ae=null===(le=cn?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Je?void 0:Je.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aA)("function"==typeof(null===(Yt=null===(It=cn?.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===Yt?void 0:Yt.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ne);const le=yield ve._initialize(ne);yield le.initialized(),le.resetRedirect(),(0,G.aG)(),yield ve._originValidation(ne);const Ae=function it(ee,ne,J=null){return{type:ne,eventId:J,urlResponse:null,sessionId:fn(),postBody:null,tenantId:ee.tenantId,error:(0,G.az)(ee,"no-auth-event")}}(ne,Se,ye);yield function At(ee,ne){return Vt()._set(Wt(ee),ne)}(ne,Ae);const Je=yield function pe(ee,ne,J){return De.apply(this,arguments)}(ne,Ae,J),It=yield function yt(ee){const{cordova:ne}=we();return new Promise(J=>{ne.plugins.browsertab.isAvailable(Se=>{let ye=null;Se?ne.plugins.browsertab.openUrl(ee):ye=ne.InAppBrowser.open(ee,(0,G.ay)()?"_blank":"_system","location=yes"),J(ye)})})}(Je);return function kt(ee,ne,J){return Bt.apply(this,arguments)}(ne,le,It)})()}_isIframeWebStorageSupported(ne,J){throw new Error("Method not implemented.")}_originValidation(ne){const J=ne._key();return this.originValidationPromises[J]||(this.originValidationPromises[J]=function ke(ee){return gt.apply(this,arguments)}(ne)),this.originValidationPromises[J]}attachCallbackListeners(ne,J){const{universalLinks:Se,handleOpenURL:ye,BuildInfo:ve}=we(),le=setTimeout((0,p.Z)(function*(){yield ht(ne),J.onEvent(Pt())}),500),Ae=function(){var Yt=(0,p.Z)(function*(cn){clearTimeout(le);const ar=yield ht(ne);let Vr=null;ar&&cn?.url&&(Vr=function bt(ee,ne){var J,Se;const ye=function st(ee){const ne=ot(ee),J=ne.link?decodeURIComponent(ne.link):void 0,Se=ot(J).link,ye=ne.deep_link_id?decodeURIComponent(ne.deep_link_id):void 0;return ot(ye).link||ye||Se||J||ee}(ne);if(ye.includes("/__/auth/callback")){const ve=ot(ye),le=ve.firebaseError?function Gt(ee){try{return JSON.parse(ee)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,Ae=null===(Se=null===(J=le?.code)||void 0===J?void 0:J.split("auth/"))||void 0===Se?void 0:Se[1],Je=Ae?(0,G.az)(Ae):null;return Je?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:ye,postBody:null}}return null}(ar,cn.url)),J.onEvent(Vr||Pt())});return function(ar){return Yt.apply(this,arguments)}}();typeof Se<"u"&&"function"==typeof Se.subscribe&&Se.subscribe(null,Ae);const Je=ye,It=`${ve.packageName.toLowerCase()}://`;we().handleOpenURL=function(){var Yt=(0,p.Z)(function*(cn){if(cn.toLowerCase().startsWith(It)&&Ae({url:cn}),"function"==typeof Je)try{Je(cn)}catch(ar){console.error(ar)}});return function(cn){return Yt.apply(this,arguments)}}()}};function Pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.az)("no-auth-event")}}const yn=1e3;function Dn(){var ee;return(null===(ee=self?.location)||void 0===ee?void 0:ee.protocol)||null}function Sn(ee=(0,Te.z$)()){return!("file:"!==Dn()&&"ionic:"!==Dn()&&"capacitor:"!==Dn()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function an(){try{const ee=self.localStorage,ne=G.aL();if(ee)return ee.setItem(ne,"1"),ee.removeItem(ne),!function cr(ee=(0,Te.z$)()){return function yr(){return(0,Te.w1)()&&11===document?.documentMode}()||function Dr(ee=(0,Te.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,Te.hl)()}catch{return Jt()&&(0,Te.hl)()}return!1}function Jt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sr(){return(function nn(){return"http:"===Dn()||"https:"===Dn()}()||(0,Te.ru)()||Sn())&&!function kn(){return(0,Te.b$)()||(0,Te.UG)()}()&&an()&&!Jt()}function Tr(){return Sn()&&typeof document<"u"}function Hn(){return(Hn=(0,p.Z)(function*(){return!!Tr()&&new Promise(ee=>{const ne=setTimeout(()=>{ee(!1)},yn);document.addEventListener("deviceready",()=>{clearTimeout(ne),ee(!0)})})})).apply(this,arguments)}const Fn={LOCAL:"local",NONE:"none",SESSION:"session"},zn=G.aA,or="persistence";function ai(ee){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,p.Z)(function*(ee){yield ee._initializationPromise;const ne=Xt(),J=G.aD(or,ee.config.apiKey,ee.name);ne&&ne.setItem(J,ee._getPersistence())})).apply(this,arguments)}function Xt(){var ee;try{return(null===(ee=function un(){return typeof window<"u"?window:null}())||void 0===ee?void 0:ee.sessionStorage)||null}catch{return null}}const St=G.aA;class dr{constructor(){this.browserResolver=G.aC(G.k),this.cordovaResolver=G.aC($t),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aE,this._overrideRedirectResult=G.aF}_initialize(ne){var J=this;return(0,p.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._initialize(ne)})()}_openPopup(ne,J,Se,ye){var ve=this;return(0,p.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(ne,J,Se,ye)})()}_openRedirect(ne,J,Se,ye){var ve=this;return(0,p.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(ne,J,Se,ye)})()}_isIframeWebStorageSupported(ne,J){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ne,J)}_originValidation(ne){return this.assertedUnderlyingResolver._originValidation(ne)}get _shouldInitProactively(){return Tr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ne=this;return(0,p.Z)(function*(){if(ne.underlyingResolver)return;const J=yield function pr(){return Hn.apply(this,arguments)}();ne.underlyingResolver=J?ne.cordovaResolver:ne.browserResolver})()}}function Ir(ee){return ee.unwrap()}function Yr(ee){return Sr(ee)}function Sr(ee){const{_tokenResponse:ne}=ee instanceof Te.ZR?ee.customData:ee;if(!ne)return null;if(!(ee instanceof Te.ZR)&&"temporaryProof"in ne&&"phoneNumber"in ne)return G.P.credentialFromResult(ee);const J=ne.providerId;if(!J||J===G.p.PASSWORD)return null;let Se;switch(J){case G.p.GOOGLE:Se=G.V;break;case G.p.FACEBOOK:Se=G.U;break;case G.p.GITHUB:Se=G.W;break;case G.p.TWITTER:Se=G.Z;break;default:const{oauthIdToken:ye,oauthAccessToken:ve,oauthTokenSecret:le,pendingToken:Ae,nonce:Je}=ne;return ve||le||ye||Ae?Ae?J.startsWith("saml.")?G.aO._create(J,Ae):G.L._fromParams({providerId:J,signInMethod:J,pendingToken:Ae,idToken:ye,accessToken:ve}):new G.X(J).credential({idToken:ye,accessToken:ve,rawNonce:Je}):null}return ee instanceof Te.ZR?Se.credentialFromError(ee):Se.credentialFromResult(ee)}function $n(ee,ne){return ne.catch(J=>{throw J instanceof Te.ZR&&function jr(ee,ne){var J;const Se=null===(J=ne.customData)||void 0===J?void 0:J._tokenResponse;if("auth/multi-factor-auth-required"===ne?.code)ne.resolver=new Ln(ee,G.aq(ee,ne));else if(Se){const ye=Sr(ne),ve=ne;ye&&(ve.credential=ye,ve.tenantId=Se.tenantId||void 0,ve.email=Se.email||void 0,ve.phoneNumber=Se.phoneNumber||void 0)}}(ee,J),J}).then(J=>{const ye=J.user;return{operationType:J.operationType,credential:Yr(J),additionalUserInfo:G.ao(J),user:Vn.getOrCreate(ye)}})}function Hr(ee,ne){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(ee,ne){const J=yield ne;return{verificationId:J.verificationId,confirm:Se=>$n(ee,J.confirm(Se))}})).apply(this,arguments)}class Ln{constructor(ne,J){this.resolver=J,this.auth=function Cr(ee){return ee.wrapped()}(ne)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ne){return $n(Ir(this.auth),this.resolver.resolveSignIn(ne))}}class Vn{constructor(ne){this._delegate=ne,this.multiFactor=G.ar(ne)}static getOrCreate(ne){return Vn.USER_MAP.has(ne)||Vn.USER_MAP.set(ne,new Vn(ne)),Vn.USER_MAP.get(ne)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ne){return this._delegate.getIdTokenResult(ne)}getIdToken(ne){return this._delegate.getIdToken(ne)}linkAndRetrieveDataWithCredential(ne){return this.linkWithCredential(ne)}linkWithCredential(ne){var J=this;return(0,p.Z)(function*(){return $n(J.auth,G.a0(J._delegate,ne))})()}linkWithPhoneNumber(ne,J){var Se=this;return(0,p.Z)(function*(){return Hr(Se.auth,G.l(Se._delegate,ne,J))})()}linkWithPopup(ne){var J=this;return(0,p.Z)(function*(){return $n(J.auth,G.d(J._delegate,ne,dr))})()}linkWithRedirect(ne){var J=this;return(0,p.Z)(function*(){return yield ai(G.aH(J.auth)),G.g(J._delegate,ne,dr)})()}reauthenticateAndRetrieveDataWithCredential(ne){return this.reauthenticateWithCredential(ne)}reauthenticateWithCredential(ne){var J=this;return(0,p.Z)(function*(){return $n(J.auth,G.a1(J._delegate,ne))})()}reauthenticateWithPhoneNumber(ne,J){return Hr(this.auth,G.r(this._delegate,ne,J))}reauthenticateWithPopup(ne){return $n(this.auth,G.e(this._delegate,ne,dr))}reauthenticateWithRedirect(ne){var J=this;return(0,p.Z)(function*(){return yield ai(G.aH(J.auth)),G.h(J._delegate,ne,dr)})()}sendEmailVerification(ne){return G.ae(this._delegate,ne)}unlink(ne){var J=this;return(0,p.Z)(function*(){return yield G.an(J._delegate,ne),J})()}updateEmail(ne){return G.aj(this._delegate,ne)}updatePassword(ne){return G.ak(this._delegate,ne)}updatePhoneNumber(ne){return G.u(this._delegate,ne)}updateProfile(ne){return G.ai(this._delegate,ne)}verifyBeforeUpdateEmail(ne,J){return G.af(this._delegate,ne,J)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vn.USER_MAP=new WeakMap;const hr=G.aA;let gr=(()=>{class ee{constructor(J,Se){if(this.app=J,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=J.options;hr(ye,"invalid-api-key",{appName:J.name}),hr(ye,"invalid-api-key",{appName:J.name});const ve=typeof window<"u"?dr:void 0;this._delegate=Se.initialize({options:{persistence:be(ye,J.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(G.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(J){this._delegate.languageCode=J}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(J){this._delegate.tenantId=J}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(J,Se){G.I(this._delegate,J,Se)}applyActionCode(J){return G.a5(this._delegate,J)}checkActionCode(J){return G.a6(this._delegate,J)}confirmPasswordReset(J,Se){return G.a4(this._delegate,J,Se)}createUserWithEmailAndPassword(J,Se){var ye=this;return(0,p.Z)(function*(){return $n(ye._delegate,G.a8(ye._delegate,J,Se))})()}fetchProvidersForEmail(J){return this.fetchSignInMethodsForEmail(J)}fetchSignInMethodsForEmail(J){return G.ad(this._delegate,J)}isSignInWithEmailLink(J){return G.ab(this._delegate,J)}getRedirectResult(){var J=this;return(0,p.Z)(function*(){hr(sr(),J._delegate,"operation-not-supported-in-this-environment");const Se=yield G.j(J._delegate,dr);return Se?$n(J._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(J){!function jt(ee,ne){(0,G.aH)(ee)._logFramework(ne)}(this._delegate,J)}onAuthStateChanged(J,Se,ye){const{next:ve,error:le,complete:Ae}=nt(J,Se,ye);return this._delegate.onAuthStateChanged(ve,le,Ae)}onIdTokenChanged(J,Se,ye){const{next:ve,error:le,complete:Ae}=nt(J,Se,ye);return this._delegate.onIdTokenChanged(ve,le,Ae)}sendSignInLinkToEmail(J,Se){return G.aa(this._delegate,J,Se)}sendPasswordResetEmail(J,Se){return G.a3(this._delegate,J,Se||void 0)}setPersistence(J){var Se=this;return(0,p.Z)(function*(){let ye;switch(function qr(ee,ne){zn(Object.values(Fn).includes(ne),ee,"invalid-persistence-type"),(0,Te.b$)()?zn(ne!==Fn.SESSION,ee,"unsupported-persistence-type"):(0,Te.UG)()?zn(ne===Fn.NONE,ee,"unsupported-persistence-type"):Jt()?zn(ne===Fn.NONE||ne===Fn.LOCAL&&(0,Te.hl)(),ee,"unsupported-persistence-type"):zn(ne===Fn.NONE||an(),ee,"unsupported-persistence-type")}(Se._delegate,J),J){case Fn.SESSION:ye=G.a;break;case Fn.LOCAL:ye=(yield G.aC(G.i)._isAvailable())?G.i:G.b;break;case Fn.NONE:ye=G.N;break;default:return G.av("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(J){return this.signInWithCredential(J)}signInAnonymously(){return $n(this._delegate,G._(this._delegate))}signInWithCredential(J){return $n(this._delegate,G.$(this._delegate,J))}signInWithCustomToken(J){return $n(this._delegate,G.a2(this._delegate,J))}signInWithEmailAndPassword(J,Se){return $n(this._delegate,G.a9(this._delegate,J,Se))}signInWithEmailLink(J,Se){return $n(this._delegate,G.ac(this._delegate,J,Se))}signInWithPhoneNumber(J,Se){return Hr(this._delegate,G.s(this._delegate,J,Se))}signInWithPopup(J){var Se=this;return(0,p.Z)(function*(){return hr(sr(),Se._delegate,"operation-not-supported-in-this-environment"),$n(Se._delegate,G.c(Se._delegate,J,dr))})()}signInWithRedirect(J){var Se=this;return(0,p.Z)(function*(){return hr(sr(),Se._delegate,"operation-not-supported-in-this-environment"),yield ai(Se._delegate),G.f(Se._delegate,J,dr)})()}updateCurrentUser(J){return this._delegate.updateCurrentUser(J)}verifyPasswordResetCode(J){return G.a7(this._delegate,J)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=Fn,ee})();function nt(ee,ne,J){let Se=ee;"function"!=typeof ee&&({next:Se,error:ne,complete:J}=ee);const ye=Se;return{next:le=>ye(le&&Vn.getOrCreate(le)),error:ne,complete:J}}function be(ee,ne){const J=function bn(ee,ne){const J=Xt();if(!J)return[];const Se=G.aD(or,ee,ne);switch(J.getItem(Se)){case Fn.NONE:return[G.N];case Fn.LOCAL:return[G.i,G.a];case Fn.SESSION:return[G.a];default:return[]}}(ee,ne);if(typeof self<"u"&&!J.includes(G.i)&&J.push(G.i),typeof window<"u")for(const Se of[G.b,G.a])J.includes(Se)||J.push(Se);return J.includes(G.N)||J.push(G.N),J}class Ve{constructor(){this.providerId="phone",this._delegate=new G.P(Ir(E.Z.auth()))}static credential(ne,J){return G.P.credential(ne,J)}verifyPhoneNumber(ne,J){return this._delegate.verifyPhoneNumber(ne,J)}unwrap(){return this._delegate}}Ve.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,Ve.PROVIDER_ID=G.P.PROVIDER_ID;const Ot=G.aA;class vt{constructor(ne,J,Se=E.Z.app()){var ye;Ot(null===(ye=Se.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new G.R(ne,J,Se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(ee){ee.INTERNAL.registerComponent(new Fe.wA("auth-compat",ne=>{const J=ne.getProvider("app-compat").getImmediate(),Se=ne.getProvider("auth");return new gr(J,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.Q,FacebookAuthProvider:G.U,GithubAuthProvider:G.W,GoogleAuthProvider:G.V,OAuthProvider:G.X,SAMLAuthProvider:G.Y,PhoneAuthProvider:Ve,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:vt,TwitterAuthProvider:G.Z,Auth:gr,AuthCredential:G.J,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.4.1")}(E.Z)},5861:(ln,je,j)=>{"use strict";function p(G,Te,Ce,Be,Fe,we,Qe){try{var pe=G[we](Qe),De=pe.value}catch(ke){return void Ce(ke)}pe.done?Te(De):Promise.resolve(De).then(Be,Fe)}function E(G){return function(){var Te=this,Ce=arguments;return new Promise(function(Be,Fe){var we=G.apply(Te,Ce);function Qe(De){p(we,Be,Fe,Qe,pe,"next",De)}function pe(De){p(we,Be,Fe,Qe,pe,"throw",De)}Qe(void 0)})}}j.d(je,{Z:()=>E})}},ln=>{ln(ln.s=4765)}]);